{"version":3,"sources":["webpack:///./src/scripts/ui/Menu.js","webpack:///./src/menu.html","webpack:///../../../node_modules/@babel/runtime/helpers/typeof.js","webpack:///../../../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///../../../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../src/MiewCLIParser.js","webpack:///../src/MiewCLIHelp.js","webpack:///../src/EventDispatcher.js","webpack:///../src/logger.js","webpack:///../../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///../../../node_modules/@babel/runtime/helpers/inherits.js","webpack:///../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///../../../node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack:///../../../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:///../../../node_modules/@babel/runtime/helpers/construct.js","webpack:///../../../node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack:///../../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///../../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///../../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///../../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///../../../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///../../../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../src/utils.js","webpack:///../src/Miew-cli.js","webpack:///./src/scripts/index.js","webpack:///../packages/miew/dist/miew.module.js"],"names":["selectors","Miew","chem","parsers","io","Representation","gfx","modes","colorers","palettes","materials","settings","utils","createElement","hexColor","unarray","x","Array","hasComplex","viewer","bHaveComplexes","_forEachComplexVisual","getNumAtomsBySelector","selector","visual","_getComplexVisual","getComplex","Menu","container","_","forEach","$","parseHTML","element","parentNode","appendChild","this","_viewer","_menuId","_titlebar","_menu","_curPanelID","_curMenuItem","_xs","_curReprIdx","find","text","VERSION","_singleWordsPrimary","_singleWords","_keyWordsPrimary","_init","_initializeTerminal","prototype","self","res","urlSubString","change","val","opts","files","length","mdFile","load","_terminal","_terminalWindow","on","_hideToolbarPanel","_term","terminal","command","term","loadStr","trim","split","substr","indexOf","match","click","error","script","str","echo","greetings","prompt","name","scrollOnEcho","height","keydown","event","keyCode","onInit","colors","warn","report","logger","addEventListener","e","msg","message","replaceAll","level","_fillSelectionColorCombo","paletteID","frag","document","createDocumentFragment","colorList","get","first","namedColorsArray","comboboxPanel","i","n","color","newItem","class","href","style","src","title","lastElementChild","firstElementChild","empty","prevActive","_getCurReprPropertyId","removeClass","elements","newColor","getAttribute","lastChild","setAttribute","backgroundColor","activeItem","_fillCombo","type","path","entityList","list","all","entry","id","width","itemID","set","addClass","_initReprListItemListeners","index","reprList","newReprIdx","currentTarget","parent","btnSelector","target","rowSelector","collapse","bootstrapSwitch","hide","show","_getPanelSelector","spinner","parseFloat","attr","spinnerType","selectionPanel","textContent","tab","_onSelectorChanged","_addReprListItem","panel","repr","validReprN","role","String","mode","shortName","colorer","materialPreset","value","min","max","step","ucSelector","ucColor","innerHTML","zClip","scale","isoValue","modeElem","removeData","data","colorElem","_radScale","visible","reprPropDataVal","_getCurReprSelector","_copyCurReprListItem","curSelector","newId","lastIndexOf","clone","appendTo","newHtml","html","replace","RegExp","header","substring","zClipState","checked","qSurfParamSelector","radScale","_fillSourceList","names","getVisuals","toggle","curName","getCurrentVisual","getOnSourceSelected","setCurrentVisual","_initReprList","preventDefault","getElementById","listElement","link","_fillReprList","repCount","repGet","Mode","head","zClipParam","defaults","isoParam","radParam","Colorer","ucColorName","now","UN","CB","elem","material","newPanelId","tooltip","trigger","_isXS","toggleClass","state","_onMenuOn","_onMenuOff","blur","_onTerminalOn","_onTerminalOff","isDefaultPrevented","is","classList","contains","toolbar","each","resSelector","resolution","curRep","rep","hasClass","dataDirSettings","param","shifted","_zoomClipPlane","delta","originalEvent","wheelDelta","detail","draft","clipPlaneFactor","clipPlaneSpeed","shiftKey","_initMiewEventListeners","_initToolbar","_initInfoPanel","_initLoadPanel","_initReprPanel","_initRenderPanel","_initToolsPanel","_initSelectionPanel","_setTitle","_onResize","_updateInfo","presetsPanel","actions","pdb","inputs","refresh","_enableToolbar","evt","query","then","setOptions","_presetsPanelActionsPdbInputsClear","_initPresetsPanelActions","getComplexVisualsCount","fakeRepr","getMaxRepresentationCount","_reprListChanged","removeIdx","removeSelector","reprIdx","reprSelector","_displayGlobalErrorDialog","dialog","titleElement","bodyElement","modal","keyboard","main","clear","file","_presetsPanelActionsPdbInputsRefresh","warning","loadPdbButton","clearInputsButton","mainTextInput","mainErrorAlert","mainWarningAlert","extractExtension","parts","toLowerCase","lastPart","mainAlertText","displayFormError","isCorrect","mainExtension","File","removeAttr","extensions","keys","sort","extRegExp","map","ext","join","extString","mainIsCorrect","_presetsPanelActionsPdbLoad","_presetsPanelActionsPdbInputsFile","urlType","textInput","_presetsPanelActionsPdbInputsText","mainBackButton","presetsBackButton","supportedEvents","actionPath","action","findAction","current","splice","_initPresetsPanel","palette","root","firstChild","content","nodeValue","createRange","rng","setStart","setEnd","sel","window","getSelection","removeAllRanges","addRange","dssp","resetView","screenshotSave","getURL","view","getScript","save","fileType","saveSettings","restoreSettings","resetSettings","line","div","parsed","parse","display","group","wordPrimary","word","fillSingleWords","fillKeyWords","slice","off","key","values","getAtomNames","getElements","getResidueNames","getChainNames","getAltLocNames","correctSelectorIdentifier","badge","numAtoms","fillToolbar","option","_fixKeyboard","rebuildAll","repCurrent","_updateResolutionCombo","_removeActiveFromCombo","setBlur","enable","_container","add","remove","panelID","menuItem","checkpoint","_updateDisplayOptions","comboPanel","showTerminal","focus","resize","comboName","hideTerminal","halt","enableHotKeys","_updateReprList","needsRebuild","run","top","parentDocument","button","querySelector","body","visibility","Error","showOverlay","hideOverlay","documentElement","clientWidth","dataSource","complex","children","removeChild","metadata","h1","classification","_createRow","getAtomCount","getBondCount","getResidueCount","getChainCount","getMoleculeCount","molecules","getMolecules","molList","_createOptionsFromMVData","property","itemId","mvdata","isEmpty","diff","objectsDiff","removeIdxList","modeItem","colorerItem","matPresetItem","ucColorItem","modeId","colorerId","matPresetId","isDeleted","isAdded","isVisible","_fillModeOptionsFromMenu","css","hexString","parseInt","push","idx","repAdd","setMaterialPreset","setNeedRender","modeParams","colorerParams","repRemove","commonjsHelpers.createCommonjsModule","Symbol","commonjsHelpers.getDefaultExportFromCjs","MiewCLIParser","parser","o","l","k","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","$Ve","$Vf","$Vg","$Vh","$Vi","$Vj","$Vk","$Vl","$Vm","$Vn","$Vo","$Vp","$Vq","$Vr","$Vs","$Vt","$Vu","$Vv","$Vw","$Vx","$Vy","$Vz","$VA","$VB","$VC","$VD","$VE","$VF","$VG","$VH","$VI","$VJ","$VK","$VL","$VM","$VN","$VO","$VP","$VQ","$VR","$VS","$VT","$VU","$VV","$VW","$VX","$VY","$VZ","$V_","$V$","$V01","$V11","$V21","$V31","$V41","$V51","$V61","trace","yy","symbols_","Program","Command","EOF","RESET","BUILD","ALL","HELP","Path","MOTM","OneArgCommand","GET","STRING","SET","Value","SET_SAVE","SET_RESTORE","SET_RESET","PRESET","AddRepresentation","EditRepresentation","REMOVE","RepresentationReference","HIDE","SHOW","LIST","EXPAND_KEY","SELECTOR_KEY","SELECT","AS","WordAll","SELECTOR","WITHIN","NUMBER","OF","MATERIAL","IDENTIFIER","ModeCMD","ColorCMD","VIEW","BASE_64","UNIT","DSSP","SCALE","ROTATE","AxesList","TRANSLATE","CENTER","GetURLBranch","Screenshot","LINE","ArgList","LISTOBJ","REMOVEOBJ","URL","VIEW_KEY","SCREENSHOT","LOAD","Url","FILE_KEY","ADD","Description","REP","MODE","COLOR","Descriptor","RepresentationOwnProperty","RepresentationOwnPropertyOpts","DESC_KEY","DESC_KEY_OPTS","AxesArg","DESC_KEY_AXES","Arg","PathWoDescKey","HEX","BOOL","Word","CommandSetWoDESC_KEY","DescKeys","CLEAR","FILE_LIST","FILE_REGISTER","FILE_DELETE","PRESET_ADD","PRESET_DELETE","PRESET_UPDATE","PRESET_RENAME","PRESET_OPEN","CREATE_SCENARIO","RESET_SCENARIO","DELETE_SCENARIO","ADD_SCENARIO_ITEM","LIST_SCENARIO","PDB_KEY","DELAY_KEY","PRST_KEY","DESCRIPTION_KEY","CommandSet","PresetPath","HexOrNumber","$accept","$end","terminals_","2","5","6","7","8","9","11","13","14","15","17","18","19","20","23","25","26","27","28","29","30","31","33","34","35","36","37","38","41","42","43","44","45","46","48","49","52","54","55","56","57","58","59","61","62","64","65","66","70","71","72","74","77","78","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","101","103","productions_","performAction","yystate","$$","_$","$0","Number","Math","params","Object","JSON","table","3","4","12","21","22","39","40","50","51","1","10","79","80","81","16","24","47","73","60","63","67","68","69","53","75","76","32","defaultActions","107","110","116","119","120","121","122","123","125","127","128","129","130","131","136","139","140","141","142","143","145","158","159","166","174","177","178","179","183","184","185","196","200","parseError","hash","input","stack","tstack","vstack","lstack","yytext","yylineno","yyleng","TERROR","args","lexer","sharedState","yyloc","ranges","token","expected","yyval","symbol","lex","errStr","p","loc","len","first_line","last_line","first_column","last_column","r","apply","newState","setInput","_backtrack","done","matched","options","ch","_input","unput","lines","oldLines","yylloc","more","reject","less","pastInput","past","upcomingInput","next","showPosition","pre","c","test_match","backup","matches","offset","_more","conditionStack","range","call","rules","tempMatch","begin","condition","popState","_currentRules","conditions","topState","pushState","stateStackSize","yy_","INITIAL","inclusive","Parser","modeIdDesc","$help","BS","CA","LN","LC","VW","TR","TU","SA","QS","SE","TX","colorDesc","materialDesc","addRepDesc","s","m","mt","setGetParameterDesc","help","reset","PDBID","f","REP_NAME","DESCRIPTION","REP_INDEX","EXPRESSION","MODE_ID","COLORER_ID","MATERIAL_ID","build","new","del","PARAMETER","set_save","set_restore","set_reset","preset","unit","ENCODED_VIEW","rotate","select","within","url","screenshot","removeobj","listobj","isUndefOrEqual","EventDispatcher","handlers","_handlers","callback","par","context","omitBy","handler","priorities","debug","info","Logger","verify","number","isNumber","findKey","priority","require$$0","browserType","DEFAULT","SAFARI","decodeQueryComponent","decodeURIComponent","getUrlParameters","search","result","DebugTracer","namespace","enabled","indent","methods","spaces","method_","method","wrap","OutOfMemoryError","bytesToBase64","bytes","Uint8Array","binary","bytesFromBase64","isAlmostPlainObject","isPlainObject","proto","getFileExtension","fileName","dataUrlToBlob","partsCount","Blob","unquotedStringRE","enquoteHelper","encodeQueryComponent","excludeExp","encodeURIComponent","code","getUrlParametersAsDict","a","resolveURL","anchor","generateRegExp","symbolStr","symbolList","listStr","attrs","child","deriveClass","cls","base","members","statics","assign","constructor","deriveDeep","obj","needZeroOwnProperties","copy","hex","allocateTyped","TypedArrayName","size","arrayFromBase64","TypedArrayClass","arrayToBase64","array","compareOptionsWithDefaults","defOpts","optsStr","dst","forIn","dstValue","deepDiff","srcValue","isEqual","forInRecursive","object","newPref","prefix","iterateThrough","enquoteString","isString","unquoteString","SyntaxError","getBrowser","navigator","shotOpen","shotDownload","dataUrl","filename","copySubArrays","indices","itemSize","j","shallowCloneNode","node","newNode","splitFileName","download","blobData","concatTypedArraysUnsafe","second","mergeTypedArraysUnsafe","acc","cur","start","count","None","NULL","representationsStorage","RepresentationMap","representationMap","strId","representationID","sortedKeys","keyRemap","ans","utilFunctions","CLIUtils","ret","miew","repMap","listRep","repName","selectionStr","objs","strList","helpData","isUndefined","joinHelpStr","clihelp","sortBy","helpItem","arg","finish","modificate","modificators","modificator","temp","adapter","cliUtils","cmd","cliutils","_id","_val","b","parsercli","DEBUG","onerror","err","col","doc","containers","getElementsByClassName","createTextNode","onError","sourceURL","column","extend","cookiePath","fromAttr","fromURL","location","miewInstance","_printCallback","_errorCallback","getMiewWithCli","convertLevel","toastr","newestOnTop","menu","init","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_assertThisInitialized","ReferenceError","_setPrototypeOf","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","_typeof","iterator","_possibleConstructorReturn","_getPrototypeOf","getPrototypeOf","_arrayLikeToArray$1","arr","arr2","_unsupportedIterableToArray$1","minLen","toString","from","test","_slicedToArray","isArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","_iterableToArrayLimit","_nonIterableRest","__assign","t","arguments","hasOwnProperty","defaults$1","radius","corners","fadeColor","animation","direction","speed","zIndex","className","left","shadow","position","Spinner","spin","stop","el","transform","insertBefore","borderRadius","round","shadows","boxShadow","regex","_a","y","xUnits","yUnits","end","parseBoxShadow","degrees","backgroundLine","background","getColor","transformOrigin","delay","normalizeShadow","drawLines","requestAnimationFrame","cancelAnimationFrame","animateId","clearTimeout","undefined","prop","normalized","shadows_1","xy","convertOffset","radians","PI","sin","cos","Timer","startTime","oldTime","elapsedTime","running","getElapsedTime","update","newTime","performance","bind","Date","createElement$2","tag","cssText","Stats","domElement","_text","_startTime","_prevTime","_deltas","_index","_total","_count","time","ms","fps","toPrecision","_isNativeReflectConstruct$23","Reflect","construct","sham","Proxy","Boolean","valueOf","_construct","Parent","Class","Function","_wrapNativeSuper","_cache","Map","fn","has","Wrapper","removeEventListener","ev","dispatchEvent","console","_priority","instantiate","_this","levels","_message","output","concat","log","_createSuper$22","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct$22","Super","NewTarget","exec","name_","_len","_key","_Error","_super","buffer","byteLength","fromCharCode","btoa","atob","charCodeAt","hasOwn","Infinity","_a$i","HTMLElement","RangeError","vendor","userAgent","open","write","msSaveBlob","createObjectURL","cloneNode","worldPos","reduce","_createSuper$21","_isNativeReflectConstruct$21","JobHandle","_EventDispatcher","_shouldCancel","slaveEvent","atom","bond","space","multibond","aromrad","showarom","polyComplexity","poor","low","medium","high","ultra","offsarom","chunkarom","lineWidth","probeRadius","subset","wireframe","gaussLim","gridSpacing","CS","probePositions","heightSegmentsRatio","tension","depth","ss","helix","arrow","strand","template","horizontalAlign","verticalAlign","dx","dy","dz","fg","bg","showBg","VD","kSigma","kSigmaMed","kSigmaMax","frame","isoMode","EL","carbon","CO","baseColor","factor","SQ","gradient","TM","OC","HY","MO","antialias","camFov","camNear","camFar","camDistance","radiusToFit","fogNearFactor","fogFarFactor","fogAlpha","fogColor","fogColorEnable","autoResolution","autoPreset","presets","default","wire","small","macro","objects","dashSize","gapSize","transparent","clipPlane","plugins","axes","fog","zSprites","isoSurfaceFakeOpacity","suspendRender","nowater","autobuild","fxaa","outline","threshold","thickness","ao","autoRotation","maxfps","fbxprec","autoRotationAxisFixed","zooming","picking","pick","editing","aromatic","singleUnit","stereo","interpolateViews","transparency","translationSpeed","example","good","ssaoKernelRadius","ssaoFactor","stereoBarrel","use","multiFile","Settings","old","_changed","_notifyChange","merge","_notifyChanges","defaultValue","cloneDeep","deepValue","deepPath","changed","filter","applyDiffs","diffs","getDiffs","versioned","setPluginOpts","plugin","repIndex","asBoolean","adapters","string","boolean","cL1ExclExpr","cCommonIgnoreSymbols","encodeQueryComponentL1","cL2ExclExpr","encodeQueryComponentL2","ensureRepList","reps","ensureRepAssign","extractArgs","defaultsDict","bang","inputVal","sep","parseParams","pair","v","u","_objects","_options","newOpts","newObj","addObject","dup","ar","_fromArray","entries","_processOptsForURL","_processArgsForURL","_processObjForURL","objOpts","_processOptsForScript","_processArgsForScript","_processObjForScript","_processRepsForScript","repString","strIdx","localAdd","toURL","stringList","checkAndAdd","repList","addReps","objList","addObjects","protocol","host","pathname","toScript","commandsList","saveQuotes","quote","_defineProperty","Atom$2","Atom","residue","het","serial","occupancy","temperature","charge","mask","hydrogenCount","radicalCount","valence","bonds","flags","Flags","HYDROGEN","CARBON","process","_chain","getName","_sequence","NONPOLARH","Element$a","Element","fullName","weight","radiusBonding","hValency","hydrogenValency","U1","Lead","U2","Wing","U18","N","Constants","C","O","SG","D","T","byAtomicNumber","ByAtomicNumber","byName","ByName","getByName","cBondTypes","UNKNOWN","COVALENT","AROMATIC","getAtomPos","Bond$5","Bond","right","order","fixed","_left","_right","_fixed","_order","_type","distanceTo","currAtom","_forEachNeighbour","l2Atom","refPoint","currDir","posGetter","rightCount","leftCount","tmpVec","checkDir","sub","dot","checkCarbon","stages","forEachLevelOne","forEachLevelTwo","stageId","multiplyScalar","third","maxNeibs","another","secondPos","firstV","secondV","crossVectors","lengthSq","normalize","_fixDir","BondType","cNucleicControlNames","cNucleicWing1Names","cNucleicWing2Names","cCylinderSource","cCylinderTarget","types","atoms","Residue$1","Residue","chain","sequence","icode","_component","_icode","_mask","_atoms","_secondary","_firstAtom","_leadAtom","_wingAtom","_lastAtom","_controlPoint","_midPoint","_wingVector","_cylinders","_isValid","_het","_molecule","xyz","altLoc","tempFactor","addAtom","forEachAtom","_findAtomByName","_name","getAtomPosition","leadAtom","_findFirstAtomInList","wingStart","wingEnd","cylSource","targetList","getCylinderTargetList","cylTarget","prevLeadPos","currLeadPos","prevWingPos","prevWing","vectorA","vectorB","abs","angleTo","negate","prevRes","prev","nextRes","chainAsNucleic","bFirstInChain","lp","Vector3","z","_detectLeadWing","lerp","calcWing","asNucleic","_innerFinalize","anotherResidue","_this$_atoms","tempCount","occupCount","ResidueType$1","ResidueType","letterCode","_fullName","_addFlag","flag","StandardTypes","ALA","ARG","ASN","ASP","CYS","GLN","GLU","GLY","HIS","ILE","LEU","LYS","MET","PHE","PRO","PYL","SEC","SER","THR","TRP","TYR","VAL","A","G","I","U","DA","DC","DG","DI","DT","DU","WAT","H2O","HOH","DOD","UNK","UNL","PROTEIN","BASIC","ACIDIC","POLAR","NONPOLAR","NUCLEIC","PURINE","PYRIMIDINE","DNA","RNA","WATER","_addParam","_StructuralElement$ge","ChainType","Chain$2","Chain","_complex","_residues","minSequence","POSITIVE_INFINITY","maxSequence","NEGATIVE_INFINITY","residues","_ResidueType$Flags","seqNum","iCode","_determineType","curr","_finalize2","frameData","prevData","frameRes","currData","getResidueType","addResidueType","addResidue","StructuralElement","generic","genericByType","serialAtomMap","residueHash","splitUnifiedSerial","chainId","serialId","hashCode","getUnifiedSerial","Type","STRAND","BRIDGE","HELIX_310","HELIX_ALPHA","HELIX_PI","HELIX","TURN_310","TURN_ALPHA","TURN_PI","TURN","BEND","COIL","Generic","LOOP","StructuralElementType$5","StructuralElementGeneric","_createSuper$20","_isNativeReflectConstruct$20","StructuralElementType$4","typeByPDBHelixClass","Helix$3","_StructuralElement","Helix","helixClass","comment","_superPropBase","_get","receiver","desc","getOwnPropertyDescriptor","_createSuper$1$","_isNativeReflectConstruct$1$","Strand$3","Strand","sheet","sense","atomCur","atomPrev","as","isNaN","Sheet$3","Sheet","_width","_strands","_finalize","SGroup$1","SGroup","saveNode","_position","_charge","_repeat","_center","xmlNodeRef","nLimon","bLow","bHight","aPos","addVectors","commonjsGlobal","globalThis","global","SelectionParser","_o","Expression","Selector","OR","AND","NOT","NAMED_SELECTOR","SELECTOR_RANGED","RangeList","SELECTOR_NAMED","NameList","Range","Name","keyword","GetSelector","append","ValueList","recoverable","pop","backtrack_lexer","indexed_rule","flex","$avoiding_name_collisions","YY_START","_createSuper$1_","_isNativeReflectConstruct$1_","List","_values","toJSON","_List","includes","valuesArray","_List2","_super2","upperOnly","toUpperCase","_validate","_createSuper$1Z","_isNativeReflectConstruct$1Z","ListSelector","_Selector","RangeListSelector","_ListSelector","ValueListSelector","_ListSelector2","_super3","caseSensitive","NoneSelector","_Selector2","_super4","_atom","AllSelector","_Selector3","_super5","_createSuper$1Y","_isNativeReflectConstruct$1Y","none","PrefixOperator","rhs","InfixOperator","lhs","_this2","_createSuper$1X","_isNativeReflectConstruct$1X","keywords","defineSelector","SelectorClass","factory","_RangeListSelector","SerialSelector","_ValueListSelector","NameSelector","_ValueListSelector2","AltLocSelector","_ValueListSelector3","ElemSelector","_ValueListSelector4","ResidueSelector","_RangeListSelector2","SequenceSelector","_super6","_ValueListSelector5","ICodeSelector","_super7","_RangeListSelector3","ResIdxSelector","_super8","_ValueListSelector6","ChainSelector","_super9","HetatmSelector","_super10","PolarHSelector","_super11","NonPolarHSelector","_super12","NULL_SELECTOR","defineOperator","OperatorClass","byResidueTypeFlag","_Selector4","_class","_super16","_PrefixOperator","NotOperator","_super13","includesAtom","_InfixOperator","AndOperator","_super14","_InfixOperator2","OrOperator","_super15","selectors$4","Context","ClearContext","BiologicalUnit","_selector","_boundaries","boundingBox","Box3","boundingSphere","Sphere","makeEmpty","expandByPoint","bbc","getCenter","setFromCenterAndSize","radiusSquared","center","pos","lengthSquared","distanceToSquared","sqrt","_createSuper$1W","_isNativeReflectConstruct$1W","Assembly$3","_BiologicalUnit","Assembly","chains","matrices","oldCenter","oldRad","applyMatrix4","newRad","addScalar","subScalar","matrix","Component","_residueIndices","_cycles","_subDivs","_residueCount","resIdc","idIdc","idCount","last","subDivs","resCnt","_bonds","forEachCycle","cycle","forEachResidue","cycles","subs","currRes","endRes","_forEachSubChain","_subIdx","currIdx","lastSubIdx","subIdx","boundaries","AtomPairs","maxPairsEstimate","numPairs","numMaxPairs","intBuffer","Int32Array","hashBuffer","cHashTableSize","indexA","indexB","ia","ib","codeToAdd","apI","_getBondingRadius","v1Tmp","v2Tmp","cp","AutoBond","_maxRad","bBox","getDefaultBoundaries","_vBoxMin","_vBoxMax","_pairCollection","getAtoms","aInd","collection","numBondsForAtom","bInd","addPair","vw","getVoxelWorld","rA","isHydrogenA","posA","locationA","atomA","atomsNum","processAtom","atomB","isHydrogen","locationB","dist2","rB","maxAcceptable","isHet","forEachAtomWithinRadius","iA","iB","_addPair","bondsA","numBonds","newBond","addBond","_buildInner","_calcBoundingBox","_addExistingPairs","_findPairs","_addPairs","nAtoms","maxRad","destroy","cAromaticType","cAromaticAtoms","_coDirVectors","v1","v2","_insertAscending","_anotherAtom","_markAromatic","Cycle","atomsList","nA","nextAtom","checkBond","forEachBond","_isAromatic","_isPossibleAromatic","rightIdx","leftIdx","_checkCycleSimple","_checkCycleComplex","assert","AromaticLoopsMarker","bondsData","bondMarks","_bondsData","_bondMarks","_resetCycles","_currIdx","bond1","bond2","arr1","n1","n2","i1","i2","prevBond","currRight","bondsOrder","currLeft","currVec","startAtomRef","_currStart","checkAromatic","_checkBond","_haveSameCycle","theta","anotherAtom","anotherVec","MathUtils","clamp","newDir","cross","dir","newRight","_tryBond","checkCycle","forEachComponent","component","_startCycle","newCycle","addCycle","_findLoops","_getSphereSliceRadiusRange","zMin","zMax","dzMin","dzMax","rzMin","rzMax","_getCircleSliceRadiusRange","yMin","yMax","dyMin","dyMax","ryMin","ryMax","VoxelWorld","box","vCellSizeHint","_box","getSize","divide","floor","_last","_cellSize","_cellInnerR","_cellOuterR","numVoxels","_voxels","voxelIdx","_findVoxel","point","zero","_zero","voxel","_voxel","xRange","_xRange","yRange","_yRange","zRange","_zRange","_forEachVoxelWithinRadiusSimple","rRangeXY","rRangeX","xVal","yVal","zVal","isInsideX","isInsideY","isInsideZ","divideScalar","clampScalar","vCenter","_vCenter","distTouch2","distInside2","d2","r2","_forEachVoxelWithinRadius","isInside","_forEachAtomInVoxel","dist","_forEachAtomWithinDistFromGroup","atomProc","voxels","processIfWithin","Vector2","HBondInfo","_hbonds","_buildVW","_build","to","_this$_hbonds$from$ac","acceptor","acc0","acc1","energy","ri","getType","preri","rj","prerj","_calcHBondEnergy","pairs","_residueGetCAlpha","_this$_residueGetCO2","_residueGetCO","h","predonor","donor","_this$_residueGetNH2","_residueGetNH","_this$_residueGetCO4","distanceHO","distanceHC","distanceNC","distanceNO","donorInfo","accInfo","_createForOfIteratorHelper","allowArrayLike","it","_arrayLikeToArray","_unsupportedIterableToArray","F","normalCompletion","didErr","_e2","return","_helixClassMap","_loopMap","BridgeType","freeze","NO_BRIDGE","PARALLEL","ANTI_PARALLEL","HelixFlag","START","MIDDLE","END","START_AND_END","StructureType$1","SecondaryStructureMap","_ss","_sheet","_betaPartners","_bend","getResidues","_helixFlags","_chainLengths","_chains","_buildBetaSheets","_i2","_buildAlphaHelices","inResidues","chainLength","inPreferPiHelices","stride","isBond","_i3","kappa","_kappa","_i4","_isHelixStart","_j","_i5","_j2","_j3","_i6","_empty","_j4","_j5","_i7","isTurn","_stride","p1","p2","p3","p4","v12","v34","prevPrev","nextNext","curCA","ppCA","nnCA","ckap","_cosinusAngle","skap","atan2","bridges","lenA","chainA","lenB","chainB","_testBridge","_step","found","_iterator","bridge","unshift","chainI","getChain","chainJ","_i8","_j6","ibi","iei","jbi","jei","ibj","iej","jbj","jej","_hasChainBreak","ladderset","Set","_i9","ladder","_bridge","delete","sheetset","toMove","_step2","_iterator2","_step4","_iterator4","_b","_areBridgesLinked","_step3","_iterator3","_step5","_iterator5","_i10","_bridge2","betai","betaj","_l","_j7","parallel","_k","_j8","_k2","_k3","_k4","_k5","d","_step6","ai","aj","_iterator6","_step7","_iterator7","_i11","StructureType","StructuralElementType$3","helixClassMap","loopMap","Complex$9","Complex","_components","_helices","_sheets","structures","_residueTypes","_sgroups","_molecules","_maskNeedsUpdate","symmetry","units","_currentUnit","forEachChain","updateToFrame","resName","chainName","resId","atomName","localeCompare","groups","components","maxSerial","uniSerial","remnant","insCode","addComp","comp","resCount","currStart","isConnected","setSubDivs","currSubDivs","enableEditing","_fillCmpEdit","_fillCmpNoedit","getBoundaries","getTransforms","getSelector","setCurrentUnit","newUnit","computeBoundaries","_computeBounds","_finalizeBonds","forEachSGroup","_rebuildSGroupOnAtomChange","updateStructuresMask","getBonds","finalize","getSequence","getICode","helices","sheets","needAutoBonding","autoConnector","_bond","_fillComponents","marker","markCycles","detectAromaticLoops","detectCycles","_finalizeMolecules","molecule","updater","structure","collectMask","forEachMolecule","setMask","clearMask","totalSelector","reseter","_atomNames","dict","_elements","_residueNames","_chainNames","_altlocNames","_voxelWorld","addAtoms","srcArray","dstArray","functor","complexes","atomBias","bondBias","residueBias","chainBias","componentBias","bias","processBond","processResidue","processChain","processComponent","doNothing","rt","addElement","lastCode","lastSheetIndex","item","ssMap","lastHelixIndex","curStructure","curCode","curResidue","curSheetIndex","loopType","curSheet","addStrand","pow2ceil","Volume$2","Volume","dimensions","vecSize","volumeInfo","_dimVec","_volumeInfo","_dimensions","_dimX","_dimY","_dimZ","_rowElements","_planeElements","_totalElements","_data","getValue","setValue","addValue","boxSize","Float32Array","vl","getCellSize","vs","xSize","ySize","zSize","volMap","_voxelValue","zi","zm","zp","yi","ym","yp","xi","xm","xp","tilesX","ceil","tilesY","tileRow","row","_tileRow","_x","_x2","texture","DataTexture","LuminanceFormat","UnsignedByteType","UVMapping","ClampToEdgeWrapping","LinearFilter","needsUpdate","Molecule$8","Molecule","_createSuper$1V","_isNativeReflectConstruct$1V","CSS2DObject","_Object3D","_element","transp","getElement","op","op100","opacity","Object3D","_createSuper$1U","_isNativeReflectConstruct$1U","RCGroup","_Group","raycaster","intersects","raycast","innerOnly","enableSubset","disableSubset","totalSubset","getSubset","Group","vertexScreenQuadShader","_createSuper$1T","_isNativeReflectConstruct$1T","_worldMatrixInverse","identity","LAYERS","VOLUME","TRANSPARENT","PREPASS_TRANSPARENT","VOLUME_BFPLANE","COLOR_FROM_POSITION","SHADOWMAP","SELECTION_LAYERS","resetTransform","quaternion","updateMatrixWorldRecursive","updateMatrixWorld","addSavingWorldTransform","Matrix4","matrixWorld","invert","multiply","decompose","WebGLRenderer","renderDummyQuad","_material","MeshBasicMaterial","depthWrite","_scene","Scene","_quad","Mesh","PlaneBufferGeometry","_camera","OrthographicCamera","render","renderScreenQuad","isIdentity","equals","applyToPointsArray","w","persp","_v","ScreenQuadMaterial","_RawShaderMaterial","uniforms","srcTex","vertexShader","depthTest","RawShaderMaterial","clearTree","traverse","LineSegments","Line","geometry","dispose","removeChildren","renderScreenQuadFromTex","fragmentShader","renderScreenQuadFromTexWithDistortion","coef","PerspectiveCamera","setMinimalFov","angle","aspect","fov","radToDeg","atan","tan","degToRad","StereoCamera","updateHalfSized","camera","originalAspect","originalFov","updateProjectionMatrix","setDistanceToFit","Raycaster","intersectVisibleObject","gfxObj","fogFarPlane","intersectObject","nearPlane","near","matrixWorldInverse","farPlane","far","extractScale","te","determinant","BufferAttribute","copyAtList","attribute","indexList","_oldInstancedBufferGeometryCopy","InstancedBufferGeometry","source","instanceCount","gfxutils","calcCylinderMatrix","posBegin","posEnd","posCenter","matScale","makeScale","matRotHalf","makeRotationX","matRotLook","vUp","lookAt","setPosition","calcChunkMatrix","eye","up","rad","groupHasGeometryToRender","hasGeoms","buildDistorionMesh","widthSegments","heightSegements","calcInverseBarrel","prevR2","curR2","dr","geo","setXY","fillArray","startIndex","endIndex","destroyObject","belongToSelectLayers","layers","processObjRenderOrder","idMaterial","renderOrder","isGroup","applySelectionMaterial","setValues","depthFunc","LessEqualDepth","overrideColor","lights","shadowmap","setUberOptions","fixedColor","Color","zOffset","getMiddlePoint","point1","point2","optionalTarget","addScaledVector","_createSuper$1S","_isNativeReflectConstruct$1S","_defaultBoundaries","Visual","_gfxutils$RCGroup","_dataSource","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_ensureArray","EntityList","entities","_list","_dict","_indices","entity","register","registerInList","registerInDict","_this3","unregisterFromList","unregisterFromDict","makeContextDependent","defineProperties","_createSuper$1R","_isNativeReflectConstruct$1R","CollisionSphere","_radius","sphere","_sphere","ray","intersectSphere","distance","origin","SphereCollisionGeo","_base","inters","chunkIdx","computeBoundingBox","_createSuper$1Q","_isNativeReflectConstruct$1Q","tmpColor$4","copySubArrays$1","InstancedSpheresGeometry","_SphereCollisionGeo","spheresCount","sphereComplexity","useZSprites","_sphGeometry","SphereBufferGeometry","itemIdx","itemPos","itemRad","_offsets","setSphere","colorVal","_colors","g","finishUpdate","computeBoundingSphere","chunkIndices","alphaArr","_alpha","geom","sphereGeo","alpha","fill","InstancedBufferAttribute","_createSuper$1P","_isNativeReflectConstruct$1P","tmpColor$3","ChunkedObjectsGeometry","_BufferGeometry","chunkGeo","chunksCount","_chunkGeo","chunkSize","_chunkSize","mesh","facesPerChunk","faceIndex","BufferGeometry","srcPos","_positions","srcNorm","_normals","srcColor","dstPos","dstNorm","dstColor","dstPtOffset","ptIdxBegin","ptIdxEnd","subarray","attributes","chunkIndex","chunkIndexSize","pointsCount","use32bitIndex","indexSize","Uint32Array","Uint16Array","posOffset","setIndex","_createSuper$1O","_isNativeReflectConstruct$1O","SimpleSpheresGeometry","sphGeometry","normals","geoNormals","normal","_chunkPos","_tmpPositions","tmpPos","geoPos","_createSuper$1N","_isNativeReflectConstruct$1N","centerPos","tmpVector$2","normMtx$1","Matrix3","Simple2CCylindersGeometry","_ChunkedObjectsGeomet","cylGeometry","CylinderBufferGeometry$1","_chunkNorms","_tmpVector","botPos","topPos","firstOffset","secondOffset","tmpArray","geoNorm","lerpVectors","mtx1","getNormalMatrix","fromArray","toArray","applyMatrix3","colorVal1","colorVal2","_createSuper$1M","_isNativeReflectConstruct$1M","CylinderBufferGeometry","radiusTop","radiusBottom","radialSegments","heightSegments","openEnded","thetaLength","parameters","hasTop","hasBottom","vertexCount","facesCount","heightHalf","positions","Uint16BufferAttribute","uvs","currVtxIdx","currFaceIdx","tanTheta","v3","v4","setXYZ","vx","vy","vz","startTIdx","lastIdx","fTIdx","currSrcIdx","getX","getY","getZ","nextTVtx","startBIdx","lastBIdx","fBIdx","currSrcBIdx","nextBVtx","_createSuper$1L","_isNativeReflectConstruct$1L","tmpColor$2","invMatrix","setArrayXYZ$1","setArrayXYZW$1","sortNumber","Instanced2CCylindersGeometry","_InstancedBufferGeome","_useZSprites","_cylGeometry","_collisionGeo","me","mtxOffset","setItem","_matVector1","_matVector2","_matVector3","_invmatVector1","_invmatVector2","_invmatVector3","colorIdx","_color1","_color2","chunksIdx","cylinderInfo","newPar","_prepareCylinderInfo","cylinderIndices","color1","color2","_assignOpacity","cylinderGeo","_createSuper$1K","_isNativeReflectConstruct$1K","tmpPrev","tmpNext","tmpRes","simpleNormal","normalOnCut","nearRingPt","ExtrudedObjectsGeometry","shape","ringsCount","ptsCount","totalPts","_createExtrudedChunkGeometry","_ringsCount","tmpShape","_tmpShape","hasSlope","hasCut","chunkStartIdx","_setPoints","_setSlopeNormals","_setBaseNormals","_addCut","vtxIdx","mtx","nPtsInRing","_countNormalsInRing","isSlope","shiftToExtraPt","subVectors","_createSuper$1J","_isNativeReflectConstruct$1J","tmpColor$1","setArrayXYZ","setArrayXYZW","startSegmentIdx","segmentsCount","elemSize","ThickLinesGeometry","_initVertices","segmentIdx","pos1","pos2","directions","_directions","dirIdx","startSegIdx","endSegIdx","startPos","startDir","_buffersSize","indexOffset","pointOffset","_createSuper$1I","_isNativeReflectConstruct$1I","LinesGeometry","_BaseLinesGeometry","posSize","getPositionSize","_createSuper$1H","_isNativeReflectConstruct$1H","tmpVector$1","normMtx","CylinderCollisionGeo","itemOffset","_createSuper$1G","_isNativeReflectConstruct$1G","ChunkedLinesGeometry","_LinesGeometry","enableCollision","collisionGeo","segCount","segIdx","setSegments","getSubsetSegments","setColors","getSubsetColors","_createSuper$1F","_isNativeReflectConstruct$1F","tmpVector","TwoColorLinesGeometry","segmentIndices","_segCounts","_createSuper$1E","_isNativeReflectConstruct$1E","vectors","vecCount","tempPos1","tempPos2","CrossGeometry","setSegment","_createSuper$1D","_isNativeReflectConstruct$1D","tmpColor","IsoSurfaceGeometry","_opts","_posRad","posRad","IsoSurfaceMarchCube","pointsValuesLinear","hasIntersection","bitsInside","numCellsPerSide","n3","striIndicesMarchCube","edgeTable","GridCell","_arrSize","cubeIndex","Triangle","createArray","arrSize","IsoSurface","_numTriangles","_numVertices","_volumetricData","_xAxis","_yAxis","_zAxis","_xDir","_yDir","_zDir","cellSize","xAxis","yAxis","zAxis","xDir","yDir","zDir","tmp","notZero","axe","EPSILON","isoLevel","grid","ind1","ind2","vertex","valP1","isoDiffP1","diffValP2P1","mu","triangles","firstIndices","_firstIndices","secondIndices","_secondIndices","vertexList","_vertexList","normalList","_normalList","_vertexInterp","triCount","triTblIdx","triTable","_triTable","appendSimple","appendVertex","vol","volData","getData","dim","getDimensions","stepX","getStrideX","stepY","getStrideY","stepZ","getStrideZ","gc","gcVal","gcValSize","additions","axis","triVertex","_origin","posMtx","grad","globTriCount","getDirectIdx","_gradient","_polygonize","computeGradient","_doGridPosNorms","_prepareAxesAndDirs","vertexMap","idcCount","newIndices","vertices","newPositions","newNormals","norm","faceVer","oldVerCount","vMap","newVer","matchedIndex","_remapIndices","_remapVertices","colorMap","atomMap","atomWeightMap","visibilitySelector","atomWeightData","atomStrideX","atomStrideY","atomStrideZ","numVerts","xs","ys","zs","colorData","strideX","strideY","strideZ","xInv","yInv","zInv","atomLookup","atomWeights","interp","idx1","idx2","collectWeight","coefX","coefY","coefZ","newVerCount","ind","mux","muy","muz","maxWeight","dominantIdx","atomIdx","c0","c1","c2","c3","cz0","cz1","numTriangles","newTriCount","i0","_createSuper$1C","_isNativeReflectConstruct$1C","VolumeSurfaceGeometry","_IsoSurfaceGeometry","_visibilitySelector","_calcSurface","posRadArray","itemsCount","maxPosRad","minPosRad","tmpVal","minMaxValues","_findMinMax","minCoordRad","maxCoordRad","gridPadding","padRad","_minCoordRad","bbox","surface","isoSurf","compute","vertexFusion","setColorVolTex","volTexMap","packedArrays","_findNumVoxels","_computeSurface","_makeSurface","_createSuper$1B","_isNativeReflectConstruct$1B","Volume$1","QuickSurfGeometry","_VolumeSurfaceGeometr","_shiftByOrigin","gaussdensity","atomicNum","invIsoValue","invGridSpacing","maxVoxelX","maxVoxelY","maxVoxelZ","volTexData","texStrideX","scaledRad","atomicNumFactor","radInv","radLim","radLim2","xMin","xMax","dy2dz2","addr","texAddr","expVal","density","exp","colInd","originX","originY","originZ","AVHash","maxDistance","minX","minY","minZ","maxX","maxY","maxZ","hashFunc","minW","cid","iDim","jDim","kDim","nCells","jkDim","preHash","iIdx","cellOffsets","cellLengths","maxCellLength","subArray","cellLength","neighbourListLength","withinRadii","rExtra","out","outIdx","nearI","nearJ","nearK","loI","loJ","loK","hiI","hiJ","hiK","iOffset","jOffset","cellStart","cellEnd","dataIndex","baseIndex","rSum","ContactSurface","_indexList","maxRadius","scaleFactor","volTex","weights","gridx","gridy","gridz","sinTable","cosTable","neighbours","ngTorus","lastClip","weightsMap","mid","fillGridDim","innI","initializeGrid","gridSize","TypeName","uniformArray","rExt","initializeAngleTables","singleAtomObscures","innX","innY","innZ","innCI","ra2","obscured","ni","projectTorus","aIdx","bIdx","xa","ya","za","r1","innR2","dmp","normalToLine","rInt","ng","cost","sint","px","py","pz","iax","iay","iaz","minx","miny","minz","maxx","maxy","maxz","iz","iy","dzy2","zyOffset","ix","getVolume","timeEnd","ax","ay","az","ar2","colIdx","cr","cg","cb","cIdx","ap","spx","spy","spz","dd","projectPoints","innIdx","projectTorii","innInnI","fixNegatives","_createSuper$1A","_isNativeReflectConstruct$1A","ContactSurfaceGeometry","contactSurface","IsoSurfaceAtomColored","radiusAt","coord","colorX","colorY","colorZ","atomType","srcAtom","IsosurfaceBuildNormals","vBoxMin","vBoxMax","_numAtoms","_probeRadius","_atomsList","_voxelList","numAtomsRefs","aveRad","numCells","_numCells","_aveRad","side","side2","side3","xScale","_xScale","yScale","_yScale","zScale","_zScale","maxAtomsRefs","xNumVoxMult","yNumVoxMult","zNumVoxMult","diaAffect","numVoxX","numVoxY","numVoxZ","xIndMin","yIndMin","zIndMin","xIndMax","yIndMax","zIndMax","indVoxel","indexNext","_vertices","xInd","yInd","zInd","ref","closest","minDist2","MAX_VALUE","forEachRelatedAtom","numVertices","numCloseAtoms","vNormalX","vNormalY","vNormalZ","koef","maxRadAffect","maxRadAffect2","expScale","gatherNormals","radiusColorSmoothness","colorsClose","weightsSum","gatherColors","weightNormalized","IsoSurfaceGeo","maxNumVertices","maxNumTriangles","needVertexColors","_maxNumVertices","_maxNumTriangles","_createSuper$1z","_isNativeReflectConstruct$1z","Element$9","SSIsosurfaceGeometry","_innerBuild","geoOut","getGeo","_fromGeo","numTri3","atomsColored","nm","hashLines","hashEntries","probeRadius2","atomRadiusScale","radMax","num","numPoints","vOut","invNP","tx","ty","tz","sign","cube","indexPointValue","xb","yb","zb","v0","a0","voxelWorld","getClosestAtom","a1","a2","isTriangleVisible","indInGeo0","addVertexToGeo","indInGeo1","indInGeo2","itr","meshRes","vCellStep","vaEdges","vCorner","indCell","indY","indZ","getCornerCoord","indPointValues","indValues","buildEdgePoint","offs","numTri","indTri","addTriangle","numIntersectedCells","cubeValuesIndex","indCorner","letter","atomT","probeRad","vDif","fx","fy","fz","indXMin","indYMin","indZMin","indXMax","indYMax","indZMax","HASH_SIZE","numHashEtriesAllocated","numHashEntryIndex","vAdd","hashResolution","marCubeResoultion","iHash","hLineIndex","iVertAdd","getNewHashEntry","entryFirst","probeSphereRadius","distToSphere","distToBorder","probeSpRad2","sideInv","radEst","xCorner","yCorner","zCorner","ok","meshResolution","colorMode","useVertexColors","excludeProbe","convertToAtomsColored","getBoundingBox","rProbeRadius","calculateGridCorners","numIntersectedCellsEstim","getNumIntersectedCells","createVertexHash","probeRadForNormalsColors","createVoxels","buildGeoFromCorners","modifyExcludedFromGeo","buildNormals","buildColors","destroyVoxels","_createSuper$1y","_isNativeReflectConstruct$1y","LabelsGeometry","items","xTranslation","yTranslation","deltaPos","userData","translation","fieldTxt","spanText","fontSize","strings","spanNodeP","spanNodeText","createLabel","textAlign","fColor","bColor","geometries","capabilities","precision","renderer","getMaxPrecision","_noiseData","_noiseWrapS","RepeatWrapping","_noiseWrapT","_noiseMinFilter","NearestFilter","_noiseMagFilter","_noiseMapping","noiseTexture","RGBFormat","noise","noiseWidth","noiseHeight","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","_createSuper$1x","_isNativeReflectConstruct$1x","_samplesKernel$1","defaultUniforms","UniformsUtils","UniformsLib","diffuse","specular","shininess","zClipValue","clipPlaneValue","nearPlaneValue","invModelViewMatrix","world2colorMatrix","dashedLineSize","dashedLinePeriod","projMatrixInv","viewport","samplesKernel","noiseTex","noiseTexelSize","srcTexelSize","uberOptionNames","uberOptions","zClipCoef","toonShading","UberMaterial","_thisSuper","instancedPos","instancedMatrix","attrColor","attrColor2","attrAlphaColor","sphereSprite","cylinderSprite","fakeOpacity","prepassTransparancy","colorFromPos","shadowmapType","colorFromDepth","orthoCam","dashedLine","thickLine","fogTransparent","normalsToGBuffer","precisionString","DoubleSide","defines","getOwnPropertyDescriptors","_objectSpread","inst","USE_FOG","INSTANCED_POS","INSTANCED_MATRIX","ATTR_COLOR","ATTR_COLOR2","ATTR_ALPHA_COLOR","OVERRIDE_COLOR","SPHERE_SPRITE","fragDepth","CYLINDER_SPRITE","ZCLIP","CLIP_PLANE","FAKE_OPACITY","USE_LIGHTS","COLOR_FROM_POS","SHADOWMAP_PCF_SHARP","SHADOWMAP_PCF_RAND","SHADOWMAP_BASIC","COLOR_FROM_DEPTH","ORTHOGRAPHIC_CAMERA","PREPASS_TRANSP","DASHED_LINE","THICK_LINE","FOG_TRANSPARENT","drawBuffers","NORMALS_TO_G_BUFFER","TOON_SHADING","shallow","createInstance","Material","_createSuper$1w","_isNativeReflectConstruct$1w","UberObject","SuperClass","_SuperClass","NewObjectType","rest","onBeforeRender","scene","_onBeforeRender","_update","updateUniforms","_createSuper$1v","_isNativeReflectConstruct$1v","OurMesh$4","ZSpriteMesh","_OurMesh","castShadow","receiveShadow","_geometry","_group","modelViewMatrix","multiplyMatrices","uniformsNeedUpdate","_createSuper$1u","_isNativeReflectConstruct$1u","OurMesh$3","ZClippedMesh","modelView","_modelView","mvLength","_mvLength","setFromMatrixColumn","localToWorld","_createSuper$1t","_isNativeReflectConstruct$1t","TextMesh","initialized","_this$geometry","srcItem","label","_createSuper$1s","_isNativeReflectConstruct$1s","SimpleMesh","_createSuper$1r","_isNativeReflectConstruct$1r","OurMesh$1","_viewport","ThickLineMesh","projectionMatrix","_createSuper$1q","_isNativeReflectConstruct$1q","InstancedMesh","meshes","ZClipped","ZSprite","Text","Instanced","setMatParams","_createInstancedCylinders","Geometry","initMaterial","_createLineSegmentsGeoTriplet","renderParams","thickLines","_createIsoSurfaceGeoTriplet","geoClass","caps","surfaceOpts","MeshCreator","_caps","_settings","_createSuper$1p","_isNativeReflectConstruct$1p","TransformGroup","geoParams","transforms","_geoParams","mat","_transforms","_createMeshes","_ray","inverseMatrix","_inverseMatrix","childIntersects","ciCount","geos","meshCnt","_createSuper$1o","_isNativeReflectConstruct$1o","Ray","ChemGroup","_RCGroup","selection","_selection","_mode","_colorer","_chunksIdc","chunks","_polyComplexity","_geo","_makeGeoArgs","_mesh","chunksList","_calcChunksList","setOpacity","_changeSubsetOpacity","_createSuper$1n","_isNativeReflectConstruct$1n","AtomsGroup","_ChemGroup","atomsIdc","_createSuper$1m","_isNativeReflectConstruct$1m","AtomsSphereGroup","_AtomsGroup","_this$_selection","calcAtomRadius","setColor","getAtomColor","updateColor","needsColorUpdate","_createSuper$1l","_isNativeReflectConstruct$1l","AtomsSurfaceGroup","_AtomsSphereGroup","selectedAtoms","getSurfaceOpts","_createSuper$1k","_isNativeReflectConstruct$1k","AtomsSASSESGroupStub","_createSuper$1j","_isNativeReflectConstruct$1j","getAtomText","getNode","getVisualName","colorMappings","adjust","inverse","propagateColor","rule","startsWith","templateMappings","hetatm","water","parseTemplate","AtomsTextGroup","getLabelOpts","fgColor","bgColor","_createSuper$1i","_isNativeReflectConstruct$1i","_slerp","omega","oSin","AromaticGroup","radOffset","addChunk","chunksToIdx","prevVector","currVector","segmentsHeight","_segmentsHeight","leprStep","currAtomIdx","cCount","cycAtoms","chunkPoints","tmpDir","cycleRad","prevPos","currPos","upDir","currAngle","_createSuper$1h","_isNativeReflectConstruct$1h","_createShape$1","pts","AromaticTorusGroup","_AromaticGroup","torusRad","getAromRadius","radiusV","calcStickRadius","lookAtVector","mtc","points","currPoint","_createSuper$1g","_isNativeReflectConstruct$1g","AromaticLinesGroup","getAromaticOffset","prevPt","getAromaticArcChunks","_createSuper$1f","_isNativeReflectConstruct$1f","ResiduesGroup","chunksIdc","resIdx","_createSuper$1e","_isNativeReflectConstruct$1e","NucleicItemGroup","_ResiduesGroup","stickRad","getResidueColor","_processItem","_createSuper$1d","_isNativeReflectConstruct$1d","NucleicCylindersGroup","_NucleicItemGroup","cyl1","cyl2","_createSuper$1c","_isNativeReflectConstruct$1c","exports","NucleicSpheresGroup","Smooth","AbstractInterpolator","CubicInterpolator","Enum","LinearInterpolator","NearestInterpolator","SincFilterInterpolator","_Smooth","clipClamp","clipMirror","clipPeriodic","defaultConfig","getColumn","isValidNumber","makeLanczosWindow","makeScaledFunction","makeSincKernel","normalizeScaleTo","shallowCopy","sinc","validateNumber","validateVector","__hasProp","__extends","ctor","__super__","METHOD_NEAREST","METHOD_LINEAR","METHOD_CUBIC","METHOD_LANCZOS","METHOD_SINC","CLIP_CLAMP","CLIP_ZERO","CLIP_PERIODIC","CLIP_MIRROR","CUBIC_TENSION_DEFAULT","CUBIC_TENSION_CATMULL_ROM","cubicTension","clip","scaleTo","sincFilterSize","sincWindow","period","config","clipHelper","clipHelperClamp","clipHelperZero","periodic","clipHelperPeriodic","mirror","clipHelperMirror","getClippedInput","interpolate","tangentFactor","getTangent","t2","t3","kernel","sum","_ref","_ref2","_results","baseScale","scaleRange","isFinite","dimension","invalidErr","baseDomainEnd","interpolator","interpolatorClass","interpolators","properties","smoothFunc","lanczosFilterSize","nearest","linear","cubic","lanczos","_len2","deepValidation","_len3","domain","calcMatrix","_buildStructureInterpolator","argTrans","transformT","tt","newt","_addPoints","centerPoints","topPoints","tp","_calcPoints","firstIdx","_prevIdx","_nextIdx","arrIdx","_extrapolate2","otherIdx","prevIdx","nextIdx","posFrom","posTo","nucleic","nameFrom","nameTo","shift","wing","cpPrev","tpPrev","cpNext","tpNext","_addPointsForLoneResidue","CartoonHelper","startIdx","endIdx","pointsArrays","_topInterp","_centerInterp","_shift","_valueStep","_segmentsCount","firstRad","secondRad","mtcCount","outMtc","currRad","topInterp","cenInterp","currentValue","mtxIdx","lerpVal","currTop","currCenter","nextCenter","_createSuper$1b","_isNativeReflectConstruct$1b","_createShape","_loopThrough","subDiv","subDivI","subDivN","idc","matrixHelper","prevLast","prevSecondRad","getResidueRadius","prepareMatrices","ResiduesSubseqGroup","cmpMultiplier","getHeightSegmentsRatio","getTension","chunkIdc","subdivs","_createSuper$1a","_isNativeReflectConstruct$1a","ResiduesTraceGroup","chunk","_createSuper$19","_isNativeReflectConstruct$19","BondsGroup","drawMultiple","drawMultiorderBonds","showAromatic","showAromaticLoops","bondsIdc","bondsCount","getBondOrder","bondOrder","getCylinderCount","bondIdx","_createSuper$18","_isNativeReflectConstruct$18","BondsCylinderGroup","_BondsGroup","normDir","emptyOffset","calcSpaceFraction","leftPos","rightPos","currBondIdx","atom1","atom2","a1Pos","a2Pos","calcNormalDir","currStickRad","_createSuper$17","_isNativeReflectConstruct$17","BondsLinesGroup","bondDir","a1Hangs","a2Hangs","_createSuper$16","_isNativeReflectConstruct$16","AtomsProcessor","atomCount","_checkAtom","atomsGroup","meshIdx","chSubset","subsetEl","_createSuper$15","_isNativeReflectConstruct$15","OrphanAtomsProcessor","_AtomsProcessor","_createSuper$14","_isNativeReflectConstruct$14","ResiduesProcessor","ResidueGroup","_checkResidue","residuesGroup","_createSuper$13","_isNativeReflectConstruct$13","_createSuper$12","_isNativeReflectConstruct$12","_createSuper$11","_isNativeReflectConstruct$11","_createSuper$10","_isNativeReflectConstruct$10","processors","Atoms","OrphanAtoms","Residues","Nucleic","_ResidueProcessor","NucleicProcessor","Subseqs","SubseqsProcessor","getMaskedSubdivSequences","jEnd","Bonds","BondsProcessor","bondsGroup","Aromatic","AromaticProcessor","cycleIdx","perCycle","_bakeGroup","triplet","Processor","GroupsFactory","createSpheres","createCrosses","create2CCylinders","create2CLines","createExtrudedChains","create2CClosedCylinders","createChunkedLines","createQuickSurface","createContactSurface","createSASSES","createLabels","groupList","depGroups","groupCount","currGroup","newGroup","_createSuper$$","_isNativeReflectConstruct$$","getRenderParams$1","LinesMode","_Mode","_createSuper$_","_isNativeReflectConstruct$_","LicoriceMode","_createSuper$Z","_isNativeReflectConstruct$Z","BallsAndSticksMode","_createSuper$Y","_isNativeReflectConstruct$Y","VanDerWaalsMode","_createSuper$X","_isNativeReflectConstruct$X","TraceMode","_createSuper$W","_isNativeReflectConstruct$W","TubeMode","_residue","TUBE_RADIUS","buildGeometry","_createSuper$V","_isNativeReflectConstruct$V","CartoonMode","secCache","getSecondary","secOpts","ARROW_END","startRad","getResidueStartRadius","endRad","getResidueEndRadius","_res","tubeRad","secHeight","secData","_createSuper$U","_isNativeReflectConstruct$U","selectors$3","getRenderParams","SurfaceMode","surfaces","surfaceNames","_createSuper$T","_isNativeReflectConstruct$T","isSurface","QuickSurfaceMode","_SurfaceMode","useBeads","getVisibilitySelector","_createSuper$S","_isNativeReflectConstruct$S","IsoSurfaceMode","_excludeProbe","_createSuper$R","_isNativeReflectConstruct$R","IsoSurfaceSASMode","_IsoSurfaceMode","_createSuper$Q","_isNativeReflectConstruct$Q","IsoSurfaceSESMode","_createSuper$P","_isNativeReflectConstruct$P","ContactSurfaceMode","_createSuper$O","_isNativeReflectConstruct$O","TextMode","adjustColor","Palette","asIs","elementColors","defaultElementColor","residueColors","defaultResidueColor","chainColors","secondaryColors","defaultSecondaryColor","gradientName","gradients","defaultNamedColor","beta","namedColors","minRangeColor","midRangeColor","maxRangeColor","defaultGradientColor","rainbow","hot","cold","reds","blues","_Palette$prototype","_namedColorsArray$i","_palette$secondaryCol$1","palette$2","H","P","S","CL","FE","NI","CU","BR","palette$1","HE","LI","BE","B","NE","NA","MG","AL","SI","AR","K","SC","TI","V","CR","MN","ZN","GA","GE","KR","RB","SR","Y","ZR","NB","TC","RU","RH","PD","AG","CD","IN","SN","SB","TE","XE","BA","LA","CE","PR","ND","PM","SM","EU","GD","TB","DY","HO","ER","YB","LU","HF","TA","W","RE","OS","IR","PT","AU","HG","TL","PB","BI","PO","AT","RN","FR","RA","AC","TH","PA","NP","PU","AM","CM","BK","CF","ES","FM","MD","NO","LR","RF","DB","BH","HS","MT","_palette$secondaryCol","StructuralElementType$2","StructuralElementType$1","_createSuper$N","_isNativeReflectConstruct$N","ElementColorer","_Colorer","getElementColor","_createSuper$M","_isNativeReflectConstruct$M","ResidueTypeColorer","_createSuper$L","_isNativeReflectConstruct$L","SequenceColorer","getGradientColor","_createSuper$K","_isNativeReflectConstruct$K","ChainColorer","getChainColor","_createSuper$J","_isNativeReflectConstruct$J","SecondaryStructureColorer","getSecondaryColor","secondary","_createSuper$I","_isNativeReflectConstruct$I","UniformColorer","_createSuper$H","_isNativeReflectConstruct$H","ConditionalColorer","_subsetCached","_createSuper$G","_isNativeReflectConstruct$G","ConformationColorer","_createSuper$F","_isNativeReflectConstruct$F","TemperatureColorer","_createSuper$E","_isNativeReflectConstruct$E","OccupancyColorer","_getColorByOccupancy","_createSuper$D","_isNativeReflectConstruct$D","HydrophobicityColorer","hydrophobicity","_createSuper$C","_isNativeReflectConstruct$C","MoleculeColorer","_createSuper$B","_isNativeReflectConstruct$B","CarbonColorer","colorCarbon","colorNotCarbon","neutralColor","intensity","matValues","createDerivativeMesh","layer","newMesh","traverseMeshes","meshTypes","func","_gatherObjects","forEachMeshInGroup","processObj","meshutils","applyTransformsToMeshes","processTransparentMaterial","prepassTranspMesh","processColFromPosMaterial","colFromPosMesh","createShadowmapMaterial","shadowmapMesh","isShadowmapMesh","removeShadowmapMaterial","countTriangles","totalCount","attribs","currAttr","faces","_countMeshTriangles","selectors$2","startMaterialValues","selectorString","setMode","markAtoms","clearAtomBits","selectionGeo","sg","matrixAutoUpdate","repSettings","selStr","modeDiff","identify","colorerDiff","newSelectorObject","newSelector","newMode","newColorer","newMaterial","_createSuper$A","_isNativeReflectConstruct$A","ComplexEditor","ComplexVisualEdit","ComponentEditor","_ComplexEditor","ComplexComponentEditor","complexVisual","_complexVisual","_inProgress","_componentTransforms","_bakeComponentTransform","onAtomPositionChanged","_resetComponentTransform","finalizeEdit","pivot","getSelectedComponent","reprNode","getSelectionGeo","selectionMask","getSelectionBit","_traverseComponentGroups","bbmin","bbmax","updateMatrix","FragmentEditor","_ComplexEditor2","ComplexFragmentEditor","_getSelectionBorderAtoms","_fragmentBoundAtoms","pivotPos","_fragmentGeo","_fragmentSelectionGeo","vg","smeshes","sm","selectionBit","makeTranslation","_bakeAtomTransform","boundAtoms","transformDirection","atomHash","_createSuper$z","_isNativeReflectConstruct$z","selectors$1","lookupAndCreate","specs","_specs2","ComplexVisual","_Visual","_reprList","_repr","_selectionBit","_reprUsedBits","_selectionCount","_selectionGeometry","release","_editor","_rep","status","bits","NUM_REPRESENTATION_BITS","newSelectionBit","_getFreeReprIdx","originalSelection","buildSelectorFromMask","def","unmarkAtoms","markAtomsAdditionally","rebuildSelectionGeometry","pickedObj","otherObj","getMolecule","resetSelectionMask","deselectionMask","multiple","selRule","Promise","resolve","errorOccured","setTimeout","hasGeometry","buildSelectionGeometry","optimizeList","NaN","expression","or","and","residx","_buildSelectorFromSortedLists","editor","needTraverse","forEachAtomWithinDistFromMasked","countAtomsByMask","_createSuper$y","_isNativeReflectConstruct$y","volumeUniforms","volumeDim","tileTex","tileTexSize","tileStride","boxAngles","_isoLevel0","_flipV","_BFLeft","_BFRight","_FFLeft","_FFRight","_WFFLeft","_WFFRight","overrideUniforms","defUniforms","facesPosMaterialParams","sideType","BackFacePosMaterial","_ShaderMaterial","backFaceParams","BackSide","ShaderMaterial","ShaderParams","FrontSide","VolumeMaterial$1","BackFacePosMaterialFarPlane","_ShaderMaterial2","matUniforms","aspectRatio","farZ","tanHalfFOV","matWorld2Volume","shaderParams","FrontFacePosMaterial","_ShaderMaterial3","frontFaceParams","VolumeMaterial","_ShaderMaterial4","updateDefines","ISO_MODE","STEPS_COUNT","_createSuper$x","_isNativeReflectConstruct$x","VolumeMesh","_Mesh","Plane","cullFlag","_corners","edges","_edges","edgeIntersections","_edgeIntersections","constant","vert","cornerMark","edgeMark","curEdge","curEdgeInter","CheckX","CheckY","CheckZ","curEdgeIdx","curEdgeSource","face","nextVertex","coplanarPoint","faceIdx","_collectVertices","vRight","vDir","rightProj","_sortIndices","numIndices","vm","getTiledTextureStride","buildTiledTexture","getBox","image","getVolumeInfo","volInfo","obtuseAngle","_settings$now$modes$V","mean","dmean","dmin","span","dmax","sd","nearClipPlaneOffset","_nearClipPlaneOffset","_pos","_norm","norm4D","_norm4D","matrixWorldToLocal","_matrixWorldToLocal","_clipPlane","_updateIsoLevel","getWorldDirection","getWorldPosition","setFromNormalAndCoplanarPoint","_updateVertices","_updateIndices","Vector4","VolumeBounds","bSize","offsetVert","_getBaseVertices","flatVertices","_flattenArray","_lines","LineBasicMaterial","projTable","_projectionTable","proj","inv","currDelta","XY","XZ","YZ","VolumeFarPlane","volume","planeGeo","_initPlaneGeo","_plane","frustumCulled","doubleSided","matWorldToVolume","_renderer","planeCamPos","normalMatrix","volumeMatrix","DEG2RAD","_createSuper$w","_isNativeReflectConstruct$w","VolumeVisual","setDataSource","_frame","getMesh","showFrame","_farPlane","getBoundingSphere","needShow","_createSuper$v","_isNativeReflectConstruct$v","LoaderList","_EntityList","someLoaders","SomeLoader","canProbablyLoad","_createSuper$u","_isNativeReflectConstruct$u","Loader","_source","_abort","_agent","abort","_createSuper$t","_isNativeReflectConstruct$t","FileLoader","_Loader","_binary","blob","reader","FileReader","readAsArrayBuffer","readAsText","_createSuper$s","_isNativeReflectConstruct$s","urlStartRegexp","XHRLoader","request","XMLHttpRequest","response","responseType","send","_createSuper$r","_isNativeReflectConstruct$r","ImmediateLoader","loaders","_createSuper$q","_isNativeReflectConstruct$q","ParserList","someParsers","format","formats","SomeParser","canProbablyParse","parseSync","model","_parseHeader","Remark290","_matrix","_matrixIndex","stream","readString","matrixRow","readCharCode","matrixData","matrixIndex","Assembly$2","Remark350","assemblies","_assembly","assembly","addMatrix","addChain","PDBStream","_start","_nextCR","_nextLF","_next","_end","_createSuper$p","_isNativeReflectConstruct$p","Complex$8","Element$8","Helix$2","Sheet$2","Strand$2","Bond$4","Molecule$7","pdbStartRegexp","remarkParsers","290","350","PDBParser","_Parser","_serialAtomMap","_modelId","_compaundFound","_biomoleculeFound","_allowedChainsIDs","_lastMolId","_remarks","_remark","_compndCurrToken","_fixBondsArray","_fixChains","remark290","remark350","chainDict","chainObj","idChainMap","nj","readInt","readChar","chainID","resSeq","readFloat","veryLong","nameToElement$1","Role","serial0","serial1","serial2","serial3","serial4","tokenIdx","chainStr","lastChar","remarkNum","remark","RemarkParser","_parseSTRUCTURE","addHelix","addSheet","pars","adder","serialNumber","structureName","helLength","shWidth","shCur","shPrev","startChainID","endChainID","startSequenceNumber","iCodeStr","startICode","endSequenceNumber","endICode","cs","date","tagParsers","_createSuper$o","_isNativeReflectConstruct$o","HEADER","_parseHEADER","_parseTITLE","_parseATOM","HETATM","ENDMDL","_parseENDMDL","CONECT","_parseCONECT","COMPND","_parseCOMPND","REMARK","_parseREMARK","_parseHELIX","_parseSHEET","Complex$7","Element$7","Bond$3","cOrderCharCodes","cmlStartRegexp","CMLParser","_readOnlyOneMolecule","atomId","countBonds","idxs","atomRefs2","moleculeArr","fieldData","atomRefs","placement","fieldName","_extractSGroup","_createSGroup","sgroupRef","atomsRef","mapEntry","cycleFuncInner","cycleFunc","x2","x3","y2","y3","z3","dom","childNodes","parseNode","xmlNode","nodeName","jsonNode","existing","molSet","atomArray","_findSuitableMolecule","rawData","DOMParser","parseFromString","traversedData","_traverseData","cml","retData","filteredData","rd","_extractSGroups","localBond","bondArray","_rebuidBondIndexes","orderAttr","tc","labels","_breadWidthSearch","retStruct","atomLabels","labelsCount","originalCML","prepareComponentCompound","compId","molId","molID","_packLabel","breadthQueue","componentID","labeledAtoms","startID","_unpackLabel","eAtom","mainAtom","varData","currentLabel","reorder","lLabel","atomFullNameStruct","elementType","countRef","currAtomComp","strLabel","stringify","atomSerial","added","mrvValence","complexAtom","_parseBond","getSGroupCount","sGrp","getSGroups","_selectComponents","_parseSet","totalAtomsParsed","joinedComplex","joinComplexes","mmtf","module","setUint8","setUint16","setUint32","setFloat64","setInt8","setInt16","setInt32","ArrayBuffer","DataView","byteOffset","Int8Array","Int16Array","L","E","q","R","rr","bondAtomList","bondOrderList","xCoordList","yCoordList","zCoordList","bFactorList","atomIdList","altLocList","occupancyList","groupIdList","groupTypeList","secStructList","insCodeList","sequenceIndexList","chainIdList","chainNameList","getInt8","getUint8","getUint16","getUint32","getFloat32","getFloat64","getInt16","getInt32","setFloat32","M","X","ignoreFields","nr","J","Z","ir","encode","decode","firstModelOnly","onModel","onChain","onGroup","onAtom","onBond","chainsPerModel","chainCount","modelIndex","groupsPerChain","chainIndex","atomNameList","groupIndex","groupId","groupType","groupName","singleLetterCode","chemCompType","secStruct","sequenceIndex","atomIndex","elementList","formalCharge","formalChargeList","xCoord","yCoord","zCoord","bFactor","atomIndex1","atomIndex2","fetch","fetchReduced","version","fetchUrl","fetchReducedUrl","encodeMsgpack","encodeMmtf","decodeMsgpack","decodeMmtf","MMTF","_createSuper$n","_isNativeReflectConstruct$n","Complex$6","Chain$1","Atom$1","Element$6","Helix$1","Sheet$1","Strand$1","Bond$2","Assembly$1","Molecule$6","ArrayComparator","original","_original","_sum","candidate","sorted","StructuralElementType","secStructToType","MMTFParser","_modelData","chainData","groupData","_updateSecStructure","atomData","bondData","_ssType","_ssStruct","_ssStart","struct","mmtfData","chainsInModel0","chainIndexList","description","structureId","releaseDate","eventCallbacks","modelData","_onModel","_onChain","_onGroup","_onAtom","_onBond","_updateMolecules","named","bioAssemblyList","baInfo","transformList","chainListCheck","chainNames","allChains","_chainsByName","compare","transpose","primaryChainsArray","primaryChainsHash","primary","_traverse","_linkAtomsToResidues","_markHeteroAtoms","_findSynonymousChains","_parseAssemblyInfo","_joinSynonymousChains","isArrayBuffer","_createSuper$m","_isNativeReflectConstruct$m","ParsingError","captureStackTrace","parseLine","parseColumn","_isWhitespace","_inlineIndexOf","ch0","_createSuper$l","_isNativeReflectConstruct$l","Complex$5","Element$5","Molecule$5","cRequiredAtomFields","cSecondaryCoding","helx","turn","strn","arrize","arrayLikeObject","nameToElement","AtomDataError","_extractOperations","assemblyGen","opsDict","groupStr","gps","grIdx","grCount","gr","gp","es","cnt","ii","nn","newMtx","CIFParser","asymDict","newline","block","keysCount","valuesCount","_parseValue","keyIndex","readCIF","_toComplex","cifData","complexData","_extractAtoms","_extractSecondary","_extractAssemblies","_extractMolecules","_extractMetadata","struct_keywords","pdbx_keywords","databaserev","database_PDB_rev","date_original","pdbx_description","atom_site","auth_seq_id","Cartn_x","Cartn_y","Cartn_z","label_atom_id","group_PDB","chainIdc","auth_asym_id","chainLabelIdc","label_asym_id","serials","iCodes","pdbx_PDB_ins_code","resNames","label_comp_id","type_symbol","tempFactors","B_iso_or_equiv","occupancies","charges","pdbx_formal_charge","altLocs","label_alt_id","models","pdbx_PDB_model_num","label_entity_id","moleculeIdx","struct_conf","_extractConfs","struct_sheet_range","_extractSheets","sheetData","sheet_id","beg_label_seq_id","end_label_seq_id","beg_label_asym_id","sheetNames","strandNames","starts","beg_auth_seq_id","ends","end_auth_seq_id","stICodes","pdbx_beg_PDB_ins_code","endICodes","pdbx_end_PDB_ins_code","getSheet","findResidue","helicesData","conf_type_id","typeId","comments","details","lengths","pdbx_PDB_helix_length","helixClasses","pdbx_PDB_helix_class","asmGen","pdbx_struct_assembly_gen","asmIdx","assembly_id","asmOper","oper_expression","asmList","asym_id_list","operList","vector","ops","_getOperations","pdbx_struct_oper_list","asm","assemblyOps","valueType","VolumeModel","_header","_boxSize","_boxStart","extent","nstart","crs2xyz","cellDims","angles","isTypedArray","_buff","headerFormat","arrays","_parseArray","_parseVector","_buffer","_header$angles","gamma","z1","z2","_xyz2crs","xaxis","yaxis","zaxis","shiftX","shiftY","_this$_header$angles","_setOrigins","_getXYZdim","_getXYZbox","_toXYZData","_getVolumeInfo","_createSuper$k","_isNativeReflectConstruct$k","CCP4Header","ispg","nsymbt","lksflg","customData","machine","nlabel","Ccp4Model","_VolumeModel","_typedCheck","u32","i32","f32","_fillHeader","xyz2crs","_this$_getAxis2","_getAxis","_setAxisIndices","_setBoxParams","xyzData","crsIdx","CCP4Parser","_createSuper$j","_isNativeReflectConstruct$j","Complex$4","Element$4","Molecule$4","XYZParser","_atomsInf","_fileName","endnAtoms","endComment","startAtomsInf","words","_parseToAtomsInf","_parseAtomsInf","_createSuper$i","_isNativeReflectConstruct$i","Complex$3","Element$3","PubChemParser","jsonData","PC_Compounds","aids","aid","fromPairs","zip","coords","conformers","aids1","aid1","aids2","aid2","orders","SDFStream","_strings","_currentStart","_currentStringIndx","numb","curStr","getNextString","getCurrentString","probablyHaveDataToParse","_createSuper$h","_isNativeReflectConstruct$h","Complex$2","Element$2","Bond$1","Molecule$3","chargeMap","orderMap$1","typeMap$1","sdfAndMolRegexp","sdfRegExp","fileFormat","tagsNames","tags","SDFParser","_format","_metadata","_currentMolProps","_compoundIndx","_assemblies","_atomsParsed","_atomsIndexes","getStringFromStart","codes","trunc","reverse","buildChainID","bondsNum","bondType","countsLine","_parseAtoms","_parseBonds","_parseMOL","findNextDataItem","_parseDataItem","_tryToUpdateMoleculeData","tagsList","_searchTag","tagPossibleNames","_tryToFind","_finalizeMetadata","_buildAssemblies","_buildMolecules","defineFormat","_parseCompound","findNextCompoundStart","_createSuper$g","_isNativeReflectConstruct$g","DSN6Header","DSN6Model","i16","byteBuffer","counter","zBlock","yBlock","xBlock","inRange","_pointCalculate","blocks","_blockCalculate","_calculateInfoParams","dispersion","minDensity","maxDensity","pow","DSN6Parser","checkDataTypeOptions","_createSuper$f","_isNativeReflectConstruct$f","GROReader","_PDBStream","_createSuper$e","_isNativeReflectConstruct$e","Complex$1","Element$1","Molecule$2","GROParser","_time","_residueNumber","_residueName","_atomName","_atomNumber","_atomPosition","_atomVelocity","filetype","readLine","getNext","positionX","positionY","positionZ","_parseTitle","_parseNumberOfAtoms","_parseAtom","_createSuper$d","_isNativeReflectConstruct$d","Molecule$1","orderMap","un","am","nc","du","typeMap","resNumberRegex","spacesRegex","splitToFields","MOL2Parser","_currPosIdx","_currStartIdx","MOL2Data","newPosIdx","_toStringFromStart","_toHeaderString","_setStart","_probablyHaveDataToParse","parsedStr","_setResidue","originAtomId","targetAtomId","currMolecule","molResidues","_fixSerialAtoms","_parseMolecule","_toStringFromHeader","_parseRawStrings","_findNextCompoundStart","_createSuper$c","_isNativeReflectConstruct$c","ExporterList","someExporters","Exporter","exportSync","PDBResult","_resultArray","_currentStr","_tag","_fixedNumeration","_numeration","_tagStrNum","writeString","numeration","isBoolean","maxStrPos","_currentStrLength","newString","curStrLength","repeat","cStr","bondsArrays","_getSubArrays","subArraySize","subArrays","matrixIndx","_numb","toFixed","writeMatrix","_createSuper$b","_isNativeReflectConstruct$b","PDBExporter","_Exporter","_tags","_result","_tagExtractors","_extractHEADER","TITLE","_extractTITLE","_extractATOM","_extractCONECT","_extractCOMPND","_extractREMARK","_extractHELIX","SHEET","_extractSHEET","_stringForRemark350","_stringForRemark290","getResult","newTag","fixedBonds","writeBondsArray","strands","startIndx","_getMoleculeChains","chainsString","writeEntireString","_Remark290","_Remark350","writeMatrices","biomolIndx","SourceClass","copyFbxPoint3","srcIdx","dstIdx","copyFbxPoint4","vector4","copyTransformedPoint3","setSubArray","copyFunctor","functorOpts","arridx","FBXModel","lastPos","lastNorm","lastCol","vertsCount","indsCount","setIndices","currentCount","getVerticesNumber","setShiftedIndices","setTransformedPositions","setTransformedNormals","FBXGeometry","_info","_createSuper$a","_isNativeReflectConstruct$a","FBX1CGeometry","_FBXGeometry","_geo$attributes","cl","_createSuper$9","_isNativeReflectConstruct$9","FBX2CCylinder","_cutRawStart","_cutRawEnd","_facesPerSlice","addPerCylinder","_extendVertices","_extendIndices","getGeoParams","_temp","startToShift","colorSize","part1End","part2End","_setColorRange","capSize","cap1End","cap2End","FBXInfoExtractor","_materials","_models","_extractModelsAndMaterials","_flattenModels","layersOfInterest","Layers","checkExportAbility","_collectInstancedGeoInfo","_collectGeoInfo","faceSize","overallVertsCount","combined","_reworkIndices","verticesCount","_mesh$geometry","_mesh$geometry$attrib","vertCount","setPositions","setNormals","_collectMaterialInfo","_addToPool","_mesh$geometry2","_mesh$geometry2$attri","instCount","instMatrix","objMatrix","sphereColor","instanceIndex","_getSphereInstanceMatrix","addInstance","_mesh$geometry3","_mesh$geometry3$attri","oneCCylinder","splittingInfo","_gatherCylindersColoringInfo","twoCCylinder","needToSplit","additionalVertsCount","colorStart","colorEnd","is2Colored","_getCylinderInstanceMatrix","materialIdx","_checkExistingMaterial","findIndex","differs","_collectSpheresInfo","_collectCylindersInfo","instIdx","matVector1","matVector2","matVector3","idxOffset","FBXResult","_writeHeader","_writeDefinitions","_writeObjects","_writeRelations","_writeConnections","creator","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","allModels","_verticesIndices","_normalLayer","_colorLayer","allMaterials","_materialProperties","modelsList","materialList","colorArray","colorsStr","_floatArrayToString","colorIndices","normalArray","normalsStr","vertStr","_createSuper$8","_isNativeReflectConstruct$8","FBXExporter","_version","miewVersion","_extractor","rot","eyeDirection","cameraUpDirection","cameraSidewaysDirection","moveDirection","mouseDelta","quat","exporters","tempColor","CSS2DRenderer","_height","_widthHalf","_heightHalf","_vector","_viewMatrix","_projectionMatrix","_domElement","overflow","pointerEvents","myNode","lerpColorAsHex","setHex","getHexString","colorAsHex","setFromMatrixPosition","localOffset","getMaxScaleOnAxis","fogFactor","smoothstep","WebkitTransform","MozTransform","oTransform","_renderObject","STATE","Quaternion","matrix4","ObjectHandler","lastRotation","ObjectControls","objectPivot","getAltObj","hotkeysEnabled","screen","rotateFactor","axisRotateFactor","intertia","dynamicDampingFactor","intertiaThreshold","_state","_mousePrevPos","_mouseCurPos","_mainObj","_altObj","_affectedObj","_isAltObjFreeRotationAllowed","_isTranslationAllowed","_isKeysTranslatingObj","_pressedKeys","_clock","_lastUpdateTime","_listeners","mousedown","mouseup","mousemove","mousewheel","touchstartend","touchmove","getKeyBindObject","keydownup","handleResize","resetKeys","contextmenu","Picker","_lastMousePos","_mouseTotalDist","_lastClickBeginTime","_lastClickPos","_clickBeginTime","touchstart","touchend","_rotate","zeroPivot","makeRotationFromQuaternion","setObjects","_objects2","mousePrevPos","mouseCurPos","aboutAxis","mouse2rotation","setFromAxisAngle","translate","translateOnAxis","timeSinceLastUpdate","timeSinceMove","mousePrev","mouseCur","setLength","stopPropagation","innerWidth","innerHeight","getBoundingClientRect","ownerDocument","pageXOffset","clientLeft","pageYOffset","clientTop","enableHotkeys","allowTranslation","allow","allowAltObjFreeRotation","keysTranslateObj","isEditingAltObj","convertMouseToOnCircle","pageX","pageY","screenSize","convertMouseToViewport","rotateByMouse","aboutZAxis","getOrientation","setOrientation","getScale","setScale","curTime","_lastMouseMoveTime","speedX","speedY","altObj","workWithAltObj","altKey","ctrlKey","translatePivotByMouse","touches","_touchDistanceCur","_touchDistanceStart","_scaleStart","translatePivotInWorld","setX","setY","setZ","translatePivot","setPivot","newPivot","picked","pickObject","screenPos","rayCaster","unproject","fogFarValue","getMouseInViewport","curPos","_lastTouchdownPos","changedTouches","Axes","targetCamera","_target","_targetCamera","_object","AxesHelper","_full","autoClear","setViewport","secTypes","cSecNames","_createSecondary","strArray","nRes","resid","rIdx","fromUInt20ToInt20","uint20","FrameInfo","payload","callbacks","isLoading","_framesRange","frameIsReady","_frameRequest","_callbacks","_framesRequestLength","_downloadDataFn","parseBinaryData","setFrame","framesStart","framesEnd","_framesCount","onLoadStatusChanged","_bufferRequestStart","_prepareBuffer","arrayBuffer","dataView","atomsCount","framesCount","_atomsCount","chunkedFramesCount","timeStep","iName","_timeStep","posData","coordIdx","secondaryArr","hiWord","loWord","_secondaryData","_currFrame","myResidues","sec","oldSec","nSec","compRes","getSec","frameIdx","_cachedResidues","_updateSecondary","_parseBuffer","vec","_vec","SceneObject","_createSuper$7","_isNativeReflectConstruct$7","LinesObj","_SceneObject","_params","_id1","_id2","getAtomByFullname","_atom1","_getAtomFromName","_atom2","_line","computeLineDistances","_raycaster","_intersects","verticesNeedUpdate","_createSuper$6","_isNativeReflectConstruct$6","OutlineMaterial","srcDepthTex","srcTexSize","DEPTH_OUTLINE","_createSuper$5","_isNativeReflectConstruct$5","FXAAMaterial","bgTransparent","BG_TRANSPARENT","_createSuper$4","_isNativeReflectConstruct$4","_samplesKernel","AOMaterial","diffuseTexture","normalTexture","depthTexture","camNearFar","projMatrix","kernelRadius","depthThreshold","_createSuper$3","_isNativeReflectConstruct$3","_kernelOffsets$1","AOHorBlurMaterial","aoMap","samplesOffsets","_createSuper$2","_isNativeReflectConstruct$2","_kernelOffsets","AOVertBlurWithBlendMaterial","fogNearFar","useFog","_createSuper$1","_isNativeReflectConstruct$1","AnaglyphMaterial","srcL","srcR","View","orientation","ViewInterpolator","startView","endView","_endTime","_isPaused","_srcView","_dstView","_isMoving","transTime","_transitionTime","wasStarted","success","createView","slerp","setup","getCurrentView","Cookies","createWebVRButton","webVRPoC","stylizeElement","bottom","padding","border","font","xr","isSessionSupported","supported","cursor","currentSession","onSessionEnded","onSessionStarted","session","_gfx","setReferenceSpaceType","setSession","onmouseenter","onmouseleave","onclick","requestSession","optionalFeatures","moveSceneBehindHeadset","showEnterVR","showWebXRNotFound","textDecoration","removeCookie","cntKey","_toCount","cntVal","_getSimpleCookie","_removeSimpleCookie","setCookie","chunkLen","lc","_chunkString","_setSimpleCookie","getCookie","cookie","_getExpirationDate","today","setFullYear","toUTCString","_exists","MiewEvents","WebVRPoC","onToggle","_mainCamera","_button","_onToggle","_molContainer","_user","_scalingPivot","_controller1","_controller2","_pressedGripsCounter","_distance","startScalingByControllers","stopScalingByControllers","_mainFog","_plugVRNodesIntoScene","_setControllersListeners","getController","_createControllerMesh","handleGripsDown","handleGripsUp","_this$_gfx","setAnimationLoop","getSession","_unplugVRNodesFromScene","CylinderGeometry","cylinder","rotateX","scaler","_createSuper","_isNativeReflectConstruct","EDIT_MODE","LOADER_NOT_FOUND","removeExtension","reportProgress","percent","chooseFogColor","_setContainerContents","arezSpritesSupported","getExtension","isAOSupported","rePdbId","rePubchem","reUrlScheme","_fetchData","job","shouldCancel","notify","FETCHING","matchesPdbId","_matchesPdbId","_matchesPdbId$","sourceType","matchesPubchem","compound","resolveSourceShortcut","TheLoader","extractName","_utils$splitFileName2","fileExt","defaults$2","TheParser","_TheParser","updateBinaryMode","newOptions","keyCount","loader","lengthComputable","total","loaded","FETCHING_DONE","catch","_includesInCurSelection","_includesInSelector","settingsCookie","_interpolator","_containerRoot","_running","_halting","_building","_needRender","_hotKeysEnabled","_cookies","_spinner","_loading","_animInterval","_visuals","_curVisualName","_sourceWindow","registeredPlugins","_initOnSettingsChanged","shadowMatrix","OBB","halfSize","_bSphereForOneVisual","_bBoxForOneVisual","_bBox","_invMatrix","_points","_anaglyphMat","_size","aberration","_outlineMaterial","minFilter","magFilter","RGBAFormat","light","getOBB","_msgMode","_msgAtomInfo","_showMessage","_initGfx","_initListeners","_onKeyDown","_onKeyUp","_objectControls","_getAltObj","_updateShadowCamera","ZOOM","TRANSFORM","_picker","_onPick","keepRepsInfo","cancel","clientHeight","webGLOptions","preserveDrawingBuffer","premultipliedAlpha","renderer2d","WebGL1Renderer","shadowMap","autoUpdate","PCFShadowMap","getContext","setPixelRatio","devicePixelRatio","setSize","setClearColor","clearColor","stereoCam","Fog","selectionScene","selectionRoot","selectionPivot","light12","DirectionalLight","pixelRatio","getPixelRatio","shadowMapSize","mapSize","light3","AmbientLight","deviceWidth","deviceHeight","offscreenBuf","WebGLRenderTarget","depthBuffer","DepthTexture","UnsignedShortType","offscreenBuf2","offscreenBuf3","offscreenBuf4","volBFTex","volFFTex","volWFFTex","offscreenBuf5","FloatType","offscreenBuf6","offscreenBuf7","stereoBufL","stereoBufR","_showCanvas","_embedWebXR","stats","_fps","baseName","random","suffix","_makeUniqueVisualName","any","_forEachVisual","resume","_requestAnimationFrame","_onTick","_discardComponentEdit","_discardFragmentEdit","pause","RESIZE","isAnaglyph","multi","_onUpdate","_onRender","_this4","union","_setUberMaterialValues","updateFogRange","_getBSphereRadius","_needRebuild","rebuild","_updateView","_updateFog","webVR","updateMoleculeScale","_clipPlaneUpdateValue","_fogFarUpdateValue","setRenderTarget","_renderFrame","_resizeOffscreenBuffers","_renderShadowMap","_renderScene","setScissorTest","setScissor","cameraL","cameraR","renderBuffer","textureBuffer","gl","tx8","__webglTexture","bindTexture","TEXTURE_2D","fb","__webglFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","COLOR_ATTACHMENT1_WEBGL","drawBuffersWEBGL","distortion","volumeVisual","_getVolumeVisual","ssao","_enableMRT","_renderWithPrepassTransparency","dstBuffer","srcBuffer","_performAO","_renderOutline","_renderSelection","_renderVolume","_performFXAA","_performDistortion","targetBuffer","srcDepthBuffer","srcColorBuffer","currentRenderTarget","getRenderTarget","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","setBlending","NoBlending","buffers","setClear","setTest","updateMatrices","selPivot","_hasSelectionToRender","renderTarget","oldRT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","dstBuf","tmpBuf1","tmpBuf2","tmpBuf3","volumeRenderingSupported","volumeBFMat","volumeFFMat","cubeOffsetMat","world2colorMat","_checkVolumeRenderingSupport","overrideMaterial","colorMask","_fxaaMaterial","normalBuffer","srcDepthTexture","tempBuffer","tempBuffer1","_aoMaterial","_horBlurMaterial","_vertBlurMaterial","_scale","_lastPick","_releaseAllVisuals","_setEditMode","_resetObjects","resetReps","resetPivot","_resetScene","updateSelectionMask","TheExporter","EXPORTING","export","_this5","LOADING","onLoadEnd","anything","jobIndex","_refreshTitle","LOADING_DONE","PARSING","dataSet","PARSING_DONE","_parseData","_onLoad","_removeVisual","fileData","_stopAnimation","_frameInfo","MD_PLAYER_STATE_CHANGED","isPlaying","_isAnimating","_continueAnimation","clearInterval","minFrameTime","setInterval","_updateObjsToFrame","nextFrame","disableEvents","visualName","_startAnimation","amberFileName","_addVisual","hasValidRes","hasValidResidues","resetEd","_onLoadEd","_tweakResolution","_edLoader","_this6","toRemove","getGeometry","unitIdx","currentUnitInfo","getCurrentUnit","_updateInfoPanel","_this7","REBUILDING","_rebuildObjects","rebuildActions","BUILDING_DONE","setNeedsRebuild","appendix","TITLE_CHANGED","_this8","getSelectionCount","defPreset","REP_ADDED","presList","_setReps","applyPreset","newIdx","REP_CHANGED","REP_REMOVED","repHide","_editMode","getElementsByTagName","EDIT_MODE_CHANGED","editors","beginComponentEdit","_editors","discard","selectedVisuals","beginFragmentEdit","isFreeRotationAllowed","_getVisualForComplex","_updateSelection","_enterComponentEditMode","_enterFragmentEditMode","_applyComponentEdit","_applyFragmentEdit","expandSelection","shrinkSelection","_extractRepresentation","firstLine","secondLine","aName","coordLine","nextAltObj","amount","_centerInVisual","getSelectionCenter","screenshotURI","getDataURL","dataURL","canvas","canvasContext","drawImage","toDataURL","areaOfInterestTanFov2","shotAspect","setDrawingBufferSize","uri","_this9","_export","dataString","EXPORTING_DONE","maxPerf","_gfxScore","_autoChangeResolution","resetCurrentUnit","objData","bThrow","Ctor","_addSceneObject","sceneObject","getState","compact","compareWithDefaults","currPreset","repsDiff","emptyReps","repsInfo","_compareReps","objectsState","setMaterialValues","_this10","disable","_this11","_onBgColorChanged","_onFogColorChanged","_updateMaterials","_updateShadowmapMeshes","_fogAlphaChanged","euler","Euler","setFromQuaternion","srcView","dstView","setFromEuler","isMoving","setPivotSubset","setPivotAtom","setPivotResidue","fullAtomName","complexName","project","extractBasis","retMat","makeBasis","extractRotation","xml","removeAttribute","sGroup","getPosition","getCentralPoint","updateCMLData","XMLSerializer","serializeToString","curChainName","curChainColor"],"mappings":"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GACAA,iBACAA,0BACA,MACF,OACElhB,KAAA,EAASkhB,OAAT,UACA,MACF,OACElhB,KAAA,EAASkhB,OAAT,aACAA,iBACA,MACF,OACElhB,KAAA,EAASkhB,OAAQA,eAAjB,YACA,MACF,OACElhB,KAAA,EAASkhB,OAAQA,aAAcqL,EAAdrL,IAAjB,YACA,MACF,OACElhB,KAAA,EAASkhB,OAAT,OACA,MACF,QACA,QACElhB,KAAA,EAASkhB,sBAAuBqL,EAAhC,IACArL,OAAQA,WAAYqL,EAAZrL,IAARA,YACA,MACF,QACA,QACElhB,KAAA,EAASkhB,WACPqL,EAAGE,EADIvL,GAEPA,sBAAuBqL,EAAGE,EAA1BvL,GAAmCqL,EAFrC,KAIA,MACF,QACEvsB,KAAA,EAASkhB,OAAT,eACA,MACF,QACElhB,KAAA,EAASkhB,OAAT,kBACA,MACF,QACElhB,KAAA,EAASkhB,OAAT,gBACA,MACF,QACElhB,KAAA,EAASkhB,OAAT,YACA,MACF,QACElhB,KAAA,EAASkhB,mBAAoBqL,EAA7B,IACA,MACF,QACEvsB,KAAA,EAASkhB,iBAAkBqL,EAA3B,IACArL,yBAA0BqL,EAA1BrL,IACA,MACF,QACElhB,KAAA,EAASkhB,eAAgBqL,EAAzB,IACA,MACF,QACEvsB,KAAA,EAASkhB,eAAgBqL,EAAhBrL,IAAT,GACA,MACF,QACElhB,KAAA,EAASkhB,OACPA,gBAAiBA,EAAjBA,KAA0BA,EAA1BA,gBAA8CqL,EAA9CrL,GADF,OAGA,MACF,QACElhB,KAAA,EAASkhB,OAAQA,aAAcA,EAAdA,KAAuBA,EAAxC,kBACA,MACF,QACElhB,KAAA,EAASkhB,OAAQA,aAAcA,EAAdA,KAAuBA,EAAvBA,gBAA2CqL,EAA5D,KACA,MACF,QACEvsB,KAAA,EAASkhB,OAAQA,qBAAsBA,EAAtBA,KAA+BA,EAAhD,UACA,MACF,QACElhB,KAAA,EAASkhB,cACPA,iBAAkBqL,EAAGE,EAAHF,GAAlBrL,cAA4CqL,EAA5CrL,IADF,IAGA,MACF,QACElhB,KAAA,EAASkhB,UAAWqL,KAAXrL,eAA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AAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAEric,IAAIC,GAAY,CAAC,EAAK,IAAO,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAM,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,GAAM,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAO,IAAM,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAM,IAAO,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAM,KAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,GAAM,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAO,IAAM,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAM,IAAO,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,GAAM,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,KAAO,IAAM,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAO,IAAM,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAM,IAAO,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,GAAM,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAM,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAA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","file":"demo.ed66dbc319cefdd61af2.js","sourcesContent":["import $ from 'jquery'\r\nimport _ from 'lodash'\r\nimport { Miew } from 'miew'\r\nimport menuHtml from '../../menu.html'\r\nimport 'bootstrap'\r\nimport 'bootstrap-switch'\r\nimport 'jquery.terminal'\r\n\r\nconst {\r\n  chem: { selectors },\r\n  io: { parsers },\r\n  gfx: { Representation },\r\n  modes,\r\n  colorers,\r\n  palettes,\r\n  materials,\r\n  settings,\r\n  utils\r\n} = Miew\r\n\r\nconst { createElement, hexColor } = utils\r\n\r\nfunction stringColorToHex(color) {\r\n  const hexString = `0x${color.substr(-6)}`\r\n  return parseInt(hexString, 16)\r\n}\r\n\r\nfunction unarray(x) {\r\n  if (x instanceof Array) {\r\n    x = x[0]\r\n  }\r\n  return x\r\n}\r\n\r\nfunction hasComplex(viewer) {\r\n  let bHaveComplexes = false\r\n  viewer._forEachComplexVisual(() => {\r\n    bHaveComplexes = true\r\n  })\r\n  return bHaveComplexes\r\n}\r\n\r\nfunction getNumAtomsBySelector(viewer, selector) {\r\n  const visual = viewer._getComplexVisual()\r\n  return visual ? visual.getComplex().getNumAtomsBySelector(selector) : -1\r\n}\r\n\r\nfunction Menu(/** Node */ container, /** Miew */ viewer) {\r\n  // Add proper DOM elements\r\n  _.forEach($.parseHTML(menuHtml), (element) =>\r\n    container.parentNode.appendChild(element)\r\n  )\r\n\r\n  // Save some objects for future reference\r\n  this._viewer = viewer\r\n  this._menuId = '#miew-menu'\r\n  this._titlebar = $(`${this._menuId} .titlebar`)\r\n  this._menu = $(`${this._menuId} .main-menu`)\r\n  this._curPanelID = 'miew-menu-panel-info'\r\n  this._curMenuItem = 'miew-menu-panel-info'\r\n  this._xs = false\r\n  this._curReprIdx = 0\r\n\r\n  this._menu.find('.PACKAGE_VERSION').text(Miew.VERSION)\r\n\r\n  // FIX ME!\r\n  this._singleWordsPrimary = [\r\n    'all',\r\n    'none',\r\n    'water',\r\n    'hetatm',\r\n    'protein',\r\n    'basic',\r\n    'acidic',\r\n    'charged',\r\n    'polar',\r\n    'nonpolar',\r\n    'aromatic',\r\n    'nucleic',\r\n    'purine',\r\n    'pyrimidine',\r\n    'polarh',\r\n    'nonpolarh'\r\n  ]\r\n  this._singleWords = [\r\n    'all',\r\n    'none',\r\n    'water',\r\n    'hetatm',\r\n    'protein',\r\n    'basic',\r\n    'acidic',\r\n    'charged',\r\n    'polar',\r\n    'nonpolar',\r\n    'aromatic',\r\n    'nucleic',\r\n    'purine',\r\n    'pyrimidine',\r\n    'polarh',\r\n    'nonpolarh'\r\n  ]\r\n  this._keyWordsPrimary = [\r\n    'serial',\r\n    'name',\r\n    'elem',\r\n    'residue',\r\n    'sequence',\r\n    'chain',\r\n    'altloc'\r\n  ]\r\n\r\n  this._init()\r\n  this._initializeTerminal()\r\n}\r\n\r\nMenu.prototype._initializeTerminal = function () {\r\n  const self = this\r\n  let res = null\r\n  let urlSubString = ''\r\n  const element = $(\r\n    '#miew-menu [data-btn-type=miew-menu-btn-browse-file] input'\r\n  )\r\n\r\n  function onChangeEventListener() {\r\n    if ($(element).val()) {\r\n      const { files } = $(element)[0]\r\n      if (files.length > 0) {\r\n        let opts\r\n        if (res !== null) {\r\n          opts = { mdFile: res[1] }\r\n        }\r\n        self._viewer.load(files[0], opts)\r\n      }\r\n    }\r\n    urlSubString = ''\r\n    $(element).val('')\r\n  }\r\n\r\n  element.change(onChangeEventListener)\r\n\r\n  this._terminal = $(`${this._menuId} .miew-terminal`)\r\n  this._terminalWindow = this._terminal.find('.terminal-window')\r\n  this._terminalWindow.on('click', () => this._hideToolbarPanel())\r\n  this._term = this._terminalWindow.terminal(\r\n    (command, term) => {\r\n      if (self._viewer) {\r\n        command = command.trim()\r\n        const loadStr = command.split(/\\s+/)\r\n\r\n        if (loadStr[0] === 'load' && loadStr[1] === '-f') {\r\n          urlSubString = command.substr(command.indexOf('-f') + 2)\r\n          res = urlSubString.match(/(?:\"([^\"]*)\"|'([^']*)')/)\r\n          if (urlSubString !== '') {\r\n            if (\r\n              res !== null &&\r\n              res[0] === urlSubString.trim() &&\r\n              res[1].indexOf('.nc') === res[1].length - 3\r\n            ) {\r\n              element.click()\r\n            } else {\r\n              term.error(\r\n                'You can use only URL string to *.nc file to determine trajectory'\r\n              )\r\n            }\r\n          } else {\r\n            res = null\r\n            element.click()\r\n          }\r\n        } else {\r\n          self._viewer.script(\r\n            command,\r\n            (str) => {\r\n              term.echo(str)\r\n            },\r\n            (str) => {\r\n              term.error(str)\r\n            }\r\n          )\r\n        }\r\n      } else {\r\n        term.error('Miew is not initialized.')\r\n      }\r\n    },\r\n    {\r\n      greetings:\r\n        'Miew - 3D Molecular Viewer\\nCopyright  2015-2022 EPAM Systems, Inc.\\n',\r\n      prompt: 'miew> ',\r\n      name: 'miew',\r\n      scrollOnEcho: true,\r\n      height: '100%',\r\n      keydown(event, _term) {\r\n        if (event.keyCode === 192) {\r\n          // skip '~'\r\n          return false\r\n        }\r\n\r\n        return undefined\r\n      },\r\n      onInit(term) {\r\n        if (self._viewer) {\r\n          const colors = {\r\n            error: '#f00',\r\n            warn: '#990',\r\n            report: '#1a9cb0'\r\n          }\r\n          const onLogMessage = function (e) {\r\n            const msg = e.message.replaceAll('[', '(').replaceAll(']', ')') // temp workaround for https://github.com/jcubic/jquery.terminal/issues/470\r\n            term.echo(`[[b;${colors[e.level] || '#666'};]${msg}]`)\r\n          }\r\n          self._viewer.logger.addEventListener('message', onLogMessage)\r\n        }\r\n      }\r\n    }\r\n  )\r\n}\r\n\r\nMenu.prototype._fillSelectionColorCombo = function (paletteID) {\r\n  const self = this\r\n  const frag = document.createDocumentFragment()\r\n  const palette = palettes.get(paletteID) || palettes.first\r\n  const colorList = palette.namedColorsArray\r\n\r\n  const comboboxPanel = $(\r\n    `${self._menuId} [data-panel-type=miew-menu-panel-select-color]`\r\n  )\r\n  for (let i = 0, n = colorList.length; i < n; i++) {\r\n    const color = hexColor(colorList[i][1])\r\n    const newItem = createElement(\r\n      'div',\r\n      {\r\n        class: 'col-xs-2 col-sm-2',\r\n        'data-toggle': 'selectcolor',\r\n        'data-value': color\r\n      },\r\n      [\r\n        createElement(\r\n          'a',\r\n          {\r\n            href: '#',\r\n            class: 'thumbnail',\r\n            style: 'text-align:center;'\r\n          },\r\n          createElement('img', {\r\n            src: 'images/empty_icon.png',\r\n            style: `background-color: ${color};`,\r\n            'data-tooltip': 'tooltip',\r\n            'data-placement': 'bottom',\r\n            title: colorList[i][0]\r\n          })\r\n        )\r\n      ]\r\n    )\r\n    frag.appendChild(newItem)\r\n  }\r\n  $(comboboxPanel.get(0).lastElementChild.firstElementChild).empty()\r\n  comboboxPanel.get(0).lastElementChild.firstElementChild.appendChild(frag)\r\n\r\n  $(`${self._menuId} [data-toggle=selectcolor]`).on(\r\n    'click',\r\n    /** @this HTMLSelectElement */ function () {\r\n      const prevActive = self._getCurReprPropertyId(\r\n        'miew-menu-panel-select-color'\r\n      )\r\n      $(`${self._menuId} [data-value=\"${prevActive}\"]`).removeClass('active')\r\n      comboboxPanel.get(0).firstElementChild.firstElementChild.click()\r\n      const elements = $(\r\n        `${self._menuId} [data-panel-type=miew-menu-panel-representation] .miew-repr-list ` +\r\n          `.panel.valid:eq(${self._curReprIdx}) [data-value=miew-menu-panel-select-color]`\r\n      )\r\n      const newColor = this.getAttribute('data-value')\r\n      elements[0].lastChild.firstElementChild.setAttribute('data-id', newColor)\r\n      elements[0].lastChild.firstElementChild.firstElementChild.style.backgroundColor =\r\n        newColor\r\n    }\r\n  )\r\n\r\n  comboboxPanel\r\n    .find('.panel-heading:first-of-type button:first-of-type')\r\n    .on('click', () => {\r\n      const activeItem = self._getCurReprPropertyId(\r\n        'miew-menu-panel-select-color'\r\n      )\r\n      $(\r\n        `${self._menuId} [data-toggle=selectcolor][data-value=\"${activeItem}\"]`\r\n      ).removeClass('active')\r\n    })\r\n}\r\n\r\nMenu.prototype._fillCombo = function (type, name, path, entityList) {\r\n  const self = this\r\n  const frag = document.createDocumentFragment()\r\n  let newItem\r\n\r\n  const comboboxPanel = $(`${self._menuId} [data-panel-type=${type}]`).get(0)\r\n  const list = entityList.all\r\n  for (let i = 0, n = list.length; i < n; i++) {\r\n    let entry = list[i]\r\n    entry = entry.prototype || entry // entry may be Class or Object\r\n    newItem = createElement(\r\n      'a',\r\n      {\r\n        href: '#',\r\n        class: 'list-group-item',\r\n        'data-toggle': name,\r\n        'data-value': entry.id\r\n      },\r\n      [\r\n        createElement(\r\n          'div',\r\n          { class: 'media-left' },\r\n          createElement('img', {\r\n            class: 'media-object',\r\n            src: `images/${name}/${entry.id}.png`,\r\n            width: '48',\r\n            height: '48'\r\n          })\r\n        ),\r\n        createElement(\r\n          'div',\r\n          {\r\n            class: 'media-body media-middle'\r\n          },\r\n          entry.name\r\n        )\r\n      ]\r\n    )\r\n    frag.appendChild(newItem)\r\n  }\r\n  comboboxPanel.lastElementChild.firstElementChild.appendChild(frag)\r\n\r\n  $(`${self._menuId} [data-toggle=${name}]`).on(\r\n    'click',\r\n    /** @this HTMLSelectElement */ function () {\r\n      const itemID = this.getAttribute('data-value')\r\n      let prevActive\r\n      if (type === 'miew-menu-panel-palette') {\r\n        prevActive = settings.get(path)\r\n        settings.set(path, itemID)\r\n      } else {\r\n        prevActive = self._getCurReprPropertyId(type)\r\n      }\r\n      $(`${self._menuId} [data-value=\"${prevActive}\"]`).removeClass('active')\r\n      comboboxPanel.firstElementChild.firstElementChild.click()\r\n    }\r\n  )\r\n\r\n  $(`${self._menuId} [data-toggle=combobox-panel][data-value=\"${type}\"]`).on(\r\n    'click',\r\n    /** @this HTMLSelectElement */ () => {\r\n      let activeItem\r\n      if (type === 'miew-menu-panel-palette') {\r\n        activeItem = settings.get(path)\r\n      } else {\r\n        activeItem = self._getCurReprPropertyId(type)\r\n      }\r\n      $(`${self._menuId} a[data-value=\"${activeItem}\"]`).addClass('active')\r\n    }\r\n  )\r\n\r\n  $(\r\n    `${self._menuId} [data-panel-type=${type}] .panel-heading:first-of-type button:first-of-type`\r\n  ).on('click', () => {\r\n    let activeItem\r\n    if (type === 'miew-menu-panel-palette') {\r\n      activeItem = settings.get(path)\r\n    } else {\r\n      activeItem = self._getCurReprPropertyId(type)\r\n    }\r\n    $(`${self._menuId} a[data-value=\"${activeItem}\"]`).removeClass('active')\r\n  })\r\n}\r\n\r\nMenu.prototype._initReprListItemListeners = function (index) {\r\n  const self = this\r\n  const reprList = $(\r\n    `${self._menuId} [data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n  )\r\n\r\n  function onActiveReprChanged(event) {\r\n    const newReprIdx = reprList\r\n      .find('.panel.valid')\r\n      .index($(event.currentTarget).parent())\r\n    const btnSelector = reprList.find(\r\n      `.panel.valid:eq(${newReprIdx}) .panel-heading .btn span`\r\n    )\r\n    if (event.target !== btnSelector[0] && event.target !== btnSelector[1]) {\r\n      let rowSelector = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) .panel-heading`\r\n      )\r\n      rowSelector.removeClass('active')\r\n      rowSelector = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) .panel-collapse`\r\n      )\r\n      rowSelector.collapse('hide')\r\n\r\n      self._curReprIdx = newReprIdx\r\n      rowSelector = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) .panel-heading`\r\n      )\r\n      rowSelector.addClass('active')\r\n      reprList\r\n        .find(`.panel.valid:eq(${self._curReprIdx}) .panel-collapse`)\r\n        .collapse('show')\r\n    }\r\n  }\r\n\r\n  reprList\r\n    .find(`.panel:eq(${index}) .panel-heading`)\r\n    .on('click', onActiveReprChanged)\r\n\r\n  reprList.find(`.panel:eq(${index}) input[type=checkbox]`).bootstrapSwitch()\r\n\r\n  reprList\r\n    .find(`.panel:eq(${index}) .panel-heading .btn-visible`)\r\n    .on('click', () => {\r\n      reprList.find(`.panel:eq(${index}) .panel-heading .btn-visible`).hide()\r\n      reprList.find(`.panel:eq(${index}) .panel-heading .btn-invisible`).show()\r\n    })\r\n\r\n  reprList\r\n    .find(`.panel:eq(${index}) .panel-heading .btn-invisible`)\r\n    .on('click', () => {\r\n      reprList.find(`.panel:eq(${index}) .panel-heading .btn-invisible`).hide()\r\n      reprList.find(`.panel:eq(${index}) .panel-heading .btn-visible`).show()\r\n    })\r\n\r\n  reprList\r\n    .find(`.panel:eq(${index}) [data-toggle=\"combobox-panel\"]`)\r\n    .on('click', function _setComboboxPanel() {\r\n      const selectorHide = self._getPanelSelector(self._curPanelID)\r\n      selectorHide.hide()\r\n\r\n      self._curPanelID = this.getAttribute('data-value')\r\n      const selectorShow = self._getPanelSelector(self._curPanelID)\r\n      selectorShow.show()\r\n\r\n      return false\r\n    })\r\n\r\n  reprList.find(` .panel:eq(${index}) input[type=number]`).on('input', (e) => {\r\n    const spinner = $(e.currentTarget)\r\n\r\n    if (parseFloat(spinner.attr('min')) > parseFloat(spinner.val())) {\r\n      spinner.val(parseFloat(spinner.attr('min')))\r\n      spinner.change()\r\n    }\r\n    if (parseFloat(spinner.attr('max')) < parseFloat(spinner.val())) {\r\n      spinner.val(parseFloat(spinner.attr('max')))\r\n      spinner.change()\r\n    }\r\n  })\r\n\r\n  reprList.find(`.panel:eq(${index}) .spinner-dec-btn`).on('click', (e) => {\r\n    const spinnerType = e.currentTarget.getAttribute('data-value')\r\n    const spinner = reprList.find(\r\n      `.panel:eq(${index}) [data-type=${spinnerType}]`\r\n    )\r\n    if (parseFloat(spinner.attr('min')) < parseFloat(spinner.val())) {\r\n      spinner.val((10 * spinner.val() - 10 * spinner.attr('step')) / 10)\r\n      spinner.change()\r\n    }\r\n  })\r\n\r\n  reprList.find(`.panel:eq(${index}) .spinner-inc-btn`).on('click', (e) => {\r\n    const spinnerType = e.currentTarget.getAttribute('data-value')\r\n    const spinner = reprList.find(\r\n      `.panel:eq(${index}) [data-type=${spinnerType}]`\r\n    )\r\n    if (parseFloat(spinner.attr('max')) > parseFloat(spinner.val())) {\r\n      spinner.val((10 * spinner.val() + 10 * spinner.attr('step')) / 10)\r\n      spinner.change()\r\n    }\r\n  })\r\n  // FIX ME!!\r\n  reprList\r\n    .find(\r\n      `.panel:eq(${index}) [data-toggle=combobox-panel][data-value=miew-menu-panel-mode]`\r\n    )\r\n    .on('click', function () {\r\n      const activeItem =\r\n        this.firstElementChild.firstElementChild.getAttribute('data-id')\r\n      $(\r\n        `${self._menuId} a[data-value=\"${activeItem}\"][data-toggle=mode]`\r\n      ).addClass('active')\r\n    })\r\n  reprList\r\n    .find(\r\n      `.panel:eq(${index}) [data-toggle=combobox-panel][data-value=miew-menu-panel-color]`\r\n    )\r\n    .on('click', function () {\r\n      const activeItem =\r\n        this.firstElementChild.firstElementChild.getAttribute('data-id')\r\n      $(\r\n        `${self._menuId} a[data-value=\"${activeItem}\"][data-toggle=colorer]`\r\n      ).addClass('active')\r\n    })\r\n  reprList\r\n    .find(\r\n      `.panel:eq(${index}) [data-toggle=combobox-panel][data-value=miew-menu-panel-matpreset]`\r\n    )\r\n    .on('click', function () {\r\n      const activeItem =\r\n        this.firstElementChild.firstElementChild.getAttribute('data-id')\r\n      $(`${self._menuId} a[data-value=\"${activeItem}\"]`).addClass('active')\r\n    })\r\n\r\n  reprList\r\n    .find(\r\n      `.panel:eq(${index}) [data-toggle=combobox-panel][data-value=miew-menu-panel-select-color]`\r\n    )\r\n    .on('click', function () {\r\n      const activeItem =\r\n        this.lastChild.firstElementChild.getAttribute('data-id')\r\n      $(\r\n        `${self._menuId} [data-toggle=selectcolor][data-value=\"${activeItem}\"]`\r\n      ).addClass('active')\r\n    })\r\n\r\n  reprList\r\n    .find(\r\n      `.panel:eq(${index}) [data-toggle=combobox-panel][data-value=miew-menu-panel-selection]`\r\n    )\r\n    .on('click', () => {\r\n      const element = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) [data-value=miew-menu-panel-selection]`\r\n      )\r\n      const selectionPanel = $(\r\n        `${self._menuId} [data-panel-type=miew-menu-panel-selection]`\r\n      )\r\n      selectionPanel\r\n        .find('input')\r\n        .val(`${element[0].firstElementChild.firstElementChild.textContent} `)\r\n      selectionPanel\r\n        .find('.nav-tabs a[href=\"[data-tab-content=singleword]\"]')\r\n        .tab('show')\r\n      self._onSelectorChanged(selectionPanel)\r\n    })\r\n}\r\n\r\nMenu.prototype._addReprListItem = function (panel, index, repr) {\r\n  const self = this\r\n  const reprList = $(\r\n    `${self._menuId} [data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n  )\r\n  const validReprN = reprList.find('.panel.valid').length\r\n  const newItem = createElement(\r\n    'div',\r\n    {\r\n      class: 'panel panel-default valid'\r\n    },\r\n    [\r\n      createElement(\r\n        'div',\r\n        {\r\n          class: 'panel-heading',\r\n          role: 'tab'\r\n        },\r\n        createElement('h4', { class: 'panel-title' }, [\r\n          createElement(\r\n            'button',\r\n            { class: 'btn btn-default btn-invisible' },\r\n            createElement('span', { class: 'glyphicon glyphicon-unchecked' })\r\n          ),\r\n          createElement(\r\n            'button',\r\n            { class: 'btn btn-default btn-visible' },\r\n            createElement('span', { class: 'glyphicon glyphicon-check' })\r\n          ),\r\n          createElement(\r\n            'a',\r\n            {\r\n              role: 'button',\r\n              'data-toggle': 'collapse',\r\n              'data-parent':\r\n                '.panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list',\r\n              href: `#repr${index + 1}`,\r\n              'aria-expanded': 'true',\r\n              'aria-controls': `[data-number=repr-${String(index + 1)}]`\r\n            },\r\n            `#${String(validReprN + 1)}: ${repr.mode.name}`\r\n          ),\r\n          createElement(\r\n            'div',\r\n            { class: 'pseudo-div' },\r\n            createElement(\r\n              'span',\r\n              { class: 'pull-right badge' },\r\n              String(\r\n                hasComplex(this._viewer)\r\n                  ? getNumAtomsBySelector(self._viewer, repr.selector)\r\n                  : '0'\r\n              )\r\n            )\r\n          )\r\n        ])\r\n      ),\r\n      createElement(\r\n        'div',\r\n        {\r\n          'data-number': `repr-${String(index + 1)}`,\r\n          class: 'panel-collapse collapse',\r\n          role: 'tabpanel',\r\n          'aria-labelledby': `head-repr-${String(index + 1)}`\r\n        },\r\n        createElement('ul', { class: 'list-group row' }, [\r\n          createElement(\r\n            'li',\r\n            {\r\n              class: 'list-group-item col-xs-12 col-sm-12',\r\n              'data-toggle': 'combobox-panel',\r\n              'data-value': 'miew-menu-panel-selection'\r\n            },\r\n            [\r\n              'Selection',\r\n              createElement('span', { class: 'pull-right' }, [\r\n                createElement(\r\n                  'label',\r\n                  {\r\n                    class: 'text-muted',\r\n                    'data-type': 'selection-target',\r\n                    style: 'word-break: break-all'\r\n                  },\r\n                  String(repr.selector)\r\n                ),\r\n                createElement('span', {\r\n                  class: 'glyphicon glyphicon-menu-right'\r\n                })\r\n              ])\r\n            ]\r\n          ),\r\n\r\n          createElement(\r\n            'li',\r\n            {\r\n              class: 'list-group-item col-xs-12 col-sm-12',\r\n              'data-toggle': 'combobox-panel',\r\n              'data-value': 'miew-menu-panel-mode'\r\n            },\r\n            [\r\n              'Mode',\r\n              createElement('span', { class: 'pull-right' }, [\r\n                createElement(\r\n                  'span',\r\n                  {\r\n                    class: 'text-muted',\r\n                    'data-id': repr.mode.id\r\n                  },\r\n                  repr.mode.shortName\r\n                ),\r\n                createElement('span', {\r\n                  class: 'glyphicon glyphicon-menu-right'\r\n                })\r\n              ])\r\n            ]\r\n          ),\r\n\r\n          createElement(\r\n            'li',\r\n            {\r\n              class: 'list-group-item col-xs-12 col-sm-12',\r\n              'data-toggle': 'combobox-panel',\r\n              'data-value': 'miew-menu-panel-color'\r\n            },\r\n            [\r\n              'Color',\r\n              createElement('span', { class: 'pull-right' }, [\r\n                createElement(\r\n                  'span',\r\n                  {\r\n                    class: 'text-muted',\r\n                    'data-id': repr.colorer.id\r\n                  },\r\n                  repr.colorer.shortName\r\n                ),\r\n                createElement('span', {\r\n                  class: 'glyphicon glyphicon-menu-right'\r\n                })\r\n              ])\r\n            ]\r\n          ),\r\n\r\n          createElement(\r\n            'li',\r\n            {\r\n              class: 'list-group-item col-xs-12 col-sm-12',\r\n              'data-toggle': 'combobox-panel',\r\n              'data-value': 'miew-menu-panel-select-color'\r\n            },\r\n            [\r\n              createElement('span', {}, 'Color name'),\r\n              createElement('span', { class: 'pull-right' }, [\r\n                createElement(\r\n                  'a',\r\n                  {\r\n                    href: '#ucolor',\r\n                    class: 'thumbnail',\r\n                    'data-id': hexColor(0xffffff)\r\n                  },\r\n                  createElement('img', {\r\n                    src: 'images/empty_icon.png',\r\n                    style: `background-color: ${hexColor(0xffffff)};`\r\n                  })\r\n                ),\r\n                createElement('span', {\r\n                  class: 'glyphicon glyphicon-menu-right'\r\n                })\r\n              ])\r\n            ]\r\n          ),\r\n\r\n          createElement(\r\n            'li',\r\n            {\r\n              class: 'list-group-item col-xs-12 col-sm-12',\r\n              'data-toggle': 'combobox-panel',\r\n              'data-value': 'miew-menu-panel-matpreset'\r\n            },\r\n            [\r\n              'Material',\r\n              createElement('span', { class: 'pull-right' }, [\r\n                createElement(\r\n                  'span',\r\n                  {\r\n                    class: 'text-muted',\r\n                    'data-id': repr.materialPreset.id\r\n                  },\r\n                  repr.materialPreset.shortName\r\n                ),\r\n                createElement('span', {\r\n                  class: 'glyphicon glyphicon-menu-right'\r\n                })\r\n              ])\r\n            ]\r\n          ),\r\n          createElement(\r\n            'li',\r\n            {\r\n              class: 'list-group-item col-xs-12 col-sm-12',\r\n              'data-type': 'surf-param-rad'\r\n            },\r\n            [\r\n              'Radius scale',\r\n              createElement('span', { class: 'input-group pull-right' }, [\r\n                createElement(\r\n                  'span',\r\n                  {\r\n                    class: 'input-group-addon spinner-dec-btn',\r\n                    'data-toggle': 'spinner',\r\n                    'data-value': 'rad'\r\n                  },\r\n                  createElement('span', { class: 'glyphicon glyphicon-minus' })\r\n                ),\r\n                createElement('input', {\r\n                  type: 'number',\r\n                  class: 'form-control',\r\n                  'data-type': 'rad',\r\n                  value: '1.0',\r\n                  min: '0',\r\n                  max: '2',\r\n                  step: '0.1'\r\n                }),\r\n                createElement(\r\n                  'span',\r\n                  {\r\n                    class: 'input-group-addon spinner-inc-btn',\r\n                    'data-toggle': 'spinner',\r\n                    'data-value': 'rad'\r\n                  },\r\n                  createElement('span', { class: 'glyphicon glyphicon-plus' })\r\n                )\r\n              ])\r\n            ]\r\n          ),\r\n          createElement(\r\n            'li',\r\n            {\r\n              class: 'list-group-item col-xs-12 col-sm-12',\r\n              'data-type': 'surf-param-iso'\r\n            },\r\n            [\r\n              'Isosurface threshold',\r\n              createElement('span', { class: 'input-group pull-right' }, [\r\n                createElement(\r\n                  'span',\r\n                  {\r\n                    class: 'input-group-addon spinner-dec-btn',\r\n                    'data-toggle': 'spinner',\r\n                    'data-value': 'iso'\r\n                  },\r\n                  createElement('span', { class: 'glyphicon glyphicon-minus' })\r\n                ),\r\n                createElement('input', {\r\n                  type: 'number',\r\n                  class: 'form-control',\r\n                  'data-type': 'iso',\r\n                  value: '0.5',\r\n                  min: '0',\r\n                  max: '10',\r\n                  step: '0.5'\r\n                }),\r\n                createElement(\r\n                  'span',\r\n                  {\r\n                    class: 'input-group-addon spinner-inc-btn',\r\n                    'data-toggle': 'spinner',\r\n                    'data-value': 'iso'\r\n                  },\r\n                  createElement('span', { class: 'glyphicon glyphicon-plus' })\r\n                )\r\n              ])\r\n            ]\r\n          ),\r\n          createElement(\r\n            'li',\r\n            {\r\n              class: 'list-group-item col-xs-12 col-sm-12',\r\n              'data-type': 'surf-param-zclip'\r\n            },\r\n            [\r\n              createElement('label', {}, 'Z clipping'),\r\n              createElement(\r\n                'span',\r\n                { class: 'pull-right' },\r\n                createElement('input', {\r\n                  type: 'checkbox',\r\n                  'data-dir': 'representation',\r\n                  'data-toggle': 'zClip',\r\n                  'data-size': 'mini',\r\n                  title: 'Z clipping'\r\n                })\r\n              )\r\n            ]\r\n          )\r\n        ])\r\n      )\r\n    ]\r\n  )\r\n  panel.appendChild(newItem)\r\n  if (\r\n    repr.mode.id === 'SA' ||\r\n    repr.mode.id === 'SE' ||\r\n    repr.mode.id === 'QS' ||\r\n    repr.mode.id === 'CS'\r\n  ) {\r\n    reprList\r\n      .find(`.panel:eq(${index}) .panel-collapse [data-type=surf-param-zclip]`)\r\n      .show()\r\n  } else {\r\n    reprList\r\n      .find(`.panel:eq(${index}) .panel-collapse [data-type=surf-param-zclip]`)\r\n      .hide()\r\n  }\r\n\r\n  if (repr.mode.id === 'QS') {\r\n    reprList\r\n      .find(`.panel:eq(${index}) .panel-collapse [data-type=surf-param-rad]`)\r\n      .show()\r\n  } else {\r\n    reprList\r\n      .find(`.panel:eq(${index}) .panel-collapse [data-type=surf-param-rad]`)\r\n      .hide()\r\n  }\r\n\r\n  if (repr.mode.id === 'QS' || repr.mode.id === 'CS') {\r\n    reprList\r\n      .find(`.panel:eq(${index}) .panel-collapse [data-type=surf-param-iso]`)\r\n      .show()\r\n  } else {\r\n    reprList\r\n      .find(`.panel:eq(${index}) .panel-collapse [data-type=surf-param-iso]`)\r\n      .hide()\r\n  }\r\n\r\n  if (repr.colorer.id === 'UN' || repr.colorer.id === 'CB') {\r\n    const ucSelector = reprList.find(\r\n      `.panel:eq(${index}) [data-value=miew-menu-panel-select-color]`\r\n    )\r\n    const ucColor = hexColor(repr.colorer.opts.color)\r\n    ucSelector[0].firstElementChild.innerHTML = `${repr.colorer.name} color`\r\n    ucSelector[0].lastChild.firstElementChild.setAttribute('data-id', ucColor)\r\n    ucSelector[0].lastChild.firstElementChild.firstElementChild.style.backgroundColor =\r\n      ucColor\r\n    ucSelector.show()\r\n  } else {\r\n    reprList\r\n      .find(`.panel:eq(${index}) [data-value=miew-menu-panel-select-color]`)\r\n      .hide()\r\n  }\r\n\r\n  reprList\r\n    .find(`.panel:eq(${index}) input[type=checkbox]`)\r\n    .bootstrapSwitch('state', repr.mode.opts.zClip)\r\n  reprList.find(`.panel:eq(${index}) [data-type=rad]`).val(repr.mode.opts.scale)\r\n  reprList\r\n    .find(`.panel:eq(${index}) [data-type=iso]`)\r\n    .val(repr.mode.opts.isoValue)\r\n\r\n  // refresh opts in mode\r\n  const modeElem = reprList.find(\r\n    `.panel:eq(${index}) [data-value=miew-menu-panel-mode]`\r\n  )\r\n  modeElem.removeData('mvdata')\r\n  modeElem.data('mvdata', repr.mode.opts)\r\n\r\n  // refresh opts in colorer\r\n  const colorElem = reprList.find(\r\n    `.panel:eq(${index}) [data-value=miew-menu-panel-color]`\r\n  )\r\n  colorElem.removeData('mvdata')\r\n  colorElem.data('mvdata', repr.colorer.opts)\r\n\r\n  if (repr.mode.id === 'SA' || repr.mode.id === 'SE') {\r\n    reprList\r\n      .find(`.panel:eq(${index}) [data-type=rad]`)\r\n      .val(repr.mode._radScale)\r\n  }\r\n\r\n  if (repr.visible) {\r\n    reprList.find(`.panel:eq(${index}) .panel-heading .btn-visible`).show()\r\n    reprList.find(`.panel:eq(${index}) .panel-heading .btn-invisible`).hide()\r\n  } else {\r\n    reprList.find(`.panel:eq(${index}) .panel-heading .btn-visible`).hide()\r\n    reprList.find(`.panel:eq(${index}) .panel-heading .btn-invisible`).show()\r\n  }\r\n\r\n  self._initReprListItemListeners(index)\r\n}\r\n\r\nMenu.prototype._getCurReprPropertyId = function (reprPropDataVal) {\r\n  const self = this\r\n  const reprList = $(\r\n    `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n  )\r\n  const element = reprList.find(\r\n    `.panel.valid:eq(${self._curReprIdx}) [data-value=\"${reprPropDataVal}\"]`\r\n  )\r\n  return element[0].lastChild.firstElementChild.getAttribute('data-id')\r\n}\r\n\r\nMenu.prototype._getCurReprSelector = function () {\r\n  const self = this\r\n  const reprList = $(\r\n    `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n  )\r\n  const element = reprList.find(\r\n    `.panel.valid:eq(${self._curReprIdx}) [data-type=selection-target]`\r\n  )\r\n  return element[0].textContent\r\n}\r\n\r\nMenu.prototype._copyCurReprListItem = function (index) {\r\n  const self = this\r\n  const reprList = $(\r\n    `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n  )\r\n  const curSelector = reprList.find(`.panel.valid:eq(${self._curReprIdx})`)\r\n  curSelector.find('.panel-heading').removeClass('active')\r\n  curSelector.find('.panel-collapse').collapse('hide')\r\n  const id = reprList\r\n    .find(`.panel.valid:eq(${self._curReprIdx}) .panel-collapse`)\r\n    .attr('data-number')\r\n  const newId = id.substr(0, id.lastIndexOf('-') + 1) + (index + 1)\r\n\r\n  curSelector.clone().appendTo(reprList)\r\n\r\n  curSelector.find('.panel-heading').addClass('active')\r\n  curSelector.find('.panel-collapse').collapse('show')\r\n\r\n  let selector = reprList.find(`.panel:eq(${index})`)\r\n  const newHtml = selector\r\n    .html()\r\n    .replace(new RegExp(id.replace('-', '\\\\-'), 'g'), newId)\r\n  selector.html(newHtml)\r\n\r\n  selector.addClass('added')\r\n\r\n  selector = selector.find('.panel-heading a')\r\n  const header = selector.html()\r\n  const validReprN = reprList.find('.panel.valid').length\r\n  selector.html(\r\n    `#${String(validReprN)}${header.substring(header.indexOf(':'))}`\r\n  )\r\n\r\n  // recreate bootstrapswitch param (note: cloning of bootstrapswitch doesn't work)\r\n  const zClipState = curSelector.find('[type=checkbox][data-toggle=zClip]')[0]\r\n    .checked\r\n  const qSurfParamSelector = reprList.find(\r\n    `.panel:eq(${index}) [data-type=surf-param-zclip]`\r\n  )\r\n  qSurfParamSelector.empty()\r\n  selector.find('[type=checkbox]').bootstrapSwitch('state', zClipState)\r\n  qSurfParamSelector[0].appendChild(createElement('label', {}, 'Z clipping'))\r\n  qSurfParamSelector[0].appendChild(\r\n    createElement(\r\n      'span',\r\n      { class: 'pull-right' },\r\n      createElement('input', {\r\n        type: 'checkbox',\r\n        'data-dir': 'representation',\r\n        'data-toggle': 'zClip',\r\n        'data-size': 'mini',\r\n        title: 'Z clipping'\r\n      })\r\n    )\r\n  )\r\n  reprList\r\n    .find(`.panel:eq(${index}) input[type=checkbox]`)\r\n    .bootstrapSwitch('state', zClipState)\r\n\r\n  const isoValue = curSelector.find('[data-type=iso]').val()\r\n  reprList.find(`.panel:eq(${index}) [data-type=iso]`).val(isoValue)\r\n\r\n  const radScale = curSelector.find('[data-type=rad]').val()\r\n  reprList.find(`.panel:eq(${index}) [data-type=rad]`).val(radScale)\r\n\r\n  self._initReprListItemListeners(index)\r\n}\r\n\r\nMenu.prototype._fillSourceList = function () {\r\n  const self = this\r\n  const names = this._viewer.getVisuals()\r\n  $('#miew-source-dropdown').toggle(names.length > 1)\r\n\r\n  const curName = this._viewer.getCurrentVisual()\r\n  const nameElement = document.getElementById('miew-source-name')\r\n  nameElement.textContent = curName\r\n\r\n  function getOnSourceSelected(name) {\r\n    return function (e) {\r\n      self._viewer.setCurrentVisual(name)\r\n      self._fillSourceList()\r\n      self._initReprList()\r\n      e.preventDefault()\r\n    }\r\n  }\r\n\r\n  const listElement = document.getElementById('miew-source-list')\r\n  const frag = document.createDocumentFragment()\r\n  for (let i = 0, n = names.length; i < n; ++i) {\r\n    const name = names[i]\r\n    const link = createElement(\r\n      'a',\r\n      { href: '#' },\r\n      name !== curName\r\n        ? name\r\n        : [\r\n            createElement('b', null, name),\r\n            createElement('span', {\r\n              class: 'glyphicon glyphicon-ok pull-right'\r\n            })\r\n          ]\r\n    )\r\n    link.addEventListener('click', getOnSourceSelected(name))\r\n    frag.appendChild(createElement('li', null, link))\r\n  }\r\n  listElement.innerHTML = ''\r\n  listElement.appendChild(frag)\r\n}\r\n\r\nMenu.prototype._fillReprList = function () {\r\n  const self = this\r\n  const reprList = $(\r\n    `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n  )\r\n\r\n  reprList.empty()\r\n  const list = reprList.get(0)\r\n  for (let i = 0, n = self._viewer.repCount(); i < n; i++) {\r\n    const entry = self._viewer.repGet(i)\r\n    self._addReprListItem(list, i, entry)\r\n  }\r\n\r\n  $(`${self._menuId} [data-toggle=mode]`).on(\r\n    'click',\r\n    /** @this HTMLSelectElement */ function () {\r\n      const elements = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) [data-value=miew-menu-panel-mode]`\r\n      )\r\n      const itemID = this.getAttribute('data-value')\r\n      const Mode = modes.get(itemID)\r\n      elements[0].firstElementChild.firstElementChild.textContent =\r\n        Mode.prototype.shortName\r\n      elements[0].firstElementChild.firstElementChild.setAttribute(\r\n        'data-id',\r\n        itemID\r\n      )\r\n\r\n      const head = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) .panel-heading a`\r\n      )\r\n      const header = head.html()\r\n      head.html(\r\n        `${header.substring(0, header.indexOf(':') + 1)} ${Mode.prototype.name}`\r\n      )\r\n\r\n      const zClipParam = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) .panel-collapse [data-type=surf-param-zclip]`\r\n      )\r\n      if (\r\n        itemID === 'SA' ||\r\n        itemID === 'SE' ||\r\n        itemID === 'QS' ||\r\n        itemID === 'CS'\r\n      ) {\r\n        zClipParam.show()\r\n        const sClipSwitch = zClipParam.find(\r\n          '[type=checkbox][data-toggle=zClip]'\r\n        )\r\n        sClipSwitch.bootstrapSwitch(\r\n          'state',\r\n          settings.defaults.modes[itemID].zClip\r\n        )\r\n      } else {\r\n        zClipParam.hide()\r\n      }\r\n\r\n      const isoParam = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) .panel-collapse [data-type=surf-param-iso]`\r\n      )\r\n      if (itemID === 'QS' || itemID === 'CS') {\r\n        isoParam.show()\r\n        isoParam\r\n          .find('[data-type=iso]')\r\n          .val(settings.defaults.modes[itemID].isoValue)\r\n      } else {\r\n        isoParam.hide()\r\n      }\r\n\r\n      const radParam = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) .panel-collapse [data-type=surf-param-rad]`\r\n      )\r\n      if (itemID === 'QS') {\r\n        radParam.show()\r\n        radParam\r\n          .find('[data-type=rad]')\r\n          .val(settings.defaults.modes[itemID].scale)\r\n      } else {\r\n        radParam.hide()\r\n      }\r\n    }\r\n  )\r\n  $(`${self._menuId} [data-toggle=colorer]`).on(\r\n    'click',\r\n    /** @this HTMLSelectElement */ function () {\r\n      const elements = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) [data-value=miew-menu-panel-color]`\r\n      )\r\n      const itemID = this.getAttribute('data-value')\r\n      const Colorer = colorers.get(itemID)\r\n\r\n      elements[0].firstElementChild.firstElementChild.textContent =\r\n        Colorer.prototype.shortName\r\n      elements[0].firstElementChild.firstElementChild.setAttribute(\r\n        'data-id',\r\n        itemID\r\n      )\r\n\r\n      if (itemID === 'UN' || itemID === 'CB') {\r\n        const ucColorName = itemID === 'UN' ? 'Uniform color' : 'Carbon color'\r\n        const ucColor =\r\n          itemID === 'UN'\r\n            ? settings.now.colorers.UN.color\r\n            : settings.now.colorers.CB.color\r\n        const elem = reprList.find(\r\n          `.panel:eq(${self._curReprIdx}) [data-value=miew-menu-panel-select-color]`\r\n        )\r\n        elem[0].firstElementChild.innerHTML = ucColorName\r\n        elem[0].lastElementChild.firstElementChild.setAttribute(\r\n          'data-id',\r\n          hexColor(ucColor)\r\n        )\r\n        elem[0].lastElementChild.firstElementChild.firstElementChild.style.backgroundColor =\r\n          hexColor(ucColor)\r\n        elem.show()\r\n      } else {\r\n        reprList\r\n          .find(\r\n            `.panel:eq(${self._curReprIdx}) [data-value=miew-menu-panel-select-color]`\r\n          )\r\n          .hide()\r\n      }\r\n    }\r\n  )\r\n\r\n  $(`${self._menuId} [data-toggle=material]`).on(\r\n    'click',\r\n    /** @this HTMLSelectElement */ function () {\r\n      const elements = reprList.find(\r\n        `.panel.valid:eq(${self._curReprIdx}) [data-value=miew-menu-panel-matpreset]`\r\n      )\r\n      const itemID = this.getAttribute('data-value')\r\n      const material = materials.get(itemID)\r\n\r\n      elements[0].firstElementChild.firstElementChild.textContent =\r\n        material.shortName\r\n      elements[0].firstElementChild.firstElementChild.setAttribute(\r\n        'data-id',\r\n        itemID\r\n      )\r\n    }\r\n  )\r\n}\r\n\r\nMenu.prototype._getPanelSelector = function (type) {\r\n  return $(`${this._menuId} .panel-menu[data-panel-type=${type}]`)\r\n}\r\n\r\nMenu.prototype._init = function () {\r\n  const self = this\r\n  let selectorHide = null\r\n  let selectorShow = null\r\n  let newPanelId = null\r\n\r\n  // tooltips initialization\r\n  $(() => {\r\n    $(`${self._menuId} .titlebar [data-tooltip=\"tooltip\"]`).tooltip({\r\n      trigger: 'hover'\r\n    })\r\n  })\r\n\r\n  self._xs = self._isXS()\r\n  $(`${self._menuId} [data-value=\"${self._curPanelID}\"]`).toggleClass('active')\r\n\r\n  $(`${self._menuId} [data-toggle=miew-main-menu]`).on('click', function () {\r\n    const state = this.getAttribute('data-state')\r\n    if (state === 'on') {\r\n      self._onMenuOn()\r\n    } else if (state === 'off') {\r\n      self._onMenuOff()\r\n    }\r\n    return false\r\n  })\r\n\r\n  $(`${self._menuId} [data-toggle=miew-terminal]`).on('click', function () {\r\n    const state = this.getAttribute('data-state')\r\n    this.blur()\r\n    if (state === 'on') {\r\n      self._onTerminalOn()\r\n      this.setAttribute('data-state', 'off')\r\n    } else if (state === 'off') {\r\n      self._onTerminalOff()\r\n      this.setAttribute('data-state', 'on')\r\n    }\r\n    return false\r\n  })\r\n\r\n  $(`${self._menuId} [data-toggle=miew-terminal]`).on('mousedown', (e) => {\r\n    e.preventDefault()\r\n    return false\r\n  })\r\n\r\n  $(document).on('keydown', (e) => {\r\n    if (e.keyCode === 27 && !e.isDefaultPrevented()) {\r\n      // ESC\r\n      if ($(`${self._menuId} .main-menu`).is(':visible') === true) {\r\n        if (\r\n          $(\r\n            `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-main]`\r\n          ).is(':visible') === true\r\n        ) {\r\n          if (self._curMenuItem === self._curPanelID) {\r\n            // if it is regular panel or in xs it also can be main panel\r\n            self._onMenuOff()\r\n          } else {\r\n            // if it is combbox-panel\r\n            self\r\n              ._getPanelSelector(self._curPanelID)\r\n              .get(0)\r\n              .firstElementChild.firstElementChild.click()\r\n          }\r\n        } else {\r\n          // if xs mode and not main panel\r\n          self\r\n            ._getPanelSelector(self._curPanelID)\r\n            .get(0)\r\n            .firstElementChild.firstElementChild.click()\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  $(`${self._menuId} [data-toggle=\"panel\"]`).on('click', function _setPanel() {\r\n    if (self._xs === true) {\r\n      $(\r\n        `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-main]`\r\n      ).hide()\r\n    }\r\n\r\n    selectorHide = self._getPanelSelector(self._curPanelID)\r\n    selectorHide.hide()\r\n    $(`${self._menuId} a[data-value=\"${self._curMenuItem}\"]`).removeClass(\r\n      'active'\r\n    )\r\n\r\n    self._curMenuItem =\r\n      self._curPanelID =\r\n      newPanelId =\r\n        this.getAttribute('data-value')\r\n    selectorShow = self._getPanelSelector(self._curPanelID)\r\n    selectorShow.show()\r\n    $(`${self._menuId} a[data-value=\"${newPanelId}\"]`).addClass('active')\r\n\r\n    return false\r\n  })\r\n\r\n  $(`${self._menuId} [data-toggle=\"main-panel\"]`).on('click', () => {\r\n    $(\r\n      `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-main]`\r\n    ).show()\r\n    self._getPanelSelector(self._curPanelID).hide()\r\n    if (self._xs) {\r\n      $(`${self._menuId} a[data-value=\"${self._curMenuItem}\"]`).removeClass(\r\n        'active'\r\n      )\r\n    }\r\n    return false\r\n  })\r\n\r\n  $(`${self._menuId} [data-toggle=\"combobox-panel\"]`).on(\r\n    'click',\r\n    function _setComboboxPanel() {\r\n      selectorHide = self._getPanelSelector(self._curPanelID)\r\n      selectorHide.hide()\r\n\r\n      self._curPanelID = newPanelId = this.getAttribute('data-value')\r\n      selectorShow = self._getPanelSelector(self._curPanelID)\r\n      selectorShow.show()\r\n\r\n      return false\r\n    }\r\n  )\r\n\r\n  $(`${self._menuId} [data-toggle=\"toolbar\"]`).on(\r\n    'click',\r\n    function _btnToolbarClick() {\r\n      if (this.classList.contains('disabled')) {\r\n        return\r\n      }\r\n\r\n      this.blur()\r\n      const toolbar = this.getAttribute('data-value')\r\n\r\n      $(`${self._menuId} [data-toggle=\"toolbar\"]`).each((index, element) => {\r\n        if (\r\n          element.getAttribute('data-value') !== toolbar &&\r\n          element.classList.contains('active')\r\n        ) {\r\n          element.click()\r\n        }\r\n      })\r\n\r\n      const elements = $(`${self._menuId} [data-toolbar-type=${toolbar}]`)\r\n      if (toolbar === 'miew-menu-toolbar-resolution') {\r\n        elements.toggle()\r\n        this.classList.toggle('active')\r\n\r\n        const resSelector = $(\r\n          `${self._menuId} [data-toggle=\"resolution-immediate\"]` +\r\n            `[data-value=\"${settings.now.resolution}\"]`\r\n        )\r\n        if (this.classList.contains('active') === true) {\r\n          resSelector.addClass('active')\r\n        } else {\r\n          resSelector.removeClass('active')\r\n        }\r\n      } else {\r\n        const curRep = self._viewer.rep()\r\n        if (curRep !== null) {\r\n          elements.toggle()\r\n          this.classList.toggle('active')\r\n\r\n          const type = toolbar.substr(\r\n            toolbar.lastIndexOf('-') + 1,\r\n            toolbar.length\r\n          )\r\n          const selector = $(\r\n            `${self._menuId} [data-toggle=\"${type}-immediate\"]` +\r\n              `[data-value=\"${unarray(curRep[type])}\"]`\r\n          )\r\n          if (this.classList.contains('active') === true) {\r\n            selector.addClass('active')\r\n          } else {\r\n            selector.removeClass('active')\r\n          }\r\n        } else {\r\n          self._viewer.logger.error('No representation')\r\n        }\r\n      }\r\n    }\r\n  )\r\n\r\n  self._menu.on('click', (event) => {\r\n    if ($(event.target).hasClass('main-menu')) {\r\n      self._onMenuOff()\r\n    }\r\n  })\r\n\r\n  const dataDirSettings = $(\r\n    `${self._menuId} input[type=checkbox][data-dir=settings]`\r\n  )\r\n  dataDirSettings.bootstrapSwitch()\r\n  dataDirSettings.on(\r\n    'switchChange.bootstrapSwitch',\r\n    /** @this HTMLInputElement */ function () {\r\n      const param = this.getAttribute('data-toggle')\r\n      if (param === 'bg.color') {\r\n        self._viewer.set('bg.color', this.checked ? 0x202020 : 0xcccccc)\r\n      } else {\r\n        self._viewer.set(param, this.checked)\r\n      }\r\n    }\r\n  )\r\n\r\n  let shifted = false\r\n  $(document).on('keyup keydown', (e) => {\r\n    shifted = e.shiftKey\r\n  })\r\n  function _zoomClipPlane(e) {\r\n    if (shifted) {\r\n      let delta = 0\r\n      const event = e.originalEvent\r\n      if (event.wheelDelta) {\r\n        // WebKit / Opera / Explorer 9\r\n        delta = event.wheelDelta\r\n      } else if (event.detail) {\r\n        // Firefox\r\n        delta = -event.detail * 10\r\n      }\r\n      const { draft } = self._viewer.settings.now\r\n      self._viewer.set({\r\n        draft: {\r\n          clipPlaneFactor: draft.clipPlaneFactor - delta * draft.clipPlaneSpeed\r\n        }\r\n      })\r\n    }\r\n  }\r\n  $(document).on('mousewheel', (e) => _zoomClipPlane(e)) // Chrome\r\n  $(document).on('DOMMouseScroll', (e) => _zoomClipPlane(e)) // Opera, Firefox\r\n\r\n  this._initMiewEventListeners()\r\n  this._initToolbar()\r\n\r\n  this._initInfoPanel()\r\n  this._initLoadPanel()\r\n  this._initReprPanel()\r\n  this._initRenderPanel()\r\n  this._initToolsPanel()\r\n  this._initSelectionPanel()\r\n}\r\n\r\nMenu.prototype._initMiewEventListeners = function () {\r\n  const self = this\r\n\r\n  this._viewer.addEventListener('loading', () => {\r\n    self._setTitle('Loading')\r\n  })\r\n\r\n  this._viewer.addEventListener('fetching', () => {\r\n    self._setTitle('Fetching')\r\n  })\r\n\r\n  this._viewer.addEventListener('parsing', () => {\r\n    self._setTitle('Parsing')\r\n  })\r\n\r\n  this._viewer.addEventListener('rebuilding', () => {\r\n    self._setTitle('Building geometry')\r\n  })\r\n\r\n  this._viewer.addEventListener('exporting', () => {\r\n    self._setTitle('Exporting')\r\n  })\r\n\r\n  this._viewer.addEventListener('resize', () => {\r\n    self._onResize()\r\n  })\r\n\r\n  this._viewer.addEventListener('fetchingDone', (e) => {\r\n    if (e.error) {\r\n      self._updateInfo(e.data)\r\n    }\r\n  })\r\n\r\n  this._viewer.addEventListener('parsingDone', (e) => {\r\n    self._updateInfo(e.data)\r\n    self._fillSourceList()\r\n    self._fillReprList()\r\n\r\n    self.presetsPanel.actions.pdb.inputs.refresh(self)\r\n  })\r\n\r\n  this._viewer.addEventListener('titleChanged', (e) => {\r\n    self._setTitle(e.data)\r\n  })\r\n\r\n  this._viewer.addEventListener('editModeChanged', (e) => {\r\n    self._enableToolbar(e.data)\r\n  })\r\n}\r\n\r\nMenu.prototype._initInfoPanel = function () {\r\n  this._updateInfo()\r\n}\r\n\r\nMenu.prototype._initLoadPanel = function () {\r\n  const self = this\r\n\r\n  $(\r\n    `${self._menuId} [data-form-type=miew-menu-form-load-pdb] [data-tooltip=\"tooltip\"]`\r\n  ).tooltip({\r\n    trigger: 'hover'\r\n  })\r\n\r\n  $(`${self._menuId} [data-toggle=\"preset-pdb\"]`).on(\r\n    'click',\r\n    /** @this HTMLElement */ function (evt) {\r\n      const path = this.getAttribute('data-value')\r\n      const query = this.getAttribute('data-query')\r\n      $(\r\n        `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n      ).empty()\r\n      self._viewer.load(path).then(() => {\r\n        self._viewer.setOptions(query || '')\r\n      })\r\n      self._onMenuOff()\r\n      evt.preventDefault()\r\n      return false\r\n    }\r\n  )\r\n  // empty input box on panel opening\r\n  const elem = $(\r\n    `${this._menuId} .list-group-item[data-value=\"miew-menu-panel-presets\"]`\r\n  )\r\n  elem.on('click', () => {\r\n    self._presetsPanelActionsPdbInputsClear(self)\r\n  })\r\n\r\n  this._initPresetsPanelActions()\r\n}\r\n\r\nMenu.prototype._initReprPanel = function () {\r\n  const self = this\r\n  const reprList = $(\r\n    `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n  )\r\n\r\n  $(\r\n    `${self._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-add-repr]`\r\n  ).on('click', () => {\r\n    if (self._viewer.getComplexVisualsCount() === 0) {\r\n      return\r\n    }\r\n\r\n    const index = reprList.find('.panel').length\r\n    if (index > 0) {\r\n      self._copyCurReprListItem(index)\r\n    } else {\r\n      const Mode = modes.first\r\n      const Colorer = colorers.first\r\n      const fakeRepr = new Representation(\r\n        0,\r\n        new Mode(),\r\n        new Colorer(),\r\n        selectors.all()\r\n      )\r\n      self._addReprListItem(reprList.get(0), index, fakeRepr)\r\n      const selector = reprList.find(`.panel:eq(${index})`)\r\n      selector.addClass('added')\r\n    }\r\n\r\n    const validReprN = reprList.find('.panel.valid').length\r\n    if (validReprN === 2) {\r\n      $(\r\n        `${self._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-del-repr]`\r\n      ).removeClass('disabled')\r\n    } else if (validReprN === self._viewer.getMaxRepresentationCount()) {\r\n      $(\r\n        `${self._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-add-repr]`\r\n      ).addClass('disabled')\r\n    }\r\n\r\n    reprList.find(`.panel.valid:eq(${validReprN - 1}) .panel-heading`).click()\r\n    self._reprListChanged = true\r\n  })\r\n\r\n  $(\r\n    `${self._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-del-repr]`\r\n  ).on('click', () => {\r\n    let validReprN = reprList.find('.panel.valid').length\r\n    const removeIdx = self._curReprIdx\r\n    const removeSelector = reprList.find(`.panel.valid:eq(${removeIdx})`)\r\n    removeSelector.addClass('deleted')\r\n    removeSelector.hide()\r\n    removeSelector.removeClass('valid')\r\n    if (self._curReprIdx === validReprN - 1) {\r\n      reprList\r\n        .find(`.panel.valid:eq(${self._curReprIdx - 1}) .panel-heading`)\r\n        .click()\r\n    } else {\r\n      reprList\r\n        .find(`.panel.valid:eq(${self._curReprIdx}) .panel-heading`)\r\n        .click()\r\n      for (\r\n        let reprIdx = self._curReprIdx;\r\n        reprIdx < validReprN - 1;\r\n        ++reprIdx\r\n      ) {\r\n        const reprSelector = reprList.find(\r\n          `.panel.valid:eq(${reprIdx}) .panel-heading a`\r\n        )\r\n        const header = reprSelector.html()\r\n        reprSelector.html(\r\n          `#${String(reprIdx + 1)}${header.substring(header.indexOf(':'))}`\r\n        )\r\n      }\r\n    }\r\n\r\n    validReprN = reprList.find('.panel.valid').length\r\n    if (validReprN === 1) {\r\n      $(\r\n        `${self._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-del-repr]`\r\n      ).addClass('disabled')\r\n    } else if (validReprN === self._viewer.getMaxRepresentationCount() - 1) {\r\n      $(\r\n        `${self._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-add-repr]`\r\n      ).removeClass('disabled')\r\n    }\r\n\r\n    self._reprListChanged = true\r\n  })\r\n\r\n  self._fillCombo('miew-menu-panel-mode', 'mode', 'mode', modes)\r\n  self._fillCombo('miew-menu-panel-color', 'colorer', 'colorer', colorers)\r\n  self._fillCombo(\r\n    'miew-menu-panel-matpreset',\r\n    'material',\r\n    'materialPreset',\r\n    materials\r\n  )\r\n}\r\n\r\nMenu.prototype._displayGlobalErrorDialog = function (title, message) {\r\n  const self = this\r\n  const dialog = $(\r\n    `${self._menuId} .miew-menu-modals [data-modal-type=miew-menu-modal-global-error]`\r\n  )\r\n  const titleElement = dialog.find('.modal-title').get(0)\r\n  const bodyElement = dialog.find('.modal-body').get(0)\r\n  $(titleElement).html(title)\r\n  $(bodyElement).html(message || 'Some error occured.')\r\n  dialog.modal(\r\n    {\r\n      keyboard: true\r\n    },\r\n    'show'\r\n  )\r\n}\r\n\r\nMenu.prototype.presetsPanel = {\r\n  inputs: {\r\n    main: null\r\n  },\r\n  actions: {\r\n    pdb: {\r\n      load: null,\r\n      inputs: {\r\n        clear: null,\r\n        refresh: null,\r\n        file: null,\r\n        text: null\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nMenu.prototype._presetsPanelActionsPdbInputsRefresh = function (self) {\r\n  const loadPdbButton = $(\r\n    `${self._menuId} .presets-panel-action[data-presets-panel-action=pdb-load]`\r\n  )\r\n  const clearInputsButton = $(\r\n    `${self._menuId} .presets-panel-action[data-presets-panel-action=pdb-inputs-clear]`\r\n  )\r\n\r\n  const mainTextInput = $(\r\n    $(\r\n      '[data-form-type=miew-menu-form-load-pdb] input[type=text][data-pdb-url-type=main]'\r\n    ).get(0)\r\n  )\r\n  const mainErrorAlert = $(\r\n    $(\r\n      '[data-form-type=miew-menu-form-load-pdb] .alert-danger[data-pdb-url-type=main]'\r\n    ).get(0)\r\n  )\r\n  const mainWarningAlert = $(\r\n    $(\r\n      '[data-form-type=miew-menu-form-load-pdb] .alert-warning[data-pdb-url-type=main]'\r\n    ).get(0)\r\n  )\r\n\r\n  const extractExtension = function (name) {\r\n    let parts = name.toLowerCase().split('/')\r\n    let lastPart = parts[parts.length - 1]\r\n    parts = lastPart.split('\\\\')\r\n    lastPart = parts[parts.length - 1]\r\n    parts = lastPart.split('.')\r\n    if (parts.length === 1) {\r\n      return '' // not \"file.ext\" format\r\n    }\r\n    return parts[parts.length - 1]\r\n  }\r\n\r\n  let mainAlertText = null\r\n\r\n  const displayFormError = function (error) {\r\n    if (error) {\r\n      mainErrorAlert.html(error)\r\n      mainErrorAlert.removeClass('hidden')\r\n    } else {\r\n      mainErrorAlert.html(error)\r\n      mainErrorAlert.addClass('hidden')\r\n    }\r\n  }\r\n  const displayFormWarning = function (warning) {\r\n    if (warning) {\r\n      mainWarningAlert.html(warning)\r\n      mainWarningAlert.removeClass('hidden')\r\n    } else {\r\n      mainWarningAlert.html(warning)\r\n      mainWarningAlert.addClass('hidden')\r\n    }\r\n  }\r\n\r\n  self.presetsPanel.inputs.isCorrect = false\r\n  if (!self.presetsPanel.inputs || !self.presetsPanel.inputs.main) {\r\n    loadPdbButton.addClass('disabled')\r\n    clearInputsButton.addClass('hidden')\r\n\r\n    mainTextInput.val('')\r\n    mainTextInput.removeAttr('disabled')\r\n\r\n    displayFormError(null)\r\n    displayFormWarning(null)\r\n  } else {\r\n    if (self.presetsPanel.inputs.main) {\r\n      let mainExtension\r\n      if (self.presetsPanel.inputs.main instanceof File) {\r\n        mainTextInput.val(self.presetsPanel.inputs.main.name)\r\n        mainTextInput.attr('disabled', 'disabled')\r\n        mainExtension = extractExtension(self.presetsPanel.inputs.main.name)\r\n      } else {\r\n        mainTextInput.removeAttr('disabled')\r\n        mainExtension = extractExtension(self.presetsPanel.inputs.main)\r\n      }\r\n\r\n      const extensions = parsers.keys('extensions').sort()\r\n      const extRegExp = new RegExp(\r\n        `^(${extensions.map((ext) => ext.substr(1)).join('|')})$`\r\n      )\r\n      const extString = extensions.join(', ')\r\n\r\n      if (\r\n        self.presetsPanel.inputs.main instanceof File &&\r\n        !mainExtension.match(extRegExp)\r\n      ) {\r\n        self.presetsPanel.inputs.mainIsCorrect = false\r\n        self.presetsPanel.inputs.isCorrect = false\r\n        mainAlertText = `Only the following filename extensions are supported: ${extString}`\r\n      } else {\r\n        self.presetsPanel.inputs.mainIsCorrect = true\r\n        self.presetsPanel.inputs.isCorrect = false\r\n      }\r\n    }\r\n    self.presetsPanel.inputs.isCorrect = true\r\n\r\n    if (self.presetsPanel.inputs.isCorrect) {\r\n      loadPdbButton.removeClass('disabled')\r\n    } else {\r\n      loadPdbButton.addClass('disabled')\r\n    }\r\n    if (self.presetsPanel.inputs.main) {\r\n      clearInputsButton.removeClass('hidden')\r\n    } else {\r\n      clearInputsButton.addClass('hidden')\r\n    }\r\n    displayFormError(mainAlertText)\r\n  }\r\n}\r\n\r\nMenu.prototype._presetsPanelActionsPdbInputsClear = function (self) {\r\n  self.presetsPanel.inputs = {\r\n    main: null\r\n  }\r\n  self.presetsPanel.actions.pdb.inputs.refresh(self)\r\n}\r\n\r\nMenu.prototype._presetsPanelActionsPdbLoad = function (self) {\r\n  self._onMenuOff()\r\n  if (self.presetsPanel.inputs) {\r\n    self._viewer.load(self.presetsPanel.inputs.main)\r\n  }\r\n  self.presetsPanel.actions.pdb.inputs.clear(self)\r\n}\r\n\r\nMenu.prototype._presetsPanelActionsPdbInputsFile = function (self, element) {\r\n  const urlType = $(element).data('pdb-url-type')\r\n  const textInput = $(\r\n    `[data-form-type=miew-menu-form-load-pdb] input[type=text][data-pdb-url-type=${urlType}]`\r\n  ).get(0)\r\n  if ($(element).val()) {\r\n    const { files } = $(element)[0]\r\n    if (files.length > 0) {\r\n      self.presetsPanel.inputs[urlType] = files[0]\r\n      $(textInput).val(files[0].name)\r\n      $(textInput).attr('disabled', 'disabled')\r\n    }\r\n  }\r\n  $(element).val('')\r\n  self.presetsPanel.actions.pdb.inputs.refresh(self)\r\n}\r\n\r\nMenu.prototype._presetsPanelActionsPdbInputsText = function (\r\n  self,\r\n  element,\r\n  event\r\n) {\r\n  const urlType = $(element).data('pdb-url-type')\r\n  self.presetsPanel.inputs[urlType] = $(element).val()\r\n  self.presetsPanel.actions.pdb.inputs.refresh(self)\r\n  if (\r\n    event &&\r\n    event.type === 'keyup' &&\r\n    event.keyCode === 13 &&\r\n    self.presetsPanel.inputs.isCorrect\r\n  ) {\r\n    self.presetsPanel.actions.pdb.load(self)\r\n  }\r\n}\r\n\r\nMenu.prototype._initPresetsPanelActions = function () {\r\n  const self = this\r\n\r\n  self.presetsPanel.actions.pdb.inputs.refresh =\r\n    self._presetsPanelActionsPdbInputsRefresh // check input box?\r\n  self.presetsPanel.actions.pdb.inputs.clear =\r\n    self._presetsPanelActionsPdbInputsClear // \"Cancel\" button\r\n  self.presetsPanel.actions.pdb.inputs.file =\r\n    self._presetsPanelActionsPdbInputsFile // \"Open file\" button\r\n  self.presetsPanel.actions.pdb.inputs.text =\r\n    self._presetsPanelActionsPdbInputsText // URL text input\r\n  self.presetsPanel.actions.pdb.load = self._presetsPanelActionsPdbLoad // \"Load\" button\r\n\r\n  self.presetsPanel.actions.pdb.inputs.refresh(self)\r\n\r\n  const mainBackButton = $(\r\n    `${self._menuId} [data-panel-type=miew-menu-panel-presets] button.main-back-button`\r\n  )\r\n  const presetsBackButton = $(\r\n    `${self._menuId} [data-panel-type=miew-menu-panel-presets] button.presets-back-button`\r\n  )\r\n  mainBackButton.removeClass('hidden')\r\n  presetsBackButton.addClass('hidden')\r\n\r\n  const findAction = function (parent, path) {\r\n    if (!parent) {\r\n      return null\r\n    }\r\n    if (path.length === 1) {\r\n      return parent[path[0]]\r\n    }\r\n    const current = path[0]\r\n    path.splice(0, 1)\r\n    return findAction(parent[current], path)\r\n  }\r\n\r\n  $(document).on(\r\n    'click input propertychange paste keyup change',\r\n    '.presets-panel-action',\r\n    function (event) {\r\n      if ($(this).hasClass('disabled')) {\r\n        return false\r\n      }\r\n      if ($(this).data('presets-panel-action')) {\r\n        let supportedEvents = $(this).data('presets-panel-events')\r\n        if (supportedEvents) {\r\n          supportedEvents = supportedEvents.split(',')\r\n          if (supportedEvents.indexOf(event.type.toLowerCase()) === -1) {\r\n            return true\r\n          }\r\n        }\r\n        const actionPath = $(this).data('presets-panel-action').split('-')\r\n        const action = findAction(self.presetsPanel.actions, actionPath)\r\n        if (action) {\r\n          action(self, this, event)\r\n          return event.type.toLowerCase() === 'paste'\r\n        }\r\n      }\r\n      return true\r\n    }\r\n  )\r\n}\r\n\r\nMenu.prototype._initPresetsPanel = function () {\r\n  this.presetsPanel.actions.pdb.inputs.refresh(this)\r\n}\r\n\r\nMenu.prototype._initRenderPanel = function () {\r\n  const self = this\r\n\r\n  $(`${self._menuId} [data-toggle=resolution]`).on(\r\n    'click',\r\n    /** @this HTMLSelectElement */ function () {\r\n      const elements = $(\r\n        `${self._menuId} [data-value=miew-menu-panel-resolution]`\r\n      )\r\n      const itemID = this.getAttribute('data-value')\r\n\r\n      const prevActive = settings.now.resolution\r\n      $(`${self._menuId} [data-value=\"${prevActive}\"]`).removeClass('active')\r\n\r\n      elements[0].firstElementChild.firstElementChild.textContent =\r\n        this.textContent\r\n      settings.set('resolution', itemID)\r\n      $(`${self._menuId} [data-value=\"${itemID}\"]`).addClass('active')\r\n\r\n      $(`${self._menuId} button[data-value=miew-menu-panel-render]`).click()\r\n    }\r\n  )\r\n\r\n  this._fillCombo('miew-menu-panel-palette', 'palette', 'palette', palettes)\r\n  $(`${self._menuId} [data-toggle=palette]`).on(\r\n    'click',\r\n    /** @this HTMLSelectElement */ function () {\r\n      const elements = $(\r\n        `${self._menuId} .list-group-item[data-value=miew-menu-panel-palette]`\r\n      )\r\n      const itemID = this.getAttribute('data-value')\r\n      const palette = palettes.get(itemID)\r\n\r\n      elements[0].firstElementChild.firstElementChild.textContent = palette\r\n        ? palette.name\r\n        : 'Unknown'\r\n\r\n      self._fillSelectionColorCombo(itemID)\r\n\r\n      // Here should be palettes colors mapping\r\n      /* var ucSelector = $(self._menuId + ' .panel-menu[data-panel-type=miew-menu-panel-representation]' +\r\n       '.miew-repr-list [data-value=miew-menu-panel-uniform-color]');\r\n      var ucColor = hexColor(palettes.get(itemID).colors[0]);\r\n      ucSelector.find('.thumbnail').attr('data-id', ucColor);\r\n      ucSelector.find('img').css('background-color', ucColor); */\r\n    }\r\n  )\r\n}\r\n\r\nMenu.prototype._initToolsPanel = function () {\r\n  const self = this\r\n  $(\r\n    `${self._menuId} .miew-menu-modals [data-modal-type=miew-menu-modal-url]`\r\n  ).on('shown.bs.modal', () => {\r\n    const root = $(\r\n      `${self._menuId} .miew-menu-modals [data-modal-type=miew-menu-modal-url] .modal-body`\r\n    )[0].firstChild\r\n    const content = root.nodeValue\r\n    if (document.createRange) {\r\n      const rng = document.createRange()\r\n      rng.setStart(root, 0)\r\n      rng.setEnd(root, content.length)\r\n      const sel = window.getSelection()\r\n      sel.removeAllRanges()\r\n      sel.addRange(rng)\r\n    }\r\n  })\r\n\r\n  $(\r\n    `${self._menuId} .miew-menu-modals [data-modal-type=miew-menu-modal-url]`\r\n  ).on('keydown', (e) => {\r\n    if (e.keyCode === 27) {\r\n      // ESC\r\n      e.preventDefault()\r\n    }\r\n  })\r\n\r\n  $(`${self._menuId} [data-toggle=miew-menu-tools]`).on('click', function () {\r\n    const type = this.getAttribute('data-value')\r\n    switch (type) {\r\n      case 'dssp':\r\n        self._viewer.dssp()\r\n        self._onMenuOff()\r\n        break\r\n      case 'reset-view':\r\n        self._viewer.resetView()\r\n        self._initReprList()\r\n        self._onMenuOff()\r\n        break\r\n      case 'screenshot':\r\n        self._viewer.screenshotSave()\r\n        self._onMenuOff()\r\n        break\r\n      case 'get-url': {\r\n        const selector = $(\r\n          `${self._menuId} .miew-menu-modals [data-modal-type=miew-menu-modal-url]`\r\n        )\r\n        selector.find('.modal-body')[0].textContent = self._viewer.getURL({\r\n          settings: true,\r\n          view: true\r\n        })\r\n        selector.modal(\r\n          {\r\n            keyboard: true\r\n          },\r\n          'show'\r\n        )\r\n        break\r\n      }\r\n      case 'get-script': {\r\n        const selector = $(\r\n          `${self._menuId} .miew-menu-modals [data-modal-type=miew-menu-modal-script]`\r\n        )\r\n        selector.find('.modal-body')[0].innerHTML = self._viewer\r\n          .getScript()\r\n          .replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\r\n        selector.modal(\r\n          {\r\n            keyboard: true\r\n          },\r\n          'show'\r\n        )\r\n        break\r\n      }\r\n      case 'fbx-export':\r\n        self._viewer.save({ fileType: 'fbx' })\r\n        self._onMenuOff()\r\n        break\r\n      case 'save-settings':\r\n        self._viewer.saveSettings()\r\n        self._onMenuOff()\r\n        break\r\n      case 'restore-settings':\r\n        self._viewer.restoreSettings()\r\n        self._onMenuOff()\r\n        break\r\n      case 'reset-settings':\r\n        self._viewer.resetSettings()\r\n        self._onMenuOff()\r\n        break\r\n      default:\r\n        self._onMenuOff()\r\n    }\r\n    return false\r\n  })\r\n}\r\n\r\nMenu.prototype._onSelectorChanged = function (selectionPanel) {\r\n  const line = selectionPanel.find('input').get(0).value.trim() || 'all'\r\n  const div = selectionPanel.find('.alert-danger').get(0)\r\n  const parsed = selectors.parse(line)\r\n  const selector = selectionPanel.find(\r\n    '[data-btn-type=miew-menu-btn-apply-sel]'\r\n  )\r\n  if (parsed.error) {\r\n    selector.addClass('disabled')\r\n    div.style.display = 'block'\r\n    div.textContent = parsed.error\r\n  } else {\r\n    selector.removeClass('disabled')\r\n    div.style.display = 'none'\r\n    div.textContent = ''\r\n  }\r\n}\r\n\r\nfunction getAtomNames(viewer) {\r\n  const visual = viewer._getComplexVisual()\r\n  return visual ? visual.getComplex().getAtomNames() : 0\r\n}\r\n\r\nfunction getElements(viewer) {\r\n  const visual = viewer._getComplexVisual()\r\n  return visual ? visual.getComplex().getElements() : 0\r\n}\r\n\r\nfunction getResidueNames(viewer) {\r\n  const visual = viewer._getComplexVisual()\r\n  return visual ? visual.getComplex().getResidueNames() : 0\r\n}\r\n\r\nfunction getChainNames(viewer) {\r\n  const visual = viewer._getComplexVisual()\r\n  return visual ? visual.getComplex().getChainNames() : 0\r\n}\r\n\r\nfunction getAltLocNames(viewer) {\r\n  const visual = viewer._getComplexVisual()\r\n  return visual ? visual.getComplex().getAltLocNames() : 0\r\n}\r\n\r\nMenu.prototype._initSelectionPanel = function () {\r\n  const self = this\r\n  const selectionPanel = $(\r\n    `${self._menuId} [data-panel-type=miew-menu-panel-selection]`\r\n  )\r\n\r\n  function fillSingleWords() {\r\n    const frag = document.createDocumentFragment()\r\n    let newItem\r\n    const group = selectionPanel.find('[data-tab-content=singleword]').get(0)\r\n    let i\r\n    let n\r\n\r\n    for (i = 0, n = self._singleWordsPrimary.length; i < n; i++) {\r\n      const wordPrimary = self._singleWordsPrimary[i]\r\n      newItem = createElement(\r\n        'a',\r\n        {\r\n          href: '#',\r\n          class: 'list-group-item frequent',\r\n          'data-toggle': 'selection-input',\r\n          'data-value': `${wordPrimary} `\r\n        },\r\n        wordPrimary\r\n      )\r\n      frag.appendChild(newItem)\r\n    }\r\n\r\n    self._singleWords.sort()\r\n    for (i = 0, n = self._singleWords.length; i < n; i++) {\r\n      const word = self._singleWords[i]\r\n      if (self._singleWordsPrimary.indexOf(word) !== -1) {\r\n        continue\r\n      }\r\n      newItem = createElement(\r\n        'a',\r\n        {\r\n          href: '#',\r\n          class: 'list-group-item',\r\n          'data-toggle': 'selection-input',\r\n          'data-value': `${word} `\r\n        },\r\n        word\r\n      )\r\n      frag.appendChild(newItem)\r\n    }\r\n\r\n    group.firstElementChild.appendChild(frag)\r\n  }\r\n\r\n  function fillKeyWords() {\r\n    const frag = document.createDocumentFragment()\r\n    let newItem\r\n    const group = selectionPanel.find('[data-tab-content=keyword]').get(0)\r\n    for (let i = 0, n = self._keyWordsPrimary.length; i < n; i++) {\r\n      const wordPrimary = self._keyWordsPrimary[i]\r\n      newItem = createElement(\r\n        'a',\r\n        {\r\n          href: '#',\r\n          class: 'list-group-item frequent keyword-item',\r\n          'data-toggle': 'selection-input',\r\n          'data-value': `${wordPrimary} `\r\n        },\r\n        wordPrimary\r\n      )\r\n      frag.appendChild(newItem)\r\n    }\r\n\r\n    group.firstElementChild.appendChild(frag)\r\n  }\r\n\r\n  fillSingleWords()\r\n  fillKeyWords()\r\n\r\n  const element = selectionPanel.find('input').get(0)\r\n  element.addEventListener('input', () =>\r\n    this._onSelectorChanged(selectionPanel)\r\n  )\r\n  element.addEventListener('change', () =>\r\n    this._onSelectorChanged(selectionPanel)\r\n  )\r\n\r\n  selectionPanel.find('.help-block a').on('click', (e) => {\r\n    const el = selectionPanel.find('input').get(0)\r\n    el.value = e.target.textContent\r\n    self._onSelectorChanged(selectionPanel)\r\n    return false\r\n  })\r\n\r\n  selectionPanel.find('[data-toggle=selection-input]').on('click', (e) => {\r\n    const text = e.target.getAttribute('data-value')\r\n    const elements = $(\r\n      `${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-selection] input`\r\n    )\r\n    elements.val(elements.val() + text)\r\n    self._onSelectorChanged(selectionPanel)\r\n  })\r\n\r\n  selectionPanel.find('.calc .delete').on('click', function () {\r\n    const elements = selectionPanel.find('input')\r\n    const type = this.getAttribute('data-delete-type')\r\n    switch (type) {\r\n      case 'clear':\r\n        elements.val('')\r\n        break\r\n      case 'backspace':\r\n        elements.val(elements.val().slice(0, -1))\r\n        break\r\n      default:\r\n    }\r\n    self._onSelectorChanged(selectionPanel)\r\n  })\r\n\r\n  $(`${self._menuId} .keyword-item`).on('click', (e) => {\r\n    const selector = selectionPanel.find('[data-tab-content=value] div')\r\n    selector.empty()\r\n    selector.off('click', '.value[data-toggle=selection-input]')\r\n    const frag = document.createDocumentFragment()\r\n    let newItem\r\n    const group = selectionPanel.find('[data-tab-content=value]').get(0)\r\n    const key = e.target.getAttribute('data-value').slice(0, -1)\r\n    let values = []\r\n\r\n    if (hasComplex(self._viewer)) {\r\n      switch (key) {\r\n        case 'name':\r\n          values = getAtomNames(self._viewer)\r\n          break\r\n        case 'type':\r\n        case 'elem':\r\n          values = getElements(self._viewer)\r\n          break\r\n        case 'residue':\r\n          values = getResidueNames(self._viewer)\r\n          break\r\n        case 'chain':\r\n          values = getChainNames(self._viewer)\r\n          break\r\n        case 'altloc':\r\n          values = getAltLocNames(self._viewer)\r\n          break\r\n        default:\r\n          values = ['1', '2', '3', '4', '5'] // dummy values\r\n          break\r\n      }\r\n    }\r\n\r\n    for (let i = 0, n = values.length; i < n; i++) {\r\n      const val = values[i]\r\n      newItem = createElement(\r\n        'a',\r\n        {\r\n          href: '#',\r\n          class: 'list-group-item value',\r\n          'data-toggle': 'selection-input',\r\n          'data-value': val\r\n        },\r\n        val\r\n      )\r\n      frag.appendChild(newItem)\r\n    }\r\n    group.firstElementChild.appendChild(frag)\r\n    selectionPanel\r\n      .find('.nav-tabs a[href=\"[data-tab-content=value]\"]')\r\n      .tab('show')\r\n\r\n    $(`${self._menuId} .value[data-toggle=selection-input]`).on(\r\n      'click',\r\n      (event) => {\r\n        const text = utils.correctSelectorIdentifier(\r\n          event.target.getAttribute('data-value')\r\n        )\r\n        const elements = selectionPanel.find('input')\r\n        elements.val(elements.val() + text)\r\n        self._onSelectorChanged(selectionPanel)\r\n      }\r\n    )\r\n  })\r\n\r\n  selectionPanel.find('[data-btn-type=miew-menu-btn-apply-sel]').on(\r\n    'click',\r\n    /** @this HTMLElement */ () => {\r\n      if (\r\n        !selectionPanel\r\n          .find('[data-btn-type=miew-menu-btn-apply-sel]')\r\n          .hasClass('disabled')\r\n      ) {\r\n        const line = selectionPanel.find('input').val().trim() || 'all'\r\n        const elements = $(\r\n          `${self._menuId} [data-panel-type=miew-menu-panel-representation] .miew-repr-list ` +\r\n            `.panel.valid:eq(${self._curReprIdx}) .panel-collapse [data-value=miew-menu-panel-selection]`\r\n        )\r\n        elements[0].firstElementChild.firstElementChild.textContent = line\r\n\r\n        const badge = $(\r\n          `${self._menuId} [data-panel-type=miew-menu-panel-representation] .miew-repr-list ` +\r\n            `.panel.valid:eq(${self._curReprIdx}) .panel-heading .badge`\r\n        )\r\n        // update number of atoms included by selector\r\n        const parsed = selectors.parse(line)\r\n        const numAtoms = getNumAtomsBySelector(self._viewer, parsed.selector)\r\n        badge[0].textContent = String(numAtoms)\r\n\r\n        selectionPanel.get(0).firstElementChild.firstElementChild.click()\r\n      }\r\n    }\r\n  )\r\n}\r\n\r\nMenu.prototype._initToolbar = function () {\r\n  const self = this\r\n\r\n  const frag = document.createDocumentFragment()\r\n  let newItem\r\n\r\n  function fillToolbar(type, name, option, entityList) {\r\n    const toolbar = $(`${self._menuId} [data-toolbar-type=${type}]`).get(0)\r\n    const list = entityList.all\r\n    for (let i = 0, n = list.length; i < n; i++) {\r\n      let entry = list[i]\r\n      entry = entry.prototype || entry // entry may be Class or Object\r\n      newItem = createElement(\r\n        'a',\r\n        {\r\n          href: '#',\r\n          class: 'thumbnail',\r\n          'data-toggle': name,\r\n          'data-value': entry.id\r\n        },\r\n        [\r\n          createElement('div', {\r\n            class: 'toolbar-thumb',\r\n            style: `background:url(images/${name.substring(\r\n              0,\r\n              name.indexOf('-')\r\n            )}/${entry.id}.png)`\r\n          }),\r\n          createElement(\r\n            'div',\r\n            {\r\n              class: 'caption text-center'\r\n            },\r\n            createElement('small', {}, entry.shortName)\r\n          )\r\n        ]\r\n      )\r\n      frag.appendChild(newItem)\r\n    }\r\n    toolbar.lastElementChild.lastElementChild.appendChild(frag)\r\n  }\r\n\r\n  fillToolbar('miew-menu-toolbar-mode', 'mode-immediate', 'mode', modes)\r\n  fillToolbar(\r\n    'miew-menu-toolbar-colorer',\r\n    'colorer-immediate',\r\n    'colorer',\r\n    colorers\r\n  )\r\n\r\n  // Update mode selector names and add event listeners\r\n  $(`${self._menuId} [data-toggle=\"mode-immediate\"]`).each((index, element) => {\r\n    const id = element.getAttribute('data-value')\r\n    element.addEventListener('click', (event) => {\r\n      $(\r\n        `${self._menuId} [data-value=\"${unarray(self._viewer.rep().mode)}\"]`\r\n      ).removeClass('active')\r\n      $(`${self._menuId} [data-value=miew-menu-toolbar-mode]`).click()\r\n      self._viewer.rep({ mode: id })\r\n      event.preventDefault()\r\n      self._fixKeyboard()\r\n    })\r\n  })\r\n\r\n  // Update colorer selector names and add event listeners\r\n  $(`${self._menuId} [data-toggle=\"colorer-immediate\"]`).each(\r\n    (index, element) => {\r\n      const id = element.getAttribute('data-value')\r\n      element.addEventListener('click', (event) => {\r\n        $(\r\n          `${self._menuId} [data-value=\"${unarray(\r\n            self._viewer.rep().colorer\r\n          )}\"]`\r\n        ).removeClass('active')\r\n        $(`${self._menuId} [data-value=miew-menu-toolbar-colorer]`).click()\r\n        self._viewer.rep({ colorer: id })\r\n        event.preventDefault()\r\n        self._fixKeyboard()\r\n      })\r\n    }\r\n  )\r\n\r\n  // Update resolution selector names and add event listeners\r\n  $(`${self._menuId} [data-toggle=\"resolution-immediate\"]`).each(\r\n    (index, element) => {\r\n      const id = element.getAttribute('data-value')\r\n      element.addEventListener('click', (event) => {\r\n        $(\r\n          `${self._menuId} [data-value=\"${settings.now.resolution}\"]`\r\n        ).removeClass('active')\r\n        settings.set('resolution', id)\r\n        $(`${self._menuId} [data-value=miew-menu-toolbar-resolution]`).click()\r\n        self._viewer.rebuildAll()\r\n        event.preventDefault()\r\n        self._fixKeyboard()\r\n      })\r\n    }\r\n  )\r\n\r\n  $(`${self._menuId} .titlebar [data-toggle=panel]`).on('click', () => {\r\n    self._onMenuOn()\r\n  })\r\n\r\n  $(`${self._menuId} .toolbar`).on('click', (event) => {\r\n    const target = $(event.target)\r\n    if (target.is('.toolbar')) {\r\n      const type = target.attr('data-toolbar-type')\r\n      $(`${self._menuId} [data-value=\"${type}\"]`).click()\r\n      self._fixKeyboard()\r\n    }\r\n  })\r\n}\r\n\r\nMenu.prototype._initReprList = function () {\r\n  this._fillReprList()\r\n  this._curReprIdx = this._viewer.repCurrent()\r\n  $(\r\n    `${this._menuId} .panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list .panel.valid:eq(${this._curReprIdx}) .panel-heading`\r\n  ).addClass('active')\r\n\r\n  $(\r\n    `${this._menuId} .panel-menu[data-panel-type=miew-menu-panel-representation] .miew-repr-list .panel.valid:eq(${this._curReprIdx}) .panel-collapse`\r\n  ).collapse('show')\r\n\r\n  if (this._viewer.repCount() > 1) {\r\n    $(\r\n      `${this._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-del-repr]`\r\n    ).removeClass('disabled')\r\n  } else {\r\n    $(\r\n      `${this._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-del-repr]`\r\n    ).addClass('disabled')\r\n  }\r\n  if (this._viewer.repCount() < this._viewer.getMaxRepresentationCount()) {\r\n    $(\r\n      `${this._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-add-repr]`\r\n    ).removeClass('disabled')\r\n  } else {\r\n    $(\r\n      `${this._menuId} .miew-repr-list-controls [data-btn-type=miew-menu-btn-add-repr]`\r\n    ).addClass('disabled')\r\n  }\r\n}\r\n\r\nMenu.prototype._updateResolutionCombo = function () {\r\n  this._removeActiveFromCombo('resolution')\r\n\r\n  const elements = $(`${this._menuId} [data-value=miew-menu-panel-resolution]`)\r\n  const resSelector = $(\r\n    `${this._menuId} [data-toggle=resolution][data-value=\"${settings.now.resolution}\"]`\r\n  )\r\n\r\n  elements[0].firstElementChild.firstElementChild.textContent =\r\n    resSelector.text()\r\n  resSelector.addClass('active')\r\n}\r\n\r\nMenu.prototype.setBlur = function (enable) {\r\n  const container = this._viewer._container\r\n  if (enable) {\r\n    container.classList.add('blur')\r\n  } else {\r\n    container.classList.remove('blur')\r\n  }\r\n}\r\n\r\nMenu.prototype.show = function (panelID, menuItem) {\r\n  const self = this\r\n\r\n  this.setBlur(true)\r\n  this._titlebar.hide()\r\n\r\n  const selectorHide = self._getPanelSelector(self._curPanelID)\r\n  selectorHide.hide()\r\n  $(`${self._menuId} a[data-value=\"${self._curMenuItem}\"]`).removeClass(\r\n    'active'\r\n  )\r\n\r\n  self._curPanelID = panelID\r\n  self._curMenuItem = menuItem\r\n  if (this._xs === false) {\r\n    const selectorShow = self._getPanelSelector(self._curPanelID)\r\n    selectorShow.show()\r\n    $(`${self._menuId} a[data-value=\"${menuItem}\"]`).addClass('active')\r\n  }\r\n\r\n  // Prepare a copy of settings to fill\r\n  settings.checkpoint()\r\n\r\n  self._updateDisplayOptions('miew-menu-panel-palette', 'palette', palettes)\r\n  self._fillSelectionColorCombo(settings.get('palette'))\r\n\r\n  self._fillSourceList()\r\n  self._initReprList()\r\n\r\n  self._updateResolutionCombo()\r\n\r\n  $(`${self._menuId} input[type=checkbox][data-dir=settings]`).each(\r\n    (index, element) => {\r\n      const param = element.getAttribute('data-toggle')\r\n      if (param === 'bg.color') {\r\n        $(`${self._menuId} [data-toggle=\"${param}\"]`).bootstrapSwitch(\r\n          'state',\r\n          settings.get(param) === 0x202020\r\n        )\r\n      } else {\r\n        $(`${self._menuId} [data-toggle=\"${param}\"]`).bootstrapSwitch(\r\n          'state',\r\n          settings.get(param)\r\n        )\r\n      }\r\n    }\r\n  )\r\n\r\n  // renew currently opened mode-, colorer-, matpreset- combobox panel (need, when they were changed from toolbar)\r\n  if (\r\n    self._curPanelID.indexOf('selection') !== -1 ||\r\n    self._curPanelID.indexOf('mode') !== -1 ||\r\n    self._curPanelID.indexOf('color') !== -1 ||\r\n    self._curPanelID.indexOf('matpreset') !== -1\r\n  ) {\r\n    const reprList = $(\r\n      `${self._menuId} [data-panel-type=miew-menu-panel-representation] .miew-repr-list`\r\n    )\r\n    const comboPanel = reprList.find(\r\n      `.panel:eq(${self._curReprIdx}) [data-value=\"${self._curPanelID}\"]`\r\n    )\r\n    if (comboPanel) {\r\n      comboPanel.click() // call update of active item, getting value from current reprList\r\n    }\r\n  }\r\n\r\n  $(`${self._menuId} .panel-menu[data-panel-type=miew-menu-panel-main]`).show()\r\n  this._menu.show()\r\n}\r\n\r\nMenu.prototype.showTerminal = function () {\r\n  this._terminal.show()\r\n  this._terminalWindow.focus()\r\n  this._term.resize()\r\n}\r\n\r\nMenu.prototype._removeActiveFromCombo = function (comboName) {\r\n  const selector = $(`${this._menuId} [data-toggle=${comboName}].active`)\r\n  selector.removeClass('active')\r\n}\r\n\r\nMenu.prototype.hide = function () {\r\n  // Clear resolution setting display because it might be changed\r\n  const resSelector = $(\r\n    `${this._menuId} [data-toggle=resolution][data-value=\"${settings.now.resolution}\"]`\r\n  )\r\n  resSelector.removeClass('active')\r\n\r\n  // Clear active items in currently opened mode- o colorer- combobox panel, because they might be changed\r\n  if (this._curPanelID.indexOf('mode') !== -1) {\r\n    this._removeActiveFromCombo('mode')\r\n  } else if (this._curPanelID.indexOf('color') !== -1) {\r\n    this._removeActiveFromCombo('colorer')\r\n  } else if (this._curPanelID.indexOf('matpreset') !== -1) {\r\n    this._removeActiveFromCombo('material')\r\n  }\r\n\r\n  // Resume rendering\r\n  this.setBlur(false)\r\n  this._titlebar.show()\r\n\r\n  this._menu.hide()\r\n}\r\n\r\nMenu.prototype.hideTerminal = function () {\r\n  this._terminal.hide()\r\n  this._terminalWindow.focus(false)\r\n}\r\n\r\nMenu.prototype._hideToolbarPanel = function () {\r\n  const toolbar = $(`${this._menuId} [data-toggle=\"toolbar\"].active`)\r\n  toolbar.trigger('click')\r\n}\r\n\r\nMenu.prototype._onMenuOn = function () {\r\n  // Stop rendering to lower CPU load\r\n  this._viewer.halt()\r\n  $(`${this._menuId} .overlay`).hide()\r\n  this._reprListChanged = false\r\n  this._initPresetsPanel()\r\n  this._hideToolbarPanel()\r\n  // Show the panel\r\n  this.show(this._curPanelID, this._curMenuItem)\r\n}\r\n\r\nMenu.prototype._onTerminalOn = function () {\r\n  $(`${this._menuId} .overlay`).hide()\r\n  this._viewer.enableHotKeys(false)\r\n  this._hideToolbarPanel()\r\n  this.showTerminal()\r\n}\r\n\r\nMenu.prototype._onMenuOff = function () {\r\n  this._updateReprList()\r\n\r\n  // Apply changed settings\r\n  if (this._reprListChanged) {\r\n    this._viewer.repGet().needsRebuild = true\r\n  }\r\n\r\n  this.hide()\r\n  this._viewer.run()\r\n  $(`${this._menuId} .overlay`).show()\r\n  this._fixKeyboard()\r\n}\r\n\r\nMenu.prototype._onTerminalOff = function () {\r\n  this.hideTerminal()\r\n  this._viewer.enableHotKeys(true)\r\n  $(`${this._menuId} .overlay`).show()\r\n  this._fixKeyboard()\r\n}\r\n\r\nMenu.prototype._fixKeyboard = function () {\r\n  // do IFRAME related hack\r\n  if (window !== window.top) {\r\n    const parentDocument = window.top.document\r\n    let button = parentDocument.querySelector('button')\r\n    if (!button) {\r\n      const body = parentDocument.querySelector('body')\r\n      if (body) {\r\n        button = parentDocument.createElement('button')\r\n        button.style.visibility = 'hidden'\r\n        body.appendChild(button)\r\n        button = parentDocument.querySelector('button')\r\n      }\r\n    }\r\n    if (!button) {\r\n      throw new Error(\r\n        'Some input element should be defined in parent frame. Hidden one is ok.'\r\n      )\r\n    }\r\n    button.focus()\r\n  }\r\n}\r\n\r\nMenu.prototype.showOverlay = function () {\r\n  this._titlebar.show()\r\n}\r\n\r\nMenu.prototype.hideOverlay = function () {\r\n  this._titlebar.hide()\r\n}\r\n\r\nMenu.prototype._isXS = function () {\r\n  const nWideWidth = 768\r\n  return document.documentElement.clientWidth < nWideWidth\r\n}\r\n\r\nMenu.prototype._updateDisplayOptions = function (id, name, entityList) {\r\n  let entry = entityList.get(settings.get(name)) || entityList.first\r\n  entry = entry.prototype || entry\r\n  $(\r\n    `${this._menuId} .list-group-item[data-value=\"${id}\"]`\r\n  )[0].firstElementChild.firstElementChild.textContent = entry.name\r\n}\r\n\r\nMenu.prototype._setTitle = function (title) {\r\n  $(`${this._menuId} [data-field=\"title\"]`).text(title)\r\n}\r\n\r\nMenu.prototype._updateInfo = function (dataSource) {\r\n  if (dataSource && dataSource.id !== 'Complex') {\r\n    return\r\n  }\r\n  const complex = dataSource\r\n\r\n  const body = $('.panel-menu[data-panel-type=miew-menu-panel-info]').children(\r\n    '.panel-body'\r\n  )[0]\r\n\r\n  // remove all existing text\r\n  const parent = body\r\n  while (parent.firstChild) {\r\n    parent.removeChild(parent.firstChild)\r\n  }\r\n\r\n  const frag = document.createDocumentFragment()\r\n  if (!complex) {\r\n    frag.appendChild(createElement('p', null, 'No data loaded yet.'))\r\n    body.appendChild(frag)\r\n    return\r\n  }\r\n\r\n  const { metadata } = complex\r\n  const h1 = createElement(\r\n    'h1',\r\n    null,\r\n    `${metadata.id || complex.name || 'Unknown data'} `\r\n  )\r\n  if (metadata.classification) {\r\n    h1.appendChild(createElement('small', null, `/ ${metadata.classification}`))\r\n  }\r\n  frag.appendChild(h1)\r\n\r\n  if (metadata.title) {\r\n    frag.appendChild(createElement('p', null, metadata.title.join(' ')))\r\n  }\r\n\r\n  frag.appendChild(createElement('hr'))\r\n\r\n  function _createRow(name, value) {\r\n    return createElement('tr', null, [\r\n      createElement('td', null, name),\r\n      createElement('td', { class: 'text-center' }, String(value))\r\n    ])\r\n  }\r\n\r\n  frag.appendChild(\r\n    createElement('table', { class: 'table' }, [\r\n      createElement(\r\n        'thead',\r\n        null,\r\n        createElement('tr', null, [\r\n          createElement('th', { class: 'col-xs-10' }, 'Statistics'),\r\n          createElement('th', { class: 'col-xs-2 text-center' }, 'Value')\r\n        ])\r\n      ),\r\n      createElement('tbody', null, [\r\n        _createRow('Atoms', complex.getAtomCount()),\r\n        _createRow('Bonds', complex.getBondCount()),\r\n        _createRow('Residues', complex.getResidueCount()),\r\n        _createRow('Chains', complex.getChainCount()),\r\n        _createRow('Molecules', complex.getMoleculeCount())\r\n      ])\r\n    ])\r\n  )\r\n\r\n  frag.appendChild(createElement('hr'))\r\n  // add molecule info\r\n  const molecules = complex.getMolecules()\r\n  const molList = createElement('ol')\r\n  for (let i = 0; i < molecules.length; i++) {\r\n    molList.appendChild(createElement('li', null, molecules[i].name))\r\n  }\r\n  frag.appendChild(\r\n    createElement('table', { class: 'table' }, [\r\n      createElement(\r\n        'thead',\r\n        null,\r\n        createElement('tr', null, [\r\n          createElement('th', { class: 'col-xs-10' }, 'Molecules')\r\n        ])\r\n      ),\r\n      createElement(\r\n        'tbody',\r\n        null,\r\n        createElement('tr', null, createElement('td', null, molList))\r\n      )\r\n    ])\r\n  )\r\n\r\n  body.appendChild(frag)\r\n}\r\n\r\nMenu.prototype._onResize = function () {\r\n  if (this._xs === false && this._isXS() === true) {\r\n    this._xs = true\r\n    $(\r\n      `${this._menuId} .panel-menu[data-panel-type=miew-menu-panel-main]`\r\n    ).hide()\r\n  }\r\n  if (this._xs === true && this._isXS() === false) {\r\n    this._xs = false\r\n    $(\r\n      `${this._menuId} .panel-menu[data-panel-type=miew-menu-panel-main]`\r\n    ).show()\r\n    $(`${this._menuId} a[data-value=\"${this._curMenuItem}\"]`).addClass('active')\r\n    this._getPanelSelector(this._curPanelID).show()\r\n  }\r\n  if (this._term) {\r\n    this._term.resize()\r\n  }\r\n}\r\n\r\nMenu.prototype._updateReprList = function () {\r\n  const self = this\r\n\r\n  function _createOptionsFromMVData(index, property, element, itemId) {\r\n    const curRep = self._viewer.repGet(index)\r\n    if (curRep[property].id !== itemId) {\r\n      $(element).removeData()\r\n      return itemId\r\n    }\r\n    const opts = $(element).data().mvdata\r\n    if (typeof opts === 'undefined' || _.isEmpty(opts)) {\r\n      return itemId\r\n    }\r\n    const diff = utils.objectsDiff(opts, settings.now[`${property}s`][itemId])\r\n    if (_.isEmpty(diff)) {\r\n      return itemId\r\n    }\r\n    return [itemId, diff]\r\n  }\r\n\r\n  const removeIdxList = []\r\n  let selector = null\r\n  let modeItem = null\r\n  let colorerItem = null\r\n  let matPresetItem = null\r\n  let ucColorItem = null\r\n  let modeId = null\r\n  let colorerId = null\r\n  let matPresetId = null\r\n  let isDeleted = null\r\n  let isAdded = null\r\n  let isVisible = null\r\n  let zClip = null\r\n  let isoValue = null\r\n  let radScale = null\r\n  let ucColor = null\r\n  let repr = null\r\n\r\n  function _fillModeOptionsFromMenu() {\r\n    // change mode's zClip flag if applicable\r\n    if ('zClip' in repr.mode.opts && repr.mode.opts.zClip !== zClip) {\r\n      repr.mode.opts.zClip = zClip\r\n      repr.needsRebuild = true\r\n    }\r\n\r\n    // change mode's radius scale flag if applicable\r\n    if ('scale' in repr.mode.opts && repr.mode.opts.scale !== radScale) {\r\n      repr.mode.opts.scale = radScale\r\n      repr.needsRebuild = true\r\n    }\r\n\r\n    // change mode's isosurface value flag if applicable\r\n    if ('isoValue' in repr.mode.opts && repr.mode.opts.isoValue !== isoValue) {\r\n      repr.mode.opts.isoValue = isoValue\r\n      repr.needsRebuild = true\r\n    }\r\n  }\r\n\r\n  $(\r\n    `${self._menuId} [data-panel-type=miew-menu-panel-representation] ` +\r\n      '.miew-repr-list .panel'\r\n  ).each((index, element) => {\r\n    isDeleted = $(element).hasClass('deleted')\r\n    isAdded = $(element).hasClass('added')\r\n\r\n    if (!(isDeleted && isAdded)) {\r\n      isVisible =\r\n        $(element).find('.panel-heading .btn-visible').css('display') !== 'none'\r\n      selector = $(element).find('[data-type=selection-target]')[0].textContent\r\n      modeItem = $(element).find('[data-value=miew-menu-panel-mode]')[0]\r\n      colorerItem = $(element).find('[data-value=miew-menu-panel-color]')[0]\r\n      matPresetItem = $(element).find(\r\n        '[data-value=miew-menu-panel-matpreset]'\r\n      )[0]\r\n      ucColorItem = $(element).find(\r\n        '[data-value=miew-menu-panel-select-color]'\r\n      )[0]\r\n      modeId =\r\n        modeItem.firstElementChild.firstElementChild.getAttribute('data-id')\r\n      colorerId =\r\n        colorerItem.firstElementChild.firstElementChild.getAttribute('data-id')\r\n      matPresetId =\r\n        matPresetItem.firstElementChild.firstElementChild.getAttribute(\r\n          'data-id'\r\n        )\r\n      ucColor = stringColorToHex(\r\n        ucColorItem.lastChild.firstElementChild.getAttribute('data-id')\r\n      )\r\n\r\n      zClip = $(element).find('[type=checkbox][data-toggle=zClip]')[0].checked\r\n      radScale = parseFloat($(element).find('[data-type=rad]').val())\r\n      isoValue = parseFloat($(element).find('[data-type=iso]').val())\r\n\r\n      if (isDeleted) {\r\n        removeIdxList.push(index)\r\n      } else if (isAdded) {\r\n        const idx = self._viewer.repAdd({\r\n          selector,\r\n          mode: modeId,\r\n          colorer: colorerId\r\n        })\r\n        if (idx >= 0) {\r\n          repr = self._viewer.repGet(idx)\r\n\r\n          _fillModeOptionsFromMenu()\r\n\r\n          if (colorerId === 'UN' || colorerId === 'CB') {\r\n            repr.colorer.opts.color = ucColor\r\n          }\r\n          repr.setMaterialPreset(materials.get(matPresetId))\r\n\r\n          if (repr.visible !== isVisible) {\r\n            self._viewer.setNeedRender()\r\n          }\r\n          repr.show(isVisible)\r\n        }\r\n      } else {\r\n        const modeParams = _createOptionsFromMVData(\r\n          index,\r\n          'mode',\r\n          modeItem,\r\n          modeId\r\n        )\r\n        const colorerParams = _createOptionsFromMVData(\r\n          index,\r\n          'colorer',\r\n          colorerItem,\r\n          colorerId\r\n        )\r\n        index = self._viewer.repCurrent(index)\r\n        self._viewer.rep(index, {\r\n          selector,\r\n          mode: modeParams,\r\n          colorer: colorerParams,\r\n          material: matPresetId\r\n        })\r\n\r\n        repr = self._viewer.repGet()\r\n        // change uniform colorer's color if applicable\r\n        if (colorerId === 'UN' || colorerId === 'CB') {\r\n          if (repr.colorer.opts.color !== ucColor) {\r\n            repr.needsRebuild = true\r\n            repr.colorer.opts.color = ucColor\r\n          }\r\n        }\r\n\r\n        _fillModeOptionsFromMenu()\r\n\r\n        if (repr.visible !== isVisible) {\r\n          self._viewer.setNeedRender()\r\n        }\r\n        repr.show(isVisible)\r\n      }\r\n    }\r\n  })\r\n\r\n  // works only if representation order has not been changed in menu\r\n  const len = removeIdxList.length\r\n  for (let idx = len - 1; idx > -1; --idx) {\r\n    self._viewer.repRemove(removeIdxList[idx])\r\n  }\r\n  self._viewer.repCurrent(self._curReprIdx)\r\n}\r\n\r\nMenu.prototype._enableToolbar = function (enable) {\r\n  const self = this\r\n  if (enable) {\r\n    $(`${self._menuId} [data-toggle=toolbar]`).removeClass('disabled')\r\n  } else {\r\n    $(`${self._menuId} [data-toggle=toolbar]`).addClass('disabled')\r\n  }\r\n}\r\n\r\nexport default Menu\r\n","export default \"<div id=\\\"miew-menu\\\">\\r\\n  <!-- Title bar -->\\r\\n\\r\\n  <div class=\\\"titlebar\\\" style=\\\"display: none\\\">\\r\\n    <span data-field=\\\"title\\\">3D Molecular Viewer</span>\\r\\n\\r\\n    <div class=\\\"btns-miew-titlebar btns-miew-titlebar-left btns-miew-titlebar-main-menu\\\">\\r\\n      <button class=\\\"btn btn-default btn-titlebar\\\" data-toggle=\\\"miew-main-menu\\\" data-state=\\\"on\\\" data-tooltip=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Open menu\\\">\\r\\n        <span class=\\\"glyphicon glyphicon-menu-hamburger\\\"></span>\\r\\n      </button>\\r\\n\\r\\n      <button id=\\\"miew-terminal-btn\\\" type=\\\"button\\\" class=\\\"btn btn-default btn-titlebar\\\" data-toggle=\\\"miew-terminal\\\" data-state=\\\"on\\\" data-tooltip=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Terminal\\\">\\r\\n        <span class=\\\"glyphicon glyphicon-menu-right\\\"></span>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"blog-nav btns-miew-titlebar btns-miew-titlebar-right btns-miew-titlebar-toolbar\\\">\\r\\n\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-default btn-titlebar blog-nav-item\\\" data-toggle=\\\"toolbar\\\" data-value=\\\"miew-menu-toolbar-mode\\\"  data-tooltip=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Display mode\\\">\\r\\n        <span class=\\\"glyphicon glyphicon-picture\\\"></span>\\r\\n      </button>\\r\\n\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-default btn-titlebar blog-nav-item\\\" data-toggle=\\\"toolbar\\\" data-value=\\\"miew-menu-toolbar-colorer\\\"  data-tooltip=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Display color\\\">\\r\\n        <span class=\\\"glyphicon glyphicon-tint\\\"></span>\\r\\n      </button>\\r\\n\\r\\n      <!-- button type=\\\"button\\\" class=\\\"btn btn-default btn-titlebar blog-nav-item\\\" data-toggle=\\\"toolbar\\\" data-value=\\\"miew-menu-toolbar-resolution\\\"  data-tooltip=\\\"tooltip\\\" data-placement=\\\"bottom\\\" title=\\\"Resolution\\\">\\r\\n        <span class=\\\"glyphicon glyphicon-stats\\\"></span>\\r\\n      </button -->\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n  <div class=\\\"toolbar container-fluid\\\" data-toolbar-type=\\\"miew-menu-toolbar-mode\\\" style=\\\"display: none\\\">\\r\\n    <div class=\\\"pseudo-row\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <h5 class=\\\"text-center\\\">Display mode</h5>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"toolbar container-fluid\\\" data-toolbar-type=\\\"miew-menu-toolbar-colorer\\\" style=\\\"display: none\\\">\\r\\n    <div class=\\\"pseudo-row\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <h5 class=\\\"text-center\\\">Display color</h5>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- div class=\\\"toolbar container-fluid\\\" data-toolbar-type=\\\"miew-menu-toolbar-resolution\\\" style=\\\"display: none\\\">\\r\\n    <div class=\\\"pseudo-row\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <h5 class=\\\"text-center\\\">Resolution</h5>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <a href=\\\"#\\\" class=\\\"thumbnail\\\" data-toggle=\\\"resolution-immediate\\\" data-value=\\\"poor\\\">\\r\\n          <img src=\\\"images/resolution/poor.png\\\">\\r\\n          <div class=\\\"caption text-center\\\"><small>Poor</small></div>\\r\\n        </a>\\r\\n        <a href=\\\"#\\\" class=\\\"thumbnail\\\" data-toggle=\\\"resolution-immediate\\\" data-value=\\\"low\\\">\\r\\n          <img src=\\\"images/resolution/low.png\\\">\\r\\n          <div class=\\\"caption text-center\\\"><small>Low</small></div>\\r\\n        </a>\\r\\n        <a href=\\\"#\\\" class=\\\"thumbnail\\\" data-toggle=\\\"resolution-immediate\\\" data-value=\\\"medium\\\">\\r\\n          <img src=\\\"images/resolution/medium.png\\\">\\r\\n          <div class=\\\"caption text-center\\\"><small>Medium</small></div>\\r\\n        </a>\\r\\n        <a href=\\\"#\\\" class=\\\"thumbnail\\\" data-toggle=\\\"resolution-immediate\\\" data-value=\\\"high\\\">\\r\\n          <img src=\\\"images/resolution/high.png\\\">\\r\\n          <div class=\\\"caption text-center\\\"><small>High</small></div>\\r\\n        </a>\\r\\n        <a href=\\\"#\\\" class=\\\"thumbnail\\\" data-toggle=\\\"resolution-immediate\\\" data-value=\\\"ultra\\\">\\r\\n          <img src=\\\"images/resolution/ultra.png\\\">\\r\\n          <div class=\\\"caption text-center\\\"><small>Ultra</small></div>\\r\\n        </a>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div -->\\r\\n\\r\\n  <div class=\\\"container miew-terminal\\\" style=\\\"display: none;\\\">\\r\\n      <div class=\\\"row col-xs-12 col-sm-12 panel panel-default panel-menu panel-dark\\\" data-panel-type=\\\"miew-menu-panel-terminal\\\" style=\\\"background-color: transparent\\\">\\r\\n        <div class=\\\"miew-terminal-body\\\">\\r\\n          <div class=\\\"terminal-window\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- Main menu -->\\r\\n\\r\\n  <div class=\\\"container main-menu\\\" style=\\\"display: none\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n      <!-- Left panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-3 panel panel-default panel-menu panel-dark\\\" data-panel-type=\\\"miew-menu-panel-main\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left\\\" data-toggle=\\\"miew-main-menu\\\" data-state=\\\"off\\\"><span class=\\\"glyphicon glyphicon-menu-hamburger\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title visible-xs\\\">Menu</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body list-group\\\">\\r\\n          <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-info\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-info-sign\\\"></span>&nbsp;<!-- span class=\\\"glyphicon glyphicon-menu-right pull-right\\\"></span -->\\r\\n            Info</a>\\r\\n          <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-presets\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-folder-open\\\"></span>&nbsp;<!-- span class=\\\"glyphicon glyphicon-menu-right pull-right\\\"></span -->\\r\\n            Load</a>\\r\\n          <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-gallery\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-star\\\"></span>&nbsp;<!-- span class=\\\"glyphicon glyphicon-menu-right pull-right\\\"></span -->\\r\\n            Gallery</a>\\r\\n          <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-representation\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-picture\\\"></span>&nbsp;<!-- span class=\\\"glyphicon glyphicon-menu-right pull-right\\\"></span -->\\r\\n            Representations</a>\\r\\n          <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-render\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-eye-open\\\"></span>&nbsp;<!-- span class=\\\"glyphicon glyphicon-menu-right pull-right\\\"></span -->\\r\\n            Render settings</a>\\r\\n          <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-tools\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-wrench\\\"></span>&nbsp;<!-- span class=\\\"glyphicon glyphicon-menu-right pull-right\\\"></span -->\\r\\n            Tools</a>\\r\\n          <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-about\\\">\\r\\n            <span class=\\\"glyphicon glyphicon-question-sign\\\"></span>&nbsp;<!-- span class=\\\"glyphicon glyphicon-menu-right pull-right\\\"></span -->\\r\\n            About</a>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Info panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-info\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left visible-xs\\\" data-toggle=\\\"main-panel\\\" data-value=\\\"miew-menu-panel-main\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Info</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\"></div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Load panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-presets\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left main-back-button visible-xs\\\" data-toggle=\\\"main-panel\\\" data-value=\\\"miew-menu-panel-main\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Load</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"main\\\">\\r\\n            <form data-form-type=\\\"miew-menu-form-load-pdb\\\" style=\\\"margin-bottom:20px; \\\" onsubmit=\\\"return false;\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"control-label\\\">Data to load</label>\\r\\n                <div class=\\\"input-group\\\" style=\\\"margin-bottom: 10px;\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"form-control presets-panel-action\\\" placeholder=\\\"PDB ID or URL...\\\" data-pdb-url-type=\\\"main\\\" data-presets-panel-action=\\\"pdb-inputs-text\\\" data-presets-panel-events=\\\"input,propertychange,paste,keyup\\\">\\r\\n                  <span class=\\\"input-group-btn\\\">\\r\\n                    <span class=\\\"btn btn-primary miew-panel-btn-tooltip\\\"><span class=\\\"glyphicon glyphicon-folder-open\\\"></span><input type=\\\"file\\\" class=\\\"form-control presets-panel-action\\\" data-pdb-url-type=\\\"main\\\" data-presets-panel-action=\\\"pdb-inputs-file\\\"  data-presets-panel-events=\\\"change\\\"></span>\\r\\n                    <span data-btn-type=\\\"miew-menu-btn-browse-file\\\" style=\\\"visibility:hidden;\\\"><input type=\\\"file\\\"></span>\\r\\n                  </span>\\r\\n                </div>\\r\\n                <div class=\\\"alert alert-warning\\\" role=\\\"alert\\\" data-pdb-url-type=\\\"main\\\"></div>\\r\\n                <div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" data-pdb-url-type=\\\"main\\\"></div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-6 col-xs-6\\\" style=\\\"padding:0\\\">\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-6 col-xs-6\\\" style=\\\"padding:0\\\">\\r\\n                  <span class=\\\"pull-right btn btn-danger presets-panel-action\\\" data-tooltip=\\\"tooltip\\\" data-presets-panel-action=\\\"pdb-inputs-clear\\\" style=\\\"min-width: 150px; margin-left: 10px;\\\">Cancel</span>\\r\\n                  <span class=\\\"pull-right btn btn-primary presets-panel-action\\\" data-tooltip=\\\"tooltip\\\" data-presets-panel-action=\\\"pdb-load\\\" style=\\\"min-width: 150px; margin-left: 10px;\\\">Load</span>\\r\\n                </div>\\r\\n              </div>\\r\\n            </form>\\r\\n\\r\\n            <form data-form-type=\\\"miew-menu-form-auto-preset\\\">\\r\\n              <ul class=\\\"list-group\\\">\\r\\n                <li class=\\\"list-group-item\\\"><label>Automatic preset on load</label> <div class=\\\"pull-right\\\">\\r\\n                  <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"autoPreset\\\" data-size=\\\"mini\\\" title=\\\"Automatic preset\\\">\\r\\n                </div></li>\\r\\n              </ul>\\r\\n            </form>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Gallery panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-gallery\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left visible-xs\\\" data-toggle=\\\"main-panel\\\" data-value=\\\"miew-menu-panel-main\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Gallery</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"container-fluid\\\">\\r\\n            <div class=\\\"row-fluid\\\">\\r\\n              <div class=\\\"col-xs-6 col-sm-4\\\" data-toggle=\\\"preset-pdb\\\" data-value=\\\"pc:serotonin\\\" data-query=\\\"p=small&mt=ME&v=1P1erPnlYqD3sL7u8kNxQPmZl0L4NUDlA0c6VPg%3D%3D\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"thumbnail\\\">\\r\\n                  <img src=\\\"images/serotonin.png\\\">\\r\\n                  <div class=\\\"caption text-center\\\">Serotonin</div>\\r\\n                </a>\\r\\n              </div>\\r\\n              <div class=\\\"col-xs-6 col-sm-4\\\" data-toggle=\\\"preset-pdb\\\" data-value=\\\"data/1CRN.pdb\\\" data-query=\\\"p=macro\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"thumbnail\\\">\\r\\n                  <img src=\\\"images/1CRN.png\\\">\\r\\n                  <div class=\\\"caption text-center\\\">1CRN <small>(0.3k)</small></div>\\r\\n                </a>\\r\\n              </div>\\r\\n              <div class=\\\"col-xs-6 col-sm-4\\\" data-toggle=\\\"preset-pdb\\\" data-value=\\\"1AID\\\" data-query=\\\"p=macro&m=CS&c=CH&r=1&s=hetatm+and+altloc+A&v=1XA99wmIQG8LRIls%2BLXGoPRDqTb%2BdvOC/PEyQPg%3D%3D\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"thumbnail\\\">\\r\\n                  <img src=\\\"images/1AID.png\\\">\\r\\n                  <div class=\\\"caption text-center\\\">1AID <small>(1.6k)</small></div>\\r\\n                </a>\\r\\n              </div>\\r\\n              <div class=\\\"col-xs-6 col-sm-4\\\" data-toggle=\\\"preset-pdb\\\" data-value=\\\"2BFU\\\" data-query=\\\"p=macro&c=CH&r=2&s=all&m=CS&c=CH&mt=TR&v=1AAAAgAAAAIAAAACAAtq6O7plpT4VEF6%2B1/WQPQ%3D%3D\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"thumbnail\\\">\\r\\n                  <img src=\\\"images/2BFU.png\\\">\\r\\n                  <div class=\\\"caption text-center\\\">2BFU <small>(5.2k)</small></div>\\r\\n                </a>\\r\\n              </div>\\r\\n              <div class=\\\"col-xs-6 col-sm-4\\\" data-toggle=\\\"preset-pdb\\\" data-value=\\\"5B40\\\" data-query=\\\"p=macro&r=2&s=nucleic&m=CS&c=SS&mt=TR&v=1EBjRwvhTz0CYbo7BE0KGPBxejb/3yk2//Wb1vg%3D%3D\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"thumbnail\\\">\\r\\n                  <img src=\\\"images/5B40.png\\\">\\r\\n                  <div class=\\\"caption text-center\\\">5B40 <small>(11.8k)</small></div>\\r\\n                </a>\\r\\n              </div>\\r\\n              <div class=\\\"col-xs-6 col-sm-4\\\" data-toggle=\\\"preset-pdb\\\" data-value=\\\"mmtf:4TNW\\\" data-query=\\\"p=macro&c=SQ&v=1xQCuQgIrbUHD9arAmmsnPIj8NL/mF6u%2Bx26BPg%3D%3D\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"thumbnail\\\">\\r\\n                  <img src=\\\"images/4TNW.png\\\">\\r\\n                  <div class=\\\"caption text-center\\\">4TNW <small>(30.4k)</small></div>\\r\\n                </a>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Representation panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-representation\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left visible-xs\\\" data-toggle=\\\"main-panel\\\" data-value=\\\"miew-menu-panel-main\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Representations</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"dropdown\\\" id=\\\"miew-source-dropdown\\\" style=\\\"margin-bottom: 0.5em; display: none\\\">\\r\\n            <button class=\\\"btn btn-primary dropdown-toggle\\\" type=\\\"button\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n              <span class=\\\"glyphicon glyphicon-file\\\"></span> <span id=\\\"miew-source-name\\\">File</span>\\r\\n              <span class=\\\"caret\\\"></span>\\r\\n            </button>\\r\\n            <ul class=\\\"dropdown-menu\\\" id=\\\"miew-source-list\\\">\\r\\n            </ul>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"panel-group miew-repr-list\\\" role=\\\"tablist\\\" aria-multiselectable=\\\"true\\\" style=\\\"padding-bottom: 5px; margin-bottom: 0;\\\">\\r\\n\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"btn-group miew-repr-list-controls\\\" role=\\\"group\\\">\\r\\n            <a class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-btn-type=\\\"miew-menu-btn-add-repr\\\">\\r\\n              <span class=\\\"glyphicon glyphicon-plus\\\"></span>\\r\\n              Add new representation\\r\\n            </a>\\r\\n            <a class=\\\"btn btn-default\\\" type=\\\"button\\\" data-btn-type=\\\"miew-menu-btn-del-repr\\\">\\r\\n              <span class=\\\"glyphicon glyphicon-trash\\\"></span>\\r\\n              Delete current representation\\r\\n            </a>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Render panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-render\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left visible-xs\\\" data-toggle=\\\"main-panel\\\" data-value=\\\"miew-menu-panel-main\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Render settings</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n\\r\\n          <form data-form-type=\\\"miew-menu-form-render\\\">\\r\\n\\r\\n            <ul class=\\\"list-group\\\">\\r\\n              <!-- Resolution -->\\r\\n              <li class=\\\"list-group-item\\\" data-toggle=\\\"combobox-panel\\\" data-value=\\\"miew-menu-panel-resolution\\\">Resolution\\r\\n              <span class=\\\"pull-right\\\">\\r\\n                <span class=\\\"text-muted\\\"></span>\\r\\n                <span class=\\\"glyphicon glyphicon-menu-right\\\"></span>\\r\\n              </span>\\r\\n              </li>\\r\\n              <!-- Resolution autodetection -->\\r\\n              <li class=\\\"list-group-item\\\"><label>Resolution autodetection</label> <span class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"autoResolution\\\" data-size=\\\"mini\\\" title=\\\"Resolution autodetection\\\">\\r\\n              </span></li>\\r\\n              <!-- Fog -->\\r\\n              <li class=\\\"list-group-item\\\"><label>Fog</label> <span class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"fog\\\" data-size=\\\"mini\\\" title=\\\"Fog\\\">\\r\\n              </span></li>\\r\\n              <!-- Axes -->\\r\\n              <li class=\\\"list-group-item\\\"><label>Axes</label> <div class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"axes\\\" data-size=\\\"mini\\\" title=\\\"Axes\\\">\\r\\n              </div></li>\\r\\n              <!-- FPS -->\\r\\n              <li class=\\\"list-group-item\\\"><label>FPS counter</label> <div class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"fps\\\" data-size=\\\"mini\\\" title=\\\"FPS counter\\\">\\r\\n              </div></li>\\r\\n              <!-- Palette -->\\r\\n              <li class=\\\"list-group-item\\\" data-toggle=\\\"combobox-panel\\\" data-value=\\\"miew-menu-panel-palette\\\">Palette\\r\\n              <span class=\\\"pull-right\\\">\\r\\n                <span class=\\\"text-muted\\\"></span>\\r\\n                <span class=\\\"glyphicon glyphicon-menu-right\\\"></span>\\r\\n              </span>\\r\\n              </li>\\r\\n              <!-- Background color -->\\r\\n              <li class=\\\"list-group-item\\\"><label>Background color</label> <div class=\\\"checkbox-background pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"bg.color\\\" data-size=\\\"mini\\\" data-on-text=\\\"Dark\\\" data-off-text=\\\"Light\\\" data-handle-width=\\\"46\\\" data-label-width=\\\"0\\\"  title=\\\"Background color\\\">\\r\\n              </div></li>\\r\\n              <!-- FXAA -->\\r\\n              <li class=\\\"list-group-item\\\"><label>FXAA</label> <span class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"fxaa\\\" data-size=\\\"mini\\\"  title=\\\"FXAA\\\">\\r\\n              </span></li>\\r\\n              <!-- Amient Occlusion -->\\r\\n              <li class=\\\"list-group-item\\\"><label>Ambient Occlusion</label> <span class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"ao\\\" data-size=\\\"mini\\\"  title=\\\"Ambient Occlusion\\\">\\r\\n              </span></li>\\r\\n              <!-- Shadow Map -->\\r\\n              <li class=\\\"list-group-item\\\"><label>Shadow Map</label> <span class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"shadow.on\\\" data-size=\\\"mini\\\"  title=\\\"ShadowMap\\\">\\r\\n              </span></li>\\r\\n              <!-- Clip plane -->\\r\\n              <li class=\\\"list-group-item\\\"><label>Clip Plane</label> <span class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"draft.clipPlane\\\" data-size=\\\"mini\\\" title=\\\"Clip Plane\\\">\\r\\n              </span></li>\\r\\n              <!-- Outline -->\\r\\n              <li class=\\\"list-group-item\\\"><label>Outline</label> <span class=\\\"pull-right\\\">\\r\\n                <input type=\\\"checkbox\\\" data-dir=\\\"settings\\\" data-toggle=\\\"outline.on\\\" data-size=\\\"mini\\\"  title=\\\"Outline\\\">\\r\\n              </span></li>\\r\\n\\r\\n            </ul>\\r\\n\\r\\n          </form>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Tools panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-tools\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left visible-xs\\\" data-toggle=\\\"main-panel\\\" data-value=\\\"miew-menu-panel-main\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Tools</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"list-group\\\">\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"dssp\\\"><span class=\\\"glyphicon glyphicon-sort\\\"></span>&nbsp;\\r\\n              Assign secondary structure\\r\\n            </a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"reset-view\\\"><span class=\\\"glyphicon glyphicon-refresh\\\"></span>&nbsp;\\r\\n              Reset view\\r\\n            </a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"screenshot\\\"><span class=\\\"glyphicon glyphicon-camera\\\"></span>&nbsp;\\r\\n              Screenshot\\r\\n            </a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"get-url\\\"><span class=\\\"glyphicon glyphicon-link\\\"></span>&nbsp;\\r\\n              Get URL\\r\\n            </a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"get-script\\\"><span class=\\\"glyphicon glyphicon-list-alt\\\"></span>&nbsp;\\r\\n              Get script\\r\\n            </a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"save-settings\\\"><span class=\\\"glyphicon glyphicon-log-in\\\"></span>&nbsp;\\r\\n              Save settings\\r\\n            </a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"restore-settings\\\"><span class=\\\"glyphicon glyphicon-log-out\\\"></span>&nbsp;\\r\\n              Restore settings\\r\\n            </a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"reset-settings\\\"><span class=\\\"glyphicon glyphicon-refresh\\\"></span>&nbsp;\\r\\n              Reset settings\\r\\n            </a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"miew-menu-tools\\\" data-value=\\\"fbx-export\\\" style=\\\"display: block\\\"><span class=\\\"glyphicon glyphicon-floppy-save\\\"></span>&nbsp;\\r\\n              Export FBX\\r\\n            </a>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- About panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-about\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left visible-xs\\\" data-toggle=\\\"main-panel\\\" data-value=\\\"miew-menu-panel-main\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">About</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div style=\\\"left: 0;top: 40px;position: absolute;\\\">\\r\\n            <a href=\\\"https://github.com/epam/miew\\\">\\r\\n              <img style=\\\"position: absolute; top: 0; left: 0; border: 0;\\\" src=\\\"https://camo.githubusercontent.com/82b228a3648bf44fc1163ef44c62fcc60081495e/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67\\\" alt=\\\"Fork me on GitHub\\\" data-canonical-src=\\\"https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png\\\">\\r\\n            </a>\\r\\n          </div>\\r\\n          <div class=\\\"text-center\\\">\\r\\n            <img src=\\\"images/logo.svg\\\">\\r\\n            <h3 class=\\\"text-center\\\" style=\\\"max-width:35ex;margin:20px auto 10px\\\">\\r\\n              <span style=\\\"white-space:nowrap;\\\">Miew &ndash; 3D Molecular Viewer</span>\\r\\n              <small class=\\\"PACKAGE_VERSION\\\" style=\\\"white-space:nowrap;\\\"></small>\\r\\n            </h3>\\r\\n\\r\\n            <p>Copyright  20152022 EPAM Systems, Inc.</p>\\r\\n            <p><a href=\\\"https://epa.ms/miew\\\">https://epa.ms/miew</a></p>\\r\\n          </div>\\r\\n          <hr>\\r\\n          <h2>Keyboard and mouse shortcuts</h2>\\r\\n          <div>\\r\\n            <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n              <tr><th>Key</th><th>Action</th></tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n              <tr><td colspan=\\\"2\\\"><b>Camera and object controls</b></td></tr>\\r\\n              <tr><td><kbd>LMB</kbd></td><td>Click to select object part</td></tr>\\r\\n              <tr><td>&nbsp;</td><td>Double click to change object rotation center</td></tr>\\r\\n              <tr><td>&nbsp;</td><td>Drag to rotate object in 3D</td></tr>\\r\\n              <tr><td><kbd>Shift</kbd> + <kbd>LMB</kbd></td><td>Drag to rotate object in Z plane</td></tr>\\r\\n              <tr><td><kbd>Mouse Wheel</kbd></td><td>Scale object</td></tr>\\r\\n              <tr><td><kbd>RMB</kbd></td><td>Drag to shift molecule</td></tr>\\r\\n\\r\\n              <tr><td colspan=\\\"2\\\"><b>Component / fragment edit mode</b></td></tr>\\r\\n              <tr><td><kbd>C</kbd> / <kbd>F</kbd></td><td>Enter the component or fragment edit mode</td></tr>\\r\\n              <tr><td><kbd>A</kbd> / <kbd>D</kbd></td><td>Apply or discard changes</td></tr>\\r\\n              <tr><td><kbd>Alt</kbd> + <kbd>LMB</kbd></td><td>Drag to rotate component / fragment in 3D</td></tr>\\r\\n              <tr><td><kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>LMB</kbd></td><td>Drag to rotate component / fragment in Z plane</td></tr>\\r\\n              <tr><td><kbd>Alt</kbd> + <kbd>Ctrl</kbd> + <kbd>LMB</kbd></td><td>Drag to translate component in Z plane</td></tr>\\r\\n\\r\\n              <tr><td colspan=\\\"2\\\"><b>Other</b></td></tr>\\r\\n              <tr><td><kbd>X</kbd></td><td>Extract selection as a new representation</td></tr>\\r\\n            </tbody>\\r\\n            </table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Mode panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-mode\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-representation\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Display mode</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"list-group\\\">\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Color panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-color\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-representation\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Display color</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"list-group\\\">\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Palette panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-palette\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-render\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Display palette</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"list-group\\\">\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Material presets panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-matpreset\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-representation\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Material</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"list-group\\\">\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Color panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-select-color\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-representation\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Choose color</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Resolution panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-resolution\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-render\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Render resolution</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n          <div class=\\\"list-group\\\">\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"resolution\\\" data-value=\\\"poor\\\">Poor</a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"resolution\\\" data-value=\\\"low\\\">Low</a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"resolution\\\" data-value=\\\"medium\\\">Medium</a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"resolution\\\" data-value=\\\"high\\\">High</a>\\r\\n            <a href=\\\"#\\\" class=\\\"list-group-item\\\" data-toggle=\\\"resolution\\\" data-value=\\\"ultra\\\">Ultra</a>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Selection panel -->\\r\\n\\r\\n      <div class=\\\"col-xs-12 col-sm-9 panel panel-default panel-menu\\\" data-panel-type=\\\"miew-menu-panel-selection\\\" style=\\\"display: none\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n          <button class=\\\"btn btn-default btn-titlebar pull-left\\\" data-toggle=\\\"panel\\\" data-value=\\\"miew-menu-panel-representation\\\"><span class=\\\"glyphicon glyphicon-menu-left\\\"></span></button>\\r\\n          <h3 class=\\\"panel-title\\\">Selection</h3>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>Selection string</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"form-control\\\">\\r\\n                <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-btn-type=\\\"miew-menu-btn-apply-sel\\\">Apply</button></span>\\r\\n              </div>\\r\\n              <span class=\\\"help-block\\\">For example:\\r\\n                \\\"<a href=\\\"#\\\">all</a>\\\",\\r\\n                \\\"<a href=\\\"#\\\">not hetatm</a>\\\",\\r\\n                \\\"<a href=\\\"#\\\">hetatm and not water</a>\\\",\\r\\n                \\\"<a href=\\\"#\\\">residue ALA, CYS</a>\\\",\\r\\n                \\\"<a href=\\\"#\\\">serial 1:10, 20:30 and elem C,N</a>\\\".\\r\\n                </span>\\r\\n            </div>\\r\\n            <div class=\\\"alert alert-danger\\\" style=\\\"display:none; font-family: 'Anonymous Pro','Consolas','Courier New',Courier,monospace; white-space: pre\\\"></div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-6 col-sm-6 column\\\">\\r\\n              <ul class=\\\"nav nav-tabs\\\">\\r\\n                <li class=\\\"active\\\"><a data-toggle=\\\"tab\\\" href=\\\"[data-tab-content=singleword]\\\">Single</a></li>\\r\\n                <li><a data-toggle=\\\"tab\\\" href=\\\"[data-tab-content=keyword]\\\">Key</a></li>\\r\\n                <li><a data-toggle=\\\"tab\\\" href=\\\"[data-tab-content=value]\\\">Value</a></li>\\r\\n              </ul>\\r\\n\\r\\n              <div class=\\\"tab-content\\\">\\r\\n                <div data-tab-content=\\\"singleword\\\" class=\\\"tab-pane fade in active\\\">\\r\\n                  <div class=\\\"list-group\\\">\\r\\n\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div data-tab-content=\\\"keyword\\\" class=\\\"tab-pane fade\\\">\\r\\n                  <div class=\\\"list-group\\\">\\r\\n\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div data-tab-content=\\\"value\\\" class=\\\"tab-pane fade\\\">\\r\\n                  <div class=\\\"list-group\\\">\\r\\n\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-6 col-sm-6 column calc\\\">\\r\\n              <a class=\\\"col-xs-6 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\" \\\">SPACE</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc delete\\\" data-delete-type=\\\"clear\\\">CLEAR</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc delete\\\" data-delete-type=\\\"backspace\\\"><span class=\\\"glyphicon glyphicon-arrow-left\\\"></span></a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"and \\\">and</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"or \\\">or</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"not \\\">not</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc char\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"A\\\">A</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"7\\\">7</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"8\\\">8</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"9\\\">9</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc char\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"B\\\">B</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"4\\\">4</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"5\\\">5</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"6\\\">6</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc char\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"C\\\">C</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"1\\\">1</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"2\\\">2</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"3\\\">3</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc char\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"D\\\">D</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc digit\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"0\\\">0</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"(\\\">(</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\")\\\">)</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc char\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"H\\\">H</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\",\\\">,</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\":\\\">:</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"&#34;\\\">\\\"</a>\\r\\n              <a class=\\\"col-xs-3 btn btn-default btn-calc char\\\" data-toggle=\\\"selection-input\\\" data-value=\\\"O\\\">O</a>\\r\\n          </div>\\r\\n          </div>\\r\\n          <div></div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!--Tooltips panel container-->\\r\\n    <div class=\\\"miew-menu-panel-tooltips\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- Modals -->\\r\\n  <div class=\\\"miew-menu-modals\\\">\\r\\n    <!-- URL Modal -->\\r\\n    <div class=\\\"modal fade\\\" data-modal-type=\\\"miew-menu-modal-url\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\r\\n      <div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\r\\n            <h4 class=\\\"modal-title\\\">Url</h4>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Script modal -->\\r\\n    <div class=\\\"modal fade\\\" data-modal-type=\\\"miew-menu-modal-script\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\r\\n      <div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\r\\n            <h4 class=\\\"modal-title\\\">Script</h4>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"modal fade\\\" data-modal-type=\\\"miew-menu-modal-global-error\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\r\\n      <div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n            <h4 class=\\\"modal-title\\\"></h4>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">OK</button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\";","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/* eslint-disable */\r\n// DO NOT EDIT! Automatically generated from .jison\r\n/* parser generated by jison 0.4.18 */\r\n/*\r\n  Returns a Parser object of the following structure:\r\n\r\n  Parser: {\r\n    yy: {}\r\n  }\r\n\r\n  Parser.prototype: {\r\n    yy: {},\r\n    trace: function(),\r\n    symbols_: {associative list: name ==> number},\r\n    terminals_: {associative list: number ==> name},\r\n    productions_: [...],\r\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\r\n    table: [...],\r\n    defaultActions: {...},\r\n    parseError: function(str, hash),\r\n    parse: function(input),\r\n\r\n    lexer: {\r\n        EOF: 1,\r\n        parseError: function(str, hash),\r\n        setInput: function(input),\r\n        input: function(),\r\n        unput: function(str),\r\n        more: function(),\r\n        less: function(n),\r\n        pastInput: function(),\r\n        upcomingInput: function(),\r\n        showPosition: function(),\r\n        test_match: function(regex_match_array, rule_index),\r\n        next: function(),\r\n        lex: function(),\r\n        begin: function(condition),\r\n        popState: function(),\r\n        _currentRules: function(),\r\n        topState: function(),\r\n        pushState: function(condition),\r\n\r\n        options: {\r\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\r\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\r\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\r\n        },\r\n\r\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\r\n        rules: [...],\r\n        conditions: {associative list: name ==> set},\r\n    }\r\n  }\r\n\r\n\r\n  token location info (@$, _$, etc.): {\r\n    first_line: n,\r\n    last_line: n,\r\n    first_column: n,\r\n    last_column: n,\r\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\r\n  }\r\n\r\n\r\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\r\n    text:        (matched text)\r\n    token:       (the produced terminal token, if any)\r\n    line:        (yylineno)\r\n  }\r\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\r\n    loc:         (yylloc)\r\n    expected:    (string describing the set of expected tokens)\r\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\r\n  }\r\n*/\r\nvar parser = (function () {\r\n  var o = function (k, v, o, l) {\r\n      for (o = o || {}, l = k.length; l--; o[k[l]] = v);\r\n      return o\r\n    },\r\n    $V0 = [1, 60],\r\n    $V1 = [1, 62],\r\n    $V2 = [1, 63],\r\n    $V3 = [1, 65],\r\n    $V4 = [1, 66],\r\n    $V5 = [1, 67],\r\n    $V6 = [1, 68],\r\n    $V7 = [1, 69],\r\n    $V8 = [1, 80],\r\n    $V9 = [1, 72],\r\n    $Va = [1, 73],\r\n    $Vb = [1, 74],\r\n    $Vc = [1, 75],\r\n    $Vd = [1, 99],\r\n    $Ve = [1, 76],\r\n    $Vf = [1, 100],\r\n    $Vg = [1, 79],\r\n    $Vh = [1, 51],\r\n    $Vi = [1, 81],\r\n    $Vj = [1, 82],\r\n    $Vk = [1, 84],\r\n    $Vl = [1, 83],\r\n    $Vm = [1, 85],\r\n    $Vn = [1, 96],\r\n    $Vo = [1, 97],\r\n    $Vp = [1, 98],\r\n    $Vq = [1, 86],\r\n    $Vr = [1, 87],\r\n    $Vs = [1, 64],\r\n    $Vt = [1, 70],\r\n    $Vu = [1, 71],\r\n    $Vv = [1, 77],\r\n    $Vw = [1, 78],\r\n    $Vx = [1, 53],\r\n    $Vy = [1, 54],\r\n    $Vz = [1, 55],\r\n    $VA = [1, 61],\r\n    $VB = [1, 88],\r\n    $VC = [1, 89],\r\n    $VD = [1, 90],\r\n    $VE = [1, 91],\r\n    $VF = [1, 92],\r\n    $VG = [1, 93],\r\n    $VH = [1, 94],\r\n    $VI = [1, 95],\r\n    $VJ = [1, 101],\r\n    $VK = [1, 102],\r\n    $VL = [1, 103],\r\n    $VM = [1, 104],\r\n    $VN = [1, 105],\r\n    $VO = [1, 56],\r\n    $VP = [1, 57],\r\n    $VQ = [1, 58],\r\n    $VR = [1, 59],\r\n    $VS = [1, 115],\r\n    $VT = [1, 111],\r\n    $VU = [1, 114],\r\n    $VV = [1, 112],\r\n    $VW = [1, 113],\r\n    $VX = [1, 118],\r\n    $VY = [1, 117],\r\n    $VZ = [1, 134],\r\n    $V_ = [1, 149],\r\n    $V$ = [1, 150],\r\n    $V01 = [1, 157],\r\n    $V11 = [\r\n      5, 6, 7, 9, 13, 14, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 35,\r\n      37, 38, 41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70,\r\n      72, 74, 77, 78, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\r\n      96, 97, 98, 99, 101\r\n    ],\r\n    $V21 = [\r\n      5, 6, 7, 9, 13, 14, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 35,\r\n      37, 38, 41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70,\r\n      71, 72, 74, 77, 78, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94,\r\n      95, 96, 97, 98, 99, 101\r\n    ],\r\n    $V31 = [\r\n      5, 6, 7, 9, 13, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 37, 38,\r\n      41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70, 72, 82,\r\n      83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95\r\n    ],\r\n    $V41 = [5, 70, 72],\r\n    $V51 = [5, 74],\r\n    $V61 = [71, 101]\r\n  var parser = {\r\n    trace: function trace() {},\r\n    yy: {},\r\n    symbols_: {\r\n      error: 2,\r\n      Program: 3,\r\n      Command: 4,\r\n      EOF: 5,\r\n      RESET: 6,\r\n      BUILD: 7,\r\n      ALL: 8,\r\n      HELP: 9,\r\n      Path: 10,\r\n      MOTM: 11,\r\n      OneArgCommand: 12,\r\n      GET: 13,\r\n      STRING: 14,\r\n      SET: 15,\r\n      Value: 16,\r\n      SET_SAVE: 17,\r\n      SET_RESTORE: 18,\r\n      SET_RESET: 19,\r\n      PRESET: 20,\r\n      AddRepresentation: 21,\r\n      EditRepresentation: 22,\r\n      REMOVE: 23,\r\n      RepresentationReference: 24,\r\n      HIDE: 25,\r\n      SHOW: 26,\r\n      LIST: 27,\r\n      EXPAND_KEY: 28,\r\n      SELECTOR_KEY: 29,\r\n      SELECT: 30,\r\n      AS: 31,\r\n      WordAll: 32,\r\n      SELECTOR: 33,\r\n      WITHIN: 34,\r\n      NUMBER: 35,\r\n      OF: 36,\r\n      MATERIAL: 37,\r\n      IDENTIFIER: 38,\r\n      ModeCMD: 39,\r\n      ColorCMD: 40,\r\n      VIEW: 41,\r\n      BASE_64: 42,\r\n      UNIT: 43,\r\n      DSSP: 44,\r\n      SCALE: 45,\r\n      ROTATE: 46,\r\n      AxesList: 47,\r\n      TRANSLATE: 48,\r\n      CENTER: 49,\r\n      GetURLBranch: 50,\r\n      Screenshot: 51,\r\n      LINE: 52,\r\n      ArgList: 53,\r\n      LISTOBJ: 54,\r\n      REMOVEOBJ: 55,\r\n      URL: 56,\r\n      VIEW_KEY: 57,\r\n      SCREENSHOT: 58,\r\n      LOAD: 59,\r\n      Url: 60,\r\n      FILE_KEY: 61,\r\n      ADD: 62,\r\n      Description: 63,\r\n      REP: 64,\r\n      MODE: 65,\r\n      COLOR: 66,\r\n      Descriptor: 67,\r\n      RepresentationOwnProperty: 68,\r\n      RepresentationOwnPropertyOpts: 69,\r\n      DESC_KEY: 70,\r\n      '=': 71,\r\n      DESC_KEY_OPTS: 72,\r\n      AxesArg: 73,\r\n      DESC_KEY_AXES: 74,\r\n      Arg: 75,\r\n      PathWoDescKey: 76,\r\n      HEX: 77,\r\n      BOOL: 78,\r\n      Word: 79,\r\n      CommandSetWoDESC_KEY: 80,\r\n      DescKeys: 81,\r\n      CLEAR: 82,\r\n      FILE_LIST: 83,\r\n      FILE_REGISTER: 84,\r\n      FILE_DELETE: 85,\r\n      PRESET_ADD: 86,\r\n      PRESET_DELETE: 87,\r\n      PRESET_UPDATE: 88,\r\n      PRESET_RENAME: 89,\r\n      PRESET_OPEN: 90,\r\n      CREATE_SCENARIO: 91,\r\n      RESET_SCENARIO: 92,\r\n      DELETE_SCENARIO: 93,\r\n      ADD_SCENARIO_ITEM: 94,\r\n      LIST_SCENARIO: 95,\r\n      PDB_KEY: 96,\r\n      DELAY_KEY: 97,\r\n      PRST_KEY: 98,\r\n      DESCRIPTION_KEY: 99,\r\n      CommandSet: 100,\r\n      '.': 101,\r\n      PresetPath: 102,\r\n      '/': 103,\r\n      HexOrNumber: 104,\r\n      $accept: 0,\r\n      $end: 1\r\n    },\r\n    terminals_: {\r\n      2: 'error',\r\n      5: 'EOF',\r\n      6: 'RESET',\r\n      7: 'BUILD',\r\n      8: 'ALL',\r\n      9: 'HELP',\r\n      11: 'MOTM',\r\n      13: 'GET',\r\n      14: 'STRING',\r\n      15: 'SET',\r\n      17: 'SET_SAVE',\r\n      18: 'SET_RESTORE',\r\n      19: 'SET_RESET',\r\n      20: 'PRESET',\r\n      23: 'REMOVE',\r\n      25: 'HIDE',\r\n      26: 'SHOW',\r\n      27: 'LIST',\r\n      28: 'EXPAND_KEY',\r\n      29: 'SELECTOR_KEY',\r\n      30: 'SELECT',\r\n      31: 'AS',\r\n      33: 'SELECTOR',\r\n      34: 'WITHIN',\r\n      35: 'NUMBER',\r\n      36: 'OF',\r\n      37: 'MATERIAL',\r\n      38: 'IDENTIFIER',\r\n      41: 'VIEW',\r\n      42: 'BASE_64',\r\n      43: 'UNIT',\r\n      44: 'DSSP',\r\n      45: 'SCALE',\r\n      46: 'ROTATE',\r\n      48: 'TRANSLATE',\r\n      49: 'CENTER',\r\n      52: 'LINE',\r\n      54: 'LISTOBJ',\r\n      55: 'REMOVEOBJ',\r\n      56: 'URL',\r\n      57: 'VIEW_KEY',\r\n      58: 'SCREENSHOT',\r\n      59: 'LOAD',\r\n      61: 'FILE_KEY',\r\n      62: 'ADD',\r\n      64: 'REP',\r\n      65: 'MODE',\r\n      66: 'COLOR',\r\n      70: 'DESC_KEY',\r\n      71: '=',\r\n      72: 'DESC_KEY_OPTS',\r\n      74: 'DESC_KEY_AXES',\r\n      77: 'HEX',\r\n      78: 'BOOL',\r\n      82: 'CLEAR',\r\n      83: 'FILE_LIST',\r\n      84: 'FILE_REGISTER',\r\n      85: 'FILE_DELETE',\r\n      86: 'PRESET_ADD',\r\n      87: 'PRESET_DELETE',\r\n      88: 'PRESET_UPDATE',\r\n      89: 'PRESET_RENAME',\r\n      90: 'PRESET_OPEN',\r\n      91: 'CREATE_SCENARIO',\r\n      92: 'RESET_SCENARIO',\r\n      93: 'DELETE_SCENARIO',\r\n      94: 'ADD_SCENARIO_ITEM',\r\n      95: 'LIST_SCENARIO',\r\n      96: 'PDB_KEY',\r\n      97: 'DELAY_KEY',\r\n      98: 'PRST_KEY',\r\n      99: 'DESCRIPTION_KEY',\r\n      101: '.',\r\n      103: '/'\r\n    },\r\n    productions_: [\r\n      0,\r\n      [3, 2],\r\n      [3, 1],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 3],\r\n      [4, 3],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 4],\r\n      [4, 2],\r\n      [4, 6],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 2],\r\n      [4, 1],\r\n      [4, 1],\r\n      [4, 3],\r\n      [4, 3],\r\n      [4, 4],\r\n      [4, 4],\r\n      [4, 1],\r\n      [4, 2],\r\n      [50, 1],\r\n      [50, 2],\r\n      [50, 2],\r\n      [50, 3],\r\n      [50, 3],\r\n      [51, 1],\r\n      [51, 2],\r\n      [51, 3],\r\n      [12, 2],\r\n      [12, 2],\r\n      [12, 2],\r\n      [21, 1],\r\n      [21, 2],\r\n      [21, 2],\r\n      [21, 3],\r\n      [22, 2],\r\n      [22, 3],\r\n      [39, 2],\r\n      [39, 3],\r\n      [40, 2],\r\n      [40, 3],\r\n      [24, 1],\r\n      [24, 1],\r\n      [63, 1],\r\n      [63, 2],\r\n      [63, 3],\r\n      [63, 4],\r\n      [67, 1],\r\n      [67, 1],\r\n      [67, 2],\r\n      [68, 3],\r\n      [69, 3],\r\n      [47, 1],\r\n      [47, 2],\r\n      [73, 2],\r\n      [53, 1],\r\n      [53, 2],\r\n      [75, 3],\r\n      [16, 1],\r\n      [16, 1],\r\n      [16, 1],\r\n      [16, 1],\r\n      [16, 1],\r\n      [79, 1],\r\n      [79, 1],\r\n      [32, 1],\r\n      [32, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [80, 1],\r\n      [81, 1],\r\n      [81, 1],\r\n      [81, 1],\r\n      [81, 1],\r\n      [81, 1],\r\n      [81, 1],\r\n      [81, 1],\r\n      [100, 1],\r\n      [100, 1],\r\n      [76, 1],\r\n      [76, 3],\r\n      [76, 3],\r\n      [10, 1],\r\n      [10, 1],\r\n      [10, 3],\r\n      [10, 3],\r\n      [10, 3],\r\n      [60, 1],\r\n      [102, 1],\r\n      [102, 3],\r\n      [104, 1],\r\n      [104, 1]\r\n    ],\r\n    performAction: function anonymous(\r\n      yytext,\r\n      yyleng,\r\n      yylineno,\r\n      yy,\r\n      yystate /* action[1] */,\r\n      $$ /* vstack */,\r\n      _$ /* lstack */\r\n    ) {\r\n      /* this == yyval */\r\n\r\n      var $0 = $$.length - 1\r\n      switch (yystate) {\r\n        case 1:\r\n          return $$[$0 - 1]\r\n          break\r\n        case 3:\r\n          this.$ = yy.miew.reset(false)\r\n          yy.ClearContext()\r\n          yy.miew.resetReps('empty')\r\n          break\r\n        case 4:\r\n          this.$ = yy.miew.rebuild()\r\n          break\r\n        case 5:\r\n          this.$ = yy.miew.rebuildAll()\r\n          yy.miew.rebuild()\r\n          break\r\n        case 6:\r\n          this.$ = yy.echo(yy.utils.help().toString())\r\n          break\r\n        case 7:\r\n          this.$ = yy.echo(yy.utils.help($$[$0]).toString())\r\n          break\r\n        case 8:\r\n          this.$ = yy.miew.motm()\r\n          break\r\n        case 10:\r\n        case 11:\r\n          this.$ = yy.utils.propagateProp($$[$0])\r\n          yy.echo(yy.miew.get($$[$0]).toString())\r\n          break\r\n        case 12:\r\n        case 13:\r\n          this.$ = yy.miew.set(\r\n            $$[$0 - 1],\r\n            yy.utils.propagateProp($$[$0 - 1], $$[$0])\r\n          )\r\n          break\r\n        case 14:\r\n          this.$ = yy.miew.saveSettings()\r\n          break\r\n        case 15:\r\n          this.$ = yy.miew.restoreSettings()\r\n          break\r\n        case 16:\r\n          this.$ = yy.miew.resetSettings()\r\n          break\r\n        case 17:\r\n          this.$ = yy.miew.resetReps()\r\n          break\r\n        case 18:\r\n          this.$ = yy.miew.applyPreset($$[$0])\r\n          break\r\n        case 21:\r\n          this.$ = yy.miew.repRemove($$[$0])\r\n          yy.representations.remove($$[$0])\r\n          break\r\n        case 22:\r\n          this.$ = yy.miew.repHide($$[$0])\r\n          break\r\n        case 23:\r\n          this.$ = yy.miew.repHide($$[$0], false)\r\n          break\r\n        case 24:\r\n          this.$ = yy.echo(\r\n            yy.utils.listRep(yy.miew, yy.representations, $$[$0], '-e')\r\n          )\r\n          break\r\n        case 25:\r\n          this.$ = yy.echo(yy.utils.list(yy.miew, yy.representations))\r\n          break\r\n        case 26:\r\n          this.$ = yy.echo(yy.utils.list(yy.miew, yy.representations, $$[$0]))\r\n          break\r\n        case 27:\r\n          this.$ = yy.echo(yy.utils.listSelector(yy.miew, yy.Context))\r\n          break\r\n        case 28:\r\n          this.$ = yy.miew.select(\r\n            yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0], true)\r\n          )\r\n          break\r\n        case 29:\r\n          this.$ = yy.Context[$$[$0].toLowerCase()] = yy.utils.checkArg(\r\n            $$[$0 - 3].toLowerCase(),\r\n            $$[$0 - 2],\r\n            true\r\n          )\r\n          yy.miew.select(yy.Context[$$[$0].toLowerCase()])\r\n          break\r\n        case 30:\r\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\r\n            selector: yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0])\r\n          })\r\n          break\r\n        case 31:\r\n          this.$ = yy.Context[$$[$0].toLowerCase()] = yy.miew.within(\r\n            yy.utils.checkArg('select', $$[$0 - 2], true),\r\n            Number($$[$0 - 4])\r\n          )\r\n          break\r\n        case 32:\r\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\r\n            material: yy.utils.checkArg(\r\n              $$[$0 - 1].toLowerCase(),\r\n              $$[$0].toUpperCase()\r\n            )\r\n          })\r\n          break\r\n        case 35:\r\n          this.$ = yy.echo(yy.miew.view())\r\n          break\r\n        case 36:\r\n        case 37:\r\n          this.$ = yy.miew.view($$[$0])\r\n          break\r\n        case 38:\r\n          this.$ = yy.echo(yy.miew.changeUnit())\r\n          break\r\n        case 39:\r\n          this.$ = yy.echo(yy.miew.changeUnit($$[$0]))\r\n          break\r\n        case 40:\r\n          this.$ = yy.miew.dssp()\r\n          break\r\n        case 41:\r\n          this.$ = yy.miew.scale($$[$0])\r\n          break\r\n        case 42:\r\n          for (var i = 0, n = $$[$0].length; i < n; i++) {\r\n            yy.miew.rotate(\r\n              ($$[$0][i]['x'] * Math.PI) / 180.0,\r\n              ($$[$0][i]['y'] * Math.PI) / 180.0,\r\n              ($$[$0][i]['z'] * Math.PI) / 180.0\r\n            )\r\n          }\r\n          break\r\n        case 43:\r\n          for (var i = 0, n = $$[$0].length; i < n; i++) {\r\n            yy.miew.translate(\r\n              $$[$0][i]['x'] || 0,\r\n              $$[$0][i]['y'] || 0,\r\n              $$[$0][i]['z'] || 0\r\n            )\r\n          }\r\n          break\r\n        case 44:\r\n          this.$ = yy.miew.center()\r\n          break\r\n        case 45:\r\n          this.$ = yy.miew.center($$[$0])\r\n          break\r\n        case 48:\r\n        case 49:\r\n          this.$ = yy.miew.addObject(\r\n            { type: 'line', params: [$$[$0 - 1], $$[$0]] },\r\n            true\r\n          )\r\n          break\r\n        case 50:\r\n        case 51:\r\n          this.$ = yy.miew.addObject(\r\n            {\r\n              type: 'line',\r\n              params: [$$[$0 - 2], $$[$0 - 1]],\r\n              opts: $$[$0].toJSO(yy.utils, 'objects', 'line')\r\n            },\r\n            true\r\n          )\r\n          break\r\n        case 52:\r\n          this.$ = yy.echo(yy.utils.listObjs(yy.miew))\r\n          break\r\n        case 53:\r\n          this.$ = yy.miew.removeObject($$[$0])\r\n          break\r\n        case 54:\r\n          this.$ = yy.echo(yy.miew.getURL({ view: false, settings: false }))\r\n          break\r\n        case 55:\r\n          this.$ = yy.echo(yy.miew.getURL({ view: false, settings: true }))\r\n          break\r\n        case 56:\r\n          this.$ = yy.echo(yy.miew.getURL({ view: true, settings: false }))\r\n          break\r\n        case 57:\r\n        case 58:\r\n          this.$ = yy.echo(yy.miew.getURL({ view: true, settings: true }))\r\n          break\r\n        case 59:\r\n          this.$ = yy.miew.screenshotSave()\r\n          break\r\n        case 60:\r\n          this.$ = yy.miew.screenshotSave('', Number($$[$0]))\r\n          break\r\n        case 61:\r\n          this.$ = yy.miew.screenshotSave(\r\n            '',\r\n            Number($$[$0 - 1]),\r\n            Number($$[$0])\r\n          )\r\n          break\r\n        case 62:\r\n        case 63:\r\n        case 64:\r\n          this.$ = yy.utils.load(yy.miew, $$[$0])\r\n          yy.representations.clear()\r\n          break\r\n        case 65:\r\n          this.$ = yy.echo(yy.representations.add(yy.miew.repAdd()))\r\n          break\r\n        case 66:\r\n          this.$ = yy.echo(yy.representations.add($$[$0], yy.miew.repAdd()))\r\n          break\r\n        case 67:\r\n          this.$ = yy.echo(yy.representations.add(yy.miew.repAdd($$[$0])))\r\n          break\r\n        case 68:\r\n          this.$ = yy.echo(\r\n            yy.representations.add($$[$0 - 1], yy.miew.repAdd($$[$0]))\r\n          )\r\n          break\r\n        case 69:\r\n          this.$ = yy.miew.rep($$[$0])\r\n          yy.miew.repCurrent($$[$0])\r\n          break\r\n        case 70:\r\n          this.$ = yy.miew.rep($$[$0 - 1], $$[$0])\r\n          yy.miew.repCurrent($$[$0 - 1])\r\n          break\r\n        case 71:\r\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\r\n            mode: yy.utils.checkArg(\r\n              $$[$0 - 1].toLowerCase(),\r\n              $$[$0].toUpperCase()\r\n            )\r\n          })\r\n          break\r\n        case 72:\r\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\r\n            mode: new Array(\r\n              yy.utils.checkArg(\r\n                $$[$0 - 2].toLowerCase(),\r\n                $$[$0 - 1].toUpperCase()\r\n              ),\r\n              $$[$0].toJSO(yy.utils, $$[$0 - 2], $$[$0 - 1].toUpperCase())\r\n            )\r\n          })\r\n          break\r\n        case 73:\r\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\r\n            colorer: yy.utils.checkArg(\r\n              $$[$0 - 1].toLowerCase(),\r\n              $$[$0].toUpperCase()\r\n            )\r\n          })\r\n          break\r\n        case 74:\r\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\r\n            colorer: new Array(\r\n              yy.utils.checkArg(\r\n                $$[$0 - 2].toLowerCase(),\r\n                $$[$0 - 1].toUpperCase()\r\n              ),\r\n              $$[$0].toJSO(yy.utils, $$[$0 - 2], $$[$0 - 1].toUpperCase())\r\n            )\r\n          })\r\n          break\r\n        case 75:\r\n          this.$ = Number(yy.representations.get($$[$0]))\r\n          break\r\n        case 76:\r\n        case 92:\r\n          this.$ = Number($$[$0])\r\n          break\r\n        case 77:\r\n          this.$ = $$[$0]\r\n          break\r\n        case 78:\r\n          this.$ = yy.assign($$[$0 - 1], $$[$0])\r\n          break\r\n        case 79:\r\n          this.$ = yy.assign($$[$0 - 2], $$[$0 - 1], $$[$0])\r\n          break\r\n        case 80:\r\n          this.$ = yy.assign($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0])\r\n          break\r\n        case 81:\r\n        case 82:\r\n          this.$ = yy.CreateObjectPair($$[$0].key, $$[$0].val)\r\n          break\r\n        case 83:\r\n          this.$ = yy.CreateObjectPair(\r\n            $$[$0 - 1].key,\r\n            new Array(\r\n              $$[$0 - 1].val,\r\n              $$[$0].toJSO(yy.utils, $$[$0 - 1].key, $$[$0 - 1].val)\r\n            )\r\n          )\r\n          break\r\n        case 84:\r\n        case 85:\r\n          this.$ = Object.create({\r\n            key: yy.keyRemap($$[$0 - 2]),\r\n            val: yy.utils.checkArg($$[$0 - 2], $$[$0])\r\n          })\r\n          break\r\n        case 86:\r\n          this.$ = [$$[$0]]\r\n          break\r\n        case 87:\r\n          this.$ = $$[$0 - 1].concat($$[$0])\r\n          break\r\n        case 88:\r\n          this.$ = yy.CreateObjectPair($$[$0 - 1].toLowerCase(), Number($$[$0]))\r\n          break\r\n        case 89:\r\n          this.$ = new yy.ArgList($$[$0])\r\n          break\r\n        case 90:\r\n          this.$ = $$[$0 - 1].append($$[$0])\r\n          break\r\n        case 91:\r\n          this.$ = new yy.Arg($$[$0 - 2], $$[$0])\r\n          break\r\n        case 93:\r\n          this.$ = parseInt($$[$0])\r\n          break\r\n        case 94:\r\n          this.$ = JSON.parse($$[$0])\r\n          break\r\n        case 95:\r\n        case 96:\r\n          this.$ = String($$[$0])\r\n          break\r\n        case 157:\r\n        case 158:\r\n        case 161:\r\n        case 162:\r\n        case 163:\r\n          this.$ = $$[$0 - 2] + $$[$0 - 1] + $$[$0] //cause of could be color word in path;\r\n          break\r\n        case 166:\r\n          this.$ = $$[$0 - 2] = $$[$0 - 2] + $$[$0 - 1] + $$[$0]\r\n          break\r\n      }\r\n    },\r\n    table: [\r\n      {\r\n        3: 1,\r\n        4: 2,\r\n        5: [1, 3],\r\n        6: [1, 4],\r\n        7: [1, 5],\r\n        9: [1, 6],\r\n        11: [1, 7],\r\n        12: 8,\r\n        13: [1, 9],\r\n        15: [1, 10],\r\n        17: [1, 11],\r\n        18: [1, 12],\r\n        19: [1, 13],\r\n        20: [1, 14],\r\n        21: 15,\r\n        22: 16,\r\n        23: [1, 17],\r\n        25: [1, 18],\r\n        26: [1, 19],\r\n        27: [1, 20],\r\n        30: [1, 21],\r\n        33: [1, 22],\r\n        34: [1, 23],\r\n        37: [1, 24],\r\n        39: 25,\r\n        40: 26,\r\n        41: [1, 27],\r\n        43: [1, 28],\r\n        44: [1, 29],\r\n        45: [1, 30],\r\n        46: [1, 31],\r\n        48: [1, 32],\r\n        49: [1, 33],\r\n        50: 34,\r\n        51: 35,\r\n        52: [1, 36],\r\n        54: [1, 37],\r\n        55: [1, 38],\r\n        56: [1, 44],\r\n        58: [1, 45],\r\n        59: [1, 39],\r\n        62: [1, 40],\r\n        64: [1, 41],\r\n        65: [1, 42],\r\n        66: [1, 43]\r\n      },\r\n      { 1: [3] },\r\n      { 5: [1, 46] },\r\n      { 1: [2, 2] },\r\n      { 5: [2, 3] },\r\n      { 5: [2, 4], 8: [1, 47] },\r\n      {\r\n        5: [2, 6],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        10: 48,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        70: $Vx,\r\n        72: $Vy,\r\n        74: $Vz,\r\n        79: 49,\r\n        80: 52,\r\n        81: 50,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        96: $VO,\r\n        97: $VP,\r\n        98: $VQ,\r\n        99: $VR\r\n      },\r\n      { 5: [2, 8] },\r\n      { 5: [2, 9] },\r\n      {\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        10: 106,\r\n        13: $V3,\r\n        14: [1, 107],\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        70: $Vx,\r\n        72: $Vy,\r\n        74: $Vz,\r\n        79: 49,\r\n        80: 52,\r\n        81: 50,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        96: $VO,\r\n        97: $VP,\r\n        98: $VQ,\r\n        99: $VR\r\n      },\r\n      {\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        10: 108,\r\n        13: $V3,\r\n        14: [1, 109],\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        70: $Vx,\r\n        72: $Vy,\r\n        74: $Vz,\r\n        79: 49,\r\n        80: 52,\r\n        81: 50,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        96: $VO,\r\n        97: $VP,\r\n        98: $VQ,\r\n        99: $VR\r\n      },\r\n      { 5: [2, 14] },\r\n      { 5: [2, 15] },\r\n      { 5: [2, 16] },\r\n      { 5: [2, 17], 14: $VS, 16: 110, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\r\n      { 5: [2, 19] },\r\n      { 5: [2, 20] },\r\n      { 24: 116, 35: $VX, 38: $VY },\r\n      { 24: 119, 35: $VX, 38: $VY },\r\n      { 24: 120, 35: $VX, 38: $VY },\r\n      { 5: [2, 25], 24: 121, 28: [1, 122], 29: [1, 123], 35: $VX, 38: $VY },\r\n      { 14: [1, 124] },\r\n      { 14: [1, 125] },\r\n      { 35: [1, 126] },\r\n      { 38: [1, 127] },\r\n      { 5: [2, 33] },\r\n      { 5: [2, 34] },\r\n      { 5: [2, 35], 14: [1, 128], 42: [1, 129] },\r\n      { 5: [2, 38], 35: [1, 130] },\r\n      { 5: [2, 40] },\r\n      { 35: [1, 131] },\r\n      { 47: 132, 73: 133, 74: $VZ },\r\n      { 47: 135, 73: 133, 74: $VZ },\r\n      { 5: [2, 44], 14: [1, 136] },\r\n      { 5: [2, 46] },\r\n      { 5: [2, 47] },\r\n      {\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        10: 138,\r\n        13: $V3,\r\n        14: [1, 137],\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        70: $Vx,\r\n        72: $Vy,\r\n        74: $Vz,\r\n        79: 49,\r\n        80: 52,\r\n        81: 50,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        96: $VO,\r\n        97: $VP,\r\n        98: $VQ,\r\n        99: $VR\r\n      },\r\n      { 5: [2, 52] },\r\n      { 35: [1, 139] },\r\n      { 14: [1, 143], 38: [1, 141], 60: 140, 61: [1, 142] },\r\n      {\r\n        5: [2, 65],\r\n        38: [1, 144],\r\n        63: 145,\r\n        67: 146,\r\n        68: 147,\r\n        69: 148,\r\n        70: $V_,\r\n        72: $V$\r\n      },\r\n      { 24: 151, 35: $VX, 38: $VY },\r\n      { 38: [1, 152] },\r\n      { 38: [1, 153] },\r\n      { 5: [2, 54], 29: [1, 154], 57: [1, 155] },\r\n      { 5: [2, 59], 35: [1, 156] },\r\n      { 1: [2, 1] },\r\n      { 5: [2, 5] },\r\n      { 5: [2, 7], 101: $V01 },\r\n      o($V11, [2, 159]),\r\n      o($V11, [2, 160]),\r\n      o($V21, [2, 97]),\r\n      o($V21, [2, 98]),\r\n      o($V11, [2, 147]),\r\n      o($V11, [2, 148]),\r\n      o($V11, [2, 149]),\r\n      o($V11, [2, 150]),\r\n      o($V11, [2, 151]),\r\n      o($V11, [2, 152]),\r\n      o($V11, [2, 153]),\r\n      o($V21, [2, 101]),\r\n      o($V21, [2, 102]),\r\n      o($V21, [2, 103]),\r\n      o($V21, [2, 104]),\r\n      o($V21, [2, 105]),\r\n      o($V21, [2, 106]),\r\n      o($V21, [2, 107]),\r\n      o($V21, [2, 108]),\r\n      o($V21, [2, 109]),\r\n      o($V21, [2, 110]),\r\n      o($V21, [2, 111]),\r\n      o($V21, [2, 112]),\r\n      o($V21, [2, 113]),\r\n      o($V21, [2, 114]),\r\n      o($V21, [2, 115]),\r\n      o($V21, [2, 116]),\r\n      o($V21, [2, 117]),\r\n      o($V21, [2, 118]),\r\n      o($V21, [2, 119]),\r\n      o($V21, [2, 120]),\r\n      o($V21, [2, 121]),\r\n      o($V21, [2, 122]),\r\n      o($V21, [2, 123]),\r\n      o($V21, [2, 124]),\r\n      o($V21, [2, 125]),\r\n      o($V21, [2, 126]),\r\n      o($V21, [2, 127]),\r\n      o($V21, [2, 128]),\r\n      o($V21, [2, 129]),\r\n      o($V21, [2, 130]),\r\n      o($V21, [2, 131]),\r\n      o($V21, [2, 132]),\r\n      o($V21, [2, 133]),\r\n      o($V21, [2, 134]),\r\n      o($V21, [2, 135]),\r\n      o($V21, [2, 136]),\r\n      o($V21, [2, 137]),\r\n      o($V21, [2, 138]),\r\n      o($V21, [2, 139]),\r\n      o($V21, [2, 140]),\r\n      o($V21, [2, 141]),\r\n      o($V21, [2, 142]),\r\n      o($V21, [2, 143]),\r\n      o($V21, [2, 144]),\r\n      o($V21, [2, 145]),\r\n      o($V21, [2, 146]),\r\n      { 5: [2, 10], 101: $V01 },\r\n      { 5: [2, 11] },\r\n      { 14: $VS, 16: 158, 35: $VT, 38: $VU, 77: $VV, 78: $VW, 101: $V01 },\r\n      { 14: $VS, 16: 159, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\r\n      { 5: [2, 18] },\r\n      o($V31, [2, 92]),\r\n      o($V31, [2, 93]),\r\n      o($V31, [2, 94]),\r\n      o($V31, [2, 95]),\r\n      o($V31, [2, 96]),\r\n      { 5: [2, 21] },\r\n      o($V41, [2, 75]),\r\n      o($V41, [2, 76]),\r\n      { 5: [2, 22] },\r\n      { 5: [2, 23] },\r\n      { 5: [2, 24] },\r\n      { 5: [2, 26] },\r\n      { 5: [2, 27] },\r\n      { 5: [2, 28], 31: [1, 160] },\r\n      { 5: [2, 30] },\r\n      { 36: [1, 161] },\r\n      { 5: [2, 32] },\r\n      { 5: [2, 36] },\r\n      { 5: [2, 37] },\r\n      { 5: [2, 39] },\r\n      { 5: [2, 41] },\r\n      { 5: [2, 42], 73: 162, 74: $VZ },\r\n      o($V51, [2, 86]),\r\n      { 35: [1, 163] },\r\n      { 5: [2, 43], 73: 162, 74: $VZ },\r\n      { 5: [2, 45] },\r\n      { 14: [1, 164] },\r\n      {\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        10: 165,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        70: $Vx,\r\n        72: $Vy,\r\n        74: $Vz,\r\n        79: 49,\r\n        80: 52,\r\n        81: 50,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        96: $VO,\r\n        97: $VP,\r\n        98: $VQ,\r\n        99: $VR,\r\n        101: $V01\r\n      },\r\n      { 5: [2, 53] },\r\n      { 5: [2, 62] },\r\n      { 5: [2, 63] },\r\n      { 5: [2, 64] },\r\n      { 5: [2, 164] },\r\n      { 5: [2, 66], 63: 166, 67: 146, 68: 147, 69: 148, 70: $V_, 72: $V$ },\r\n      { 5: [2, 67] },\r\n      { 5: [2, 77], 67: 167, 68: 147, 69: 148, 70: $V_, 72: $V$ },\r\n      o($V41, [2, 81]),\r\n      o($V41, [2, 82], {\r\n        80: 52,\r\n        53: 168,\r\n        75: 169,\r\n        76: 170,\r\n        79: 171,\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      }),\r\n      { 71: [1, 172] },\r\n      { 71: [1, 173] },\r\n      { 5: [2, 69], 63: 174, 67: 146, 68: 147, 69: 148, 70: $V_, 72: $V$ },\r\n      {\r\n        5: [2, 71],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        53: 175,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        75: 169,\r\n        76: 170,\r\n        79: 171,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      },\r\n      {\r\n        5: [2, 73],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        53: 176,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        75: 169,\r\n        76: 170,\r\n        79: 171,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      },\r\n      { 5: [2, 55], 57: [1, 177] },\r\n      { 5: [2, 56], 29: [1, 178] },\r\n      { 5: [2, 60], 35: [1, 179] },\r\n      {\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        35: [1, 181],\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        70: $Vx,\r\n        72: $Vy,\r\n        74: $Vz,\r\n        79: 180,\r\n        80: 52,\r\n        81: 182,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        96: $VO,\r\n        97: $VP,\r\n        98: $VQ,\r\n        99: $VR\r\n      },\r\n      { 5: [2, 12] },\r\n      { 5: [2, 13] },\r\n      {\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        32: 183,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        70: $Vx,\r\n        72: $Vy,\r\n        74: $Vz,\r\n        79: 184,\r\n        80: 52,\r\n        81: 185,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        96: $VO,\r\n        97: $VP,\r\n        98: $VQ,\r\n        99: $VR\r\n      },\r\n      { 14: [1, 186] },\r\n      o($V51, [2, 87]),\r\n      o($V51, [2, 88]),\r\n      {\r\n        5: [2, 48],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        53: 187,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        75: 169,\r\n        76: 170,\r\n        79: 171,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      },\r\n      {\r\n        5: [2, 49],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        53: 188,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        75: 169,\r\n        76: 170,\r\n        79: 171,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        101: $V01\r\n      },\r\n      { 5: [2, 68] },\r\n      { 5: [2, 78], 67: 189, 68: 147, 69: 148, 70: $V_, 72: $V$ },\r\n      o($V41, [2, 83], {\r\n        80: 52,\r\n        76: 170,\r\n        79: 171,\r\n        75: 190,\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      }),\r\n      o($V31, [2, 89]),\r\n      { 71: [1, 191], 101: [1, 192] },\r\n      o($V61, [2, 156]),\r\n      { 14: $VS, 16: 193, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\r\n      { 14: $VS, 16: 194, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\r\n      { 5: [2, 70] },\r\n      {\r\n        5: [2, 72],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        75: 190,\r\n        76: 170,\r\n        79: 171,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      },\r\n      {\r\n        5: [2, 74],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        75: 190,\r\n        76: 170,\r\n        79: 171,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      },\r\n      { 5: [2, 57] },\r\n      { 5: [2, 58] },\r\n      { 5: [2, 61] },\r\n      o($V11, [2, 161]),\r\n      o($V11, [2, 162]),\r\n      o($V11, [2, 163]),\r\n      { 5: [2, 29] },\r\n      { 5: [2, 99] },\r\n      { 5: [2, 100] },\r\n      { 31: [1, 195] },\r\n      {\r\n        5: [2, 50],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        75: 190,\r\n        76: 170,\r\n        79: 171,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      },\r\n      {\r\n        5: [2, 51],\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        75: 190,\r\n        76: 170,\r\n        79: 171,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      },\r\n      { 5: [2, 79], 67: 196, 68: 147, 69: 148, 70: $V_, 72: $V$ },\r\n      o($V31, [2, 90]),\r\n      { 14: $VS, 16: 197, 35: $VT, 38: $VU, 77: $VV, 78: $VW },\r\n      {\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        35: [1, 199],\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        79: 198,\r\n        80: 52,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN\r\n      },\r\n      o($V41, [2, 84]),\r\n      o($V31, [2, 85]),\r\n      {\r\n        6: $V0,\r\n        7: $V1,\r\n        9: $V2,\r\n        13: $V3,\r\n        15: $V4,\r\n        17: $V5,\r\n        18: $V6,\r\n        19: $V7,\r\n        20: $V8,\r\n        23: $V9,\r\n        25: $Va,\r\n        26: $Vb,\r\n        27: $Vc,\r\n        30: $Vd,\r\n        32: 200,\r\n        33: $Ve,\r\n        34: $Vf,\r\n        37: $Vg,\r\n        38: $Vh,\r\n        41: $Vi,\r\n        43: $Vj,\r\n        45: $Vk,\r\n        46: $Vl,\r\n        49: $Vm,\r\n        52: $Vn,\r\n        54: $Vo,\r\n        55: $Vp,\r\n        56: $Vq,\r\n        58: $Vr,\r\n        59: $Vs,\r\n        62: $Vt,\r\n        64: $Vu,\r\n        65: $Vv,\r\n        66: $Vw,\r\n        70: $Vx,\r\n        72: $Vy,\r\n        74: $Vz,\r\n        79: 184,\r\n        80: 52,\r\n        81: 185,\r\n        82: $VA,\r\n        83: $VB,\r\n        84: $VC,\r\n        85: $VD,\r\n        86: $VE,\r\n        87: $VF,\r\n        88: $VG,\r\n        89: $VH,\r\n        90: $VI,\r\n        91: $VJ,\r\n        92: $VK,\r\n        93: $VL,\r\n        94: $VM,\r\n        95: $VN,\r\n        96: $VO,\r\n        97: $VP,\r\n        98: $VQ,\r\n        99: $VR\r\n      },\r\n      { 5: [2, 80] },\r\n      o($V31, [2, 91]),\r\n      o($V61, [2, 157]),\r\n      o($V61, [2, 158]),\r\n      { 5: [2, 31] }\r\n    ],\r\n    defaultActions: {\r\n      3: [2, 2],\r\n      4: [2, 3],\r\n      7: [2, 8],\r\n      8: [2, 9],\r\n      11: [2, 14],\r\n      12: [2, 15],\r\n      13: [2, 16],\r\n      15: [2, 19],\r\n      16: [2, 20],\r\n      25: [2, 33],\r\n      26: [2, 34],\r\n      29: [2, 40],\r\n      34: [2, 46],\r\n      35: [2, 47],\r\n      37: [2, 52],\r\n      46: [2, 1],\r\n      47: [2, 5],\r\n      107: [2, 11],\r\n      110: [2, 18],\r\n      116: [2, 21],\r\n      119: [2, 22],\r\n      120: [2, 23],\r\n      121: [2, 24],\r\n      122: [2, 26],\r\n      123: [2, 27],\r\n      125: [2, 30],\r\n      127: [2, 32],\r\n      128: [2, 36],\r\n      129: [2, 37],\r\n      130: [2, 39],\r\n      131: [2, 41],\r\n      136: [2, 45],\r\n      139: [2, 53],\r\n      140: [2, 62],\r\n      141: [2, 63],\r\n      142: [2, 64],\r\n      143: [2, 164],\r\n      145: [2, 67],\r\n      158: [2, 12],\r\n      159: [2, 13],\r\n      166: [2, 68],\r\n      174: [2, 70],\r\n      177: [2, 57],\r\n      178: [2, 58],\r\n      179: [2, 61],\r\n      183: [2, 29],\r\n      184: [2, 99],\r\n      185: [2, 100],\r\n      196: [2, 80],\r\n      200: [2, 31]\r\n    },\r\n    parseError: function parseError(str, hash) {\r\n      if (hash.recoverable) {\r\n        this.trace(str)\r\n      } else {\r\n        var error = new Error(str)\r\n        error.hash = hash\r\n        throw error\r\n      }\r\n    },\r\n    parse: function parse(input) {\r\n      var self = this,\r\n        stack = [0],\r\n        tstack = [],\r\n        vstack = [null],\r\n        lstack = [],\r\n        table = this.table,\r\n        yytext = '',\r\n        yylineno = 0,\r\n        yyleng = 0,\r\n        recovering = 0,\r\n        TERROR = 2,\r\n        EOF = 1\r\n      var args = lstack.slice.call(arguments, 1)\r\n      var lexer = Object.create(this.lexer)\r\n      var sharedState = { yy: {} }\r\n      for (var k in this.yy) {\r\n        if (Object.hasOwn(this.yy, k)) {\r\n          sharedState.yy[k] = this.yy[k]\r\n        }\r\n      }\r\n      lexer.setInput(input, sharedState.yy)\r\n      sharedState.yy.lexer = lexer\r\n      sharedState.yy.parser = this\r\n      if (typeof lexer.yylloc == 'undefined') {\r\n        lexer.yylloc = {}\r\n      }\r\n      var yyloc = lexer.yylloc\r\n      lstack.push(yyloc)\r\n      var ranges = lexer.options && lexer.options.ranges\r\n      if (typeof sharedState.yy.parseError === 'function') {\r\n        this.parseError = sharedState.yy.parseError\r\n      } else {\r\n        this.parseError = Object.getPrototypeOf(this).parseError\r\n      }\r\n      function popStack(n) {\r\n        stack.length = stack.length - 2 * n\r\n        vstack.length = vstack.length - n\r\n        lstack.length = lstack.length - n\r\n      }\r\n      function lex() {\r\n        var token\r\n        token = tstack.pop() || lexer.lex() || EOF\r\n        if (typeof token !== 'number') {\r\n          if (token instanceof Array) {\r\n            tstack = token\r\n            token = tstack.pop()\r\n          }\r\n          token = self.symbols_[token] || token\r\n        }\r\n        return token\r\n      }\r\n      var symbol,\r\n        preErrorSymbol,\r\n        state,\r\n        action,\r\n        a,\r\n        r,\r\n        yyval = {},\r\n        p,\r\n        len,\r\n        newState,\r\n        expected\r\n      while (true) {\r\n        state = stack[stack.length - 1]\r\n        if (this.defaultActions[state]) {\r\n          action = this.defaultActions[state]\r\n        } else {\r\n          if (symbol === null || typeof symbol == 'undefined') {\r\n            symbol = lex()\r\n          }\r\n          action = table[state] && table[state][symbol]\r\n        }\r\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\r\n          var errStr = ''\r\n          expected = []\r\n          for (p in table[state]) {\r\n            if (this.terminals_[p] && p > TERROR) {\r\n              expected.push(\"'\" + this.terminals_[p] + \"'\")\r\n            }\r\n          }\r\n          if (lexer.showPosition) {\r\n            errStr =\r\n              'Parse error on line ' +\r\n              (yylineno + 1) +\r\n              ':\\n' +\r\n              lexer.showPosition() +\r\n              '\\nExpecting ' +\r\n              expected.join(', ') +\r\n              \", got '\" +\r\n              (this.terminals_[symbol] || symbol) +\r\n              \"'\"\r\n          } else {\r\n            errStr =\r\n              'Parse error on line ' +\r\n              (yylineno + 1) +\r\n              ': Unexpected ' +\r\n              (symbol == EOF\r\n                ? 'end of input'\r\n                : \"'\" + (this.terminals_[symbol] || symbol) + \"'\")\r\n          }\r\n          this.parseError(errStr, {\r\n            text: lexer.match,\r\n            token: this.terminals_[symbol] || symbol,\r\n            line: lexer.yylineno,\r\n            loc: yyloc,\r\n            expected: expected\r\n          })\r\n        }\r\n        if (action[0] instanceof Array && action.length > 1) {\r\n          throw new Error(\r\n            'Parse Error: multiple actions possible at state: ' +\r\n              state +\r\n              ', token: ' +\r\n              symbol\r\n          )\r\n        }\r\n        switch (action[0]) {\r\n          case 1:\r\n            stack.push(symbol)\r\n            vstack.push(lexer.yytext)\r\n            lstack.push(lexer.yylloc)\r\n            stack.push(action[1])\r\n            symbol = null\r\n            if (!preErrorSymbol) {\r\n              yyleng = lexer.yyleng\r\n              yytext = lexer.yytext\r\n              yylineno = lexer.yylineno\r\n              yyloc = lexer.yylloc\r\n              if (recovering > 0) {\r\n                recovering--\r\n              }\r\n            } else {\r\n              symbol = preErrorSymbol\r\n              preErrorSymbol = null\r\n            }\r\n            break\r\n          case 2:\r\n            len = this.productions_[action[1]][1]\r\n            yyval.$ = vstack[vstack.length - len]\r\n            yyval._$ = {\r\n              first_line: lstack[lstack.length - (len || 1)].first_line,\r\n              last_line: lstack[lstack.length - 1].last_line,\r\n              first_column: lstack[lstack.length - (len || 1)].first_column,\r\n              last_column: lstack[lstack.length - 1].last_column\r\n            }\r\n            if (ranges) {\r\n              yyval._$.range = [\r\n                lstack[lstack.length - (len || 1)].range[0],\r\n                lstack[lstack.length - 1].range[1]\r\n              ]\r\n            }\r\n            r = this.performAction.apply(\r\n              yyval,\r\n              [\r\n                yytext,\r\n                yyleng,\r\n                yylineno,\r\n                sharedState.yy,\r\n                action[1],\r\n                vstack,\r\n                lstack\r\n              ].concat(args)\r\n            )\r\n            if (typeof r !== 'undefined') {\r\n              return r\r\n            }\r\n            if (len) {\r\n              stack = stack.slice(0, -1 * len * 2)\r\n              vstack = vstack.slice(0, -1 * len)\r\n              lstack = lstack.slice(0, -1 * len)\r\n            }\r\n            stack.push(this.productions_[action[1]][0])\r\n            vstack.push(yyval.$)\r\n            lstack.push(yyval._$)\r\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]]\r\n            stack.push(newState)\r\n            break\r\n          case 3:\r\n            return true\r\n        }\r\n      }\r\n      return true\r\n    }\r\n  }\r\n\r\n  /* generated by jison-lex 0.3.4 */\r\n  var lexer = (function () {\r\n    var lexer = {\r\n      EOF: 1,\r\n\r\n      parseError: function parseError(str, hash) {\r\n        if (this.yy.parser) {\r\n          this.yy.parser.parseError(str, hash)\r\n        } else {\r\n          throw new Error(str)\r\n        }\r\n      },\r\n\r\n      // resets the lexer, sets new input\r\n      setInput: function (input, yy) {\r\n        this.yy = yy || this.yy || {}\r\n        this._input = input\r\n        this._more = this._backtrack = this.done = false\r\n        this.yylineno = this.yyleng = 0\r\n        this.yytext = this.matched = this.match = ''\r\n        this.conditionStack = ['INITIAL']\r\n        this.yylloc = {\r\n          first_line: 1,\r\n          first_column: 0,\r\n          last_line: 1,\r\n          last_column: 0\r\n        }\r\n        if (this.options.ranges) {\r\n          this.yylloc.range = [0, 0]\r\n        }\r\n        this.offset = 0\r\n        return this\r\n      },\r\n\r\n      // consumes and returns one char from the input\r\n      input: function () {\r\n        var ch = this._input[0]\r\n        this.yytext += ch\r\n        this.yyleng++\r\n        this.offset++\r\n        this.match += ch\r\n        this.matched += ch\r\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g)\r\n        if (lines) {\r\n          this.yylineno++\r\n          this.yylloc.last_line++\r\n        } else {\r\n          this.yylloc.last_column++\r\n        }\r\n        if (this.options.ranges) {\r\n          this.yylloc.range[1]++\r\n        }\r\n\r\n        this._input = this._input.slice(1)\r\n        return ch\r\n      },\r\n\r\n      // unshifts one char (or a string) into the input\r\n      unput: function (ch) {\r\n        var len = ch.length\r\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g)\r\n\r\n        this._input = ch + this._input\r\n        this.yytext = this.yytext.substr(0, this.yytext.length - len)\r\n        //this.yyleng -= len;\r\n        this.offset -= len\r\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g)\r\n        this.match = this.match.substr(0, this.match.length - 1)\r\n        this.matched = this.matched.substr(0, this.matched.length - 1)\r\n\r\n        if (lines.length - 1) {\r\n          this.yylineno -= lines.length - 1\r\n        }\r\n        var r = this.yylloc.range\r\n\r\n        this.yylloc = {\r\n          first_line: this.yylloc.first_line,\r\n          last_line: this.yylineno + 1,\r\n          first_column: this.yylloc.first_column,\r\n          last_column: lines\r\n            ? (lines.length === oldLines.length\r\n                ? this.yylloc.first_column\r\n                : 0) +\r\n              oldLines[oldLines.length - lines.length].length -\r\n              lines[0].length\r\n            : this.yylloc.first_column - len\r\n        }\r\n\r\n        if (this.options.ranges) {\r\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len]\r\n        }\r\n        this.yyleng = this.yytext.length\r\n        return this\r\n      },\r\n\r\n      // When called from action, caches matched text and appends it on next action\r\n      more: function () {\r\n        this._more = true\r\n        return this\r\n      },\r\n\r\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\r\n      reject: function () {\r\n        if (this.options.backtrack_lexer) {\r\n          this._backtrack = true\r\n        } else {\r\n          return this.parseError(\r\n            'Lexical error on line ' +\r\n              (this.yylineno + 1) +\r\n              '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' +\r\n              this.showPosition(),\r\n            {\r\n              text: '',\r\n              token: null,\r\n              line: this.yylineno\r\n            }\r\n          )\r\n        }\r\n        return this\r\n      },\r\n\r\n      // retain first n characters of the match\r\n      less: function (n) {\r\n        this.unput(this.match.slice(n))\r\n      },\r\n\r\n      // displays already matched input, i.e. for error messages\r\n      pastInput: function () {\r\n        var past = this.matched.substr(\r\n          0,\r\n          this.matched.length - this.match.length\r\n        )\r\n        return (\r\n          (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '')\r\n        )\r\n      },\r\n\r\n      // displays upcoming input, i.e. for error messages\r\n      upcomingInput: function () {\r\n        var next = this.match\r\n        if (next.length < 20) {\r\n          next += this._input.substr(0, 20 - next.length)\r\n        }\r\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(\r\n          /\\n/g,\r\n          ''\r\n        )\r\n      },\r\n\r\n      // displays the character position where the lexing error occurred, i.e. for error messages\r\n      showPosition: function () {\r\n        var pre = this.pastInput()\r\n        var c = new Array(pre.length + 1).join('-')\r\n        return pre + this.upcomingInput() + '\\n' + c + '^'\r\n      },\r\n\r\n      // test the lexed token: return FALSE when not a match, otherwise return token\r\n      test_match: function (match, indexed_rule) {\r\n        var token, lines, backup\r\n\r\n        if (this.options.backtrack_lexer) {\r\n          // save context\r\n          backup = {\r\n            yylineno: this.yylineno,\r\n            yylloc: {\r\n              first_line: this.yylloc.first_line,\r\n              last_line: this.last_line,\r\n              first_column: this.yylloc.first_column,\r\n              last_column: this.yylloc.last_column\r\n            },\r\n            yytext: this.yytext,\r\n            match: this.match,\r\n            matches: this.matches,\r\n            matched: this.matched,\r\n            yyleng: this.yyleng,\r\n            offset: this.offset,\r\n            _more: this._more,\r\n            _input: this._input,\r\n            yy: this.yy,\r\n            conditionStack: this.conditionStack.slice(0),\r\n            done: this.done\r\n          }\r\n          if (this.options.ranges) {\r\n            backup.yylloc.range = this.yylloc.range.slice(0)\r\n          }\r\n        }\r\n\r\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g)\r\n        if (lines) {\r\n          this.yylineno += lines.length\r\n        }\r\n        this.yylloc = {\r\n          first_line: this.yylloc.last_line,\r\n          last_line: this.yylineno + 1,\r\n          first_column: this.yylloc.last_column,\r\n          last_column: lines\r\n            ? lines[lines.length - 1].length -\r\n              lines[lines.length - 1].match(/\\r?\\n?/)[0].length\r\n            : this.yylloc.last_column + match[0].length\r\n        }\r\n        this.yytext += match[0]\r\n        this.match += match[0]\r\n        this.matches = match\r\n        this.yyleng = this.yytext.length\r\n        if (this.options.ranges) {\r\n          this.yylloc.range = [this.offset, (this.offset += this.yyleng)]\r\n        }\r\n        this._more = false\r\n        this._backtrack = false\r\n        this._input = this._input.slice(match[0].length)\r\n        this.matched += match[0]\r\n        token = this.performAction.call(\r\n          this,\r\n          this.yy,\r\n          this,\r\n          indexed_rule,\r\n          this.conditionStack[this.conditionStack.length - 1]\r\n        )\r\n        if (this.done && this._input) {\r\n          this.done = false\r\n        }\r\n        if (token) {\r\n          return token\r\n        } else if (this._backtrack) {\r\n          // recover context\r\n          for (var k in backup) {\r\n            this[k] = backup[k]\r\n          }\r\n          return false // rule action called reject() implying the next rule should be tested instead.\r\n        }\r\n        return false\r\n      },\r\n\r\n      // return next match in input\r\n      next: function () {\r\n        if (this.done) {\r\n          return this.EOF\r\n        }\r\n        if (!this._input) {\r\n          this.done = true\r\n        }\r\n\r\n        var token, match, tempMatch, index\r\n        if (!this._more) {\r\n          this.yytext = ''\r\n          this.match = ''\r\n        }\r\n        var rules = this._currentRules()\r\n        for (var i = 0; i < rules.length; i++) {\r\n          tempMatch = this._input.match(this.rules[rules[i]])\r\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\r\n            match = tempMatch\r\n            index = i\r\n            if (this.options.backtrack_lexer) {\r\n              token = this.test_match(tempMatch, rules[i])\r\n              if (token !== false) {\r\n                return token\r\n              } else if (this._backtrack) {\r\n                match = false\r\n                continue // rule action called reject() implying a rule MISmatch.\r\n              } else {\r\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\r\n                return false\r\n              }\r\n            } else if (!this.options.flex) {\r\n              break\r\n            }\r\n          }\r\n        }\r\n        if (match) {\r\n          token = this.test_match(match, rules[index])\r\n          if (token !== false) {\r\n            return token\r\n          }\r\n          // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\r\n          return false\r\n        }\r\n        if (this._input === '') {\r\n          return this.EOF\r\n        } else {\r\n          return this.parseError(\r\n            'Lexical error on line ' +\r\n              (this.yylineno + 1) +\r\n              '. Unrecognized text.\\n' +\r\n              this.showPosition(),\r\n            {\r\n              text: '',\r\n              token: null,\r\n              line: this.yylineno\r\n            }\r\n          )\r\n        }\r\n      },\r\n\r\n      // return next match that has a token\r\n      lex: function lex() {\r\n        var r = this.next()\r\n        if (r) {\r\n          return r\r\n        } else {\r\n          return this.lex()\r\n        }\r\n      },\r\n\r\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\r\n      begin: function begin(condition) {\r\n        this.conditionStack.push(condition)\r\n      },\r\n\r\n      // pop the previously active lexer condition state off the condition stack\r\n      popState: function popState() {\r\n        var n = this.conditionStack.length - 1\r\n        if (n > 0) {\r\n          return this.conditionStack.pop()\r\n        } else {\r\n          return this.conditionStack[0]\r\n        }\r\n      },\r\n\r\n      // produce the lexer rule set which is active for the currently active lexer condition state\r\n      _currentRules: function _currentRules() {\r\n        if (\r\n          this.conditionStack.length &&\r\n          this.conditionStack[this.conditionStack.length - 1]\r\n        ) {\r\n          return this.conditions[\r\n            this.conditionStack[this.conditionStack.length - 1]\r\n          ].rules\r\n        } else {\r\n          return this.conditions['INITIAL'].rules\r\n        }\r\n      },\r\n\r\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\r\n      topState: function topState(n) {\r\n        n = this.conditionStack.length - 1 - Math.abs(n || 0)\r\n        if (n >= 0) {\r\n          return this.conditionStack[n]\r\n        } else {\r\n          return 'INITIAL'\r\n        }\r\n      },\r\n\r\n      // alias for begin(condition)\r\n      pushState: function pushState(condition) {\r\n        this.begin(condition)\r\n      },\r\n\r\n      // return the number of states currently on the stack\r\n      stateStackSize: function stateStackSize() {\r\n        return this.conditionStack.length\r\n      },\r\n      options: { 'case-insensitive': true },\r\n      performAction: function anonymous(\r\n        yy,\r\n        yy_,\r\n        $avoiding_name_collisions,\r\n        YY_START\r\n      ) {\r\n        var YYSTATE = YY_START\r\n        switch ($avoiding_name_collisions) {\r\n          case 0 /* ignore whitespace */:\r\n            break\r\n          case 1:\r\n            return ''\r\n            break\r\n          case 2:\r\n            return ''\r\n            break\r\n          case 3:\r\n            return 42\r\n            break\r\n          case 4:\r\n            return 35\r\n            break\r\n          case 5:\r\n            return 77\r\n            break\r\n          case 6:\r\n            return 78\r\n            break\r\n          case 7:\r\n            return 78\r\n            break\r\n          case 8:\r\n            return 8\r\n            break\r\n          case 9:\r\n            return 6\r\n            break\r\n          case 10:\r\n            return 82\r\n            break\r\n          case 11:\r\n            return 7\r\n            break\r\n          case 12:\r\n            return 9\r\n            break\r\n          case 13:\r\n            return 59\r\n            break\r\n          case 14:\r\n            return 13\r\n            break\r\n          case 15:\r\n            return 15\r\n            break\r\n          case 16:\r\n            return 17\r\n            break\r\n          case 17:\r\n            return 18\r\n            break\r\n          case 18:\r\n            return 19\r\n            break\r\n          case 19:\r\n            return 20\r\n            break\r\n          case 20:\r\n            return 11\r\n            break\r\n          case 21:\r\n            return 62\r\n            break\r\n          case 22:\r\n            return 64\r\n            break\r\n          case 23:\r\n            return 23\r\n            break\r\n          case 24:\r\n            return 25\r\n            break\r\n          case 25:\r\n            return 26\r\n            break\r\n          case 26:\r\n            return 27\r\n            break\r\n          case 27:\r\n            return 30\r\n            break\r\n          case 28:\r\n            return 34\r\n            break\r\n          case 29:\r\n            return 33\r\n            break\r\n          case 30:\r\n            return 65\r\n            break\r\n          case 31:\r\n            return 66\r\n            break\r\n          case 32:\r\n            return 37\r\n            break\r\n          case 33:\r\n            return 41\r\n            break\r\n          case 34:\r\n            return 43\r\n            break\r\n          case 35:\r\n            return 52\r\n            break\r\n          case 36:\r\n            return 54\r\n            break\r\n          case 37:\r\n            return 55\r\n            break\r\n          case 38:\r\n            return 46\r\n            break\r\n          case 39:\r\n            return 48\r\n            break\r\n          case 40:\r\n            return 45\r\n            break\r\n          case 41:\r\n            return 49\r\n            break\r\n          case 42:\r\n            return 56\r\n            break\r\n          case 43:\r\n            return 58\r\n            break\r\n          case 44:\r\n            return 44\r\n            break\r\n          case 45:\r\n            return 83\r\n            break\r\n          case 46:\r\n            return 84\r\n            break\r\n          case 47:\r\n            return 85\r\n            break\r\n          case 48:\r\n            return 86\r\n            break\r\n          case 49:\r\n            return 87\r\n            break\r\n          case 50:\r\n            return 88\r\n            break\r\n          case 51:\r\n            return 89\r\n            break\r\n          case 52:\r\n            return 90\r\n            break\r\n          case 53:\r\n            return 91\r\n            break\r\n          case 54:\r\n            return 92\r\n            break\r\n          case 55:\r\n            return 93\r\n            break\r\n          case 56:\r\n            return 94\r\n            break\r\n          case 57:\r\n            return 95\r\n            break\r\n          case 58:\r\n            return 70\r\n            break\r\n          case 59:\r\n            return 70\r\n            break\r\n          case 60:\r\n            return 72\r\n            break\r\n          case 61:\r\n            return 72\r\n            break\r\n          case 62:\r\n            return 74\r\n            break\r\n          case 63:\r\n            return 74\r\n            break\r\n          case 64:\r\n            return 74\r\n            break\r\n          case 65:\r\n            return 31\r\n            break\r\n          case 66:\r\n            return 36\r\n            break\r\n          case 67:\r\n            return 96\r\n            break\r\n          case 68:\r\n            return 97\r\n            break\r\n          case 69:\r\n            return 98\r\n            break\r\n          case 70:\r\n            return 99\r\n            break\r\n          case 71:\r\n            yy_.yytext = yy.utils.unquoteString(yy_.yytext)\r\n            return 14\r\n            break\r\n          case 72:\r\n            return 38\r\n            break\r\n          case 73:\r\n            return 5\r\n            break\r\n          case 74:\r\n            return 101\r\n            break\r\n          case 75:\r\n            return 103\r\n            break\r\n          case 76:\r\n            return '\\\\'\r\n            break\r\n          case 77:\r\n            return 28\r\n            break\r\n          case 78:\r\n            return 61\r\n            break\r\n          case 79:\r\n            return 29\r\n            break\r\n          case 80:\r\n            return 57\r\n            break\r\n          case 81:\r\n            return 71\r\n            break\r\n        }\r\n      },\r\n      rules: [\r\n        /^(?:\\s+)/i,\r\n        /^(?:[#].*)/i,\r\n        /^(?:\\/\\/.*)/i,\r\n        /^(?:([_A-Z0-9\\/\\+]+==))/i,\r\n        /^(?:-?[0-9]+(\\.[0-9]+)?\\b)/i,\r\n        /^(?:0[xX][0-9A-F]+\\b)/i,\r\n        /^(?:false\\b)/i,\r\n        /^(?:true\\b)/i,\r\n        /^(?:all\\b)/i,\r\n        /^(?:reset\\b)/i,\r\n        /^(?:clear\\b)/i,\r\n        /^(?:build\\b)/i,\r\n        /^(?:help\\b)/i,\r\n        /^(?:load\\b)/i,\r\n        /^(?:get\\b)/i,\r\n        /^(?:set\\b)/i,\r\n        /^(?:set_save\\b)/i,\r\n        /^(?:set_restore\\b)/i,\r\n        /^(?:set_reset\\b)/i,\r\n        /^(?:preset\\b)/i,\r\n        /^(?:motm\\b)/i,\r\n        /^(?:add\\b)/i,\r\n        /^(?:rep\\b)/i,\r\n        /^(?:remove\\b)/i,\r\n        /^(?:hide\\b)/i,\r\n        /^(?:show\\b)/i,\r\n        /^(?:list\\b)/i,\r\n        /^(?:select\\b)/i,\r\n        /^(?:within\\b)/i,\r\n        /^(?:selector\\b)/i,\r\n        /^(?:mode\\b)/i,\r\n        /^(?:color\\b)/i,\r\n        /^(?:material\\b)/i,\r\n        /^(?:view\\b)/i,\r\n        /^(?:unit\\b)/i,\r\n        /^(?:line\\b)/i,\r\n        /^(?:listobj\\b)/i,\r\n        /^(?:removeobj\\b)/i,\r\n        /^(?:rotate\\b)/i,\r\n        /^(?:translate\\b)/i,\r\n        /^(?:scale\\b)/i,\r\n        /^(?:center\\b)/i,\r\n        /^(?:url\\b)/i,\r\n        /^(?:screenshot\\b)/i,\r\n        /^(?:dssp\\b)/i,\r\n        /^(?:file_list\\b)/i,\r\n        /^(?:file_register\\b)/i,\r\n        /^(?:file_delete\\b)/i,\r\n        /^(?:preset_add\\b)/i,\r\n        /^(?:preset_delete\\b)/i,\r\n        /^(?:preset_update\\b)/i,\r\n        /^(?:preset_rename\\b)/i,\r\n        /^(?:preset_open\\b)/i,\r\n        /^(?:create_scenario\\b)/i,\r\n        /^(?:reset_scenario\\b)/i,\r\n        /^(?:delete_scenario\\b)/i,\r\n        /^(?:add_scenario_item\\b)/i,\r\n        /^(?:list_scenario\\b)/i,\r\n        /^(?:s\\b)/i,\r\n        /^(?:mt\\b)/i,\r\n        /^(?:m\\b)/i,\r\n        /^(?:c\\b)/i,\r\n        /^(?:x\\b)/i,\r\n        /^(?:y\\b)/i,\r\n        /^(?:z\\b)/i,\r\n        /^(?:as\\b)/i,\r\n        /^(?:of\\b)/i,\r\n        /^(?:pdb\\b)/i,\r\n        /^(?:delay\\b)/i,\r\n        /^(?:prst\\b)/i,\r\n        /^(?:desc\\b)/i,\r\n        /^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i,\r\n        /^(?:([_A-Z0-9]+))/i,\r\n        /^(?:$)/i,\r\n        /^(?:\\.)/i,\r\n        /^(?:\\/)/i,\r\n        /^(?:\\\\)/i,\r\n        /^(?:-e\\b)/i,\r\n        /^(?:-f\\b)/i,\r\n        /^(?:-s\\b)/i,\r\n        /^(?:-v\\b)/i,\r\n        /^(?:=)/i\r\n      ],\r\n      conditions: {\r\n        INITIAL: {\r\n          rules: [\r\n            0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,\r\n            19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\r\n            36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52,\r\n            53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69,\r\n            70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81\r\n          ],\r\n          inclusive: true\r\n        }\r\n      }\r\n    }\r\n    return lexer\r\n  })()\r\n  parser.lexer = lexer\r\n  function Parser() {\r\n    this.yy = {}\r\n  }\r\n  Parser.prototype = parser\r\n  parser.Parser = Parser\r\n  return new Parser()\r\n})()\r\n\r\nmodule.exports = { parser: parser }\r\n","// import palettes from '../gfx/palettes' // TODO actualy, does nothing\r\n// import settings from '../settings'\r\n\r\nconst modeIdDesc = {\r\n  $help: [\r\n    'Rendering mode shortcut',\r\n    '    BS - balls and sticks mode',\r\n    '    LN - lines mode',\r\n    '    LC - licorice mode',\r\n    '    VW - van der waals mode',\r\n    '    TR - trace mode',\r\n    '    TU - tube mode',\r\n    '    CA - cartoon mode',\r\n    '    SA - isosurface mode',\r\n    '    QS - quick surface mode',\r\n    '    SE - solvent excluded mode',\r\n    '    TX - text mode'\r\n  ],\r\n  BS: {\r\n    $help: [\r\n      '   Balls and sticks',\r\n      '      aromrad = <number> #aromatic radius',\r\n      '      atom = <number>    #atom radius',\r\n      '      bond = <number>    #bond radius',\r\n      '      multibond = <bool> #use multibond',\r\n      '      showarom = <bool>  #show aromatic',\r\n      '      space = <number>   #space value\\n'\r\n    ]\r\n  },\r\n  CA: {\r\n    $help: [\r\n      '   Cartoon',\r\n      '      arrow = <number>   #arrow size',\r\n      '      depth = <number>   #depth of surface',\r\n      '      heightSegmentsRatio = <number>',\r\n      '      radius = <number>  #tube radius',\r\n      '      tension = <number> #',\r\n      '      width = <number>  #secondary width\\n'\r\n    ]\r\n  },\r\n  LN: {\r\n    $help: [\r\n      '   Lines',\r\n      '      atom = <number>    #atom radius',\r\n      '      chunkarom = <number>',\r\n      '      multibond = <bool> #use multibond',\r\n      '      showarom = <bool>  #show aromatic',\r\n      '      offsarom = <number>\\n'\r\n    ]\r\n  },\r\n  LC: {\r\n    $help: [\r\n      '   Licorice',\r\n      '      aromrad = <number> #aromatic radius',\r\n      '      bond = <number>    #bond radius',\r\n      '      multibond = <bool> #use multibond',\r\n      '      showarom = <bool>  #show aromatic',\r\n      '      space = <number>   #space value\\n'\r\n    ]\r\n  },\r\n  VW: {\r\n    $help: ['   Van der Waals', '      nothing\\n']\r\n  },\r\n  TR: {\r\n    $help: ['   Trace', '      radius = <number>  #tube radius\\n']\r\n  },\r\n  TU: {\r\n    $help: [\r\n      '   Tube',\r\n      '      heightSegmentsRatio = <number>',\r\n      '      radius = <number>  #tube radius',\r\n      '      tension = <number> \\n'\r\n    ]\r\n  },\r\n  SA: {\r\n    $help: ['   Surface', '      zClip = <bool> #clip z plane\\n']\r\n  },\r\n  QS: {\r\n    $help: [\r\n      '   Quick surface',\r\n      '      isoValue = <number>',\r\n      '      scale = <number>',\r\n      '      wireframe = <bool>',\r\n      '      zClip = <bool> #clip z plane\\n'\r\n    ]\r\n  },\r\n  SE: {\r\n    $help: [\r\n      '   Solvent excluded surface',\r\n      '      zClip = <bool> #clip z plane\\n'\r\n    ]\r\n  },\r\n  TX: {\r\n    $help: [\r\n      '   Text mode',\r\n      '      template = <format string> string that can include \"{{ id }}\"',\r\n      '          it will be replaced by value, id can be one of next:',\r\n      '          serial, name, type, sequence, residue, chain, hetatm, water\\n',\r\n      '      horizontalAlign = <string> {\"left\", \"right\", \"center\"}',\r\n      '      verticalAlign = <string> {\"top\", \"bottom\", \"middle\"}',\r\n      '      dx = <number> #offset along x',\r\n      '      dy = <number> #offset along y',\r\n      '      dz = <number> #offset along z',\r\n      '      fg = <string> #text color modificator',\r\n      '           could be keyword, named color or hex',\r\n      '      fg = <string> #back color modificator',\r\n      '           could be keyword, named color or hex',\r\n      '      showBg = <bool> #if set show background',\r\n      '           plate under text'\r\n    ]\r\n  }\r\n}\r\n\r\nconst colorDesc = {\r\n  $help: [\r\n    'Coloring mode shortcut',\r\n    '    EL - color by element',\r\n    '    CH - color by chain',\r\n    '    SQ - color by sequence',\r\n    '    RT - color by residue type',\r\n    '    SS - color by secondary structure',\r\n    '    UN - uniform'\r\n  ],\r\n  UN: {\r\n    $help: [\r\n      'Parameters of coloring modes customization',\r\n      '   Uniform',\r\n      '      color = <number|color> #RGB->HEX->dec\\n'\r\n    ]\r\n    // color: {\r\n    //   $help: Object.keys(palettes.get(settings.now.palette).namedColors)\r\n    //     .sort()\r\n    //     .join('\\n')\r\n    // }\r\n  }\r\n}\r\n\r\nconst materialDesc = {\r\n  $help: [\r\n    'Material shortcut',\r\n    '    DF - diffuse',\r\n    '    TR - transparent',\r\n    '    SF - soft plastic',\r\n    '    PL - glossy plastic',\r\n    '    ME - metal',\r\n    '    GL - glass'\r\n  ]\r\n}\r\n\r\nconst addRepDesc = {\r\n  $help: [\r\n    'Short (packed) representation description as a set of variables',\r\n    '    s=<EXPRESSION>',\r\n    '        selector property',\r\n    '    m=<MODE_ID>[!<PARAMETER>:<VALUE>[,...]]',\r\n    '        render mode property',\r\n    '    c=<COLORER_ID>[!<PARAMETER>:<VALUE>[,...]]',\r\n    '        color mode property',\r\n    '    mt=<MATERIAL_ID>',\r\n    '        material property'\r\n  ],\r\n  s: {\r\n    $help:\r\n      'Selection expression string as it is in menu->representations->selection'\r\n  },\r\n  m: modeIdDesc,\r\n  c: colorDesc,\r\n  mt: materialDesc\r\n}\r\n\r\nconst setGetParameterDesc = {\r\n  $help: [\r\n    'Parameters of rendering modes customization: modes',\r\n    'Parameters of colorer customization: colorers',\r\n    'Autobuild: autobuild = (<number>|<bool>)'\r\n  ],\r\n  modes: modeIdDesc,\r\n  colorers: colorDesc\r\n}\r\n\r\nconst help = {\r\n  $help: [\r\n    'help (<cmd name>| <path to property>)',\r\n    'You can get detailed information about command options',\r\n    '   using \"help cmd.opt.opt.[...]\"\\n',\r\n    '   you can use one line comments',\r\n    '   everything started from (#|//) will be skipped',\r\n    '   Example: >build //some comment\\n',\r\n    'List of available commands:'\r\n  ],\r\n  reset: {\r\n    $help: [\r\n      'Reload current object, delete all representations',\r\n      '    Nothing will work until load new object'\r\n    ]\r\n  },\r\n  load: {\r\n    $help: [\r\n      'load (<PDBID>|<URL>|-f [<*.NC FILE URL STRING>])',\r\n      '    Load new pdb object from selected source'\r\n    ],\r\n    PDBID: {\r\n      $help: 'pdb id in remote molecule database'\r\n    },\r\n    URL: {\r\n      $help: 'url to source file'\r\n    },\r\n    f: {\r\n      $help: [\r\n        'open file system dialog to fetch local file',\r\n        'optionally you can determine trajectory file',\r\n        'via URL for *.top model'\r\n      ]\r\n    }\r\n  },\r\n  clear: {\r\n    $help: 'No args. Clear terminal'\r\n  },\r\n  add: {\r\n    $help: [\r\n      'add [<REP_NAME>] [<DESCRIPTION>]',\r\n      '    Add new item to representation set with',\r\n      '    default or <DESCRIPTION> params'\r\n    ],\r\n    REP_NAME: {\r\n      $help: 'Identifier string [_,a-z,A-Z,0-9] can not start from digit'\r\n    },\r\n    DESCRIPTION: addRepDesc\r\n  },\r\n  rep: {\r\n    $help: [\r\n      'rep [<REP_NAME>|<REP_INDEX>] [<DESCRIPTION>]',\r\n      '    set current representation by name or index',\r\n      '    edit current representation by <DESCRIPTION>'\r\n    ],\r\n    REP_NAME: {\r\n      $help: [\r\n        'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\r\n        'Must be declared before'\r\n      ]\r\n    },\r\n    REP_INDEX: {\r\n      $help: 'Index of available representation'\r\n    },\r\n    DESCRIPTION: addRepDesc\r\n  },\r\n  remove: {\r\n    $help: [\r\n      'remove (<REP_NAME>|<REP_INDEX>)',\r\n      'Remove representation by name or index'\r\n    ],\r\n    REP_NAME: {\r\n      $help: [\r\n        'Identifier string [_,a-z,A-Z,0-9] can not start from digit',\r\n        'Must be declared before'\r\n      ]\r\n    },\r\n    REP_INDEX: {\r\n      $help: 'Index of available representation'\r\n    }\r\n  },\r\n  selector: {\r\n    $help: [\r\n      'selector <EXPRESSION>',\r\n      '   set selector from EXPRESSION to current representation'\r\n    ],\r\n    EXPRESSION: {\r\n      $help:\r\n        'Selection expression string as it is in menu->representations->selection'\r\n    }\r\n  },\r\n  mode: {\r\n    $help: [\r\n      'mode <MODE_ID> [<PARAMETER>=<VALUE>...]',\r\n      '   set rendering mode and apply parameters to current representation'\r\n    ],\r\n    MODE_ID: modeIdDesc\r\n  },\r\n  color: {\r\n    $help: [\r\n      'color <COLORER_ID> [<PARAMETER>=<VALUE>...]',\r\n      '   set colorer and apply parameters to current representation'\r\n    ],\r\n    COLORER_ID: colorDesc\r\n  },\r\n  material: {\r\n    $help: [\r\n      'material <MATERIAL_ID>',\r\n      '   set material to current representation'\r\n    ],\r\n    MATERIAL_ID: materialDesc\r\n  },\r\n  build: {\r\n    $help: 'build help str',\r\n    add: {\r\n      $help: 'build.add',\r\n      new: {\r\n        $help: [\r\n          'add.new',\r\n          'add.new new line 1',\r\n          'add.new new line 2',\r\n          'add.new new line 3'\r\n        ]\r\n      }\r\n    },\r\n    del: {\r\n      $help: 'build.del'\r\n    }\r\n  },\r\n  list: {\r\n    $help: [\r\n      'list [-e|-s|<REP_NAME>|<REP_INDEX>]',\r\n      'Print representations if no args print list of representations',\r\n      '    -e expand list and show all representations',\r\n      '    -s show all user-registered selectors',\r\n      '    <REP_NAME>|<REP_INDEX> show only current representation'\r\n    ]\r\n  },\r\n  hide: {\r\n    $help: [\r\n      'hide (<REP_NAME>|<REP_INDEX>)',\r\n      'Hide representation referenced in args'\r\n    ]\r\n  },\r\n  show: {\r\n    $help: [\r\n      'show (<REP_NAME>|<REP_INDEX>)',\r\n      'Show representation referenced in args'\r\n    ]\r\n  },\r\n  get: {\r\n    $help: [\r\n      'get <PARAMETER>',\r\n      'Print <PARAMETER> value',\r\n      '    <PARAMETER> - path to option use get.PARAMETER to get more info'\r\n    ],\r\n    PARAMETER: setGetParameterDesc\r\n  },\r\n  set: {\r\n    $help: [\r\n      'set <PARAMETER> <VALUE>',\r\n      'Set <PARAMETER> with <VALUE>',\r\n      '    <PARAMETER> - path to option use set.PARAMETER to get more info'\r\n    ],\r\n    PARAMETER: setGetParameterDesc\r\n  },\r\n  set_save: {\r\n    $help: ['set_save', 'Save current settings to cookie']\r\n  },\r\n  set_restore: {\r\n    $help: ['set_restore', 'Load and apply settings from cookie']\r\n  },\r\n  set_reset: {\r\n    $help: ['set_reset', 'Reset current settings to the defaults']\r\n  },\r\n  preset: {\r\n    $help: [\r\n      'preset [<PRESET>]',\r\n      'Reset current representation or set preset to <PRESET>'\r\n    ],\r\n    PRESET: {\r\n      $help: ['default', 'wire', 'small', 'macro']\r\n    }\r\n  },\r\n  unit: {\r\n    $help: [\r\n      'unit [<unit_id>]',\r\n      'Change current biological structure view. Zero <unit_id> value means asymmetric unit,',\r\n      'positive values set an assembly with corresponding number.',\r\n      'Being called with no parameters command prints current unit information.'\r\n    ]\r\n  },\r\n  view: {\r\n    $help: [\r\n      'view [<ENCODED_VIEW>]',\r\n      'Get current encoded view or set if ENCODED_VIEW placed as argument'\r\n    ],\r\n    ENCODED_VIEW: {\r\n      $help: ['encoded view matrix string (binary code)']\r\n    }\r\n  },\r\n  rotate: {\r\n    $help: [\r\n      'rotate (x|y|z) [<DEGREES>] [(x|y|z) [<DEGREES>]]...',\r\n      'Rotate scene'\r\n    ]\r\n  },\r\n  scale: {\r\n    $help: ['scale <SCALE>', 'Scale scene']\r\n  },\r\n  select: {\r\n    $help: [\r\n      'select <SELECTOR_STRING> [as <SELECTOR_NAME>]',\r\n      'Select atoms using selector defined in SELECTOR_STRING',\r\n      '    and if SELECTOR_NAME is defined register it in viewer',\r\n      '    you can use it later as a complex selector'\r\n    ]\r\n  },\r\n  within: {\r\n    $help: [\r\n      'within <DISTANCE> of <SELECTOR_STRING> as <SELECTOR_NAME>',\r\n      'Build within named selector',\r\n      '    DISTANCE        <number>',\r\n      '    SELECTOR_STRING <string(selection language)>',\r\n      '    SELECTOR_NAME   <identifier>'\r\n    ]\r\n  },\r\n  url: {\r\n    $help: [\r\n      'url [-s] [-v]',\r\n      'Report URL encoded scene',\r\n      '    if -s set that include settings in the URL',\r\n      '    if -v set that include view in the URL'\r\n    ]\r\n  },\r\n  screenshot: {\r\n    $help: [\r\n      'screenshot [<WIDTH> [<HEIGHT>]]',\r\n      'Make a screenshot of the scene',\r\n      '    WIDTH  <number> in pixels',\r\n      '    HEIGHT <number> in pixels, equal to WIDTH by default'\r\n    ]\r\n  },\r\n  line: {\r\n    $help: [\r\n      'line <first_atom_path> <second_atom_path> [<PARAMETER>=<VALUE>]',\r\n      'Draw dashed line between two specified atoms'\r\n    ]\r\n  },\r\n  removeobj: {\r\n    $help: [\r\n      'removeobj <id>',\r\n      'Remove scene object by its index. Indices could be obtained by <listobj> command'\r\n    ]\r\n  },\r\n  listobj: {\r\n    $help: ['listobj', 'Display the list of all existing scene objects']\r\n  }\r\n}\r\n\r\nexport default help\r\n","/**\r\n * This class introduces the simplest event system.\r\n */\r\n\r\nimport { remove, find, forEach, omitBy } from 'lodash'\r\n\r\nfunction isUndefOrEqual(param, value) {\r\n  return !param || param === value\r\n}\r\n\r\n/**\r\n * Creates empty dispatcher.\r\n *\r\n * @exports EventDispatcher\r\n * @constructor\r\n */\r\nfunction EventDispatcher() {\r\n  this._handlers = {}\r\n}\r\n\r\n/**\r\n * Binds callback on specific event type. Optional `context` parameter\r\n * could be used as 'this' for the `callback`.\r\n * @param {string}   type       Event name.\r\n * @param {function} callback   Callback function.\r\n * @param {Object}   [context] 'This' object for the callback.\r\n */\r\nEventDispatcher.prototype.addEventListener = function (\r\n  type,\r\n  callback,\r\n  context\r\n) {\r\n  let handlers = this._handlers[type]\r\n\r\n  if (!handlers) {\r\n    this._handlers[type] = []\r\n    handlers = this._handlers[type]\r\n  }\r\n\r\n  const params = [callback, context]\r\n  function _checkPar(par) {\r\n    return par[0] === params[0] && par[1] === params[1]\r\n  }\r\n\r\n  if (find(handlers, _checkPar) === undefined) {\r\n    handlers.push(params)\r\n  }\r\n}\r\n\r\n/**\r\n * Removes a previously-bound callback function from an object.\r\n * If no `context` is specified, all versions of the `callback` with different\r\n * contexts will be removed.\r\n * If no `callback` is specified, all callbacks of the `type` will be removed.\r\n * If no `type` is specified, callbacks for all events will be removed.\r\n * @param {?string}  [type]      Event type.\r\n * @param {function} [callback]  Callback function.\r\n * @param {Object}   [context]  'This' object for the callback.\r\n */\r\nEventDispatcher.prototype.removeEventListener = function (\r\n  type,\r\n  callback,\r\n  context\r\n) {\r\n  const self = this\r\n  forEach(self._handlers, (handler, ev) => {\r\n    remove(\r\n      handler,\r\n      (values) =>\r\n        isUndefOrEqual(type, ev) &&\r\n        isUndefOrEqual(callback, values[0]) &&\r\n        isUndefOrEqual(context, values[1] || self)\r\n    )\r\n  })\r\n\r\n  this._handlers = omitBy(self._handlers, (handler) => handler.length === 0)\r\n}\r\n\r\n/**\r\n * Makes all the callbacks for the specific `event` to trigger.\r\n * @param {Object} event      Event.\r\n * @param {string} event.type Type of the event.\r\n */\r\nEventDispatcher.prototype.dispatchEvent = function (event) {\r\n  const self = this\r\n\r\n  forEach(this._handlers[event.type], (callback) => {\r\n    const context = callback[1] || self\r\n    callback[0].apply(context, [event])\r\n  })\r\n}\r\n\r\nexport default EventDispatcher\r\n","/**\r\n * This module contains class for logging.\r\n * Returns an instance of a logger that have already been created.\r\n * Allows users to log messages for five different levels,\r\n * enable console output and catch signal on each message.\r\n */\r\nimport { findKey, isNumber } from 'lodash'\r\nimport EventDispatcher from './EventDispatcher'\r\n\r\nconst priorities = {\r\n  debug: 0,\r\n  info: 1,\r\n  report: 2,\r\n  warn: 3,\r\n  error: 4\r\n}\r\n\r\n/**\r\n * Create new Logger.\r\n *\r\n * @exports Logger\r\n * @extends EventDispatcher\r\n * @constructor\r\n */\r\nfunction Logger() {\r\n  EventDispatcher.call(this)\r\n  /** Boolean flag that toggles output to browser console.\r\n   * @type {boolean}\r\n   */\r\n  this.console = false\r\n  this._priority = priorities.warn\r\n}\r\n\r\nLogger.prototype = Object.create(EventDispatcher.prototype)\r\nLogger.prototype.constructor = Logger\r\n\r\n/**\r\n * Create new clean instance of the logger.\r\n * @returns {Logger}\r\n */\r\nLogger.prototype.instantiate = function () {\r\n  return new Logger()\r\n}\r\n\r\nfunction verify(number) {\r\n  if (!isNumber(number)) {\r\n    throw new Error('Wrong log level specified!')\r\n  }\r\n  return number\r\n}\r\n\r\n/**\r\n * @property {string} current threshold for signals and console output.\r\n * @name Logger#level\r\n */\r\nObject.defineProperty(Logger.prototype, 'level', {\r\n  get() {\r\n    return findKey(priorities, (value) => value === this._priority)\r\n  },\r\n  set(level) {\r\n    this._priority = verify(priorities[level])\r\n  }\r\n})\r\n\r\n/**\r\n * Returns the list of all possible level values.\r\n * @returns {Array}\r\n */\r\nLogger.prototype.levels = function () {\r\n  return Object.keys(priorities)\r\n}\r\n\r\n/**\r\n * Add new message with specified level.\r\n * @param {string} level - level of the message, must be one of the\r\n * {'debug' | 'info' | 'report' | 'warn' | 'error'}\r\n * @param {string} message\r\n */\r\nLogger.prototype.message = function (level, message) {\r\n  const priority = verify(priorities[level])\r\n  this._message(priority, message)\r\n}\r\n\r\n/**\r\n * Shortcut for message('debug', ...);\r\n * @param message\r\n */\r\nLogger.prototype.debug = function (message) {\r\n  this._message(priorities.debug, message)\r\n}\r\n\r\n/**\r\n * Shortcut for message('info', ...);\r\n * @param message\r\n */\r\nLogger.prototype.info = function (message) {\r\n  this._message(priorities.info, message)\r\n}\r\n\r\n/**\r\n * Shortcut for message('report', ...);\r\n * @param message\r\n */\r\nLogger.prototype.report = function (message) {\r\n  this._message(priorities.report, message)\r\n}\r\n\r\n/**\r\n * Shortcut for message('warn', ...);\r\n * @param message\r\n */\r\nLogger.prototype.warn = function (message) {\r\n  this._message(priorities.warn, message)\r\n}\r\n\r\n/**\r\n * Shortcut for message('error', ...);\r\n * @param message\r\n */\r\nLogger.prototype.error = function (message) {\r\n  this._message(priorities.error, message)\r\n}\r\n\r\n/**\r\n * Add new message with specified priority.\r\n * @param {number} priority - priority of the message\r\n * @param {string} message\r\n * @private\r\n */\r\nLogger.prototype._message = function (priority, message) {\r\n  if (priority < this._priority) {\r\n    return\r\n  }\r\n  const level = findKey(priorities, (value) => value === priority)\r\n  message = String(message)\r\n  if (this.console) {\r\n    const output = `miew:${level}: ${message}`\r\n    if (level === 'error') {\r\n      console.error(output) // NOSONAR\r\n    } else if (level === 'warn') {\r\n      console.warn(output) // NOSONAR\r\n    } else {\r\n      console.log(output) // NOSONAR\r\n    }\r\n  }\r\n  this.dispatchEvent({ type: 'message', level, message })\r\n}\r\n\r\nexport default new Logger()\r\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  Object.defineProperty(subClass, \"prototype\", {\n    value: Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    }),\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeFunction = require(\"./isNativeFunction.js\");\n\nvar construct = require(\"./construct.js\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import logger from './logger'\r\nimport {\r\n  assign,\r\n  isPlainObject,\r\n  forIn,\r\n  isEqual,\r\n  isEmpty,\r\n  isString\r\n} from 'lodash'\r\n\r\nconst browserType = {\r\n  DEFAULT: 0,\r\n  SAFARI: 1\r\n}\r\n// ----------------------------------------------------------------------------\r\n// Query string\r\n\r\n/**\r\n * Escape only dangerous chars in a query string component, use a plus instead of a space.\r\n *\r\n * [RFC 3986](https://tools.ietf.org/html/rfc3986) allows the following chars in the query (see 3.4):\r\n *\r\n *       A-Z a-z 0-9 - _ . ~ ! $ & ' ( ) * + , ; = : @ / ?\r\n *\r\n * For query string elements we need to escape ampersand, equal sign, and plus,\r\n * but encodeURIComponent() function encodes anything except for the following:\r\n *\r\n *       A-Z a-z 0-9 - _ . ~ ! ' ( ) *\r\n *\r\n * @param {string} text - key or value to encode\r\n * @param {string} excludeExp - regexp for symbols to exclude from encoding\r\n * @returns {string} encoded string\r\n */\r\nfunction encodeQueryComponent(text, excludeExp) {\r\n  const encode = (code) => String.fromCharCode(parseInt(code.substr(1), 16))\r\n  return encodeURIComponent(text)\r\n    .replace(excludeExp, encode)\r\n    .replace(/%20/g, '+')\r\n}\r\n\r\n/**\r\n * Unescape dangerous chars in a query string component.\r\n *\r\n * @param {string} text - encoded key or value\r\n * @returns {string} decoded string\r\n * @see {@link encodeQueryComponent}\r\n */\r\nfunction decodeQueryComponent(text) {\r\n  return decodeURIComponent(text.replace(/\\+/g, ' '))\r\n}\r\n\r\n/**\r\n * Parse URL and extract an array of parameters.\r\n * @param {string?} url - URL or query string to parse\r\n * @returns {Array} array of (key, value) pairs.\r\n */\r\nfunction getUrlParameters(url) {\r\n  url = url || window.location.search\r\n\r\n  const query = url.substring(url.indexOf('?') + 1)\r\n  const search = /([^&=]+)=?([^&]*)/g\r\n  const result = []\r\n  let match\r\n\r\n  while ((match = search.exec(query)) !== null) {\r\n    // eslint-disable-line no-cond-assign\r\n    result.push([\r\n      decodeQueryComponent(match[1]),\r\n      decodeQueryComponent(match[2])\r\n    ])\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n/**\r\n * Parse URL and extract an array of parameters as a hash.\r\n * @param {string?} url - URL or query string to parse\r\n * @returns {Object}\r\n */\r\nfunction getUrlParametersAsDict(url) {\r\n  const result = {}\r\n  const a = getUrlParameters(url)\r\n  for (let i = 0; i < a.length; ++i) {\r\n    const [key, value] = a[i]\r\n    result[key] = value\r\n  }\r\n  return result\r\n}\r\n\r\nfunction resolveURL(str) {\r\n  if (typeof URL !== 'undefined') {\r\n    try {\r\n      if (typeof window !== 'undefined') {\r\n        return new URL(str, window.location).href\r\n      }\r\n      return new URL(str).href\r\n    } catch (error) {\r\n      // IE 11 has a URL object with no constructor available so just try a different approach instead\r\n    }\r\n  }\r\n  if (typeof document !== 'undefined') {\r\n    const anchor = document.createElement('a')\r\n    anchor.href = str\r\n    return anchor.href\r\n  }\r\n  return str\r\n}\r\n\r\n/**\r\n * Generates regular expression object that includes all symbols\r\n * listed in the argument\r\n * @param symbolStr {string} - String containing characters list.\r\n * @returns {RegExp} - Regular expression.\r\n */\r\nfunction generateRegExp(symbolStr) {\r\n  const symbolList = []\r\n\r\n  for (let i = 0, n = symbolStr.length; i < n; ++i) {\r\n    symbolList[symbolList.length] = symbolStr[i].charCodeAt(0).toString(16)\r\n  }\r\n\r\n  const listStr = symbolList.join('|')\r\n\r\n  return new RegExp(`%(?:${listStr})`, 'gi')\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// Create HTML element\r\n\r\nfunction createElement(tag, attrs, content) {\r\n  const element = document.createElement(tag)\r\n  let i\r\n  let n\r\n  if (attrs) {\r\n    const keys = Object.keys(attrs)\r\n    for (i = 0, n = keys.length; i < n; ++i) {\r\n      const key = keys[i]\r\n      element.setAttribute(key, attrs[key])\r\n    }\r\n  }\r\n  if (content) {\r\n    if (!(content instanceof Array)) {\r\n      content = [content]\r\n    }\r\n    for (i = 0, n = content.length; i < n; ++i) {\r\n      const child = content[i]\r\n      if (typeof child === 'string') {\r\n        element.appendChild(document.createTextNode(child))\r\n      } else if (child instanceof HTMLElement) {\r\n        element.appendChild(child)\r\n      }\r\n    }\r\n  }\r\n  return element\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// Easy inheritance\r\n\r\n/**\r\n * Derive the class from the base.\r\n * @param cls {function} - Class (constructor) to derive.\r\n * @param base {function} - Class (constructor) to derive from.\r\n * @param members {object=} - Optional instance members to add.\r\n * @param statics {object=} - Optional static class members to add.\r\n * @returns {function} Original class.\r\n */\r\nfunction deriveClass(cls, base, members, statics) {\r\n  cls.prototype = assign(\r\n    Object.create(base.prototype),\r\n    { constructor: cls },\r\n    members\r\n  )\r\n  if (statics) {\r\n    assign(cls, statics)\r\n  }\r\n  return cls\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// Deep prototyping\r\n\r\nfunction deriveDeep(obj, needZeroOwnProperties) {\r\n  let res = obj\r\n  let i\r\n  let n\r\n  if (obj instanceof Array) {\r\n    res = new Array(obj.length)\r\n    for (i = 0, n = obj.length; i < n; ++i) {\r\n      res[i] = deriveDeep(obj[i])\r\n    }\r\n  } else if (obj instanceof Object) {\r\n    res = Object.create(obj)\r\n    const keys = Object.keys(obj)\r\n    for (i = 0, n = keys.length; i < n; ++i) {\r\n      const key = keys[i]\r\n      const value = obj[key]\r\n      const copy = deriveDeep(value)\r\n      if (copy !== value) {\r\n        res[key] = copy\r\n      }\r\n    }\r\n    if (needZeroOwnProperties && Object.keys(res).length > 0) {\r\n      res = Object.create(res)\r\n    }\r\n  }\r\n  return res\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// Colors\r\n\r\nfunction hexColor(color) {\r\n  const hex = `0000000${color.toString(16)}`.substr(-6)\r\n  return `#${hex}`\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// Debug tracing\r\n\r\nfunction DebugTracer(namespace) {\r\n  let enabled = false\r\n\r\n  this.enable = function (on) {\r\n    enabled = on\r\n  }\r\n\r\n  let indent = 0\r\n  const methods = Object.keys(namespace)\r\n\r\n  function wrap(method_, name_) {\r\n    return function (...args) {\r\n      const spaces = DebugTracer.spaces.substr(0, indent * 2)\r\n      if (enabled) {\r\n        logger.debug(`${spaces + name_} {`)\r\n      }\r\n      indent++\r\n      const result = method_.apply(this, args) // eslint-disable-line no-invalid-this\r\n      indent--\r\n      if (enabled) {\r\n        logger.debug(`${spaces}} // ${name_}`)\r\n      }\r\n      return result\r\n    }\r\n  }\r\n\r\n  for (let i = 0, n = methods.length; i < n; ++i) {\r\n    const name = methods[i]\r\n    const method = namespace[name]\r\n    if (method instanceof Function && name !== 'constructor') {\r\n      namespace[name] = wrap(method, name)\r\n    }\r\n  }\r\n}\r\n\r\nDebugTracer.spaces =\r\n  '                                                                                          '\r\n\r\nclass OutOfMemoryError extends Error {\r\n  constructor(message) {\r\n    super()\r\n    this.name = 'OutOfMemoryError'\r\n    this.message = message\r\n  }\r\n}\r\n\r\nfunction allocateTyped(TypedArrayName, size) {\r\n  let result = null\r\n  try {\r\n    result = new TypedArrayName(size)\r\n  } catch (e) {\r\n    if (e instanceof RangeError) {\r\n      throw new OutOfMemoryError(e.message)\r\n    } else {\r\n      throw e\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// Float array conversion\r\n\r\nfunction bytesToBase64(/** ArrayBuffer */ buffer) {\r\n  const bytes = new Uint8Array(buffer)\r\n  let binary = ''\r\n  for (let i = 0; i < bytes.byteLength; i++) {\r\n    binary += String.fromCharCode(bytes[i])\r\n  }\r\n  return window.btoa(binary)\r\n}\r\n\r\nfunction bytesFromBase64(/** string */ str) {\r\n  const binary = window.atob(str)\r\n  const bytes = new Uint8Array(binary.length)\r\n  for (let i = 0; i < bytes.length; ++i) {\r\n    bytes[i] = binary[i].charCodeAt(0)\r\n  }\r\n  return bytes.buffer\r\n}\r\n\r\nfunction arrayToBase64(/** number[] */ array, /** function */ TypedArrayClass) {\r\n  return bytesToBase64(new TypedArrayClass(array).buffer)\r\n}\r\n\r\nfunction arrayFromBase64(/** string */ str, /** function */ TypedArrayClass) {\r\n  return Array.prototype.slice.call(new TypedArrayClass(bytesFromBase64(str)))\r\n}\r\n\r\n// NOTE: this is 1-level comparison\r\nfunction compareOptionsWithDefaults(opts, defOpts) {\r\n  const optsStr = []\r\n  if (defOpts && opts) {\r\n    const keys = Object.keys(opts)\r\n    for (let p = 0; p < keys.length; ++p) {\r\n      const key = keys[p]\r\n      const value = opts[key]\r\n      // TODO add processing for tree structure\r\n      if (\r\n        !(value instanceof Object) &&\r\n        typeof defOpts[key] !== 'undefined' &&\r\n        defOpts[key] !== value\r\n      ) {\r\n        optsStr.push(`${key}:${value}`)\r\n      }\r\n    }\r\n    if (optsStr.length > 0) {\r\n      return `!${optsStr.join()}`\r\n    }\r\n  }\r\n  return ''\r\n}\r\n\r\nfunction isAlmostPlainObject(o) {\r\n  if (isPlainObject(o)) {\r\n    return true\r\n  }\r\n  const proto = o && Object.getPrototypeOf(o)\r\n  return (\r\n    !!proto &&\r\n    !Object.hasOwn(proto, 'constructor') &&\r\n    isAlmostPlainObject(proto)\r\n  )\r\n}\r\n\r\n/**\r\n * Build an object that contains properties (and subproperties) of `src` different from those\r\n * in `dst`. Objects are parsed recursively, other values (including arrays) are compared for\r\n * equality using `isEqual()`.\r\n * @param {!object} src - a new object to compare, may contain changed or new properties\r\n * @param {!object} dst - an old reference object\r\n */\r\nfunction objectsDiff(src, dst) {\r\n  const diff = {}\r\n  forIn(src, (srcValue, key) => {\r\n    const dstValue = dst[key]\r\n    if (isAlmostPlainObject(srcValue) && isAlmostPlainObject(dstValue)) {\r\n      const deepDiff = objectsDiff(srcValue, dstValue)\r\n      if (!isEmpty(deepDiff)) {\r\n        diff[key] = deepDiff\r\n      }\r\n    } else if (!isEqual(srcValue, dstValue)) {\r\n      diff[key] = srcValue\r\n    }\r\n  })\r\n  return diff\r\n}\r\n\r\nfunction forInRecursive(object, callback) {\r\n  function iterateThrough(obj, prefix) {\r\n    forIn(obj, (value, key) => {\r\n      const newPref = prefix + (prefix.length > 0 ? '.' : '')\r\n      if (value instanceof Object) {\r\n        iterateThrough(value, newPref + key)\r\n      } else if (value !== undefined) {\r\n        callback(value, newPref + key)\r\n      }\r\n    })\r\n  }\r\n  iterateThrough(object, '')\r\n}\r\n\r\nfunction enquoteString(value) {\r\n  if (isString(value)) {\r\n    return `\"${value.replace(/\"/g, '\\\\\"')}\"`\r\n  }\r\n  return value\r\n}\r\n\r\nfunction unquoteString(value) {\r\n  if (!isString(value)) {\r\n    return value\r\n  }\r\n  if (value[0] === '\"' && value[value.length - 1] === '\"') {\r\n    value = value.slice(1, value.length - 1)\r\n    return value.replace(/\\\\\"/g, '\"')\r\n  }\r\n  if (value[0] === \"'\" && value[value.length - 1] === \"'\") {\r\n    value = value.slice(1, value.length - 1)\r\n    return value.replace(/\\\\'/g, \"'\")\r\n  }\r\n  throw new SyntaxError(\"Incorrect string format, can't unqute it\")\r\n}\r\n\r\nfunction getFileExtension(fileName) {\r\n  return fileName.slice(Math.max(0, fileName.lastIndexOf('.')) || Infinity)\r\n}\r\n\r\nfunction splitFileName(fileName) {\r\n  const ext = getFileExtension(fileName)\r\n  const name = fileName.slice(0, fileName.length - ext.length)\r\n  return [name, ext]\r\n}\r\n\r\nfunction dataUrlToBlob(url) {\r\n  const parts = url.split(/[:;,]/)\r\n  const partsCount = parts.length\r\n  if (partsCount >= 3 && parts[partsCount - 2] === 'base64') {\r\n    return new Blob([bytesFromBase64(parts[partsCount - 1])])\r\n  }\r\n  return null\r\n}\r\n\r\nfunction getBrowser() {\r\n  if (\r\n    navigator.vendor &&\r\n    navigator.vendor.indexOf('Apple') > -1 &&\r\n    navigator.userAgent &&\r\n    navigator.userAgent.indexOf('CriOS') === -1 &&\r\n    navigator.userAgent.indexOf('FxiOS') === -1\r\n  ) {\r\n    return browserType.SAFARI\r\n  }\r\n  return browserType.DEFAULT\r\n}\r\n\r\nfunction shotOpen(url) {\r\n  if (typeof window !== 'undefined') {\r\n    window\r\n      .open()\r\n      .document.write(`<body style=\"margin:0\"><img src=\"${url}\" /></body>`)\r\n  }\r\n}\r\n\r\nfunction shotDownload(dataUrl, filename) {\r\n  if (!dataUrl || dataUrl.substr(0, 5) !== 'data:') {\r\n    return\r\n  }\r\n  if (!filename) {\r\n    filename = ['screenshot-', +new Date(), '.png'].join('')\r\n  }\r\n  if (\r\n    typeof window !== 'undefined' &&\r\n    window.navigator &&\r\n    window.navigator.msSaveBlob\r\n  ) {\r\n    window.navigator.msSaveBlob(dataUrlToBlob(dataUrl), filename)\r\n  } else if (typeof document !== 'undefined') {\r\n    const link = document.createElement('a')\r\n    link.download = filename\r\n    link.innerHTML = 'download'\r\n    link.href = window.URL.createObjectURL(dataUrlToBlob(dataUrl))\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n  }\r\n}\r\n\r\nfunction download(data, filename, type) {\r\n  const blobData = new Blob([data])\r\n\r\n  if (!filename) {\r\n    filename = ['data', +new Date()].join('')\r\n  }\r\n\r\n  if (!type) {\r\n    filename += blobData.type || '.bin'\r\n  } else {\r\n    filename += `.${type}`\r\n  }\r\n\r\n  if (\r\n    typeof window !== 'undefined' &&\r\n    window.navigator &&\r\n    window.navigator.msSaveBlob\r\n  ) {\r\n    window.navigator.msSaveBlob(blobData, filename)\r\n  } else if (typeof document !== 'undefined') {\r\n    const link = document.createElement('a')\r\n    link.download = filename\r\n    link.innerHTML = 'download'\r\n    link.href = window.URL.createObjectURL(blobData)\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n  }\r\n}\r\n\r\nfunction copySubArrays(src, dst, indices, itemSize) {\r\n  for (let i = 0, n = indices.length; i < n; ++i) {\r\n    for (let j = 0; j < itemSize; ++j) {\r\n      dst[i * itemSize + j] = src[indices[i] * itemSize + j]\r\n    }\r\n  }\r\n}\r\n\r\nfunction shallowCloneNode(node) {\r\n  const newNode = node.cloneNode(true)\r\n  newNode.worldPos = node.worldPos\r\n  // .style property is readonly, so \"newNode.style = node.style;\" won't work (and we don't need it, right?)\r\n  return newNode\r\n}\r\n\r\nconst unquotedStringRE = /^[a-zA-Z0-9_]*$/\r\nconst enquoteHelper = ['\"', '', '\"']\r\n\r\n// verify and correct if needed selctor identifier\r\nfunction correctSelectorIdentifier(value) {\r\n  if (unquotedStringRE.test(value)) {\r\n    return value\r\n  }\r\n  // quote incorrect identifier\r\n  enquoteHelper[1] = value\r\n  return enquoteHelper.join('')\r\n}\r\n\r\n/**\r\n * Concatenates two TypedArray. Doesn't check null refs o type equality\r\n * Attention! It must be use very rarely because requires memory reallocation every time. Use MergeTypedArraysUnsafe to\r\n * unite array of subarrays.\r\n * @param{TypedArray} first  - destination array\r\n * @param{TypedArray} second - source array\r\n * @returns{TypedArray} resulting concatenated array\r\n */\r\nfunction concatTypedArraysUnsafe(first, second) {\r\n  const result = new first.constructor(first.length + second.length)\r\n  result.set(first)\r\n  result.set(second, first.length)\r\n  return result\r\n}\r\n\r\n/**\r\n * Merges array of TypedArray into TypedArray. Doesn't check null refs o type equality\r\n * @param{array} array  - source array of subarrays\r\n * @returns{TypedArray} resulting merged array\r\n */\r\nfunction mergeTypedArraysUnsafe(array) {\r\n  if (array.length <= 0) {\r\n    return null\r\n  }\r\n  // count the size\r\n  const size = array.reduce((acc, cur) => acc + cur.length, 0)\r\n  // create combined array\r\n  const result = new array[0].constructor(size)\r\n  for (let i = 0, start = 0; i < array.length; i++) {\r\n    const count = array[i].length\r\n    result.set(array[i], start)\r\n    start += count\r\n  }\r\n  return result\r\n}\r\n\r\n// ----------------------------------------------------------------------------\r\n// Exports\r\n\r\nexport default {\r\n  browserType,\r\n  encodeQueryComponent,\r\n  decodeQueryComponent,\r\n  getUrlParameters,\r\n  getUrlParametersAsDict,\r\n  resolveURL,\r\n  generateRegExp,\r\n  createElement,\r\n  deriveClass,\r\n  deriveDeep,\r\n  hexColor,\r\n  DebugTracer,\r\n  OutOfMemoryError,\r\n  allocateTyped,\r\n  bytesFromBase64,\r\n  bytesToBase64,\r\n  arrayFromBase64,\r\n  arrayToBase64,\r\n  compareOptionsWithDefaults,\r\n  objectsDiff,\r\n  forInRecursive,\r\n  enquoteString,\r\n  unquoteString,\r\n  getBrowser,\r\n  shotOpen,\r\n  shotDownload,\r\n  copySubArrays,\r\n  shallowCloneNode,\r\n  correctSelectorIdentifier,\r\n  getFileExtension,\r\n  splitFileName,\r\n  download,\r\n  concatTypedArraysUnsafe,\r\n  mergeTypedArraysUnsafe\r\n}\r\n","import { Miew } from 'miew'\r\nimport { parser as parsercli } from './MiewCLIParser'\r\nimport clihelp from './MiewCLIHelp'\r\nimport logger from './logger'\r\nimport { slice, sortBy, get, keys, isUndefined, set, assign } from 'lodash'\r\nimport utils from './utils'\r\n\r\nconst {\r\n  chem: { selectors },\r\n  modes,\r\n  colorers,\r\n  materials,\r\n  palettes,\r\n  options,\r\n  settings\r\n} = Miew\r\n\r\nfunction None() {}\r\n\r\nconst NULL = (function () {\r\n  const obj = new None()\r\n  return function () {\r\n    return obj\r\n  }\r\n})()\r\n\r\nclass RepresentationMap {\r\n  constructor() {\r\n    this.representationMap = {}\r\n    this.representationID = {}\r\n  }\r\n\r\n  get(strId) {\r\n    return (\r\n      this.representationMap[strId] ||\r\n      this.representationID[strId] ||\r\n      '<no name>'\r\n    )\r\n  }\r\n\r\n  add(strId, index) {\r\n    if (strId === -1) {\r\n      return 'Can not create representation: there is no data'\r\n    }\r\n\r\n    if (index !== undefined) {\r\n      if (!Object.hasOwn(this.representationMap, strId)) {\r\n        this.representationMap[strId.toString()] = index\r\n        this.representationID[index] = strId.toString()\r\n      } else {\r\n        return 'This name has already existed, registered without name'\r\n      }\r\n    }\r\n    return `Representation ${strId} successfully added`\r\n  }\r\n\r\n  remove(index) {\r\n    if (index && Object.hasOwn(this.representationID, index)) {\r\n      delete this.representationMap[this.representationID[index]]\r\n      delete this.representationID[index]\r\n    }\r\n\r\n    const sortedKeys = Object.keys(this.representationID).sort()\r\n    for (const i in sortedKeys) {\r\n      if (Object.hasOwn(sortedKeys, i)) {\r\n        const id = sortedKeys[i]\r\n        if (id > index) {\r\n          this.representationID[id - 1] = this.representationID[id]\r\n          this.representationMap[this.representationID[id]] -= 1\r\n          delete this.representationID[id]\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this.representationMap = {}\r\n    this.representationID = {}\r\n  }\r\n}\r\n\r\nconst representationsStorage = new RepresentationMap()\r\n\r\nfunction keyRemap(key) {\r\n  const keys = {\r\n    s: 'selector',\r\n    m: 'mode',\r\n    c: 'colorer',\r\n    mt: 'material',\r\n    mode: 'modes',\r\n    color: 'colorers',\r\n    colorer: 'colorers',\r\n    select: 'selector',\r\n    material: 'materials',\r\n    selector: 'selector'\r\n  }\r\n  const ans = keys[key]\r\n  return ans === undefined ? key : ans\r\n}\r\n\r\nclass CLIUtils {\r\n  list(miew, repMap, key) {\r\n    let ret = ''\r\n    if (miew && repMap !== undefined) {\r\n      if (key === undefined || key === '-e') {\r\n        const count = miew.repCount()\r\n\r\n        for (let i = 0; i < count; i++) {\r\n          ret += this.listRep(miew, repMap, i, key)\r\n        }\r\n      }\r\n    }\r\n    return ret\r\n  }\r\n\r\n  listRep(miew, repMap, repIndex, key) {\r\n    let ret = ''\r\n    const rep = miew.repGet(repIndex)\r\n    if (!rep) {\r\n      logger.warn(`Rep ${repIndex} does not exist!`)\r\n      return ret\r\n    }\r\n    const index = repIndex\r\n    const repName = repMap.get(index)\r\n\r\n    const { mode, colorer } = rep\r\n    const selectionStr = rep.selectorString\r\n    const material = rep.materialPreset\r\n\r\n    ret += `#${index} : ${mode.name}${\r\n      repName === '<no name>' ? '' : `, ${repName}`\r\n    }\\n`\r\n\r\n    if (key !== undefined) {\r\n      ret += `    selection : \"${selectionStr}\"\\n`\r\n      ret += `    mode      : (${mode.id}), ${mode.name}\\n`\r\n      ret += `    colorer   : (${colorer.id}), ${colorer.name}\\n`\r\n      ret += `    material  : (${material.id}), ${material.name}\\n`\r\n    }\r\n\r\n    return ret\r\n  }\r\n\r\n  listSelector(miew, context) {\r\n    let ret = ''\r\n\r\n    for (const k in context) {\r\n      if (Object.hasOwn(context, k)) {\r\n        ret += `${k} : \"${context[k]}\"\\n`\r\n      }\r\n    }\r\n\r\n    return ret\r\n  }\r\n\r\n  listObjs(miew) {\r\n    const objs = miew._objects\r\n\r\n    if (!objs || !Array.isArray(objs) || objs.length === 0) {\r\n      return 'There are no objects on the scene'\r\n    }\r\n\r\n    const strList = []\r\n    for (let i = 0, n = objs.length; i < n; ++i) {\r\n      strList[i] = `${i}: ${objs[i].toString()}`\r\n    }\r\n\r\n    return strList.join('\\n')\r\n  }\r\n\r\n  joinHelpStr(helpData) {\r\n    if (helpData instanceof Array) {\r\n      return helpData.join('\\n')\r\n    }\r\n    return helpData\r\n  }\r\n\r\n  help(path) {\r\n    if (isUndefined(path)) {\r\n      return `${this.joinHelpStr(clihelp.$help)}\\n${slice(\r\n        sortBy(keys(clihelp)),\r\n        1\r\n      ).join(', ')}\\n`\r\n    }\r\n\r\n    const helpItem = get(clihelp, path)\r\n    return isUndefined(helpItem)\r\n      ? this.help()\r\n      : `${this.joinHelpStr(helpItem.$help)}\\n`\r\n  }\r\n\r\n  load(miew, arg) {\r\n    if (miew === undefined || arg === undefined || arg === '-f') {\r\n      return\r\n    }\r\n    miew.awaitWhileCMDisInProcess()\r\n    const finish = () => miew.finishAwaitingCMDInProcess()\r\n    miew.load(arg).then(finish, finish)\r\n  }\r\n\r\n  checkArg(key, arg, modificate) {\r\n    if (key !== undefined && arg !== undefined) {\r\n      if (keyRemap(key) === 'selector') {\r\n        const res = selectors.parse(arg)\r\n\r\n        if (res.error !== undefined) {\r\n          const selExc = { message: res.error }\r\n          throw selExc\r\n        }\r\n\r\n        if (modificate !== undefined && modificate) {\r\n          return res.selector\r\n        }\r\n        return arg\r\n      }\r\n\r\n      const modificators = {\r\n        colorers,\r\n        modes,\r\n        materials\r\n      }\r\n\r\n      let modificator = key\r\n      let temp\r\n      while (modificator !== temp) {\r\n        temp = modificator\r\n        modificator = keyRemap(temp)\r\n      }\r\n\r\n      if (modificators[modificator].get(arg) === undefined) {\r\n        const exc = { message: `${arg} is not existed in ${modificator}` }\r\n        throw exc\r\n      }\r\n      return arg\r\n    }\r\n    return NULL\r\n  }\r\n\r\n  propagateProp(path, arg) {\r\n    if (path !== undefined) {\r\n      let argExc = {}\r\n      const adapter = options.adapters[typeof get(settings.defaults, path)]\r\n      if (adapter === undefined) {\r\n        const pathExc = { message: `${path} is not existed` }\r\n        throw pathExc\r\n      }\r\n\r\n      if (\r\n        (path.endsWith('.color') ||\r\n          path.endsWith('.baseColor') ||\r\n          path.endsWith('.EL.carbon')) &&\r\n        typeof arg !== 'number'\r\n      ) {\r\n        arg = palettes.get(settings.now.palette).getNamedColor(arg)\r\n      }\r\n\r\n      if (path.endsWith('.fg') || path.endsWith('.bg')) {\r\n        if (typeof arg !== 'number') {\r\n          const val = palettes\r\n            .get(settings.now.palette)\r\n            .getNamedColor(arg, true)\r\n          if (val !== undefined) {\r\n            arg = `0x${val.toString(16)}`\r\n          }\r\n        } else {\r\n          arg = `0x${arg.toString(16)}`\r\n        }\r\n      }\r\n\r\n      if (path.endsWith('.template')) {\r\n        arg = arg.replace(/\\\\n/g, '\\n') // NOSONAR\r\n      }\r\n\r\n      if (\r\n        arg !== undefined &&\r\n        adapter(arg) !== arg &&\r\n        adapter(arg) !== arg > 0\r\n      ) {\r\n        argExc = {\r\n          message: `${path} must be a \"${typeof get(settings.defaults, path)}\"`\r\n        }\r\n        throw argExc\r\n      }\r\n    }\r\n    return arg\r\n  }\r\n\r\n  unquoteString(value) {\r\n    return utils.unquoteString(value)\r\n  }\r\n}\r\n// repIndexOrRepMap could be RepresentationMap or index\r\n\r\nconst utilFunctions = new CLIUtils()\r\n\r\nfunction CreateObjectPair(a, b) {\r\n  const obj = {}\r\n  obj[a] = b\r\n  return obj\r\n}\r\n\r\nfunction ArgList(arg) {\r\n  if (arg instanceof this.constructor) {\r\n    return arg\r\n  }\r\n  if (arg instanceof Array) {\r\n    this._values = arg.slice(0)\r\n  } else if (arg) {\r\n    this._values = [arg]\r\n  } else {\r\n    this._values = []\r\n  }\r\n}\r\n\r\nArgList.prototype.append = function (value) {\r\n  const values = this._values\r\n  values[values.length] = value\r\n  return this\r\n}\r\n\r\nArgList.prototype.remove = function (value) {\r\n  const values = this._values\r\n  const index = values.indexOf(value)\r\n  if (index >= 0) {\r\n    values.splice(index, 1)\r\n  }\r\n  return this\r\n}\r\n\r\nArgList.prototype.toJSO = function (cliUtils, cmd, arg) {\r\n  const res = {}\r\n\r\n  const list = this._values\r\n  for (let i = 0, n = list.length; i < n; ++i) {\r\n    set(\r\n      res,\r\n      list[i].id,\r\n      cliUtils.propagateProp(\r\n        `${keyRemap(cmd)}.${arg}.${list[i].id}`,\r\n        list[i].val\r\n      )\r\n    )\r\n  }\r\n\r\n  return res\r\n}\r\n\r\nfunction Arg(_id, _val) {\r\n  this.id = _id\r\n  this.val = _val\r\n}\r\n\r\nconst cliutils = Object.create({})\r\n\r\ncliutils.Arg = Arg\r\ncliutils.ArgList = ArgList\r\n\r\ncliutils.miew = null\r\ncliutils.echo = null\r\ncliutils.representations = representationsStorage\r\ncliutils.utils = utilFunctions\r\n\r\ncliutils.assign = assign\r\ncliutils.CreateObjectPair = CreateObjectPair\r\ncliutils.keyRemap = keyRemap\r\ncliutils.Context = selectors.Context\r\ncliutils.ClearContext = selectors.ClearContext\r\n\r\ncliutils.NULL = NULL\r\n\r\ncliutils.notimplemented = function () {\r\n  return this.NULL\r\n}\r\n\r\nparsercli.yy = cliutils\r\n// workaround for incorrect JISON parser generator for AMD module\r\nparsercli.yy.parseError = parsercli.parseError\r\n\r\nexport const getMiewWithCli = (miewInstance) => {\r\n  const obj = Object.create(miewInstance)\r\n\r\n  obj.script = function (script, _printCallback, _errorCallback) {\r\n    parsercli.yy.miew = obj\r\n    parsercli.yy.echo = _printCallback\r\n    parsercli.yy.error = _errorCallback\r\n    if (obj.cmdQueue === undefined) {\r\n      obj.cmdQueue = []\r\n    }\r\n    if (obj.commandInAction === undefined) {\r\n      obj.commandInAction = false\r\n    }\r\n\r\n    obj.cmdQueue = obj.cmdQueue.concat(script.split('\\n'))\r\n  }\r\n\r\n  obj.awaitWhileCMDisInProcess = function () {\r\n    obj.commandInAction = true\r\n  }\r\n\r\n  obj.finishAwaitingCMDInProcess = function () {\r\n    obj.commandInAction = false\r\n  }\r\n\r\n  obj.isScriptingCommandAvailable = function () {\r\n    return (\r\n      obj.commandInAction !== undefined &&\r\n      !obj.commandInAction &&\r\n      obj.cmdQueue !== undefined &&\r\n      obj.cmdQueue.length > 0\r\n    )\r\n  }\r\n\r\n  obj.callNextCmd = function () {\r\n    if (obj.isScriptingCommandAvailable()) {\r\n      const cmd = obj.cmdQueue.shift()\r\n      const res = {}\r\n      res.success = false\r\n      try {\r\n        parsercli.parse(cmd)\r\n        res.success = true\r\n      } catch (e) {\r\n        res.error = e.message\r\n        parsercli.yy.error(res.error)\r\n        obj.finishAwaitingCMDInProcess()\r\n      }\r\n      return res\r\n    }\r\n    return ''\r\n  }\r\n\r\n  obj._onUpdate = function () {\r\n    if (\r\n      obj.isScriptingCommandAvailable !== undefined &&\r\n      obj.isScriptingCommandAvailable() &&\r\n      !obj._building\r\n    ) {\r\n      obj.callNextCmd()\r\n    }\r\n\r\n    obj._objectControls.update()\r\n\r\n    obj._forEachComplexVisual((visual) => {\r\n      visual.getComplex().update()\r\n    })\r\n\r\n    if (\r\n      settings.now.autobuild &&\r\n      !obj._loading.length &&\r\n      !obj._building &&\r\n      obj._needRebuild()\r\n    ) {\r\n      obj.rebuild()\r\n    }\r\n\r\n    if (!obj._loading.length && !obj._building && !obj._needRebuild()) {\r\n      obj._updateView()\r\n    }\r\n\r\n    obj._updateFog()\r\n\r\n    if (obj._gfx.renderer.xr.enabled) {\r\n      obj.webVR.updateMoleculeScale()\r\n    }\r\n  }\r\n\r\n  return obj\r\n}\r\n","/* global COOKIE_PATH:false */\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-switch/dist/css/bootstrap3/bootstrap-switch.css'\r\nimport 'toastr/build/toastr.min.css'\r\nimport 'jquery.terminal/css/jquery.terminal.min.css'\r\nimport '../styles/main.scss'\r\nimport '@babel/polyfill'\r\nimport $ from 'jquery'\r\nimport toastr from 'toastr'\r\nimport { Miew } from 'miew'\r\nimport Menu from './ui/Menu'\r\nimport getMiewWithCli from 'miew-cli'\r\n\r\nwindow.DEBUG = true\r\n\r\nconst miewErrorId = 'miew-error'\r\n\r\nfunction onError(err) {\r\n  const doc = document.createDocumentFragment()\r\n\r\n  const containers = document.getElementsByClassName('miew-container')\r\n  const parent = containers.length > 0 ? containers[0] : null\r\n  let element = document.getElementById(miewErrorId)\r\n\r\n  // on the first error\r\n  if (!element) {\r\n    // clear the container\r\n    if (parent && parent.firstChild) {\r\n      parent.removeChild(parent.firstChild)\r\n    }\r\n\r\n    // create message box\r\n    element = document.createElement('div')\r\n    element.setAttribute('class', 'miew-message')\r\n    doc.appendChild(element)\r\n\r\n    const par = element.appendChild(document.createElement('p'))\r\n    par.appendChild(document.createTextNode('We are sorry'))\r\n    par.appendChild(document.createElement('br'))\r\n    par.appendChild(document.createElement('small')).textContent =\r\n      'for the failure'\r\n\r\n    element = document.createElement('div')\r\n    element.setAttribute('class', miewErrorId)\r\n    element.id = miewErrorId\r\n    doc.appendChild(element)\r\n  }\r\n\r\n  // append the error details\r\n  let child = element.appendChild(document.createElement('p'))\r\n  child.appendChild(document.createTextNode('Error details:'))\r\n  child = element.appendChild(document.createElement('pre'))\r\n  if (!err.stack || String(err.stack).indexOf(String(err)) === -1) {\r\n    child.appendChild(document.createTextNode(`${err}\\n`))\r\n  }\r\n  if (err.stack) {\r\n    child.appendChild(document.createTextNode(`${err.stack}\\n`))\r\n  }\r\n\r\n  if (parent) {\r\n    parent.appendChild(doc)\r\n  }\r\n}\r\n\r\nwindow.onerror = function (err, url, line, col, obj) {\r\n  onError(\r\n    (obj = obj || {\r\n      name: 'window.onerror',\r\n      message: err,\r\n      sourceURL: url,\r\n      line,\r\n      column: col\r\n    })\r\n  )\r\n  throw obj\r\n}\r\n\r\n// create viewer (and run it) for each container element on the page\r\nwindow.addEventListener('load', () => {\r\n  $('.miew-container').each((i, container) => {\r\n    let viewer = new Miew(\r\n      $.extend(\r\n        true,\r\n        {\r\n          container,\r\n          load: 'data/1CRN.pdb',\r\n          cookiePath: (typeof COOKIE_PATH !== 'undefined' && COOKIE_PATH) || '/'\r\n        },\r\n        Miew.options.fromAttr(container.getAttribute('data-miew')),\r\n        Miew.options.fromURL(window.location.search)\r\n      )\r\n    )\r\n\r\n    viewer = getMiewWithCli(viewer)\r\n\r\n    const convertLevel = {\r\n      error: 'error',\r\n      warn: 'warning',\r\n      report: 'info'\r\n    }\r\n    toastr.options.newestOnTop = false\r\n    viewer.logger.addEventListener('message', (e) => {\r\n      const level = convertLevel[e.level]\r\n      if (level) {\r\n        toastr[level](e.message)\r\n      }\r\n    })\r\n\r\n    const menu = new Menu(container, viewer)\r\n\r\n    if (viewer.init()) {\r\n      menu.showOverlay()\r\n      viewer.run()\r\n    }\r\n  })\r\n})\r\n","/** Miew - 3D Molecular Viewer v0.10.1+20230607.102122.0f978ad-mod\nCopyright (c) 2015-2023 EPAM Systems, Inc. */\n\nimport { find, forEach, remove, omitBy, findKey, isNumber, assign, forIn, isEmpty, isEqual, isString, isPlainObject, get, set, merge, cloneDeep, filter, isArray, fill, clone, isUndefined, isArrayBuffer, isTypedArray, pick, fromPairs, zip, isBoolean, invert, findIndex, head, defaults as defaults$2 } from 'lodash';\nimport { Vector3, Box3, Sphere, MathUtils, Vector2, DataTexture, LuminanceFormat, UnsignedByteType, UVMapping, ClampToEdgeWrapping, LinearFilter, Object3D, Group, Matrix4, WebGLRenderer, MeshBasicMaterial, Scene, Mesh, PlaneBufferGeometry, OrthographicCamera, RawShaderMaterial, PerspectiveCamera, StereoCamera, Raycaster, BufferAttribute, InstancedBufferGeometry, LineSegments, Line, LessEqualDepth, Color, SphereBufferGeometry, InstancedBufferAttribute, BufferGeometry, Matrix3, CylinderBufferGeometry as CylinderBufferGeometry$1, Uint16BufferAttribute, RGBFormat, RepeatWrapping, NearestFilter, UniformsUtils, UniformsLib, DoubleSide, Material, Ray, ShaderMaterial, FrontSide, BackSide, Plane, Vector4, LineBasicMaterial, Layers, Quaternion, AxesHelper, CylinderGeometry, RGBAFormat, WebGL1Renderer, PCFShadowMap, Fog, DirectionalLight, AmbientLight, WebGLRenderTarget, DepthTexture, UnsignedShortType, FloatType, NoBlending, Euler } from 'three';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  Object.defineProperty(subClass, \"prototype\", {\n    value: Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    }),\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults$1 = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults$1), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\n\nvar Timer = function () {\n  function Timer() {\n    _classCallCheck(this, Timer);\n    this.startTime = 0;\n    this.oldTime = 0;\n    this.elapsedTime = 0;\n    this.running = false;\n  }\n  _createClass(Timer, [{\n    key: \"start\",\n    value: function start() {\n      this.startTime = Timer.now();\n      this.oldTime = this.startTime;\n      this.running = true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.getElapsedTime();\n      this.running = false;\n    }\n  }, {\n    key: \"getElapsedTime\",\n    value: function getElapsedTime() {\n      this.update();\n      return this.elapsedTime;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var delta = 0;\n      if (this.running) {\n        var newTime = Timer.now();\n        delta = 0.001 * (newTime - this.oldTime);\n        this.oldTime = newTime;\n        this.elapsedTime += delta;\n      }\n      return delta;\n    }\n  }]);\n  return Timer;\n}();\nTimer.now = function () {\n  var p = typeof window !== 'undefined' && window.performance;\n  return p && p.now ? p.now.bind(p) : Date.now;\n}();\n\nvar now = Timer.now;\nfunction createElement$2(tag, id, css) {\n  var element = document.createElement(tag);\n  element.id = id;\n  element.style.cssText = css;\n  return element;\n}\nvar Stats = function () {\n  function Stats() {\n    _classCallCheck(this, Stats);\n    this.domElement = createElement$2('div', 'stats', 'padding:8px');\n    this._text = createElement$2('p', 'fps', 'margin:0;color:silver;font-size:large');\n    this.domElement.appendChild(this._text);\n    this._startTime = now();\n    this._prevTime = this._startTime;\n    this._deltas = new Array(20);\n    this._index = 0;\n    this._total = 0.0;\n    this._count = 0;\n  }\n  _createClass(Stats, [{\n    key: \"end\",\n    value: function end() {\n      var time = now();\n      var delta = time - this._startTime;\n      if (this._count < this._deltas.length) {\n        this._count++;\n      } else {\n        this._total -= this._deltas[this._index];\n      }\n      this._total += delta;\n      this._deltas[this._index] = delta;\n      this._index = (this._index + 1) % this._deltas.length;\n      this.ms = this._total / this._count;\n      this.fps = 1000 / this.ms;\n      if (time > this._prevTime + 1000) {\n        this._text.textContent = this.fps.toPrecision(2);\n        this._prevTime = time;\n      }\n      return time;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this._startTime = this.end();\n    }\n  }, {\n    key: \"show\",\n    value: function show(on) {\n      if (on === undefined) {\n        on = true;\n      }\n      this.domElement.style.display = on ? 'block' : 'none';\n    }\n  }]);\n  return Stats;\n}();\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _isNativeReflectConstruct$23() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct$23()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction isUndefOrEqual(param, value) {\n  return !param || param === value;\n}\nfunction EventDispatcher() {\n  this._handlers = {};\n}\nEventDispatcher.prototype.addEventListener = function (type, callback, context) {\n  var handlers = this._handlers[type];\n  if (!handlers) {\n    this._handlers[type] = [];\n    handlers = this._handlers[type];\n  }\n  var params = [callback, context];\n  function _checkPar(par) {\n    return par[0] === params[0] && par[1] === params[1];\n  }\n  if (find(handlers, _checkPar) === undefined) {\n    handlers.push(params);\n  }\n};\nEventDispatcher.prototype.removeEventListener = function (type, callback, context) {\n  var self = this;\n  forEach(self._handlers, function (handler, ev) {\n    remove(handler, function (values) {\n      return isUndefOrEqual(type, ev) && isUndefOrEqual(callback, values[0]) && isUndefOrEqual(context, values[1] || self);\n    });\n  });\n  this._handlers = omitBy(self._handlers, function (handler) {\n    return handler.length === 0;\n  });\n};\nEventDispatcher.prototype.dispatchEvent = function (event) {\n  var self = this;\n  forEach(this._handlers[event.type], function (callback) {\n    var context = callback[1] || self;\n    callback[0].apply(context, [event]);\n  });\n};\n\nvar priorities = {\n  debug: 0,\n  info: 1,\n  report: 2,\n  warn: 3,\n  error: 4\n};\nfunction Logger() {\n  EventDispatcher.call(this);\n  this.console = false;\n  this._priority = priorities.warn;\n}\nLogger.prototype = Object.create(EventDispatcher.prototype);\nLogger.prototype.constructor = Logger;\nLogger.prototype.instantiate = function () {\n  return new Logger();\n};\nfunction verify(number) {\n  if (!isNumber(number)) {\n    throw new Error('Wrong log level specified!');\n  }\n  return number;\n}\nObject.defineProperty(Logger.prototype, 'level', {\n  get: function get() {\n    var _this = this;\n    return findKey(priorities, function (value) {\n      return value === _this._priority;\n    });\n  },\n  set: function set(level) {\n    this._priority = verify(priorities[level]);\n  }\n});\nLogger.prototype.levels = function () {\n  return Object.keys(priorities);\n};\nLogger.prototype.message = function (level, message) {\n  var priority = verify(priorities[level]);\n  this._message(priority, message);\n};\nLogger.prototype.debug = function (message) {\n  this._message(priorities.debug, message);\n};\nLogger.prototype.info = function (message) {\n  this._message(priorities.info, message);\n};\nLogger.prototype.report = function (message) {\n  this._message(priorities.report, message);\n};\nLogger.prototype.warn = function (message) {\n  this._message(priorities.warn, message);\n};\nLogger.prototype.error = function (message) {\n  this._message(priorities.error, message);\n};\nLogger.prototype._message = function (priority, message) {\n  if (priority < this._priority) {\n    return;\n  }\n  var level = findKey(priorities, function (value) {\n    return value === priority;\n  });\n  message = String(message);\n  if (this.console) {\n    var output = \"miew:\".concat(level, \": \").concat(message);\n    if (level === 'error') {\n      console.error(output);\n    } else if (level === 'warn') {\n      console.warn(output);\n    } else {\n      console.log(output);\n    }\n  }\n  this.dispatchEvent({\n    type: 'message',\n    level: level,\n    message: message\n  });\n};\nvar logger = new Logger();\n\nfunction _createSuper$22(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$22(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$22() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar browserType = {\n  DEFAULT: 0,\n  SAFARI: 1\n};\nfunction encodeQueryComponent(text, excludeExp) {\n  var encode = function encode(code) {\n    return String.fromCharCode(parseInt(code.substr(1), 16));\n  };\n  return encodeURIComponent(text).replace(excludeExp, encode).replace(/%20/g, '+');\n}\nfunction decodeQueryComponent(text) {\n  return decodeURIComponent(text.replace(/\\+/g, ' '));\n}\nfunction getUrlParameters(url) {\n  url = url || window.location.search;\n  var query = url.substring(url.indexOf('?') + 1);\n  var search = /([^&=]+)=?([^&]*)/g;\n  var result = [];\n  var match;\n  while ((match = search.exec(query)) !== null) {\n    result.push([decodeQueryComponent(match[1]), decodeQueryComponent(match[2])]);\n  }\n  return result;\n}\nfunction getUrlParametersAsDict(url) {\n  var result = {};\n  var a = getUrlParameters(url);\n  for (var i = 0; i < a.length; ++i) {\n    var _a$i = _slicedToArray(a[i], 2),\n        key = _a$i[0],\n        value = _a$i[1];\n    result[key] = value;\n  }\n  return result;\n}\nfunction resolveURL(str) {\n  if (typeof URL !== 'undefined') {\n    try {\n      if (typeof window !== 'undefined') {\n        return new URL(str, window.location).href;\n      }\n      return new URL(str).href;\n    } catch (error) {\n    }\n  }\n  if (typeof document !== 'undefined') {\n    var anchor = document.createElement('a');\n    anchor.href = str;\n    return anchor.href;\n  }\n  return str;\n}\nfunction generateRegExp(symbolStr) {\n  var symbolList = [];\n  for (var i = 0, n = symbolStr.length; i < n; ++i) {\n    symbolList[symbolList.length] = symbolStr[i].charCodeAt(0).toString(16);\n  }\n  var listStr = symbolList.join('|');\n  return new RegExp(\"%(?:\".concat(listStr, \")\"), 'gi');\n}\nfunction createElement$1(tag, attrs, content) {\n  var element = document.createElement(tag);\n  var i;\n  var n;\n  if (attrs) {\n    var keys = Object.keys(attrs);\n    for (i = 0, n = keys.length; i < n; ++i) {\n      var key = keys[i];\n      element.setAttribute(key, attrs[key]);\n    }\n  }\n  if (content) {\n    if (!(content instanceof Array)) {\n      content = [content];\n    }\n    for (i = 0, n = content.length; i < n; ++i) {\n      var child = content[i];\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else if (child instanceof HTMLElement) {\n        element.appendChild(child);\n      }\n    }\n  }\n  return element;\n}\nfunction deriveClass(cls, base, members, statics) {\n  cls.prototype = assign(Object.create(base.prototype), {\n    constructor: cls\n  }, members);\n  if (statics) {\n    assign(cls, statics);\n  }\n  return cls;\n}\nfunction deriveDeep(obj, needZeroOwnProperties) {\n  var res = obj;\n  var i;\n  var n;\n  if (obj instanceof Array) {\n    res = new Array(obj.length);\n    for (i = 0, n = obj.length; i < n; ++i) {\n      res[i] = deriveDeep(obj[i]);\n    }\n  } else if (obj instanceof Object) {\n    res = Object.create(obj);\n    var keys = Object.keys(obj);\n    for (i = 0, n = keys.length; i < n; ++i) {\n      var key = keys[i];\n      var value = obj[key];\n      var copy = deriveDeep(value);\n      if (copy !== value) {\n        res[key] = copy;\n      }\n    }\n    if (needZeroOwnProperties && Object.keys(res).length > 0) {\n      res = Object.create(res);\n    }\n  }\n  return res;\n}\nfunction hexColor(color) {\n  var hex = \"0000000\".concat(color.toString(16)).substr(-6);\n  return \"#\".concat(hex);\n}\nfunction DebugTracer(namespace) {\n  var enabled = false;\n  this.enable = function (on) {\n    enabled = on;\n  };\n  var indent = 0;\n  var methods = Object.keys(namespace);\n  function wrap(method_, name_) {\n    return function () {\n      var spaces = DebugTracer.spaces.substr(0, indent * 2);\n      if (enabled) {\n        logger.debug(\"\".concat(spaces + name_, \" {\"));\n      }\n      indent++;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var result = method_.apply(this, args);\n      indent--;\n      if (enabled) {\n        logger.debug(\"\".concat(spaces, \"} // \").concat(name_));\n      }\n      return result;\n    };\n  }\n  for (var i = 0, n = methods.length; i < n; ++i) {\n    var name = methods[i];\n    var method = namespace[name];\n    if (method instanceof Function && name !== 'constructor') {\n      namespace[name] = wrap(method, name);\n    }\n  }\n}\nDebugTracer.spaces = '                                                                                          ';\nvar OutOfMemoryError = function (_Error) {\n  _inherits(OutOfMemoryError, _Error);\n  var _super = _createSuper$22(OutOfMemoryError);\n  function OutOfMemoryError(message) {\n    var _this;\n    _classCallCheck(this, OutOfMemoryError);\n    _this = _super.call(this);\n    _this.name = 'OutOfMemoryError';\n    _this.message = message;\n    return _this;\n  }\n  return _createClass(OutOfMemoryError);\n}( _wrapNativeSuper(Error));\nfunction allocateTyped(TypedArrayName, size) {\n  var result = null;\n  try {\n    result = new TypedArrayName(size);\n  } catch (e) {\n    if (e instanceof RangeError) {\n      throw new OutOfMemoryError(e.message);\n    } else {\n      throw e;\n    }\n  }\n  return result;\n}\nfunction bytesToBase64(\nbuffer) {\n  var bytes = new Uint8Array(buffer);\n  var binary = '';\n  for (var i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return window.btoa(binary);\n}\nfunction bytesFromBase64(\nstr) {\n  var binary = window.atob(str);\n  var bytes = new Uint8Array(binary.length);\n  for (var i = 0; i < bytes.length; ++i) {\n    bytes[i] = binary[i].charCodeAt(0);\n  }\n  return bytes.buffer;\n}\nfunction arrayToBase64(\narray,\nTypedArrayClass) {\n  return bytesToBase64(new TypedArrayClass(array).buffer);\n}\nfunction arrayFromBase64(\nstr,\nTypedArrayClass) {\n  return Array.prototype.slice.call(new TypedArrayClass(bytesFromBase64(str)));\n}\nfunction compareOptionsWithDefaults(opts, defOpts) {\n  var optsStr = [];\n  if (defOpts && opts) {\n    var keys = Object.keys(opts);\n    for (var p = 0; p < keys.length; ++p) {\n      var key = keys[p];\n      var value = opts[key];\n      if (!(value instanceof Object) && typeof defOpts[key] !== 'undefined' && defOpts[key] !== value) {\n        optsStr.push(\"\".concat(key, \":\").concat(value));\n      }\n    }\n    if (optsStr.length > 0) {\n      return \"!\".concat(optsStr.join());\n    }\n  }\n  return '';\n}\nfunction isAlmostPlainObject(o) {\n  if (isPlainObject(o)) {\n    return true;\n  }\n  var proto = o && Object.getPrototypeOf(o);\n  return !!proto && !Object.hasOwn(proto, 'constructor') && isAlmostPlainObject(proto);\n}\nfunction objectsDiff(src, dst) {\n  var diff = {};\n  forIn(src, function (srcValue, key) {\n    var dstValue = dst[key];\n    if (isAlmostPlainObject(srcValue) && isAlmostPlainObject(dstValue)) {\n      var deepDiff = objectsDiff(srcValue, dstValue);\n      if (!isEmpty(deepDiff)) {\n        diff[key] = deepDiff;\n      }\n    } else if (!isEqual(srcValue, dstValue)) {\n      diff[key] = srcValue;\n    }\n  });\n  return diff;\n}\nfunction forInRecursive(object, callback) {\n  function iterateThrough(obj, prefix) {\n    forIn(obj, function (value, key) {\n      var newPref = prefix + (prefix.length > 0 ? '.' : '');\n      if (value instanceof Object) {\n        iterateThrough(value, newPref + key);\n      } else if (value !== undefined) {\n        callback(value, newPref + key);\n      }\n    });\n  }\n  iterateThrough(object, '');\n}\nfunction enquoteString(value) {\n  if (isString(value)) {\n    return \"\\\"\".concat(value.replace(/\"/g, '\\\\\"'), \"\\\"\");\n  }\n  return value;\n}\nfunction unquoteString(value) {\n  if (!isString(value)) {\n    return value;\n  }\n  if (value[0] === '\"' && value[value.length - 1] === '\"') {\n    value = value.slice(1, value.length - 1);\n    return value.replace(/\\\\\"/g, '\"');\n  }\n  if (value[0] === \"'\" && value[value.length - 1] === \"'\") {\n    value = value.slice(1, value.length - 1);\n    return value.replace(/\\\\'/g, \"'\");\n  }\n  throw new SyntaxError(\"Incorrect string format, can't unqute it\");\n}\nfunction getFileExtension(fileName) {\n  return fileName.slice(Math.max(0, fileName.lastIndexOf('.')) || Infinity);\n}\nfunction splitFileName(fileName) {\n  var ext = getFileExtension(fileName);\n  var name = fileName.slice(0, fileName.length - ext.length);\n  return [name, ext];\n}\nfunction dataUrlToBlob(url) {\n  var parts = url.split(/[:;,]/);\n  var partsCount = parts.length;\n  if (partsCount >= 3 && parts[partsCount - 2] === 'base64') {\n    return new Blob([bytesFromBase64(parts[partsCount - 1])]);\n  }\n  return null;\n}\nfunction getBrowser() {\n  if (navigator.vendor && navigator.vendor.indexOf('Apple') > -1 && navigator.userAgent && navigator.userAgent.indexOf('CriOS') === -1 && navigator.userAgent.indexOf('FxiOS') === -1) {\n    return browserType.SAFARI;\n  }\n  return browserType.DEFAULT;\n}\nfunction shotOpen(url) {\n  if (typeof window !== 'undefined') {\n    window.open().document.write(\"<body style=\\\"margin:0\\\"><img src=\\\"\".concat(url, \"\\\" /></body>\"));\n  }\n}\nfunction shotDownload(dataUrl, filename) {\n  if (!dataUrl || dataUrl.substr(0, 5) !== 'data:') {\n    return;\n  }\n  if (!filename) {\n    filename = ['screenshot-', +new Date(), '.png'].join('');\n  }\n  if (typeof window !== 'undefined' && window.navigator && window.navigator.msSaveBlob) {\n    window.navigator.msSaveBlob(dataUrlToBlob(dataUrl), filename);\n  } else if (typeof document !== 'undefined') {\n    var link = document.createElement('a');\n    link.download = filename;\n    link.innerHTML = 'download';\n    link.href = window.URL.createObjectURL(dataUrlToBlob(dataUrl));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\nfunction download(data, filename, type) {\n  var blobData = new Blob([data]);\n  if (!filename) {\n    filename = ['data', +new Date()].join('');\n  }\n  if (!type) {\n    filename += blobData.type || '.bin';\n  } else {\n    filename += \".\".concat(type);\n  }\n  if (typeof window !== 'undefined' && window.navigator && window.navigator.msSaveBlob) {\n    window.navigator.msSaveBlob(blobData, filename);\n  } else if (typeof document !== 'undefined') {\n    var link = document.createElement('a');\n    link.download = filename;\n    link.innerHTML = 'download';\n    link.href = window.URL.createObjectURL(blobData);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\nfunction copySubArrays$2(src, dst, indices, itemSize) {\n  for (var i = 0, n = indices.length; i < n; ++i) {\n    for (var j = 0; j < itemSize; ++j) {\n      dst[i * itemSize + j] = src[indices[i] * itemSize + j];\n    }\n  }\n}\nfunction shallowCloneNode(node) {\n  var newNode = node.cloneNode(true);\n  newNode.worldPos = node.worldPos;\n  return newNode;\n}\nvar unquotedStringRE = /^[a-zA-Z0-9_]*$/;\nvar enquoteHelper = ['\"', '', '\"'];\nfunction correctSelectorIdentifier(value) {\n  if (unquotedStringRE.test(value)) {\n    return value;\n  }\n  enquoteHelper[1] = value;\n  return enquoteHelper.join('');\n}\nfunction concatTypedArraysUnsafe(first, second) {\n  var result = new first.constructor(first.length + second.length);\n  result.set(first);\n  result.set(second, first.length);\n  return result;\n}\nfunction mergeTypedArraysUnsafe(array) {\n  if (array.length <= 0) {\n    return null;\n  }\n  var size = array.reduce(function (acc, cur) {\n    return acc + cur.length;\n  }, 0);\n  var result = new array[0].constructor(size);\n  for (var i = 0, start = 0; i < array.length; i++) {\n    var count = array[i].length;\n    result.set(array[i], start);\n    start += count;\n  }\n  return result;\n}\nvar utils = {\n  browserType: browserType,\n  encodeQueryComponent: encodeQueryComponent,\n  decodeQueryComponent: decodeQueryComponent,\n  getUrlParameters: getUrlParameters,\n  getUrlParametersAsDict: getUrlParametersAsDict,\n  resolveURL: resolveURL,\n  generateRegExp: generateRegExp,\n  createElement: createElement$1,\n  deriveClass: deriveClass,\n  deriveDeep: deriveDeep,\n  hexColor: hexColor,\n  DebugTracer: DebugTracer,\n  OutOfMemoryError: OutOfMemoryError,\n  allocateTyped: allocateTyped,\n  bytesFromBase64: bytesFromBase64,\n  bytesToBase64: bytesToBase64,\n  arrayFromBase64: arrayFromBase64,\n  arrayToBase64: arrayToBase64,\n  compareOptionsWithDefaults: compareOptionsWithDefaults,\n  objectsDiff: objectsDiff,\n  forInRecursive: forInRecursive,\n  enquoteString: enquoteString,\n  unquoteString: unquoteString,\n  getBrowser: getBrowser,\n  shotOpen: shotOpen,\n  shotDownload: shotDownload,\n  copySubArrays: copySubArrays$2,\n  shallowCloneNode: shallowCloneNode,\n  correctSelectorIdentifier: correctSelectorIdentifier,\n  getFileExtension: getFileExtension,\n  splitFileName: splitFileName,\n  download: download,\n  concatTypedArraysUnsafe: concatTypedArraysUnsafe,\n  mergeTypedArraysUnsafe: mergeTypedArraysUnsafe\n};\n\nfunction _createSuper$21(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$21(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$21() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar JobHandle = function (_EventDispatcher) {\n  _inherits(JobHandle, _EventDispatcher);\n  var _super = _createSuper$21(JobHandle);\n  function JobHandle() {\n    var _this;\n    _classCallCheck(this, JobHandle);\n    _this = _super.call(this);\n    _this._shouldCancel = false;\n    return _this;\n  }\n  _createClass(JobHandle, [{\n    key: \"cancel\",\n    value: function cancel() {\n      this._shouldCancel = true;\n      this.dispatchEvent({\n        type: 'cancel'\n      });\n    }\n  }, {\n    key: \"shouldCancel\",\n    value: function shouldCancel() {\n      return this._shouldCancel;\n    }\n  }, {\n    key: \"notify\",\n    value: function notify(event) {\n      this.dispatchEvent({\n        type: 'notification',\n        slaveEvent: event\n      });\n    }\n  }]);\n  return JobHandle;\n}(EventDispatcher);\n\nvar VERSION = 0;\nvar defaults = {\n  modes: {\n    BS: {\n      atom: 0.23,\n      bond: 0.15,\n      space: 0.5,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32\n      }\n    },\n    VW: {\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 8,\n        high: 16,\n        ultra: 32\n      }\n    },\n    LN: {\n      multibond: true,\n      showarom: true,\n      offsarom: 0.2,\n      chunkarom: 10,\n      atom: 0.23,\n      lineWidth: 2\n    },\n    LC: {\n      bond: 0.2,\n      space: 0.0,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32\n      }\n    },\n    SA: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60\n      }\n    },\n    SE: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60\n      }\n    },\n    QS: {\n      isoValue: 0.5,\n      gaussLim: {\n        poor: 1.5,\n        low: 2.0,\n        medium: 2.5,\n        high: 3.0,\n        ultra: 4.0\n      },\n      scale: 1.0,\n      wireframe: false,\n      gridSpacing: {\n        poor: 2,\n        low: 1.5,\n        medium: 1,\n        high: 0.5,\n        ultra: 0.25\n      },\n      subset: '',\n      zClip: false\n    },\n    CS: {\n      probeRadius: 1.4,\n      isoValue: 1.5,\n      wireframe: false,\n      probePositions: 30,\n      polyComplexity: {\n        poor: 0.5,\n        low: 1.0,\n        medium: 1.5,\n        high: 1.75,\n        ultra: 2.0\n      },\n      subset: '',\n      zClip: false\n    },\n    TR: {\n      radius: 0.3,\n      polyComplexity: {\n        poor: 12,\n        low: 16,\n        medium: 32,\n        high: 64,\n        ultra: 64\n      }\n    },\n    TU: {\n      radius: 0.3,\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34\n      }\n    },\n    CA: {\n      radius: 0.3,\n      depth: 0.25,\n      ss: {\n        helix: {\n          width: 1.0,\n          arrow: 2.0\n        },\n        strand: {\n          width: 1.0,\n          arrow: 2.0\n        }\n      },\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34\n      }\n    },\n    TX: {\n      template: '{{Chain}}.{{Residue}}{{Sequence}}.{{Name}}',\n      horizontalAlign: 'center',\n      verticalAlign: 'middle',\n      dx: 0,\n      dy: 0,\n      dz: 1,\n      fg: 'none',\n      bg: '0x202020',\n      showBg: true\n    },\n    VD: {\n      kSigma: 1.0,\n      kSigmaMed: 2.0,\n      kSigmaMax: 4.0,\n      frame: true,\n      isoMode: false,\n      polyComplexity: {\n        poor: 2,\n        low: 3,\n        medium: 4,\n        high: 8,\n        ultra: 10\n      }\n    }\n  },\n  colorers: {\n    EL: {\n      carbon: -1\n    },\n    UN: {\n      color: 0xffffff\n    },\n    CO: {\n      subset: 'charged',\n      color: 0xff0000,\n      baseColor: 0xffffff\n    },\n    CB: {\n      color: 0x909090,\n      factor: 0.6\n    },\n    SQ: {\n      gradient: 'rainbow'\n    },\n    TM: {\n      gradient: 'temp',\n      min: 5,\n      max: 40\n    },\n    OC: {\n      gradient: 'reds'\n    },\n    HY: {\n      gradient: 'blue-red'\n    },\n    MO: {\n      gradient: 'rainbow'\n    }\n  },\n  antialias: true,\n  camFov: 45.0,\n  camNear: 0.5,\n  camFar: 100.0,\n  camDistance: 2.5,\n  radiusToFit: 1.0,\n  fogNearFactor: 0.5,\n  fogFarFactor: 1,\n  fogAlpha: 1.0,\n  fogColor: 0x000000,\n  fogColorEnable: false,\n  palette: 'JM',\n  resolution: 'medium',\n  autoResolution: false\n  ,\n  autoPreset: true,\n  preset: 'default',\n  presets: {\n    default: [{\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF'\n    }],\n    empty: [],\n    wire: [{\n      mode: 'LN',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF'\n    }],\n    small: [{\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF'\n    }],\n    macro: [{\n      mode: 'CA',\n      colorer: 'SS',\n      selector: 'not hetatm',\n      material: 'SF'\n    }, {\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'hetatm and not water',\n      material: 'SF'\n    }]\n  },\n  objects: {\n    line: {\n      color: 0xffffffff,\n      dashSize: 0.3,\n      gapSize: 0.05\n    }\n  },\n  bg: {\n    color: 0x202020,\n    transparent: false\n  },\n  draft: {\n    clipPlane: false,\n    clipPlaneFactor: 0.5,\n    clipPlaneSpeed: 0.00003\n  },\n  plugins: {},\n  axes: true,\n  fog: true,\n  fps: true,\n  zSprites: true,\n  isoSurfaceFakeOpacity: true,\n  suspendRender: true,\n  nowater: false,\n  autobuild: true,\n  fxaa: true,\n  outline: {\n    on: false,\n    color: 0x000000,\n    threshold: 0.1,\n    thickness: 1\n  },\n  ao: false,\n  shadow: {\n    on: false,\n    type: 'random'\n    ,\n    radius: 1.0\n  },\n  autoRotation: 0.0,\n  maxfps: 30,\n  fbxprec: 4,\n  autoRotationAxisFixed: true,\n  zooming: true,\n  picking: true,\n  pick: 'atom',\n  editing: false,\n  aromatic: false,\n  singleUnit: true,\n  stereo: 'NONE',\n  interpolateViews: true,\n  transparency: 'prepass',\n  translationSpeed: 2,\n  debug: {\n    example: 3.5,\n    text: 'hello!',\n    good: true,\n    ssaoKernelRadius: 0.7,\n    ssaoFactor: 0.7,\n    stereoBarrel: 0.25\n  },\n  use: {\n    multiFile: false\n  }\n};\nfunction Settings() {\n  EventDispatcher.call(this);\n  this.old = null;\n  this.now = {};\n  this._changed = {};\n  this.reset();\n}\nutils.deriveClass(Settings, EventDispatcher, {\n  defaults: defaults,\n  set: function set$1(path, value) {\n    if (isString(path)) {\n      var oldValue = get(this.now, path);\n      if (oldValue !== value) {\n        set(this.now, path, value);\n        this._notifyChange(path, value);\n      }\n    } else {\n      var diff = utils.objectsDiff(path, this.now);\n      if (!isEmpty(diff)) {\n        merge(this.now, diff);\n        this._notifyChanges(diff);\n      }\n    }\n  },\n  get: function get$1(path, defaultValue) {\n    return get(this.now, path, defaultValue);\n  },\n  reset: function reset() {\n    var diff = utils.objectsDiff(defaults, this.now);\n    this.now = cloneDeep(defaults);\n    this.old = null;\n    this._notifyChanges(diff);\n    this._changed = {};\n  },\n  checkpoint: function checkpoint() {\n    this.old = cloneDeep(this.now);\n    this._changed = {};\n  },\n  _notifyChange: function _notifyChange(path, value) {\n    this._changed[path] = true;\n    this.dispatchEvent({\n      type: \"change:\".concat(path),\n      value: value\n    });\n  },\n  _notifyChanges: function _notifyChanges(diff) {\n    var _this = this;\n    utils.forInRecursive(diff, function (deepValue, deepPath) {\n      _this._notifyChange(deepPath, deepValue);\n    });\n  },\n  changed: function changed() {\n    if (!this.old) {\n      return [];\n    }\n    var old = this.old,\n        now = this.now;\n    var keys = filter(Object.keys(this._changed), function (key) {\n      return get(old, key) !== get(now, key);\n    });\n    return keys;\n  },\n  applyDiffs: function applyDiffs(diffs) {\n    if (Object.hasOwn(diffs, 'VERSION') && diffs.VERSION !== VERSION) {\n      throw new Error('Settings version does not match!');\n    }\n    delete diffs.VERSION;\n    this.reset();\n    this.set(diffs);\n  },\n  getDiffs: function getDiffs(versioned) {\n    var diffs = utils.objectsDiff(this.now, defaults);\n    if (versioned) {\n      diffs.VERSION = VERSION;\n    }\n    return diffs;\n  },\n  setPluginOpts: function setPluginOpts(plugin, opts) {\n    defaults.plugins[plugin] = cloneDeep(opts);\n    this.now.plugins[plugin] = cloneDeep(opts);\n  }\n});\nvar settings = new Settings();\n\nvar repIndex = 0;\nfunction asBoolean(value) {\n  return !(!value || value === '0' || isString(value) && value.toLowerCase() === 'false');\n}\nvar adapters = {\n  string: String,\n  number: Number,\n  boolean: asBoolean\n};\nvar cL1Ass = '=';\nvar cOptsSep = '!';\nvar cL2Ass = ':';\nvar cLSep = ',';\nvar cCommonIgnoreSymbols = '$;@/?';\nfunction getLevel1ExcludedExpr() {\n  var cLevel1Ignores = ':,';\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel1Ignores);\n}\nfunction getLevel2ExcludedExpr() {\n  var cLevel2Ignores = ' ';\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel2Ignores);\n}\nvar cL1ExclExpr = getLevel1ExcludedExpr();\nfunction encodeQueryComponentL1(value) {\n  return utils.encodeQueryComponent(value, cL1ExclExpr);\n}\nvar cL2ExclExpr = getLevel2ExcludedExpr();\nfunction encodeQueryComponentL2(value) {\n  return utils.encodeQueryComponent(value, cL2ExclExpr);\n}\nfunction ensureRepList(opts) {\n  var reps = opts.reps;\n  if (!reps) {\n    var presets = settings.now.presets;\n    var preset = opts.preset || settings.now.preset;\n    reps = presets[preset];\n    if (!reps) {\n      logger.warn(\"Unknown preset \\\"\".concat(preset, \"\\\"\"));\n      var _Object$keys = Object.keys(presets);\n      var _Object$keys2 = _slicedToArray(_Object$keys, 1);\n      preset = _Object$keys2[0];\n      reps = presets[preset];\n    }\n    opts.preset = preset;\n    opts.reps = utils.deriveDeep(reps, true);\n  }\n}\nfunction ensureRepAssign(opts, prop, value) {\n  ensureRepList(opts);\n  var rep = opts.reps[repIndex];\n  if (Object.hasOwn(rep, prop)) {\n    repIndex = opts.reps.length;\n    opts.reps[repIndex] = utils.deriveDeep(rep, true);\n  }\n  if (value !== undefined) {\n    opts.reps[repIndex][prop] = value;\n  }\n}\nfunction addObject(opts, params, options) {\n  if (opts._objects === undefined) {\n    opts._objects = [];\n  }\n  var _options = _slicedToArray(options, 2),\n      type = _options[0],\n      newOpts = _options[1];\n  var newObj = {\n    type: type,\n    params: params\n  };\n  if (newOpts !== undefined) {\n    newObj.opts = newOpts;\n  }\n  opts._objects[opts._objects.length] = newObj;\n}\nfunction parseParams(str, params) {\n  var sep = str.indexOf(',');\n  if (sep >= 0) {\n    params.push(str.substr(sep + 1).split(','));\n    return str.substr(0, sep);\n  }\n  return str;\n}\nfunction extractArgs(input, defaultsDict, params) {\n  if (input) {\n    var bang = input.indexOf(cOptsSep);\n    var inputVal = parseParams(input.substr(0, bang >= 0 ? bang : undefined), params);\n    if (bang >= 0) {\n      var args = input.substr(bang + 1).split(cLSep);\n      input = inputVal;\n      if (defaultsDict) {\n        var defaults = defaultsDict[input];\n        var opts = utils.deriveDeep(defaults, true);\n        args.forEach(function (arg) {\n          var pair = arg.split(cL2Ass, 2);\n          var key = decodeURIComponent(pair[0]);\n          var value = decodeURIComponent(pair[1]);\n          var adapter = adapters[_typeof(get(defaults, key))];\n          if (adapter) {\n            set(opts, key, adapter(value));\n          } else {\n            logger.warn(\"Unknown argument \\\"\".concat(key, \"\\\" for option \\\"\").concat(input, \"\\\"\"));\n          }\n        });\n        if (Object.keys(opts).length > 0) {\n          input = [input, opts];\n        }\n      }\n    } else {\n      input = inputVal;\n    }\n  }\n  return input;\n}\nvar actions = {\n  l: 'load',\n  load: String,\n  t: 'type',\n  type: String,\n  v: 'view',\n  view: String,\n  u: 'unit',\n  unit: Number,\n  menu: asBoolean,\n  o: 'object',\n  object: function object(value, opts) {\n    var params = [];\n    var options = extractArgs(value, settings.defaults.objects, params);\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n    addObject(opts, params[0], options);\n  },\n  p: 'preset',\n  preset: function preset(value, opts) {\n    opts.preset = value;\n    opts.reps = null;\n    ensureRepList(opts);\n  },\n  r: 'rep',\n  rep: function rep(value, opts) {\n    ensureRepList(opts);\n    repIndex = Number(value);\n    repIndex = repIndex <= opts.reps.length ? repIndex < 0 ? 0 : repIndex : opts.reps.length;\n    if (repIndex === opts.reps.length) {\n      opts.reps[repIndex] = repIndex > 0 ? utils.deriveDeep(opts.reps[repIndex - 1], true) : utils.deriveDeep(settings.defaults.presets.default[0], true);\n    }\n  },\n  s: 'select',\n  select: function select(value, opts) {\n    ensureRepAssign(opts, 'selector', value);\n  },\n  m: 'mode',\n  mode: function mode(value, opts) {\n    ensureRepAssign(opts, 'mode', extractArgs(value, settings.defaults.modes));\n  },\n  c: 'color',\n  color: function color(value, opts) {\n    ensureRepAssign(opts, 'colorer', extractArgs(value, settings.defaults.colorers));\n  },\n  mt: 'material',\n  material: function material(value, opts) {\n    ensureRepAssign(opts, 'material', extractArgs(value, settings.defaults.materials));\n  },\n  dup: function dup(value, opts) {\n    ensureRepList(opts);\n    var reps = opts.reps;\n    var rep = reps[repIndex];\n    repIndex = reps.length;\n    reps[repIndex] = utils.deriveDeep(rep, true);\n  },\n  ar: 'autoResolution'\n};\nfunction _fromArray(entries) {\n  repIndex = 0;\n  var opts = {};\n  for (var i = 0, n = entries.length; i < n; ++i) {\n    var\n    entry = entries[i];\n    var\n    key = entry[0];\n    var\n    value = entry[1];\n    if (Object.hasOwn(actions, key)) {\n      var\n      action = actions[key];\n      while (isString(action)) {\n        key = action;\n        action = actions[key];\n      }\n      if (typeof action === 'function') {\n        var result = action(value, opts);\n        if (result !== undefined) opts[key] = result;\n      }\n    } else {\n      var adapter = adapters[_typeof(get(settings.defaults, key))];\n      if (adapter) {\n        set(opts, \"settings.\".concat(key), adapter(value));\n      } else {\n        logger.warn(\"Unknown option \\\"\".concat(key, \"\\\"\"));\n      }\n    }\n  }\n  return opts;\n}\nfunction fromAttr(attr) {\n  return _fromArray(utils.getUrlParameters(\"?\".concat(attr || '')));\n}\nfunction fromURL(url) {\n  return _fromArray(utils.getUrlParameters(url));\n}\nfunction _processOptsForURL(opts) {\n  var str = [];\n  var i = 0;\n  utils.forInRecursive(opts, function (value, key) {\n    str[i++] = encodeQueryComponentL2(key) + cL2Ass + encodeQueryComponentL2(value);\n  });\n  return str.join(cLSep);\n}\nfunction _processArgsForURL(args) {\n  if (!isArray(args)) {\n    return args;\n  }\n  if (args.length < 2) {\n    return args[0];\n  }\n  return \"\".concat(args[0]).concat(cOptsSep).concat(_processOptsForURL(args[1]));\n}\nfunction _processObjForURL(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined;\n  }\n  var res = objOpts.type;\n  if (isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += \",\".concat(objOpts.params.join(','));\n  }\n  if (objOpts.opts) {\n    res += cOptsSep + _processOptsForURL(objOpts.opts);\n  }\n  return res;\n}\nfunction toURL(opts) {\n  var stringList = [];\n  var idx = 0;\n  function checkAndAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      stringList[idx++] = encodeQueryComponentL1(prefix) + cL1Ass + encodeQueryComponentL1(value);\n    }\n  }\n  function addReps(repList) {\n    if (!repList) {\n      return;\n    }\n    for (var i = 0, n = repList.length; i < n; ++i) {\n      if (isEmpty(repList[i])) {\n        continue;\n      }\n      checkAndAdd('r', i);\n      checkAndAdd('s', repList[i].selector);\n      checkAndAdd('m', _processArgsForURL(repList[i].mode));\n      checkAndAdd('c', _processArgsForURL(repList[i].colorer));\n      checkAndAdd('mt', _processArgsForURL(repList[i].material));\n    }\n  }\n  function addObjects(objList) {\n    if (!objList) {\n      return;\n    }\n    for (var i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('o', _processObjForURL(objList[i]));\n    }\n  }\n  checkAndAdd('l', opts.load);\n  checkAndAdd('u', opts.unit);\n  checkAndAdd('p', opts.preset);\n  addReps(opts.reps);\n  addObjects(opts._objects);\n  checkAndAdd('v', opts.view);\n  utils.forInRecursive(opts.settings, function (value, key) {\n    if (key === 'preset') {\n      return;\n    }\n    checkAndAdd(key, value);\n  });\n  var url = '';\n  if (typeof window !== 'undefined') {\n    var _window = window,\n        location = _window.location;\n    url = \"\".concat(location.protocol, \"//\").concat(location.host).concat(location.pathname);\n  }\n  if (stringList.length > 0) {\n    url += \"?\".concat(stringList.join('&'));\n  }\n  return url;\n}\nfunction _processOptsForScript(opts) {\n  var str = [];\n  var i = 0;\n  utils.forInRecursive(opts, function (value, key) {\n    str[i++] = \"\".concat(key, \"=\").concat(utils.enquoteString(value));\n  });\n  return str.join(' ');\n}\nfunction _processArgsForScript(args) {\n  if (!isArray(args)) {\n    return args;\n  }\n  if (args.length < 2) {\n    return args[0];\n  }\n  return \"\".concat(args[0], \" \").concat(_processOptsForScript(args[1]));\n}\nfunction _processObjForScript(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined;\n  }\n  var res = objOpts.type;\n  if (isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += \" \".concat(objOpts.params.map(utils.enquoteString).join(' '));\n  }\n  if (objOpts.opts) {\n    res += \" \".concat(_processOptsForScript(objOpts.opts));\n  }\n  return res;\n}\nfunction _processRepsForScript(rep, index) {\n  var repString = [];\n  var strIdx = 0;\n  function localAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      repString[strIdx++] = prefix + value;\n    }\n  }\n  if (isEmpty(rep)) {\n    return null;\n  }\n  localAdd('', index);\n  localAdd('s=', utils.enquoteString(rep.selector));\n  localAdd('m=', _processArgsForScript(rep.mode));\n  localAdd('c=', _processArgsForScript(rep.colorer));\n  localAdd('mt=', _processArgsForScript(rep.material));\n  return repString.join(' ');\n}\nfunction toScript(opts) {\n  var commandsList = [];\n  var idx = 0;\n  function checkAndAdd(command, value, saveQuotes) {\n    if (value !== null && value !== undefined) {\n      var quote = typeof value === 'string' && saveQuotes ? '\"' : '';\n      commandsList[idx++] = \"\".concat(command, \" \").concat(quote).concat(value).concat(quote).trim();\n    }\n  }\n  function addReps(repList) {\n    if (!repList) {\n      return;\n    }\n    for (var i = 0, n = repList.length; i < n; ++i) {\n      checkAndAdd('rep', _processRepsForScript(repList[i], i));\n    }\n  }\n  function addObjects(objList) {\n    if (!objList) {\n      return;\n    }\n    for (var i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('', _processObjForScript(objList[i]));\n    }\n  }\n  checkAndAdd('set', 'autobuild false');\n  checkAndAdd('load', opts.load, true);\n  checkAndAdd('unit', opts.unit);\n  checkAndAdd('preset', opts.preset);\n  addReps(opts.reps);\n  addObjects(opts._objects);\n  utils.forInRecursive(opts.settings, function (value, key) {\n    if (key === 'preset') {\n      return;\n    }\n    checkAndAdd(\"set \".concat(key), value, true);\n  });\n  checkAndAdd('view', opts.view);\n  checkAndAdd('set', 'autobuild true');\n  return commandsList.join('\\n');\n}\nvar options = {\n  fromURL: fromURL,\n  fromAttr: fromAttr,\n  adapters: adapters,\n  toURL: toURL,\n  toScript: toScript\n};\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Atom$2 = function () {\n  function Atom(residue, name, type, position, role, het, serial, location, occupancy, temperature, charge) {\n    _classCallCheck(this, Atom);\n    this.index = -1;\n    this.residue = residue;\n    this.name = name;\n    this.element = type;\n    this.position = position;\n    this.role = role;\n    this.mask = 1 | 0;\n    this.het = het;\n    this.serial = serial;\n    this.location = (location || ' ').charCodeAt(0);\n    this.occupancy = occupancy || 1;\n    this.temperature = temperature;\n    this.charge = charge;\n    this.hydrogenCount = -1;\n    this.radicalCount = 0;\n    this.valence = -1;\n    this.bonds = [];\n    this.flags = 0x0000;\n    if (type.name === 'H') {\n      this.flags |= Atom.Flags.HYDROGEN;\n    } else if (type.name === 'C') {\n      this.flags |= Atom.Flags.CARBON;\n    }\n  }\n  _createClass(Atom, [{\n    key: \"isHet\",\n    value: function isHet() {\n      return this.het;\n    }\n  }, {\n    key: \"isHydrogen\",\n    value: function isHydrogen() {\n      return this.element.number === 1;\n    }\n  }, {\n    key: \"getVisualName\",\n    value: function getVisualName() {\n      var name = this.name;\n      if (name.length > 0) {\n        return name;\n      }\n      return this.element.name.trim();\n    }\n  }, {\n    key: \"forEachBond\",\n    value: function forEachBond(process) {\n      var bonds = this.bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        process(bonds[i]);\n      }\n    }\n  }, {\n    key: \"getFullName\",\n    value: function getFullName() {\n      var name = '';\n      if (this.residue !== null) {\n        if (this.residue._chain !== null) {\n          name += \"\".concat(this.residue._chain.getName(), \".\");\n        }\n        name += \"\".concat(this.residue._sequence, \".\");\n      }\n      name += this.name;\n      return name;\n    }\n  }]);\n  return Atom;\n}();\n_defineProperty(Atom$2, \"Flags\", {\n  CARBON: 0x0001,\n  HYDROGEN: 0x0008,\n  NONPOLARH: 0x1008\n});\n\nvar Element$a = _createClass(function Element(number, name, fullName, weight, radius, radiusBonding, hValency) {\n  _classCallCheck(this, Element);\n  this.number = number;\n  this.name = name;\n  this.fullName = fullName;\n  this.weight = weight;\n  this.radius = radius;\n  this.radiusBonding = radiusBonding;\n  this.hydrogenValency = hValency;\n});\n_defineProperty(Element$a, \"Constants\", {\n  U1: 1,\n  Lead: 2,\n  U2: 3,\n  Wing: 4,\n  U18: 18\n});\n_defineProperty(Element$a, \"Role\", {\n  N: Element$a.Constants.U1,\n  CA: Element$a.Constants.Lead,\n  C: Element$a.Constants.U2,\n  O: Element$a.Constants.Wing,\n  SG: Element$a.Constants.U18\n});\n_defineProperty(Element$a, \"ByAtomicNumber\", [\nnull, new Element$a(1, 'H', 'Hydrogen', 1.008, 1.2, 0.23, [1]), new Element$a(2, 'HE', 'Helium', 4.003, 1.4, 0.93, [0]), new Element$a(3, 'LI', 'Lithium', 6.941, 1.82, 0.68, [1]), new Element$a(4, 'BE', 'Beryllium', 9.012, 1.7, 0.35, [2]), new Element$a(5, 'B', 'Boron', 10.81, 2.08, 0.83, [3]), new Element$a(6, 'C', 'Carbon', 12.011, 1.95, 0.68, [4]), new Element$a(7, 'N', 'Nitrogen', 14.007, 1.85, 0.68, [3, 5]), new Element$a(8, 'O', 'Oxygen', 15.999, 1.7, 0.68, [2, 4]), new Element$a(9, 'F', 'Fluorine', 18.998, 1.73, 0.64, [1]), new Element$a(10, 'NE', 'Neon', 20.18, 1.54, 1.12, [0]), new Element$a(11, 'NA', 'Sodium', 22.99, 2.27, 0.97, [1]), new Element$a(12, 'MG', 'Magnesium', 24.305, 1.73, 1.1, [2]), new Element$a(13, 'AL', 'Aluminum', 26.981, 2.05, 1.35, [3]), new Element$a(14, 'SI', 'Silicon', 28.086, 2.1, 1.2, [4]), new Element$a(15, 'P', 'Phosphorus', 30.974, 2.08, 0.75, [3, 5]), new Element$a(16, 'S', 'Sulfur', 32.07, 2, 1.02, [2, 4, 6]), new Element$a(17, 'CL', 'Chlorine', 35.453, 1.97, 0.99, [1, 3, 5, 7]), new Element$a(18, 'AR', 'Argon', 39.948, 1.88, 1.57, [0]), new Element$a(19, 'K', 'Potassium', 39.1, 2.75, 1.33, [1]), new Element$a(20, 'CA', 'Calcium', 40.08, 1.973, 0.99, [2]), new Element$a(21, 'SC', 'Scandium', 44.956, 1.7, 1.44, [0]), new Element$a(22, 'TI', 'Titanium', 47.88, 1.7, 1.47, [0]), new Element$a(23, 'V', 'Vanadium', 50.941, 1.7, 1.33, [0]), new Element$a(24, 'CR', 'Chromium', 52, 1.7, 1.35, [0]), new Element$a(25, 'MN', 'Manganese', 54.938, 1.7, 1.35, [0]), new Element$a(26, 'FE', 'Iron', 55.847, 1.7, 1.34, [0]), new Element$a(27, 'CO', 'Cobalt', 58.93, 1.7, 1.33, [0]), new Element$a(28, 'NI', 'Nickel', 58.69, 1.63, 1.5, [0]), new Element$a(29, 'CU', 'Copper', 63.55, 1.4, 1.52, [0]), new Element$a(30, 'ZN', 'Zinc', 65.39, 1.39, 1.45, [0]), new Element$a(31, 'GA', 'Gallium', 69.72, 1.87, 1.22, [3]), new Element$a(32, 'GE', 'Germanium', 72.61, 1.7, 1.17, [4]), new Element$a(33, 'AS', 'Arsenic', 74.92, 1.85, 1.21, [3, 5]), new Element$a(34, 'SE', 'Selenium', 78.96, 1.9, 1.22, [2, 4, 6]), new Element$a(35, 'BR', 'Bromine', 79.9, 2.1, 1.21, [1, 3, 5, 7]), new Element$a(36, 'KR', 'Krypton', 83.8, 2.02, 1.91, [0]), new Element$a(37, 'RB', 'Rubidium', 85.47, 1.7, 1.47, [1]), new Element$a(38, 'SR', 'Strontium', 87.62, 1.7, 1.12, [2]), new Element$a(39, 'Y', 'Yttrium', 88.91, 1.7, 1.78, [0]), new Element$a(40, 'ZR', 'Zirconium', 91.22, 1.7, 1.56, [0]), new Element$a(41, 'NB', 'Niobium', 92.91, 1.7, 1.48, [0]), new Element$a(42, 'MO', 'Molybdenum', 95.94, 1.7, 1.47, [0]), new Element$a(43, 'TC', 'Technetium', 98.91, 1.7, 1.35, [0]), new Element$a(44, 'RU', 'Ruthenium', 101.07, 1.7, 1.4, [0]), new Element$a(45, 'RH', 'Rhodium', 102.91, 1.7, 1.45, [0]), new Element$a(46, 'PD', 'Palladium', 106.42, 1.63, 1.5, [0]), new Element$a(47, 'AG', 'Silver', 107.87, 1.72, 1.59, [0]), new Element$a(48, 'CD', 'Cadmium', 112.41, 1.58, 1.69, [0]), new Element$a(49, 'IN', 'Indium', 114.82, 1.93, 1.63, [3]), new Element$a(50, 'SN', 'Tin', 118.71, 2.17, 1.46, [2, 4]), new Element$a(51, 'SB', 'Antimony', 121.75, 2.2, 1.46, [3, 5]), new Element$a(52, 'TE', 'Tellurium', 127.6, 2.06, 1.47, [2, 4, 6]), new Element$a(53, 'I', 'Iodine', 126.91, 2.15, 1.4, [1, 3, 5, 7]), new Element$a(54, 'XE', 'Xenon', 131.29, 2.16, 1.98, [0]), new Element$a(55, 'CS', 'Cesium', 132.91, 1.7, 1.67, [1]), new Element$a(56, 'BA', 'Barium', 137.33, 1.7, 1.34, [2]), new Element$a(57, 'LA', 'Lanthanum', 138.91, 1.7, 1.87, [0]), new Element$a(58, 'CE', 'Cerium', 140.12, 1.7, 1.83, [0]), new Element$a(59, 'PR', 'Praseodymium', 140.91, 1.7, 1.82, [0]), new Element$a(60, 'ND', 'Neodymium', 144.24, 1.7, 1.81, [0]), new Element$a(61, 'PM', 'Promethium', 144.9, 1.7, 1.8, [0]), new Element$a(62, 'SM', 'Samarium', 150.36, 1.7, 1.8, [0]), new Element$a(63, 'EU', 'Europium', 151.96, 1.7, 1.99, [0]), new Element$a(64, 'GD', 'Gadolinium', 157.25, 1.7, 1.79, [0]), new Element$a(65, 'TB', 'Terbium', 158.93, 1.7, 1.76, [0]), new Element$a(66, 'DY', 'Dysprosium', 162.5, 1.7, 1.75, [0]), new Element$a(67, 'HO', 'Holmium', 164.93, 1.7, 1.74, [0]), new Element$a(68, 'ER', 'Erbium', 167.26, 1.7, 1.73, [0]), new Element$a(69, 'TM', 'Thulium', 168.93, 1.7, 1.72, [0]), new Element$a(70, 'YB', 'Ytterbium', 173.04, 1.7, 1.94, [0]), new Element$a(71, 'LU', 'Lutetium', 174.97, 1.7, 1.72, [0]), new Element$a(72, 'HF', 'Hafnium', 178.49, 1.7, 1.57, [0]), new Element$a(73, 'TA', 'Tantalum', 180.95, 1.7, 1.43, [0]), new Element$a(74, 'W', 'Tungsten', 183.85, 1.7, 1.37, [0]), new Element$a(75, 'RE', 'Rhenium', 186.21, 1.7, 1.35, [0]), new Element$a(76, 'OS', 'Osmium', 190.2, 1.7, 1.37, [0]), new Element$a(77, 'IR', 'Iridium', 192.22, 1.7, 1.32, [0]), new Element$a(78, 'PT', 'Platinum', 195.08, 1.72, 1.5, [0]), new Element$a(79, 'AU', 'Gold', 196.97, 1.66, 1.5, [0]), new Element$a(80, 'HG', 'Mercury', 200.59, 1.55, 1.7, [0]), new Element$a(81, 'TL', 'Thallium', 204.38, 1.96, 1.55, [1, 3]), new Element$a(82, 'PB', 'Lead', 207.2, 2.02, 1.54, [2, 4]), new Element$a(83, 'BI', 'Bismuth', 208.98, 1.7, 1.54, [3, 5]), new Element$a(84, 'PO', 'Polonium', 210, 1.7, 1.68, [2, 4, 6]), new Element$a(85, 'AT', 'Astatine', 210, 1.7, 1.7, [1, 3, 5, 7]), new Element$a(86, 'RN', 'Radon', 222, 1.7, 2.4, [0]), new Element$a(87, 'FR', 'Francium', 223, 1.7, 2, [1]), new Element$a(88, 'RA', 'Radium', 226.03, 1.7, 1.9, [2]), new Element$a(89, 'AC', 'Actinium', 227.03, 1.7, 1.88, [0]), new Element$a(90, 'TH', 'Thorium', 232.04, 1.7, 1.79, [0]), new Element$a(91, 'PA', 'Protactinium', 231.04, 1.7, 1.61, [0]), new Element$a(92, 'U', 'Uranium', 238.03, 1.86, 1.58, [0]), new Element$a(93, 'NP', 'Neptunium', 237.05, 1.7, 1.55, [0]), new Element$a(94, 'PU', 'Plutonium', 239.1, 1.7, 1.53, [0]), new Element$a(95, 'AM', 'Americium', 243.1, 1.7, 1.51, [0]), new Element$a(96, 'CM', 'Curium', 247.1, 1.7, 1.5, [0]), new Element$a(97, 'BK', 'Berkelium', 247.1, 1.7, 1.5, [0]), new Element$a(98, 'CF', 'Californium', 252.1, 1.7, 1.5, [0]), new Element$a(99, 'ES', 'Einsteinium', 252.1, 1.7, 1.5, [0]), new Element$a(100, 'FM', 'Fermium', 257.1, 1.7, 1.5, [0]), new Element$a(101, 'MD', 'Mendelevium', 256.1, 1.7, 1.5, [0]), new Element$a(102, 'NO', 'Nobelium', 259.1, 1.7, 1.5, [0]), new Element$a(103, 'LR', 'Lawrencium', 260.1, 1.7, 1.5, [0]), new Element$a(104, 'RF', 'Rutherfordium', 261, 1.7, 1.6, [0]), new Element$a(105, 'DB', 'Dubnium', 262, 1.7, 1.6, [0]), new Element$a(106, 'SG', 'Seaborgium', 263, 1.7, 1.6, [0]), new Element$a(107, 'BH', 'Bohrium', 262, 1.7, 1.6, [0]), new Element$a(108, 'HS', 'Hassium', 265, 1.7, 1.6, [0]), new Element$a(109, 'MT', 'Meitnerium', 268, 1.7, 1.6, [0])\n]);\n_defineProperty(Element$a, \"ByName\", {\n  D: new Element$a(1, 'D', 'Deuterium', 2.014, 1.2, 0.23, [1]),\n  T: new Element$a(1, 'T', 'Tritium', 3.016, 1.2, 0.23, [1])\n});\n(function () {\n  var byAtomicNumber = Element$a.ByAtomicNumber;\n  var byName = Element$a.ByName;\n  for (var i = 0, n = byAtomicNumber.length; i < n; ++i) {\n    var element = byAtomicNumber[i];\n    if (element) {\n      byName[element.name] = element;\n    }\n  }\n})();\nElement$a.getByName = function (element) {\n  var type = Element$a.ByName[element];\n  if (!type) {\n    type = Element$a.ByName[element] = new Element$a(0, element, 'Unknown', 0, 1.0, 0.01, [0]);\n  }\n  return type;\n};\n\nvar cBondTypes = {\n  UNKNOWN: 0,\n  COVALENT: 1,\n  AROMATIC: 2\n};\nfunction getAtomPos(atom) {\n  return atom.position;\n}\nvar Bond$5 = function () {\n  function Bond(left, right, order, type, fixed) {\n    _classCallCheck(this, Bond);\n    this._left = left;\n    this._right = right;\n    this._fixed = fixed;\n    this._index = -1;\n    if (left > right) {\n      throw new Error('In a bond atom indices must be in increasing order');\n    }\n    this._order = order;\n    this._type = type;\n  }\n  _createClass(Bond, [{\n    key: \"getLeft\",\n    value: function getLeft() {\n      return this._left;\n    }\n  }, {\n    key: \"getRight\",\n    value: function getRight() {\n      return this._right;\n    }\n  }, {\n    key: \"getOrder\",\n    value: function getOrder() {\n      return this._order;\n    }\n  }, {\n    key: \"calcLength\",\n    value: function calcLength() {\n      return this._left.position.distanceTo(this._right.position);\n    }\n  }, {\n    key: \"_forEachNeighbour\",\n    value: function _forEachNeighbour(currAtom, process) {\n      var bonds = currAtom.bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        process(bonds[i]._left !== currAtom ? bonds[i]._left : bonds[i]._right);\n      }\n    }\n  }, {\n    key: \"forEachLevelOne\",\n    value: function forEachLevelOne(process) {\n      var left = this._left;\n      var right = this._right;\n      this._forEachNeighbour(left, function (atom) {\n        if (atom === right) {\n          return;\n        }\n        process(atom);\n      });\n      this._forEachNeighbour(right, function (atom) {\n        if (atom === left) {\n          return;\n        }\n        process(atom);\n      });\n    }\n  }, {\n    key: \"forEachLevelTwo\",\n    value: function forEachLevelTwo(process) {\n      var left = this._left;\n      var right = this._right;\n      var self = this;\n      self._forEachNeighbour(left, function (atom) {\n        if (atom === right) {\n          return;\n        }\n        self._forEachNeighbour(atom, function (l2Atom) {\n          if (l2Atom === left) {\n            return;\n          }\n          process(l2Atom);\n        });\n      });\n      self._forEachNeighbour(right, function (atom) {\n        if (atom === left) {\n          return;\n        }\n        self._forEachNeighbour(atom, function (l2Atom) {\n          if (l2Atom === right) {\n            return;\n          }\n          process(l2Atom);\n        });\n      });\n    }\n  }, {\n    key: \"_fixDir\",\n    value: function _fixDir(refPoint, currDir, posGetter) {\n      var rightCount = 0;\n      var leftCount = 0;\n      var tmpVec = refPoint.clone();\n      function checkDir(atom) {\n        tmpVec.copy(posGetter(atom));\n        tmpVec.sub(refPoint);\n        var dotProd = currDir.dot(tmpVec);\n        if (dotProd > 0) {\n          ++rightCount;\n        } else {\n          ++leftCount;\n        }\n      }\n      function checkCarbon(atom) {\n        if (atom.element.name === 'C') {\n          checkDir(atom);\n        }\n      }\n      var stages = [[this.forEachLevelOne, checkCarbon], [this.forEachLevelOne, checkDir], [this.forEachLevelTwo, checkCarbon], [this.forEachLevelTwo, checkDir]];\n      for (var stageId = 0; stageId < stages.length; ++stageId) {\n        stages[stageId][0].call(this, stages[stageId][1]);\n        if (leftCount > rightCount) {\n          return currDir.multiplyScalar(-1);\n        }\n        if (leftCount < rightCount) {\n          return currDir;\n        }\n      }\n      return currDir;\n    }\n  }, {\n    key: \"calcNormalDir\",\n    value: function calcNormalDir(posGetter) {\n      var left = this._left;\n      var right = this._right;\n      var first = left;\n      var second = right;\n      posGetter = posGetter === undefined ? getAtomPos : posGetter;\n      if (left.bonds.length > right.bonds.length) {\n        first = right;\n        second = left;\n      }\n      var third = first;\n      var maxNeibs = 0;\n      var _second = second,\n          bonds = _second.bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        var another = bonds[i]._left;\n        if (bonds[i]._left === second) {\n          another = bonds[i]._right;\n        }\n        if (another.bonds.length > maxNeibs && another !== first) {\n          third = another;\n          maxNeibs = another.bonds.length;\n        }\n      }\n      var secondPos = posGetter(second);\n      var firstV = posGetter(first).clone().sub(secondPos);\n      var secondV = posGetter(third).clone().sub(secondPos);\n      secondV.crossVectors(firstV, secondV);\n      if (secondV.lengthSq() < 0.0001) {\n        secondV.set(0, 1, 0);\n      }\n      firstV.normalize();\n      secondV.normalize();\n      firstV.crossVectors(secondV, firstV);\n      if (firstV.lengthSq() < 0.0001) {\n        firstV.set(0, 1, 0);\n      }\n      firstV.normalize();\n      return this._fixDir(secondPos, firstV, posGetter);\n    }\n  }]);\n  return Bond;\n}();\n_defineProperty(Bond$5, \"BondType\", cBondTypes);\nBond$5.prototype.BondType = cBondTypes;\n\nvar cNucleicControlNames = [\"C3'\", 'C3*', 'P', 'H5T', 'H3T'];\nvar cNucleicWing1Names = ['OP1', 'O1P'];\nvar cNucleicWing2Names = ['OP2', 'O2P'];\nvar cCylinderSource = [\"C3'\", 'C3*', 'C1', \"C1'\", 'C1*', 'P'];\nvar cCylinderTarget = [{\n  types: ['A', 'DA', 'G', 'DG'],\n  atoms: ['N1']\n}, {\n  types: ['C', 'DC'],\n  atoms: ['N3']\n}, {\n  types: ['T', 'DT', 'U', 'DU'],\n  atoms: ['O4']\n}];\nvar Residue$1 = function () {\n  function Residue(chain, type, sequence, icode) {\n    _classCallCheck(this, Residue);\n    this._chain = chain;\n    this._component = null;\n    this._type = type;\n    this._sequence = sequence;\n    this._icode = icode;\n    this._mask = 1 | 0;\n    this._index = -1;\n    this._atoms = [];\n    this._secondary = null;\n    this._firstAtom = null;\n    this._leadAtom = null;\n    this._wingAtom = null;\n    this._lastAtom = null;\n    this._controlPoint = null;\n    this._midPoint = null;\n    this._wingVector = null;\n    this._cylinders = null;\n    this._isValid = true;\n    this._het = false;\n    this._molecule = null;\n    this.temperature = null;\n    this.occupancy = null;\n  }\n  _createClass(Residue, [{\n    key: \"getChain\",\n    value: function getChain() {\n      return this._chain;\n    }\n  }, {\n    key: \"getMolecule\",\n    value: function getMolecule() {\n      return this._molecule;\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return this._type;\n    }\n  }, {\n    key: \"getSequence\",\n    value: function getSequence() {\n      return this._sequence;\n    }\n  }, {\n    key: \"getSecondary\",\n    value: function getSecondary() {\n      return this._secondary;\n    }\n  }, {\n    key: \"getICode\",\n    value: function getICode() {\n      return this._icode;\n    }\n  }, {\n    key: \"addAtom\",\n    value: function addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge) {\n      var atom = new Atom$2(this, name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n      var complex = this._chain.getComplex();\n      complex.addAtom(atom);\n      this._atoms.push(atom);\n      this._het = this._het || het;\n      return atom;\n    }\n  }, {\n    key: \"getAtomCount\",\n    value: function getAtomCount() {\n      return this._atoms.length;\n    }\n  }, {\n    key: \"forEachAtom\",\n    value: function forEachAtom(process) {\n      var atoms = this._atoms;\n      for (var i = 0, n = atoms.length; i < n; ++i) {\n        if (process(atoms[i])) {\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"_findAtomByName\",\n    value: function _findAtomByName(name) {\n      var res = null;\n      this.forEachAtom(function (atom) {\n        if (atom.name === name) {\n          res = atom;\n          return true;\n        }\n        return false;\n      });\n      return res;\n    }\n  }, {\n    key: \"_findFirstAtomInList\",\n    value: function _findFirstAtomInList(names) {\n      var res = null;\n      for (var i = 0; i < names.length; ++i) {\n        res = this._findAtomByName(names[i]);\n        if (res !== null) {\n          return res;\n        }\n      }\n      return res;\n    }\n  }, {\n    key: \"collectMask\",\n    value: function collectMask() {\n      var mask = 0xffffffff;\n      var atoms = this._atoms;\n      for (var i = 0, n = atoms.length; i < n; ++i) {\n        mask &= atoms[i].mask;\n      }\n      this._mask = mask;\n    }\n  }, {\n    key: \"getCylinderTargetList\",\n    value: function getCylinderTargetList() {\n      var type = this._type._name;\n      for (var i = 0, n = cCylinderTarget.length; i < n; ++i) {\n        for (var j = 0, m = cCylinderTarget[i].types.length; j < m; ++j) {\n          if (type === cCylinderTarget[i].types[j]) {\n            return cCylinderTarget[i].atoms;\n          }\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"_detectLeadWing\",\n    value: function _detectLeadWing(dst, next, getAtomPosition) {\n      var leadAtom = this._findFirstAtomInList(cNucleicControlNames);\n      var wingStart = this._findFirstAtomInList(cNucleicWing1Names);\n      var wingEnd = this._findFirstAtomInList(cNucleicWing2Names);\n      if (wingStart === null && next !== null) {\n        wingStart = next._findFirstAtomInList(cNucleicWing1Names);\n      }\n      if (wingEnd === null && next !== null) {\n        wingEnd = next._findFirstAtomInList(cNucleicWing2Names);\n      }\n      if (leadAtom === null || wingStart === null || wingEnd === null) {\n        return;\n      }\n      dst._leadAtom = leadAtom;\n      dst._controlPoint = getAtomPosition(leadAtom);\n      dst._wingVector = getAtomPosition(wingEnd).clone().sub(getAtomPosition(wingStart));\n      dst._isValid = true;\n      var cylSource = this._findFirstAtomInList(cCylinderSource);\n      var targetList = this.getCylinderTargetList();\n      var cylTarget = targetList !== null ? this._findFirstAtomInList(targetList) : null;\n      if (cylSource === null || cylTarget === null) {\n        return;\n      }\n      dst._cylinders = [getAtomPosition(cylSource), getAtomPosition(cylTarget)];\n    }\n  }, {\n    key: \"calcWing\",\n    value: function calcWing(prevLeadPos, currLeadPos, prevWingPos, prevWing) {\n      var vectorA = currLeadPos.clone().sub(prevLeadPos);\n      var vectorB = prevLeadPos.clone().sub(prevWingPos);\n      vectorB.crossVectors(vectorA, vectorB);\n      vectorB.crossVectors(vectorA, vectorB).normalize();\n      if (prevWing !== null && prevWing.length() > 0.0001) {\n        var needToNegate = vectorB.length() > 0.0001 && Math.abs(prevWing.angleTo(vectorB)) > Math.PI / 2;\n        if (needToNegate) {\n          vectorB.negate();\n        }\n      }\n      return vectorB;\n    }\n  }, {\n    key: \"_innerFinalize\",\n    value: function _innerFinalize(prevRes, prev, nextRes, dst, chainAsNucleic, getAtomPosition) {\n      var bFirstInChain = prev === null;\n      var lp = getAtomPosition(this._leadAtom);\n      var currLeadPos = new Vector3(lp.x, lp.y, lp.z);\n      if (chainAsNucleic) {\n        this._detectLeadWing(dst, nextRes, getAtomPosition);\n        return;\n      }\n      if (bFirstInChain) {\n        dst._midPoint = getAtomPosition(this._firstAtom).clone();\n      } else {\n        var prevLeadPos = prev._controlPoint;\n        dst._midPoint = prevLeadPos.clone().lerp(currLeadPos, 0.5);\n        dst._wingVector = this.calcWing(prevLeadPos, currLeadPos, getAtomPosition(prevRes._wingAtom), prev._wingVector);\n      }\n      dst._controlPoint = currLeadPos;\n    }\n  }, {\n    key: \"_finalize2\",\n    value: function _finalize2(prev, next, asNucleic) {\n      this._innerFinalize(prev, prev, next, this, asNucleic, function (atom) {\n        return atom.position;\n      });\n    }\n  }, {\n    key: \"isConnected\",\n    value: function isConnected(anotherResidue) {\n      if (this._chain !== anotherResidue._chain) {\n        return false;\n      }\n      if (this === anotherResidue) {\n        return true;\n      }\n      var res = false;\n      this.forEachAtom(function (atom) {\n        var bonds = atom.bonds;\n        for (var i = 0, n = bonds.length; i < n; ++i) {\n          var bond = bonds[i];\n          if (bond._left.residue === anotherResidue || bond._right.residue === anotherResidue) {\n            res = true;\n            return true;\n          }\n        }\n        return false;\n      });\n      return res;\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      var self = this;\n      var _this$_atoms = _slicedToArray(this._atoms, 1);\n      this._firstAtom = _this$_atoms[0];\n      this._lastAtom = this._atoms[this._atoms.length - 1];\n      this._leadAtom = null;\n      this._wingAtom = null;\n      var tempCount = 0;\n      var temperature = 0;\n      var occupCount = 0;\n      var occupancy = 0;\n      this.forEachAtom(function (a) {\n        if (self._leadAtom === null) {\n          if (a.role === Element$a.Constants.Lead) {\n            self._leadAtom = a;\n          }\n        }\n        if (self._wingAtom === null) {\n          if (a.role === Element$a.Constants.Wing) {\n            self._wingAtom = a;\n          }\n        }\n        if (a.temperature) {\n          temperature += a.temperature;\n          tempCount++;\n        }\n        if (a.occupancy) {\n          occupancy += a.occupancy;\n          occupCount++;\n        }\n        return self._leadAtom !== null && self._wingAtom !== null;\n      });\n      if (tempCount > 0) {\n        this.temperature = temperature / tempCount;\n      }\n      if (occupCount > 0) {\n        this.occupancy = occupancy / occupCount;\n      }\n      if (this._leadAtom === null || this._wingAtom === null) {\n        this._isValid = false;\n      }\n      if (this._leadAtom === null) {\n        this._leadAtom = this._firstAtom;\n      }\n      if (this._wingAtom === null) {\n        this._wingAtom = this._lastAtom;\n      }\n    }\n  }]);\n  return Residue;\n}();\n\nvar ResidueType$1 = function () {\n  function ResidueType(name, fullName, letterCode) {\n    _classCallCheck(this, ResidueType);\n    this._name = name;\n    this._fullName = fullName;\n    this.letterCode = letterCode;\n    this.flags = 0x0000;\n  }\n  _createClass(ResidueType, [{\n    key: \"getName\",\n    value: function getName() {\n      return this._name;\n    }\n  }]);\n  return ResidueType;\n}();\n_defineProperty(ResidueType$1, \"StandardTypes\", {\n  ALA: new ResidueType$1('ALA', 'Alanine', 'A'),\n  ARG: new ResidueType$1('ARG', 'Arginine', 'R'),\n  ASN: new ResidueType$1('ASN', 'Asparagine', 'N'),\n  ASP: new ResidueType$1('ASP', 'Aspartic Acid', 'D'),\n  CYS: new ResidueType$1('CYS', 'Cysteine', 'C'),\n  GLN: new ResidueType$1('GLN', 'Glutamine', 'Q'),\n  GLU: new ResidueType$1('GLU', 'Glutamic Acid', 'E'),\n  GLY: new ResidueType$1('GLY', 'Glycine', 'G'),\n  HIS: new ResidueType$1('HIS', 'Histidine', 'H'),\n  ILE: new ResidueType$1('ILE', 'Isoleucine', 'I'),\n  LEU: new ResidueType$1('LEU', 'Leucine', 'L'),\n  LYS: new ResidueType$1('LYS', 'Lysine', 'K'),\n  MET: new ResidueType$1('MET', 'Methionine', 'M'),\n  PHE: new ResidueType$1('PHE', 'Phenylalanine', 'F'),\n  PRO: new ResidueType$1('PRO', 'Proline', 'P'),\n  PYL: new ResidueType$1('PYL', 'Pyrrolysine', 'O'),\n  SEC: new ResidueType$1('SEC', 'Selenocysteine', 'U'),\n  SER: new ResidueType$1('SER', 'Serine', 'S'),\n  THR: new ResidueType$1('THR', 'Threonine', 'T'),\n  TRP: new ResidueType$1('TRP', 'Tryptophan', 'W'),\n  TYR: new ResidueType$1('TYR', 'Tyrosine', 'Y'),\n  VAL: new ResidueType$1('VAL', 'Valine', 'V'),\n  A: new ResidueType$1('A', 'Adenine', 'A'),\n  C: new ResidueType$1('C', 'Cytosine', 'C'),\n  G: new ResidueType$1('G', 'Guanine', 'G'),\n  I: new ResidueType$1('I', 'Inosine', 'I'),\n  T: new ResidueType$1('T', 'Thymine', 'T'),\n  U: new ResidueType$1('U', 'Uracil', 'U'),\n  DA: new ResidueType$1('DA', 'Adenine', 'A'),\n  DC: new ResidueType$1('DC', 'Cytosine', 'C'),\n  DG: new ResidueType$1('DG', 'Guanine', 'G'),\n  DI: new ResidueType$1('DI', 'Inosine', 'I'),\n  DT: new ResidueType$1('DT', 'Thymine', 'T'),\n  DU: new ResidueType$1('DU', 'Uracil', 'U'),\n  '+A': new ResidueType$1('+A', 'Adenine', 'A'),\n  '+C': new ResidueType$1('+C', 'Cytosine', 'C'),\n  '+G': new ResidueType$1('+G', 'Guanine', 'G'),\n  '+I': new ResidueType$1('+I', 'Inosine', 'I'),\n  '+T': new ResidueType$1('+T', 'Thymine', 'T'),\n  '+U': new ResidueType$1('+U', 'Uracil', 'U'),\n  WAT: new ResidueType$1('WAT', 'Water', ''),\n  H2O: new ResidueType$1('H2O', 'Water', ''),\n  HOH: new ResidueType$1('HOH', 'Water', ''),\n  DOD: new ResidueType$1('DOD', 'Water', ''),\n  UNK: new ResidueType$1('UNK', 'Unknown', ''),\n  UNL: new ResidueType$1('UNL', 'Unknown Ligand', '')\n});\n_defineProperty(ResidueType$1, \"Flags\", {\n  PROTEIN: 0x0001,\n  BASIC: 0x0002,\n  ACIDIC: 0x0004,\n  POLAR: 0x0008,\n  NONPOLAR: 0x0010,\n  AROMATIC: 0x0020,\n  NUCLEIC: 0x0100,\n  PURINE: 0x0200,\n  PYRIMIDINE: 0x0400,\n  DNA: 0x0800,\n  RNA: 0x1000,\n  WATER: 0x10000\n});\nfunction _addFlag(flag, list) {\n  for (var i = 0, n = list.length; i < n; ++i) {\n    var res = ResidueType$1.StandardTypes[list[i]];\n    if (res) {\n      res.flags |= flag;\n    }\n  }\n}\nvar Flags = ResidueType$1.Flags;\n_addFlag(Flags.WATER, ['WAT', 'H2O', 'HOH', 'DOD']);\n_addFlag(Flags.PROTEIN, ['ALA', 'ARG', 'ASN', 'ASP', 'CYS', 'GLY', 'GLU', 'GLN', 'HIS', 'ILE', 'LEU', 'LYS', 'MET', 'PHE', 'PRO', 'PYL', 'SEC', 'SER', 'THR', 'TRP', 'TYR', 'VAL']);\n_addFlag(Flags.BASIC, ['ARG', 'HIS', 'LYS']);\n_addFlag(Flags.ACIDIC, ['ASP', 'GLU']);\n_addFlag(Flags.POLAR, ['ASN', 'CYS', 'GLN', 'SER', 'THR', 'TYR']);\n_addFlag(Flags.NONPOLAR, ['ALA', 'ILE', 'LEU', 'MET', 'PHE', 'PRO', 'TRP', 'VAL', 'GLY']);\n_addFlag(Flags.AROMATIC, ['PHE', 'TRP', 'TYR']);\n_addFlag(Flags.NUCLEIC, ['A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I', 'C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U']);\n_addFlag(Flags.PURINE, ['A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I']);\n_addFlag(Flags.PYRIMIDINE, ['C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U']);\n_addFlag(Flags.DNA, ['DA', 'DG', 'DI', 'DC', 'DT', 'DU']);\n_addFlag(Flags.RNA, ['A', 'G', 'I', 'C', 'T', 'U']);\nvar hydro = {\n  ILE: 4.5,\n  VAL: 4.2,\n  LEU: 3.8,\n  PHE: 2.8,\n  CYS: 2.5,\n  MET: 1.9,\n  ALA: 1.8,\n  GLY: -0.4,\n  THR: -0.7,\n  SER: -0.8,\n  TRP: -0.9,\n  TYR: -1.3,\n  PRO: -1.6,\n  HIS: -3.2,\n  GLU: -3.5,\n  GLN: -3.5,\n  ASP: -3.5,\n  ASN: -3.5,\n  LYS: -3.9,\n  ARG: -4.5\n};\nfunction _addParam(param, list) {\n  var keys = Object.keys(list);\n  for (var i = 0, n = keys.length; i < n; ++i) {\n    var key = keys[i];\n    var value = list[key];\n    ResidueType$1.StandardTypes[key][param] = value;\n  }\n}\n_addParam('hydrophobicity', hydro);\n\nvar ChainType = {\n  UNKNOWN: 0,\n  PROTEIN: 1,\n  NUCLEIC: 2\n};\nvar Chain$2 = function () {\n  function Chain(complex, name) {\n    _classCallCheck(this, Chain);\n    this._complex = complex;\n    this._name = name;\n    this._mask = 1 | 0;\n    this._index = -1;\n    this._residues = [];\n    this.minSequence = Number.POSITIVE_INFINITY;\n    this.maxSequence = Number.NEGATIVE_INFINITY;\n  }\n  _createClass(Chain, [{\n    key: \"getComplex\",\n    value: function getComplex() {\n      return this._complex;\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return this._name;\n    }\n  }, {\n    key: \"getResidues\",\n    value: function getResidues() {\n      return this._residues;\n    }\n  }, {\n    key: \"_determineType\",\n    value: function _determineType() {\n      var residues = this._residues;\n      var _ResidueType$Flags = ResidueType$1.Flags,\n          PROTEIN = _ResidueType$Flags.PROTEIN,\n          NUCLEIC = _ResidueType$Flags.NUCLEIC;\n      this.type = ChainType.UNKNOWN;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        var flags = residues[i]._type.flags;\n        if ((flags & NUCLEIC) !== 0) {\n          this.type = ChainType.NUCLEIC;\n          break;\n        } else if ((flags & PROTEIN) !== 0) {\n          this.type = ChainType.PROTEIN;\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"findResidue\",\n    value: function findResidue(seqNum, iCode) {\n      var residues = this._residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        var res = residues[i];\n        if (res._sequence === seqNum && res._icode === iCode) {\n          return [res, i];\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      this._determineType();\n      var residues = this._residues;\n      var prev = null;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        var next = i + 1 < n ? residues[i + 1] : null;\n        var curr = residues[i];\n        {\n          curr._finalize2(prev, next, this.type === ChainType.NUCLEIC);\n          prev = curr;\n        }\n      }\n      if (residues.length > 1 && residues[1]._wingVector) {\n        var p = residues[1]._wingVector;\n        residues[0]._wingVector = new Vector3(p.x, p.y, p.z);\n      } else if (residues.length > 0) {\n        residues[0]._wingVector = new Vector3(1, 0, 0);\n      }\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var residues = this._residues;\n      var prev = null;\n      var prevData = null;\n      var frameRes = frameData._residues;\n      var n = residues.length;\n      function getAtomPos(atom) {\n        return frameData.getAtomPos(atom.index);\n      }\n      for (var i = 0; i < n; ++i) {\n        var curr = residues[i];\n        var currData = frameRes[curr._index];\n        var nextRes = i + 1 < n ? residues[i + 1] : null;\n        curr._innerFinalize(prev, prevData, nextRes, currData, this.type === ChainType.NUCLEIC, getAtomPos);\n        prev = curr;\n        prevData = currData;\n      }\n      frameRes[residues[0]._index]._wingVector = n > 1 ? frameRes[residues[1]._index]._wingVector : new Vector3(1, 0, 0);\n    }\n  }, {\n    key: \"addResidue\",\n    value: function addResidue(name, sequence, iCode) {\n      var type = this._complex.getResidueType(name);\n      if (type === null) {\n        type = this._complex.addResidueType(name);\n      }\n      var residue = new Residue$1(this, type, sequence, iCode);\n      this._complex.addResidue(residue);\n      this._residues.push(residue);\n      if (type.flags & (ResidueType$1.Flags.NUCLEIC | ResidueType$1.Flags.PROTEIN)) {\n        if (this.maxSequence < sequence) {\n          this.maxSequence = sequence;\n        }\n        if (this.minSequence > sequence) {\n          this.minSequence = sequence;\n        }\n      }\n      return residue;\n    }\n  }, {\n    key: \"getResidueCount\",\n    value: function getResidueCount() {\n      return this._residues.length;\n    }\n  }, {\n    key: \"forEachResidue\",\n    value: function forEachResidue(process) {\n      var residues = this._residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        process(residues[i]);\n      }\n    }\n  }, {\n    key: \"collectMask\",\n    value: function collectMask() {\n      var mask = 0xffffffff;\n      var residues = this._residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        mask &= residues[i]._mask;\n      }\n      this._mask = mask;\n    }\n  }]);\n  return Chain;\n}();\n\nvar _StructuralElement$ge;\nvar StructuralElement = function () {\n  function StructuralElement(type, init, term) {\n    _classCallCheck(this, StructuralElement);\n    this.type = type;\n    this.generic = StructuralElement.genericByType[this.type] || 'loop';\n    this.init = init;\n    this.term = term;\n  }\n  _createClass(StructuralElement, [{\n    key: \"_finalize\",\n    value: function _finalize(serialAtomMap, residueHash, complex) {\n      if (this.init instanceof Residue$1 && this.term instanceof Residue$1) {\n        return;\n      }\n      var start = complex.splitUnifiedSerial(this.init);\n      var end = complex.splitUnifiedSerial(this.term);\n      for (var chainId = start.chain; chainId <= end.chain; chainId++) {\n        for (var serialId = start.serial; serialId <= end.serial; serialId++) {\n          for (var iCode = start.iCode; iCode <= end.iCode; iCode++) {\n            var hashCode = complex.getUnifiedSerial(chainId, serialId, iCode);\n            if (residueHash[hashCode]) {\n              residueHash[hashCode]._secondary = this;\n            }\n          }\n        }\n      }\n      this.init = residueHash[this.init];\n      this.term = residueHash[this.term];\n    }\n  }]);\n  return StructuralElement;\n}();\nStructuralElement.Type = {\n  STRAND: 'E',\n  BRIDGE: 'B',\n  HELIX_310: 'G',\n  HELIX_ALPHA: 'H',\n  HELIX_PI: 'I',\n  HELIX: 'X',\n  TURN_310: '3',\n  TURN_ALPHA: '4',\n  TURN_PI: '5',\n  TURN: 'T',\n  BEND: 'S',\n  COIL: 'C'\n};\nStructuralElement.Generic = {\n  STRAND: 'strand',\n  HELIX: 'helix',\n  LOOP: 'loop'\n};\nvar StructuralElementType$5 = StructuralElement.Type;\nvar StructuralElementGeneric = StructuralElement.Generic;\nStructuralElement.genericByType = (_StructuralElement$ge = {}, _defineProperty(_StructuralElement$ge, StructuralElementType$5.STRAND, StructuralElementGeneric.STRAND), _defineProperty(_StructuralElement$ge, StructuralElementType$5.HELIX_310, StructuralElementGeneric.HELIX), _defineProperty(_StructuralElement$ge, StructuralElementType$5.HELIX_ALPHA, StructuralElementGeneric.HELIX), _defineProperty(_StructuralElement$ge, StructuralElementType$5.HELIX_PI, StructuralElementGeneric.HELIX), _defineProperty(_StructuralElement$ge, StructuralElementType$5.HELIX, StructuralElementGeneric.HELIX), _StructuralElement$ge);\n\nfunction _createSuper$20(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$20(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$20() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar StructuralElementType$4 = StructuralElement.Type;\nvar typeByPDBHelixClass = {\n  1: StructuralElementType$4.HELIX_ALPHA,\n  3: StructuralElementType$4.HELIX_PI,\n  5: StructuralElementType$4.HELIX_310\n};\nvar Helix$3 = function (_StructuralElement) {\n  _inherits(Helix, _StructuralElement);\n  var _super = _createSuper$20(Helix);\n  function Helix(helixClass, init, term, serial, name, comment, length) {\n    var _this;\n    _classCallCheck(this, Helix);\n    _this = _super.call(this, typeByPDBHelixClass[helixClass] || StructuralElement.Type.HELIX, init, term);\n    _this.serial = serial;\n    _this.name = name;\n    _this.comment = comment;\n    _this.length = length;\n    return _this;\n  }\n  return _createClass(Helix);\n}(StructuralElement);\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}\n\nfunction _createSuper$1$(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1$(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1$() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Strand$3 = function (_StructuralElement) {\n  _inherits(Strand, _StructuralElement);\n  var _super = _createSuper$1$(Strand);\n  function Strand(sheet, init, term, sense, atomCur, atomPrev) {\n    var _this;\n    _classCallCheck(this, Strand);\n    _this = _super.call(this, StructuralElement.Type.STRAND, init, term);\n    _this.sheet = sheet;\n    _this.sense = sense;\n    _this.atomCur = atomCur;\n    _this.atomPrev = atomPrev;\n    return _this;\n  }\n  _createClass(Strand, [{\n    key: \"_finalize\",\n    value: function _finalize(serialAtomMap, residueHash, complex) {\n      _get(_getPrototypeOf(Strand.prototype), \"_finalize\", this).call(this, serialAtomMap, residueHash, complex);\n      var as = this.atomCur;\n      if (as !== null && !Number.isNaN(as)) {\n        this.atomCur = serialAtomMap[as];\n      }\n      as = this.atomPrev;\n      if (as !== null && !Number.isNaN(as)) {\n        this.atomPrev = serialAtomMap[as];\n      }\n    }\n  }]);\n  return Strand;\n}(StructuralElement);\n\nvar Sheet$3 = function () {\n  function Sheet(name, width) {\n    _classCallCheck(this, Sheet);\n    this._name = name;\n    this._width = width;\n    this._strands = [];\n  }\n  _createClass(Sheet, [{\n    key: \"getName\",\n    value: function getName() {\n      return this._name;\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this._width;\n    }\n  }, {\n    key: \"addStrand\",\n    value: function addStrand(strand) {\n      this._strands.push(strand);\n      this._width = this._strands.length;\n    }\n  }, {\n    key: \"addEmptyStrand\",\n    value: function addEmptyStrand() {\n      this._strands.push(new Strand$3(null, null, null, null, null, null));\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize(serialAtomMap, residueHash, complex) {\n      var s = this._strands;\n      for (var i = 0, n = s.length; i < n; ++i) {\n        s[i]._finalize(serialAtomMap, residueHash, complex);\n      }\n      if (!this._width) {\n        this._width = s.length;\n      }\n      if (s.length !== this._width) {\n        throw new Error(\"Sheet \".concat(this._name, \" is inconsistent.\"));\n      }\n    }\n  }]);\n  return Sheet;\n}();\n\nvar SGroup$1 = function () {\n  function SGroup(id, name, position, atoms, saveNode) {\n    _classCallCheck(this, SGroup);\n    this._id = id;\n    this._name = name;\n    this._position = position || new Vector3();\n    this._atoms = atoms || [];\n    this._charge = 0;\n    this._repeat = 1;\n    this._center = null;\n    this.xmlNodeRef = saveNode || null;\n  }\n  _createClass(SGroup, [{\n    key: \"getName\",\n    value: function getName() {\n      return this._name;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      return this._position;\n    }\n  }, {\n    key: \"getCentralPoint\",\n    value: function getCentralPoint() {\n      return this._center;\n    }\n  }, {\n    key: \"_rebuildSGroupOnAtomChange\",\n    value: function _rebuildSGroupOnAtomChange() {\n      var nLimon = 100000000;\n      if (this._center === null) {\n        return;\n      }\n      var bLow = new Vector3(nLimon, nLimon, nLimon);\n      var bHight = new Vector3(-nLimon, -nLimon, -nLimon);\n      for (var j = 0, n = this._atoms.length; j < n; j++) {\n        var aPos = this._atoms[j].position;\n        bLow.set(Math.min(bLow.x, aPos.x), Math.min(bLow.y, aPos.y), Math.min(bLow.z, aPos.z));\n        bHight.set(Math.max(bHight.x, aPos.x), Math.max(bHight.y, aPos.y), Math.max(bHight.z, aPos.z));\n      }\n      this._center.addVectors(bLow, bHight);\n      this._center.multiplyScalar(0.5);\n    }\n  }]);\n  return SGroup;\n}();\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar parser = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n    }\n    return _o;\n  },\n      $V0 = [1, 4],\n      $V1 = [1, 5],\n      $V2 = [1, 6],\n      $V3 = [1, 7],\n      $V4 = [1, 8],\n      $V5 = [1, 9],\n      $V6 = [1, 11],\n      $V7 = [1, 12],\n      $V8 = [5, 7, 8, 11],\n      $V9 = [1, 17],\n      $Va = [1, 22],\n      $Vb = [1, 20],\n      $Vc = [1, 21],\n      $Vd = [5, 7, 8, 11, 19];\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      error: 2,\n      Program: 3,\n      Expression: 4,\n      EOF: 5,\n      Selector: 6,\n      OR: 7,\n      AND: 8,\n      NOT: 9,\n      '(': 10,\n      ')': 11,\n      SELECTOR: 12,\n      NAMED_SELECTOR: 13,\n      SELECTOR_RANGED: 14,\n      RangeList: 15,\n      SELECTOR_NAMED: 16,\n      NameList: 17,\n      Range: 18,\n      ',': 19,\n      NUMBER: 20,\n      ':': 21,\n      Name: 22,\n      IDENTIFIER: 23,\n      STRING: 24,\n      $accept: 0,\n      $end: 1\n    },\n    terminals_: {\n      2: 'error',\n      5: 'EOF',\n      7: 'OR',\n      8: 'AND',\n      9: 'NOT',\n      10: '(',\n      11: ')',\n      12: 'SELECTOR',\n      13: 'NAMED_SELECTOR',\n      14: 'SELECTOR_RANGED',\n      16: 'SELECTOR_NAMED',\n      19: ',',\n      20: 'NUMBER',\n      21: ':',\n      23: 'IDENTIFIER',\n      24: 'STRING'\n    },\n    productions_: [0, [3, 2], [4, 1], [4, 3], [4, 3], [4, 2], [4, 3], [6, 1], [6, 1], [6, 2], [6, 2], [15, 1], [15, 3], [18, 1], [18, 3], [17, 1], [17, 3], [22, 1], [22, 1], [22, 1]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    , $$\n    , _$\n    ) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 1];\n        case 3:\n          this.$ = yy.keyword('or')($$[$0 - 2], $$[$0]);\n          break;\n        case 4:\n          this.$ = yy.keyword('and')($$[$0 - 2], $$[$0]);\n          break;\n        case 5:\n          this.$ = yy.keyword('not')($$[$0]);\n          break;\n        case 6:\n          this.$ = $$[$0 - 1];\n          break;\n        case 7:\n          this.$ = yy.keyword($$[$0])();\n          break;\n        case 8:\n          this.$ = yy.GetSelector($$[$0].toLowerCase().slice(1, $$[$0].length));\n          break;\n        case 9:\n        case 10:\n          this.$ = yy.keyword($$[$0 - 1])($$[$0]);\n          break;\n        case 11:\n          this.$ = new yy.RangeList($$[$0]);\n          break;\n        case 12:\n        case 16:\n          this.$ = $$[$0 - 2].append($$[$0]);\n          break;\n        case 13:\n          this.$ = new yy.Range(Number($$[$0]));\n          break;\n        case 14:\n          this.$ = new yy.Range(Number($$[$0 - 2]), Number($$[$0]));\n          break;\n        case 15:\n          this.$ = new yy.ValueList($$[$0]);\n          break;\n      }\n    },\n    table: [{\n      3: 1,\n      4: 2,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, {\n      1: [3]\n    }, {\n      5: [1, 10],\n      7: $V6,\n      8: $V7\n    }, o($V8, [2, 2]), {\n      4: 13,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, {\n      4: 14,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, o($V8, [2, 7]), o($V8, [2, 8]), {\n      15: 15,\n      18: 16,\n      20: $V9\n    }, {\n      17: 18,\n      20: $Va,\n      22: 19,\n      23: $Vb,\n      24: $Vc\n    }, {\n      1: [2, 1]\n    }, {\n      4: 23,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, {\n      4: 24,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, o($V8, [2, 5]), {\n      7: $V6,\n      8: $V7,\n      11: [1, 25]\n    }, o($V8, [2, 9], {\n      19: [1, 26]\n    }), o($Vd, [2, 11]), o($Vd, [2, 13], {\n      21: [1, 27]\n    }), o($V8, [2, 10], {\n      19: [1, 28]\n    }), o($Vd, [2, 15]), o($Vd, [2, 17]), o($Vd, [2, 18]), o($Vd, [2, 19]), o([5, 7, 11], [2, 3], {\n      8: $V7\n    }), o($V8, [2, 4]), o($V8, [2, 6]), {\n      18: 29,\n      20: $V9\n    }, {\n      20: [1, 30]\n    }, {\n      20: $Va,\n      22: 31,\n      23: $Vb,\n      24: $Vc\n    }, o($Vd, [2, 12]), o($Vd, [2, 14]), o($Vd, [2, 16])],\n    defaultActions: {\n      10: [2, 1]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          vstack = [null],\n          lstack = [],\n          table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      };\n      for (var k in this.yy) {\n        if (Object.hasOwn(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer.lex() || EOF;\n        if (typeof token !== 'number') {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      var symbol,\n          state,\n          action,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = '';\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\");\n            }\n          }\n          if (lexer.showPosition) {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n          } else {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n          }\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: yyloc,\n            expected: expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            {\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n            if (typeof r !== 'undefined') {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }\n  };\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      },\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: '',\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      },\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '');\n      },\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, '');\n      },\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join('-');\n        return pre + this.upcomingInput() + '\\n' + c + '^';\n      },\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      },\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === '') {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: '',\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      lex: function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions['INITIAL'].rules;\n        }\n      },\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return 'INITIAL';\n        }\n      },\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {\n        'case-insensitive': true\n      },\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        switch ($avoiding_name_collisions) {\n          case 0\n          :\n            break;\n          case 1:\n            return 20;\n          case 2:\n            return 7;\n          case 3:\n            return 8;\n          case 4:\n            return 9;\n          case 5:\n            return 12;\n          case 6:\n            return 16;\n          case 7:\n            return 14;\n          case 8:\n            return 10;\n          case 9:\n            return 11;\n          case 10:\n            return 19;\n          case 11:\n            return 21;\n          case 12:\n            return '<=';\n          case 13:\n            return '>=';\n          case 14:\n            return '<';\n          case 15:\n            return '>';\n          case 16:\n            yy_.yytext = yy_.yytext.substr(1, yy_.yyleng - 2);\n            return 24;\n          case 17:\n            return 13;\n          case 18:\n            return 23;\n          case 19:\n            return 5;\n          case 20:\n            return 'INVALID';\n        }\n      },\n      rules: [/^(?:\\s+)/i, /^(?:(-?(?:[1-9][0-9]+|[0-9]))\\b)/i, /^(?:OR\\b)/i, /^(?:AND\\b)/i, /^(?:NOT\\b)/i, /^(?:((ALL|NONE|HETATM|PROTEIN|BASIC|ACIDIC|CHARGED|POLAR|NONPOLAR|AROMATIC|NUCLEIC|PURINE|PYRIMIDINE|WATER|POLARH|NONPOLARH))\\b)/i, /^(?:((NAME|ELEM|TYPE|RESIDUE|ICODE|CHAIN|ALTLOC))\\b)/i, /^(?:((SERIAL|SEQUENCE|RESIDX))\\b)/i, /^(?:\\()/i, /^(?:\\))/i, /^(?:,)/i, /^(?::)/i, /^(?:<=)/i, /^(?:>=)/i, /^(?:<)/i, /^(?:>)/i, /^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i, /^(?:(@[_A-Z0-9]+))/i, /^(?:([_A-Z0-9]+))/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: {\n        INITIAL: {\n          rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20],\n          inclusive: true\n        }\n      }\n    };\n    return lexer;\n  }();\n  parser.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\nvar SelectionParser = {\n  parser: parser\n};\n\nfunction _createSuper$1_(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1_(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1_() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Range = function () {\n  function Range(min, max) {\n    _classCallCheck(this, Range);\n    this.min = min;\n    this.max = typeof max === 'undefined' ? min : max;\n  }\n  _createClass(Range, [{\n    key: \"includes\",\n    value: function includes(value) {\n      return this.min <= value && value <= this.max;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var min = this.min,\n          max = this.max;\n      return min === max ? String(min) : [min, max].join(':');\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.min, this.max];\n    }\n  }]);\n  return Range;\n}();\nvar List = function () {\n  function List(arg) {\n    _classCallCheck(this, List);\n    if (arg instanceof this.constructor) {\n      return arg;\n    }\n    if (arg instanceof Array) {\n      this._values = arg.slice(0);\n    } else if (arg) {\n      this._values = [arg];\n    } else {\n      this._values = [];\n    }\n  }\n  _createClass(List, [{\n    key: \"append\",\n    value: function append(value) {\n      var values = this._values;\n      values[values.length] = value;\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(value) {\n      var values = this._values;\n      var index = values.indexOf(value);\n      if (index >= 0) {\n        values.splice(index, 1);\n      }\n      return this;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this._values.join(',');\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var values = this._values;\n      var result = [];\n      for (var i = 0, n = values.length; i < n; ++i) {\n        var value = values[i];\n        result[i] = value.toJSON ? value.toJSON() : value;\n      }\n      return result;\n    }\n  }]);\n  return List;\n}();\nvar RangeList = function (_List) {\n  _inherits(RangeList, _List);\n  var _super = _createSuper$1_(RangeList);\n  function RangeList() {\n    _classCallCheck(this, RangeList);\n    return _super.apply(this, arguments);\n  }\n  _createClass(RangeList, [{\n    key: \"includes\",\n    value: function includes(value) {\n      var list = this._values;\n      for (var i = 0, n = list.length; i < n; ++i) {\n        if (list[i].includes(value)) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return RangeList;\n}(List);\nvar valuesArray = [];\nvar ValueList = function (_List2) {\n  _inherits(ValueList, _List2);\n  var _super2 = _createSuper$1_(ValueList);\n  function ValueList(arg, upperOnly) {\n    var _this;\n    _classCallCheck(this, ValueList);\n    var list = _this = _super2.call(this, arg);\n    if (upperOnly) {\n      _this.upperOnly = true;\n      var values = list._values;\n      for (var i = 0, n = values.length; i < n; ++i) {\n        var value = values[i];\n        if (typeof value === 'string') {\n          values[i] = value.toUpperCase();\n        }\n      }\n    } else {\n      _this.upperOnly = false;\n    }\n    return _possibleConstructorReturn(_this, list);\n  }\n  _createClass(ValueList, [{\n    key: \"includes\",\n    value: function includes(value) {\n      return this._values.indexOf(value) !== -1;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var values = this._values;\n      valuesArray.length = 0;\n      for (var i = 0, n = values.length; i < n; ++i) {\n        valuesArray[i] = utils.correctSelectorIdentifier(String(values[i]));\n      }\n      return valuesArray.join(',');\n    }\n  }, {\n    key: \"_validate\",\n    value: function _validate(value) {\n      return this.upperOnly && typeof value === 'string' ? value.toUpperCase() : value;\n    }\n  }, {\n    key: \"append\",\n    value: function append(value) {\n      _get(_getPrototypeOf(ValueList.prototype), \"append\", this).call(this, this._validate(value));\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(value) {\n      _get(_getPrototypeOf(ValueList.prototype), \"remove\", this).call(this, this._validate(value));\n      return this;\n    }\n  }]);\n  return ValueList;\n}(List);\n\nfunction _createSuper$1Z(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1Z(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1Z() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Selector = function () {\n  function Selector() {\n    _classCallCheck(this, Selector);\n  }\n  _createClass(Selector, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.keyword;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.name];\n    }\n  }]);\n  return Selector;\n}();\nSelector.prototype.name = 'Error';\nSelector.prototype.keyword = 'error';\nvar ListSelector = function (_Selector) {\n  _inherits(ListSelector, _Selector);\n  var _super = _createSuper$1Z(ListSelector);\n  function ListSelector(list) {\n    var _this;\n    _classCallCheck(this, ListSelector);\n    _this = _super.call(this);\n    _this.list = list;\n    return _this;\n  }\n  _createClass(ListSelector, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.keyword, \" \").concat(this.list);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.name, this.list.toJSON()];\n    }\n  }]);\n  return ListSelector;\n}(Selector);\nvar RangeListSelector = function (_ListSelector) {\n  _inherits(RangeListSelector, _ListSelector);\n  var _super2 = _createSuper$1Z(RangeListSelector);\n  function RangeListSelector(arg) {\n    _classCallCheck(this, RangeListSelector);\n    return _super2.call(this, new RangeList(arg));\n  }\n  return _createClass(RangeListSelector);\n}(ListSelector);\nvar ValueListSelector = function (_ListSelector2) {\n  _inherits(ValueListSelector, _ListSelector2);\n  var _super3 = _createSuper$1Z(ValueListSelector);\n  function ValueListSelector(arg, caseSensitive) {\n    _classCallCheck(this, ValueListSelector);\n    return _super3.call(this, new ValueList(arg, !caseSensitive));\n  }\n  return _createClass(ValueListSelector);\n}(ListSelector);\nvar NoneSelector = function (_Selector2) {\n  _inherits(NoneSelector, _Selector2);\n  var _super4 = _createSuper$1Z(NoneSelector);\n  function NoneSelector() {\n    _classCallCheck(this, NoneSelector);\n    return _super4.apply(this, arguments);\n  }\n  _createClass(NoneSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(_atom) {\n      return false;\n    }\n  }]);\n  return NoneSelector;\n}(Selector);\nNoneSelector.prototype.name = 'None';\nNoneSelector.prototype.keyword = 'none';\nvar AllSelector = function (_Selector3) {\n  _inherits(AllSelector, _Selector3);\n  var _super5 = _createSuper$1Z(AllSelector);\n  function AllSelector() {\n    _classCallCheck(this, AllSelector);\n    return _super5.apply(this, arguments);\n  }\n  _createClass(AllSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(_atom) {\n      return true;\n    }\n  }]);\n  return AllSelector;\n}(Selector);\nAllSelector.prototype.name = 'All';\nAllSelector.prototype.keyword = 'all';\n\nfunction _createSuper$1Y(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1Y(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1Y() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar none = new NoneSelector();\nvar PrefixOperator = function (_Selector) {\n  _inherits(PrefixOperator, _Selector);\n  var _super = _createSuper$1Y(PrefixOperator);\n  function PrefixOperator(rhs) {\n    var _this;\n    _classCallCheck(this, PrefixOperator);\n    _this = _super.call(this);\n    _this.rhs = rhs || none;\n    return _this;\n  }\n  _createClass(PrefixOperator, [{\n    key: \"toString\",\n    value: function toString() {\n      var rhs = this.rhs.priority && this.rhs.priority > this.priority ? \"(\".concat(this.rhs, \")\") : this.rhs;\n      return \"\".concat(this.keyword, \" \").concat(rhs);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.name, this.rhs.toJSON()];\n    }\n  }]);\n  return PrefixOperator;\n}(Selector);\nPrefixOperator.prototype.priority = 1;\nvar InfixOperator = function (_Selector2) {\n  _inherits(InfixOperator, _Selector2);\n  var _super2 = _createSuper$1Y(InfixOperator);\n  function InfixOperator(lhs, rhs) {\n    var _this2;\n    _classCallCheck(this, InfixOperator);\n    _this2 = _super2.call(this);\n    _this2.lhs = lhs || none;\n    _this2.rhs = rhs || none;\n    return _this2;\n  }\n  _createClass(InfixOperator, [{\n    key: \"toString\",\n    value: function toString() {\n      var lhs = this.lhs.priority && this.lhs.priority > this.priority ? \"(\".concat(this.lhs, \")\") : this.lhs;\n      var rhs = this.rhs.priority && this.rhs.priority > this.priority ? \"(\".concat(this.rhs, \")\") : this.rhs;\n      return \"\".concat(lhs, \" \").concat(this.keyword, \" \").concat(rhs);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.name, this.lhs.toJSON(), this.rhs.toJSON()];\n    }\n  }]);\n  return InfixOperator;\n}(Selector);\nInfixOperator.prototype.priority = 1000;\n\nfunction _createSuper$1X(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1X(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1X() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar keywords = {};\nfunction defineSelector(name, SelectorClass) {\n  var keyword = name.toLowerCase();\n  SelectorClass.prototype.keyword = keyword;\n  SelectorClass.prototype.name = name;\n  var factory = function factory() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _construct(SelectorClass, args);\n  };\n  factory.SelectorClass = SelectorClass;\n  keywords[keyword] = factory;\n  return SelectorClass;\n}\ndefineSelector('Serial', function (_RangeListSelector) {\n  _inherits(SerialSelector, _RangeListSelector);\n  var _super = _createSuper$1X(SerialSelector);\n  function SerialSelector() {\n    _classCallCheck(this, SerialSelector);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SerialSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.serial);\n    }\n  }]);\n  return SerialSelector;\n}(RangeListSelector));\ndefineSelector('Name', function (_ValueListSelector) {\n  _inherits(NameSelector, _ValueListSelector);\n  var _super2 = _createSuper$1X(NameSelector);\n  function NameSelector() {\n    _classCallCheck(this, NameSelector);\n    return _super2.apply(this, arguments);\n  }\n  _createClass(NameSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.name);\n    }\n  }]);\n  return NameSelector;\n}(ValueListSelector));\ndefineSelector('AltLoc', function (_ValueListSelector2) {\n  _inherits(AltLocSelector, _ValueListSelector2);\n  var _super3 = _createSuper$1X(AltLocSelector);\n  function AltLocSelector() {\n    _classCallCheck(this, AltLocSelector);\n    return _super3.apply(this, arguments);\n  }\n  _createClass(AltLocSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(String.fromCharCode(atom.location));\n    }\n  }]);\n  return AltLocSelector;\n}(ValueListSelector));\ndefineSelector('Elem', function (_ValueListSelector3) {\n  _inherits(ElemSelector, _ValueListSelector3);\n  var _super4 = _createSuper$1X(ElemSelector);\n  function ElemSelector() {\n    _classCallCheck(this, ElemSelector);\n    return _super4.apply(this, arguments);\n  }\n  _createClass(ElemSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.element.name);\n    }\n  }]);\n  return ElemSelector;\n}(ValueListSelector));\ndefineSelector('Residue', function (_ValueListSelector4) {\n  _inherits(ResidueSelector, _ValueListSelector4);\n  var _super5 = _createSuper$1X(ResidueSelector);\n  function ResidueSelector() {\n    _classCallCheck(this, ResidueSelector);\n    return _super5.apply(this, arguments);\n  }\n  _createClass(ResidueSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._type._name);\n    }\n  }]);\n  return ResidueSelector;\n}(ValueListSelector));\ndefineSelector('Sequence', function (_RangeListSelector2) {\n  _inherits(SequenceSelector, _RangeListSelector2);\n  var _super6 = _createSuper$1X(SequenceSelector);\n  function SequenceSelector() {\n    _classCallCheck(this, SequenceSelector);\n    return _super6.apply(this, arguments);\n  }\n  _createClass(SequenceSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._sequence);\n    }\n  }]);\n  return SequenceSelector;\n}(RangeListSelector));\ndefineSelector('ICode', function (_ValueListSelector5) {\n  _inherits(ICodeSelector, _ValueListSelector5);\n  var _super7 = _createSuper$1X(ICodeSelector);\n  function ICodeSelector(arg) {\n    _classCallCheck(this, ICodeSelector);\n    return _super7.call(this, arg, true);\n  }\n  _createClass(ICodeSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._icode);\n    }\n  }]);\n  return ICodeSelector;\n}(ValueListSelector));\ndefineSelector('ResIdx', function (_RangeListSelector3) {\n  _inherits(ResIdxSelector, _RangeListSelector3);\n  var _super8 = _createSuper$1X(ResIdxSelector);\n  function ResIdxSelector() {\n    _classCallCheck(this, ResIdxSelector);\n    return _super8.apply(this, arguments);\n  }\n  _createClass(ResIdxSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._index);\n    }\n  }]);\n  return ResIdxSelector;\n}(RangeListSelector));\ndefineSelector('Chain', function (_ValueListSelector6) {\n  _inherits(ChainSelector, _ValueListSelector6);\n  var _super9 = _createSuper$1X(ChainSelector);\n  function ChainSelector(arg) {\n    _classCallCheck(this, ChainSelector);\n    return _super9.call(this, arg, true);\n  }\n  _createClass(ChainSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._chain._name);\n    }\n  }]);\n  return ChainSelector;\n}(ValueListSelector));\ndefineSelector('Hetatm', function (_Selector) {\n  _inherits(HetatmSelector, _Selector);\n  var _super10 = _createSuper$1X(HetatmSelector);\n  function HetatmSelector() {\n    _classCallCheck(this, HetatmSelector);\n    return _super10.apply(this, arguments);\n  }\n  _createClass(HetatmSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return atom.het;\n    }\n  }]);\n  return HetatmSelector;\n}(Selector));\ndefineSelector('PolarH', function (_Selector2) {\n  _inherits(PolarHSelector, _Selector2);\n  var _super11 = _createSuper$1X(PolarHSelector);\n  function PolarHSelector() {\n    _classCallCheck(this, PolarHSelector);\n    return _super11.apply(this, arguments);\n  }\n  _createClass(PolarHSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return (atom.flags & Atom$2.Flags.NONPOLARH) === Atom$2.Flags.HYDROGEN;\n    }\n  }]);\n  return PolarHSelector;\n}(Selector));\ndefineSelector('NonPolarH', function (_Selector3) {\n  _inherits(NonPolarHSelector, _Selector3);\n  var _super12 = _createSuper$1X(NonPolarHSelector);\n  function NonPolarHSelector() {\n    _classCallCheck(this, NonPolarHSelector);\n    return _super12.apply(this, arguments);\n  }\n  _createClass(NonPolarHSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return (atom.flags & Atom$2.Flags.NONPOLARH) === Atom$2.Flags.NONPOLARH;\n    }\n  }]);\n  return NonPolarHSelector;\n}(Selector));\ndefineSelector('All', AllSelector);\ndefineSelector('None', NoneSelector);\nvar NULL_SELECTOR = keywords.none();\nfunction defineOperator(name, priority, OperatorClass) {\n  OperatorClass.prototype.priority = priority;\n  return defineSelector(name, OperatorClass);\n}\ndefineOperator('Not', 1, function (_PrefixOperator) {\n  _inherits(NotOperator, _PrefixOperator);\n  var _super13 = _createSuper$1X(NotOperator);\n  function NotOperator() {\n    _classCallCheck(this, NotOperator);\n    return _super13.apply(this, arguments);\n  }\n  _createClass(NotOperator, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return !this.rhs.includesAtom(atom);\n    }\n  }]);\n  return NotOperator;\n}(PrefixOperator));\ndefineOperator('And', 2, function (_InfixOperator) {\n  _inherits(AndOperator, _InfixOperator);\n  var _super14 = _createSuper$1X(AndOperator);\n  function AndOperator() {\n    _classCallCheck(this, AndOperator);\n    return _super14.apply(this, arguments);\n  }\n  _createClass(AndOperator, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.lhs.includesAtom(atom) && this.rhs.includesAtom(atom);\n    }\n  }]);\n  return AndOperator;\n}(InfixOperator));\ndefineOperator('Or', 3, function (_InfixOperator2) {\n  _inherits(OrOperator, _InfixOperator2);\n  var _super15 = _createSuper$1X(OrOperator);\n  function OrOperator() {\n    _classCallCheck(this, OrOperator);\n    return _super15.apply(this, arguments);\n  }\n  _createClass(OrOperator, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.lhs.includesAtom(atom) || this.rhs.includesAtom(atom);\n    }\n  }]);\n  return OrOperator;\n}(InfixOperator));\nfunction byResidueTypeFlag(flag, name) {\n  return defineSelector(name, function (_Selector4) {\n    _inherits(_class, _Selector4);\n    var _super16 = _createSuper$1X(_class);\n    function _class() {\n      _classCallCheck(this, _class);\n      return _super16.apply(this, arguments);\n    }\n    _createClass(_class, [{\n      key: \"includesAtom\",\n      value: function includesAtom(atom) {\n        return (atom.residue._type.flags & flag) !== 0;\n      }\n    }]);\n    return _class;\n  }(Selector));\n}\nbyResidueTypeFlag(ResidueType$1.Flags.PROTEIN, 'Protein');\nbyResidueTypeFlag(ResidueType$1.Flags.BASIC, 'Basic');\nbyResidueTypeFlag(ResidueType$1.Flags.ACIDIC, 'Acidic');\nbyResidueTypeFlag(ResidueType$1.Flags.BASIC | ResidueType$1.Flags.ACIDIC, 'Charged');\nbyResidueTypeFlag(ResidueType$1.Flags.POLAR, 'Polar');\nbyResidueTypeFlag(ResidueType$1.Flags.NONPOLAR, 'NonPolar');\nbyResidueTypeFlag(ResidueType$1.Flags.AROMATIC, 'Aromatic');\nbyResidueTypeFlag(ResidueType$1.Flags.NUCLEIC, 'Nucleic');\nbyResidueTypeFlag(ResidueType$1.Flags.PURINE, 'Purine');\nbyResidueTypeFlag(ResidueType$1.Flags.PYRIMIDINE, 'Pyrimidine');\nbyResidueTypeFlag(ResidueType$1.Flags.WATER, 'Water');\nvar selectors$4 = Object.create(keywords);\nselectors$4.Selector = Selector;\nselectors$4.RangeListSelector = RangeListSelector;\nselectors$4.ValueListSelector = ValueListSelector;\nselectors$4.Range = Range;\nselectors$4.RangeList = RangeList;\nselectors$4.ValueList = ValueList;\nselectors$4.PrefixOperator = PrefixOperator;\nselectors$4.InfixOperator = InfixOperator;\nselectors$4.Context = Object.create({});\nselectors$4.GetSelector = function (key) {\n  if (!Object.hasOwn(selectors$4.Context, key)) {\n    var exc = {\n      message: \"selector \".concat(key, \" is not registered\")\n    };\n    throw exc;\n  }\n  return selectors$4.Context[key] || NULL_SELECTOR;\n};\nselectors$4.ClearContext = function () {\n  Object.keys(selectors$4.Context).forEach(function (k) {\n    delete selectors$4.Context[k];\n  });\n};\nselectors$4.keyword = function (key) {\n  return keywords[key.toLowerCase()] || keywords.none;\n};\nselectors$4.parse = function (str) {\n  var res = {};\n  try {\n    res.selector = SelectionParser.parser.parse(str);\n  } catch (e) {\n    res.selector = NULL_SELECTOR;\n    res.error = e.message;\n  }\n  return res;\n};\nSelectionParser.parser.yy = selectors$4;\nSelectionParser.parser.yy.parseError = SelectionParser.parser.parseError;\n\nvar BiologicalUnit = function () {\n  function BiologicalUnit(complex) {\n    _classCallCheck(this, BiologicalUnit);\n    this._complex = complex;\n    this._selector = selectors$4.keyword('All')();\n    this._boundaries = {\n      boundingBox: new Box3(),\n      boundingSphere: new Sphere()\n    };\n  }\n  _createClass(BiologicalUnit, [{\n    key: \"computeBoundaries\",\n    value: function computeBoundaries() {\n      var atoms = this._complex._atoms;\n      var n = atoms.length;\n      var selector = this._selector;\n      var boundingBox = this._boundaries.boundingBox;\n      boundingBox.makeEmpty();\n      if (n === 1) {\n        boundingBox.expandByPoint(atoms[0].position);\n        var bbc = new Vector3();\n        boundingBox.getCenter(bbc);\n        var s = 2 * atoms[0].element.radius;\n        boundingBox.setFromCenterAndSize(bbc, new Vector3(s, s, s));\n      } else {\n        for (var i = 0; i < n; ++i) {\n          if (selector.includesAtom(atoms[i])) {\n            boundingBox.expandByPoint(atoms[i].position);\n          }\n        }\n      }\n      var radiusSquared = 0.0;\n      var center = new Vector3();\n      boundingBox.getCenter(center);\n      if (n === 1) {\n        this._boundaries.boundingSphere.set(center, atoms[0].element.radius);\n      } else {\n        for (var _i = 0; _i < n; ++_i) {\n          if (!selector.includesAtom(atoms[_i])) {\n            continue;\n          }\n          var pos = atoms[_i].position;\n          var lengthSquared = center.distanceToSquared(pos);\n          if (radiusSquared < lengthSquared) {\n            radiusSquared = lengthSquared;\n          }\n        }\n        this._boundaries.boundingSphere.set(center, Math.sqrt(radiusSquared));\n      }\n    }\n  }, {\n    key: \"getTransforms\",\n    value: function getTransforms() {\n      return [];\n    }\n  }, {\n    key: \"getSelector\",\n    value: function getSelector() {\n      return this._selector;\n    }\n  }, {\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      return this._boundaries;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {}\n  }]);\n  return BiologicalUnit;\n}();\n\nfunction _createSuper$1W(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1W(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1W() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Assembly$3 = function (_BiologicalUnit) {\n  _inherits(Assembly, _BiologicalUnit);\n  var _super = _createSuper$1W(Assembly);\n  function Assembly(complex) {\n    var _this;\n    _classCallCheck(this, Assembly);\n    _this = _super.call(this, complex);\n    _this.chains = [];\n    _this.matrices = [];\n    return _this;\n  }\n  _createClass(Assembly, [{\n    key: \"computeBoundaries\",\n    value: function computeBoundaries() {\n      _get(_getPrototypeOf(Assembly.prototype), \"computeBoundaries\", this).call(this);\n      var matrices = this.matrices;\n      var oldCenter = this._boundaries.boundingSphere.center;\n      var oldRad = this._boundaries.boundingSphere.radius;\n      var boundingBox = this._boundaries.boundingBox = new Box3();\n      boundingBox.makeEmpty();\n      for (var i = 0, n = matrices.length; i < n; ++i) {\n        boundingBox.expandByPoint(oldCenter.clone().applyMatrix4(matrices[i]));\n      }\n      var newRad = boundingBox.max.distanceTo(boundingBox.min) / 2 + oldRad;\n      var center = new Vector3();\n      boundingBox.getCenter(center);\n      this._boundaries.boundingSphere = new Sphere().set(center, newRad);\n      boundingBox.max.addScalar(oldRad);\n      boundingBox.min.subScalar(oldRad);\n    }\n  }, {\n    key: \"addChain\",\n    value: function addChain(chain) {\n      this.chains[this.chains.length] = chain;\n    }\n  }, {\n    key: \"addMatrix\",\n    value: function addMatrix(matrix) {\n      this.matrices[this.matrices.length] = matrix;\n    }\n  }, {\n    key: \"getTransforms\",\n    value: function getTransforms() {\n      return this.matrices;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      if (this.chains.length > 0) {\n        this._selector = selectors$4.keyword('Chain')(this.chains);\n      } else {\n        this._selector = selectors$4.keyword('None')();\n      }\n    }\n  }]);\n  return Assembly;\n}(BiologicalUnit);\n\nvar Component = function () {\n  function Component(complex) {\n    _classCallCheck(this, Component);\n    this._complex = complex;\n    this._index = -1;\n    this._residueIndices = [];\n    this._cycles = [];\n    this._subDivs = [];\n    this._residueCount = 0;\n  }\n  _createClass(Component, [{\n    key: \"getResidues\",\n    value: function getResidues() {\n      return this._complex._residues;\n    }\n  }, {\n    key: \"getResidueCount\",\n    value: function getResidueCount() {\n      return this._residueCount;\n    }\n  }, {\n    key: \"forEachResidue\",\n    value: function forEachResidue(process) {\n      var residues = this._complex._residues;\n      var resIdc = this._residueIndices;\n      for (var idIdc = 0, idCount = resIdc.length; idIdc < idCount; ++idIdc) {\n        for (var idx = resIdc[idIdc].start, last = resIdc[idIdc].end; idx <= last; ++idx) {\n          process(residues[idx]);\n        }\n      }\n    }\n  }, {\n    key: \"setSubDivs\",\n    value: function setSubDivs(subDivs) {\n      this._subDivs = subDivs;\n      var curr = 0;\n      var resIdc = [];\n      var resCnt = 0;\n      for (var i = 0, n = subDivs.length; i < n; ++i) {\n        if (i === n - 1 || subDivs[i].end + 1 !== subDivs[i + 1].start) {\n          var start = subDivs[curr].start;\n          var end = subDivs[i].end;\n          resIdc[resIdc.length] = {\n            start: start,\n            end: end\n          };\n          resCnt += end - start + 1;\n          curr = i + 1;\n        }\n      }\n      this._residueIndices = resIdc;\n      this._residueCount = resCnt;\n    }\n  }, {\n    key: \"getComplex\",\n    value: function getComplex() {\n      return this._complex;\n    }\n  }, {\n    key: \"forEachBond\",\n    value: function forEachBond(process) {\n      var bonds = this._complex._bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        var bond = bonds[i];\n        if (bond._left.residue._component === this) {\n          process(bond);\n        }\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.forEachCycle(function (cycle) {\n        cycle.update();\n      });\n    }\n  }, {\n    key: \"forEachAtom\",\n    value: function forEachAtom(process) {\n      this.forEachResidue(function (residue) {\n        residue.forEachAtom(process);\n      });\n    }\n  }, {\n    key: \"addCycle\",\n    value: function addCycle(cycle) {\n      this._cycles.push(cycle);\n    }\n  }, {\n    key: \"forEachCycle\",\n    value: function forEachCycle(process) {\n      var cycles = this._cycles;\n      for (var i = 0, n = cycles.length; i < n; ++i) {\n        process(cycles[i]);\n      }\n    }\n  }, {\n    key: \"markResidues\",\n    value: function markResidues() {\n      var self = this;\n      self.forEachResidue(function (residue) {\n        residue._component = self;\n      });\n    }\n  }, {\n    key: \"_forEachSubChain\",\n    value: function _forEachSubChain(mask, process) {\n      var residues = this._complex._residues;\n      var subs = this._subDivs;\n      for (var i = 0, n = subs.length; i < n; ++i) {\n        for (var idx = subs[i].start, last = subs[i].end; idx <= last; ++idx) {\n          var currRes = residues[idx];\n          if (mask & currRes._mask && currRes._isValid) {\n            var end = idx + 1;\n            for (; end <= last; ++end) {\n              var endRes = residues[end];\n              if (!(mask & endRes._mask && endRes._isValid)) {\n                break;\n              }\n            }\n            process(i, idx, end - 1);\n            idx = end;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getMaskedSequences\",\n    value: function getMaskedSequences(mask) {\n      var subs = [];\n      var idx = 0;\n      this._forEachSubChain(mask, function (_subIdx, start, end) {\n        subs[idx++] = {\n          start: start,\n          end: end\n        };\n      });\n      return subs;\n    }\n  }, {\n    key: \"getMaskedSubdivSequences\",\n    value: function getMaskedSubdivSequences(mask) {\n      var subs = [];\n      var currIdx = -1;\n      var lastSubIdx = -1;\n      var subDivs = this._subDivs;\n      this._forEachSubChain(mask, function (subIdx, start, end) {\n        if (lastSubIdx !== subIdx) {\n          ++currIdx;\n          subs[currIdx] = {\n            arr: [],\n            boundaries: subDivs[subIdx]\n          };\n          lastSubIdx = subIdx;\n        }\n        subs[currIdx].arr[subs[currIdx].arr.length] = {\n          start: start,\n          end: end\n        };\n      });\n      return subs;\n    }\n  }]);\n  return Component;\n}();\n\nvar cMaxPairsForHashCode = 32;\nvar cHashTableSize = 1024 * 1024;\nvar cNumbersPerPair = 4;\nvar cMaxNeighbours = 14;\nvar cInvalidVal = -1;\nvar cBigPrime = 89237;\nvar AtomPairs = function () {\n  function AtomPairs(maxPairsEstimate) {\n    _classCallCheck(this, AtomPairs);\n    this.numPairs = 0;\n    this.numMaxPairs = maxPairsEstimate;\n    this.intBuffer = utils.allocateTyped(Int32Array, maxPairsEstimate * cNumbersPerPair);\n    for (var i = 0; i < maxPairsEstimate * cNumbersPerPair; i++) {\n      this.intBuffer[i] = cInvalidVal;\n    }\n    this.hashBuffer = utils.allocateTyped(Int32Array, cHashTableSize * cMaxPairsForHashCode);\n    for (var _i = 0; _i < cHashTableSize * cMaxPairsForHashCode; _i++) {\n      this.hashBuffer[_i] = cInvalidVal;\n    }\n  }\n  _createClass(AtomPairs, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.intBuffer = null;\n      this.hashBuffer = null;\n    }\n  }, {\n    key: \"addPair\",\n    value: function addPair(indexA, indexB) {\n      var ia = indexA < indexB ? indexA : indexB;\n      var ib = indexA > indexB ? indexA : indexB;\n      var codeToAdd = ia + (ib << cMaxNeighbours);\n      var hashCode = ia + ib * cBigPrime & cHashTableSize - 1;\n      var j = hashCode * cMaxPairsForHashCode;\n      var apI = 0;\n      for (; apI < cMaxPairsForHashCode; apI++) {\n        var code = this.hashBuffer[j + apI];\n        if (code === cInvalidVal) {\n          break;\n        }\n        if (code === codeToAdd) {\n          return false;\n        }\n      }\n      if (apI >= cMaxPairsForHashCode) {\n        throw new Error('addPair: increase cMaxPairsForHashCode');\n      }\n      this.hashBuffer[j + apI] = codeToAdd;\n      if (this.numPairs >= this.numMaxPairs) {\n        throw new Error('addPair: increase num pairs');\n      }\n      j = this.numPairs * cNumbersPerPair;\n      this.intBuffer[j] = ia;\n      this.intBuffer[j + 1] = ib;\n      this.intBuffer[j + 2] = codeToAdd;\n      this.numPairs++;\n      return true;\n    }\n  }]);\n  return AtomPairs;\n}();\n\nvar cEstBondsMultiplier = 4;\nvar cSpaceCode = 32;\nvar cBondTolerance = 0.45;\nvar cEpsilon = 0.001;\nfunction _getBondingRadius(atom) {\n  var element = atom.element;\n  if (element) {\n    return element.radiusBonding;\n  }\n  throw new Error('_getBondingRadius: Logic error.');\n}\nfunction _isAtomEligible(atom) {\n  return !atom.isHet() || atom.bonds && atom.bonds.length === 0;\n}\nvar AutoBond = function () {\n  function AutoBond(complex) {\n    _classCallCheck(this, AutoBond);\n    this._complex = complex;\n    this._maxRad = 1.8;\n    var bBox = this._complex.getDefaultBoundaries().boundingBox;\n    this._vBoxMin = bBox.min.clone();\n    this._vBoxMax = bBox.max.clone();\n    this._pairCollection = null;\n  }\n  _createClass(AutoBond, [{\n    key: \"_addExistingPairs\",\n    value: function _addExistingPairs() {\n      var atoms = this._complex.getAtoms();\n      var numAtoms = atoms.length;\n      var aInd = 0;\n      var collection = this._pairCollection;\n      for (; aInd < numAtoms; aInd++) {\n        var bonds = atoms[aInd].bonds;\n        var numBondsForAtom = bonds.length;\n        for (var bInd = 0; bInd < numBondsForAtom; bInd++) {\n          var bond = bonds[bInd];\n          var indTo = bond._left.index;\n          if (indTo === aInd) {\n            collection.addPair(aInd, bond._right.index);\n          }\n        }\n      }\n      return 0;\n    }\n  }, {\n    key: \"_findPairs\",\n    value: function _findPairs() {\n      var vw = this._complex.getVoxelWorld();\n      if (vw === null) {\n        return;\n      }\n      var atoms = this._complex._atoms;\n      var atomsNum = atoms.length;\n      var self = this;\n      var rA;\n      var isHydrogenA;\n      var posA;\n      var locationA;\n      var atomA;\n      var processAtom = function processAtom(atomB) {\n        if (isHydrogenA && atomB.isHydrogen()) {\n          return;\n        }\n        var locationB = atomB.location;\n        if (locationA !== cSpaceCode && locationB !== cSpaceCode && locationA !== locationB) {\n          return;\n        }\n        var dist2 = posA.distanceToSquared(atomB.position);\n        var rB = atomB.element.radiusBonding;\n        var maxAcceptable = rA + rB + cBondTolerance ;\n        if (dist2 > maxAcceptable * maxAcceptable) {\n          return;\n        }\n        if (dist2 < cEpsilon) {\n          return;\n        }\n        self._pairCollection.addPair(atomA.index, atomB.index);\n      };\n      for (var i = 0; i < atomsNum; ++i) {\n        atomA = atoms[i];\n        if (!_isAtomEligible(atomA)) {\n          continue;\n        }\n        rA = atomA.element.radiusBonding;\n        isHydrogenA = atomA.isHydrogen();\n        posA = atomA.position;\n        locationA = atomA.location;\n        vw.forEachAtomWithinRadius(posA, 2 * this._maxRad + cBondTolerance, processAtom);\n      }\n    }\n  }, {\n    key: \"_addPairs\",\n    value: function _addPairs() {\n      var atoms = this._complex._atoms;\n      for (var i = 0, k = 0; i < this._pairCollection.numPairs; i++, k += 4) {\n        var iA = this._pairCollection.intBuffer[k];\n        var iB = this._pairCollection.intBuffer[k + 1];\n        this._addPair(atoms[iA], atoms[iB]);\n      }\n    }\n  }, {\n    key: \"_addPair\",\n    value: function _addPair(atomA, atomB) {\n      var bondsA = atomA.bonds;\n      var indexA = atomA.index;\n      var indexB = atomB.index;\n      for (var j = 0, numBonds = bondsA.length; j < numBonds; ++j) {\n        var bond = bondsA[j];\n        if (bond._left.index === indexB || bond._right.index === indexB) {\n          return;\n        }\n      }\n      var left = indexA < indexB ? atomA : atomB;\n      var right = indexA < indexB ? atomB : atomA;\n      var newBond = this._complex.addBond(left, right, 0, Bond$5.BondType.UNKNOWN, false);\n      bondsA.push(newBond);\n      atomB.bonds.push(newBond);\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      this._buildInner();\n    }\n  }, {\n    key: \"_buildInner\",\n    value: function _buildInner() {\n      var atoms = this._complex._atoms;\n      if (atoms.length < 2) {\n        return;\n      }\n      if (atoms[0].index < 0) {\n        throw new Error('AutoBond: Atoms in complex were not indexed.');\n      }\n      this._calcBoundingBox();\n      this._pairCollection = new AtomPairs(atoms.length * cEstBondsMultiplier);\n      this._addExistingPairs();\n      this._findPairs();\n      this._addPairs();\n    }\n  }, {\n    key: \"_calcBoundingBox\",\n    value: function _calcBoundingBox() {\n      var atoms = this._complex._atoms;\n      var nAtoms = atoms.length;\n      var maxRad = _getBondingRadius(atoms[0]);\n      for (var i = 1; i < nAtoms; ++i) {\n        maxRad = Math.max(maxRad, _getBondingRadius(atoms[i]));\n      }\n      this._vBoxMax.addScalar(maxRad);\n      this._vBoxMin.addScalar(-maxRad);\n      this._maxRad = maxRad * 1.2;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._pairCollection) {\n        this._pairCollection.destroy();\n      }\n    }\n  }]);\n  return AutoBond;\n}();\n\nvar cCrossThresh = 0.1;\nvar cAromaticType = Bond$5.BondType.AROMATIC;\nvar cAromaticAtoms = [Element$a.ByName.C.number, Element$a.ByName.N.number\n];\nvar _coDirVectors = function () {\n  var v1Tmp = new Vector3();\n  var v2Tmp = new Vector3();\n  var cp = new Vector3();\n  return function (v1, v2) {\n    v1Tmp.copy(v1).normalize();\n    v2Tmp.copy(v2).normalize();\n    cp.crossVectors(v1Tmp, v2Tmp);\n    if (cp.length() > cCrossThresh) {\n      return false;\n    }\n    return v1Tmp.dot(v2Tmp) >= 0;\n  };\n}();\nfunction _insertAscending(arr, val) {\n  var idx = 0;\n  while (idx < arr.length && arr[idx] < val) {\n    ++idx;\n  }\n  arr.splice(idx, 0, val);\n}\nfunction _anotherAtom(bond, currAtom) {\n  return bond._left === currAtom ? bond._right : bond._left;\n}\nfunction _cosBetween(v1, v2) {\n  var theta = v1.dot(v2) / Math.sqrt(v1.lengthSq() * v2.lengthSq());\n  return MathUtils.clamp(theta, -1, 1);\n}\nfunction _markAromatic(bond) {\n  bond._type = cAromaticType;\n}\nvar Cycle = function () {\n  function Cycle(atomsList) {\n    _classCallCheck(this, Cycle);\n    this.atoms = atomsList;\n    this.update();\n  }\n  _createClass(Cycle, [{\n    key: \"update\",\n    value: function update() {\n      var atoms = this.atoms;\n      var center = new Vector3();\n      var nA = atoms.length;\n      for (var j = 0; j < nA; ++j) {\n        center.add(atoms[j].position);\n      }\n      center.multiplyScalar(1.0 / nA);\n      this.center = center;\n      this.radius = center.distanceTo(atoms[0].position.clone().lerp(atoms[1].position, 0.5));\n    }\n  }, {\n    key: \"forEachBond\",\n    value: function forEachBond(process) {\n      var atoms = this.atoms;\n      var nA = atoms.length;\n      var currAtom = atoms[0];\n      var nextAtom;\n      function checkBond(bond) {\n        if (bond._left === nextAtom || bond._right === nextAtom) {\n          process(bond);\n        }\n      }\n      for (var i = 0; i < nA; ++i) {\n        nextAtom = atoms[(i + 1) % nA];\n        currAtom.forEachBond(checkBond);\n        currAtom = nextAtom;\n      }\n    }\n  }]);\n  return Cycle;\n}();\nfunction _isAromatic(bond) {\n  return bond._type === cAromaticType;\n}\nfunction _isPossibleAromatic(bond) {\n  if (bond.type === cAromaticType) {\n    return true;\n  }\n  var rightIdx = cAromaticAtoms.indexOf(bond._right.element.number);\n  var leftIdx = cAromaticAtoms.indexOf(bond._left.element.number);\n  return rightIdx !== -1 && leftIdx !== -1;\n}\nfunction _checkCycleSimple(cycle) {\n  return cycle.length > 3;\n}\nfunction _checkCycleComplex(cycle) {\n  console.assert(cycle.length > 2);\n  return true;\n}\nvar AromaticLoopsMarker = function () {\n  function AromaticLoopsMarker(complex) {\n    _classCallCheck(this, AromaticLoopsMarker);\n    this._complex = complex;\n    var bondsData = new Array(complex._bonds.length);\n    var bondMarks = new Array(complex._bonds.length);\n    for (var i = 0, n = bondsData.length; i < n; ++i) {\n      bondsData[i] = [];\n      bondMarks[i] = false;\n    }\n    this._bondsData = bondsData;\n    this._bondMarks = bondMarks;\n    this._resetCycles();\n  }\n  _createClass(AromaticLoopsMarker, [{\n    key: \"_resetCycles\",\n    value: function _resetCycles() {\n      this._cycles = [];\n      this._currIdx = -1;\n    }\n  }, {\n    key: \"_haveSameCycle\",\n    value: function _haveSameCycle(bondsData, bond1, bond2) {\n      var arr1 = bondsData[bond1._index];\n      var arr2 = bondsData[bond2._index];\n      var n1 = arr1.length;\n      var n2 = arr2.length;\n      var i1 = 0;\n      var i2 = 0;\n      while (i1 < n1 && i2 < n2) {\n        if (arr1[i1] === arr2[i2]) {\n          return true;\n        }\n        if (arr1[i1] > arr2[i2]) {\n          ++i2;\n        } else {\n          ++i1;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"_tryBond\",\n    value: function _tryBond(prevBond, currRight, currDir) {\n      var bondsOrder = [];\n      var bondsData = this._bondsData;\n      var currLeft = _anotherAtom(prevBond, currRight);\n      var currVec = currRight.position.clone().sub(currLeft.position);\n      var startAtomRef = this._currStart;\n      var self = this;\n      var bondMarks = this._bondMarks;\n      var checkAromatic = this._checkBond;\n      bondMarks[prevBond._index] = true;\n      checkAromatic = checkAromatic === undefined ? _isAromatic : checkAromatic;\n      currRight.forEachBond(function (newBond) {\n        if (!checkAromatic(newBond) || newBond === prevBond || bondMarks[newBond._index] || self._haveSameCycle(bondsData, prevBond, newBond)) {\n          return;\n        }\n        var anotherAtom = _anotherAtom(newBond, currRight);\n        var anotherVec = anotherAtom.position.clone().sub(currRight.position);\n        var val = anotherAtom === startAtomRef ? -2.0 : 1 - _cosBetween(currVec, anotherVec);\n        var newDir = anotherVec.cross(currVec);\n        if (!_coDirVectors(newDir, currDir)) {\n          return;\n        }\n        var idx = 0;\n        while (idx < bondsOrder.length && bondsOrder[idx].val < val) {\n          ++idx;\n        }\n        bondsOrder.splice(idx, 0, {\n          bond: newBond,\n          val: val,\n          dir: newDir\n        });\n      });\n      for (var i = 0, n = bondsOrder.length; i < n; ++i) {\n        var bond = bondsOrder[i].bond;\n        var newRight = bond._left === currRight ? bond._right : bond._left;\n        if (newRight === startAtomRef) {\n          ++this._currIdx;\n          this._cycles.push([currRight]);\n          bondMarks[prevBond._index] = false;\n          return true;\n        }\n        if (this._tryBond(bond, newRight, bondsOrder[i].dir)) {\n          _insertAscending(bondsData[bond._index], this._currIdx);\n          this._cycles[this._currIdx].push(currRight);\n          bondMarks[prevBond._index] = false;\n          return true;\n        }\n      }\n      bondMarks[prevBond._index] = false;\n      return false;\n    }\n  }, {\n    key: \"_startCycle\",\n    value: function _startCycle(bond) {\n      this._currStart = bond._left;\n      if (this._tryBond(bond, bond._right, new Vector3())) {\n        _insertAscending(this._bondsData[bond._index], this._currIdx);\n        this._cycles[this._currIdx].push(bond._left);\n      }\n    }\n  }, {\n    key: \"_findLoops\",\n    value: function _findLoops(checkBond, checkCycle) {\n      this._checkBond = checkBond;\n      var complex = this._complex;\n      var self = this;\n      complex.forEachComponent(function (component) {\n        self._resetCycles();\n        component.forEachBond(function (bond) {\n          if (checkBond(bond)) {\n            self._startCycle(bond);\n          }\n        });\n        var cycles = self._cycles;\n        for (var i = 0, n = cycles.length; i < n; ++i) {\n          var cycle = cycles[i];\n          if (!checkCycle(cycle)) {\n            continue;\n          }\n          var newCycle = new Cycle(cycle);\n          newCycle.forEachBond(_markAromatic);\n          component.addCycle(newCycle);\n        }\n      });\n    }\n  }, {\n    key: \"markCycles\",\n    value: function markCycles() {\n      this._findLoops(_isAromatic, _checkCycleSimple);\n    }\n  }, {\n    key: \"detectCycles\",\n    value: function detectCycles() {\n      this._findLoops(_isPossibleAromatic, _checkCycleComplex);\n    }\n  }]);\n  return AromaticLoopsMarker;\n}();\n\nfunction _getSphereSliceRadiusRange(center, radius, zMin, zMax) {\n  var dzMin = zMin - center.z;\n  var dzMax = zMax - center.z;\n  var rzMin = Math.sqrt(Math.max(radius * radius - dzMin * dzMin, 0.0));\n  var rzMax = Math.sqrt(Math.max(radius * radius - dzMax * dzMax, 0.0));\n  var rMin = Math.min(rzMin, rzMax);\n  var rMax;\n  if (zMin <= center.z && zMax >= center.z) {\n    rMax = radius;\n  } else {\n    rMax = Math.max(rzMin, rzMax);\n  }\n  return [rMin, rMax];\n}\nfunction _getCircleSliceRadiusRange(center, radius, yMin, yMax) {\n  var dyMin = yMin - center.y;\n  var dyMax = yMax - center.y;\n  var ryMin = Math.sqrt(Math.max(radius * radius - dyMin * dyMin, 0.0));\n  var ryMax = Math.sqrt(Math.max(radius * radius - dyMax * dyMax, 0.0));\n  var rMin = Math.min(ryMin, ryMax);\n  var rMax;\n  if (yMin <= center.y && yMax >= center.y) {\n    rMax = radius;\n  } else {\n    rMax = Math.max(ryMin, ryMax);\n  }\n  return [rMin, rMax];\n}\nvar VoxelWorld = function () {\n  function VoxelWorld(box, vCellSizeHint) {\n    _classCallCheck(this, VoxelWorld);\n    this._box = box.clone();\n    var size = new Vector3();\n    box.getSize(size);\n    this._count = size.clone().divide(vCellSizeHint).floor().max(new Vector3(1, 1, 1));\n    this._last = this._count.clone().subScalar(1);\n    this._cellSize = size.clone().divide(this._count);\n    this._cellInnerR = 0.5 * Math.min(Math.min(this._cellSize.x, this._cellSize.y), this._cellSize.z);\n    this._cellOuterR = 0.5 * Math.sqrt(this._cellSize.dot(this._cellSize));\n    var numVoxels = this._count.x * this._count.y * this._count.z;\n    this._voxels = utils.allocateTyped(Int32Array, numVoxels);\n    for (var i = 0; i < numVoxels; ++i) {\n      this._voxels[i] = -1;\n    }\n    this._atoms = [];\n  }\n  _createClass(VoxelWorld, [{\n    key: \"addAtoms\",\n    value: function addAtoms(complex) {\n      var self = this;\n      var idx = this._atoms.length;\n      this._atoms.length += 2 * complex.getAtomCount();\n      complex.forEachAtom(function (atom) {\n        var voxelIdx = self._findVoxel(atom.position);\n        self._atoms[idx] = atom;\n        self._atoms[idx + 1] = self._voxels[voxelIdx];\n        self._voxels[voxelIdx] = idx;\n        idx += 2;\n      });\n    }\n  }, {\n    key: \"_findVoxel\",\n    value: function _findVoxel(point) {\n      var zero = VoxelWorld._zero;\n      var voxel = VoxelWorld._voxel;\n      voxel.copy(point).sub(this._box.min).divide(this._cellSize).floor().clamp(zero, this._last);\n      return voxel.x + this._count.x * (voxel.y + this._count.y * voxel.z);\n    }\n  }, {\n    key: \"_forEachAtomInVoxel\",\n    value: function _forEachAtomInVoxel(voxel, process) {\n      for (var i = this._voxels[voxel]; i >= 0; i = this._atoms[i + 1]) {\n        process(this._atoms[i]);\n      }\n    }\n  }, {\n    key: \"_forEachVoxelWithinRadius\",\n    value: function _forEachVoxelWithinRadius(center, radius, process) {\n      var xRange = VoxelWorld._xRange;\n      var yRange = VoxelWorld._yRange;\n      var zRange = VoxelWorld._zRange;\n      if (radius / this._cellInnerR < 10) {\n        this._forEachVoxelWithinRadiusSimple(center, radius, process);\n        return;\n      }\n      var rRangeXY;\n      var rRangeX;\n      var xVal;\n      var yVal;\n      var zVal;\n      var isInsideX;\n      var isInsideY;\n      var isInsideZ;\n      zRange.set(center.z - radius, center.z + radius);\n      zRange.subScalar(this._box.min.z).divideScalar(this._cellSize.z).floor().clampScalar(0, this._count.z - 1);\n      for (var z = zRange.x; z <= zRange.y; ++z) {\n        zVal = [this._box.min.z + z * this._cellSize.z, this._box.min.z + (z + 1) * this._cellSize.z];\n        isInsideZ = center.z - radius <= zVal[0] && zVal[1] <= center.z + radius;\n        rRangeXY = _getSphereSliceRadiusRange(center, radius, zVal[0], zVal[1]);\n        yRange.set(center.y - rRangeXY[1], center.y + rRangeXY[1]);\n        yRange.subScalar(this._box.min.y).divideScalar(this._cellSize.y).floor().clampScalar(0, this._count.y - 1);\n        for (var y = yRange.x; y <= yRange.y; ++y) {\n          yVal = [this._box.min.y + y * this._cellSize.y, this._box.min.y + (y + 1) * this._cellSize.y];\n          isInsideY = center.y - rRangeXY[0] <= yVal[0] && yVal[1] <= center.y + rRangeXY[0];\n          rRangeX = _getCircleSliceRadiusRange(center, rRangeXY[1], yVal[0], yVal[1]);\n          xRange.set(center.x - rRangeX[1], center.x + rRangeX[1]);\n          xRange.subScalar(this._box.min.x).divideScalar(this._cellSize.x).floor().clampScalar(0, this._count.x - 1);\n          for (var x = xRange.x; x <= xRange.y; ++x) {\n            xVal = [this._box.min.x + x * this._cellSize.x, this._box.min.x + (x + 1) * this._cellSize.x];\n            isInsideX = center.x - rRangeX[0] <= xVal[0] && xVal[1] <= center.x + rRangeX[0];\n            process(x + this._count.x * (y + this._count.y * z), isInsideX && isInsideY && isInsideZ);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_forEachVoxelWithinRadiusSimple\",\n    value: function _forEachVoxelWithinRadiusSimple(center, radius, process) {\n      var xRange = VoxelWorld._xRange;\n      var yRange = VoxelWorld._yRange;\n      var zRange = VoxelWorld._zRange;\n      var vCenter = VoxelWorld._vCenter;\n      var distTouch2 = (radius + this._cellOuterR) * (radius + this._cellOuterR);\n      var distInside2 = -1.0;\n      if (radius > this._cellOuterR) {\n        distInside2 = (radius - this._cellOuterR) * (radius - this._cellOuterR);\n      }\n      xRange.set(center.x - radius, center.x + radius);\n      xRange.subScalar(this._box.min.x).divideScalar(this._cellSize.x).floor();\n      xRange.x = Math.min(Math.max(xRange.x, 0), this._count.x - 1);\n      xRange.y = Math.min(Math.max(xRange.y, 0), this._count.x - 1);\n      yRange.set(center.y - radius, center.y + radius);\n      yRange.subScalar(this._box.min.y).divideScalar(this._cellSize.y).floor();\n      yRange.x = Math.min(Math.max(yRange.x, 0), this._count.y - 1);\n      yRange.y = Math.min(Math.max(yRange.y, 0), this._count.y - 1);\n      zRange.set(center.z - radius, center.z + radius);\n      zRange.subScalar(this._box.min.z).divideScalar(this._cellSize.z).floor();\n      zRange.x = Math.min(Math.max(zRange.x, 0), this._count.z - 1);\n      zRange.y = Math.min(Math.max(zRange.y, 0), this._count.z - 1);\n      for (var z = zRange.x; z <= zRange.y; ++z) {\n        var zVal = [this._box.min.z + z * this._cellSize.z, this._box.min.z + (z + 1) * this._cellSize.z];\n        vCenter.z = 0.5 * (zVal[0] + zVal[1]);\n        for (var y = yRange.x; y <= yRange.y; ++y) {\n          var yVal = [this._box.min.y + y * this._cellSize.y, this._box.min.y + (y + 1) * this._cellSize.y];\n          vCenter.y = 0.5 * (yVal[0] + yVal[1]);\n          for (var x = xRange.x; x <= xRange.y; ++x) {\n            var xVal = [this._box.min.x + x * this._cellSize.x, this._box.min.x + (x + 1) * this._cellSize.x];\n            vCenter.x = 0.5 * (xVal[0] + xVal[1]);\n            var d2 = center.distanceToSquared(vCenter);\n            if (d2 <= distTouch2) {\n              process(x + this._count.x * (y + this._count.y * z), d2 <= distInside2);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"forEachAtomWithinRadius\",\n    value: function forEachAtomWithinRadius(center, radius, process) {\n      var self = this;\n      var r2 = radius * radius;\n      self._forEachVoxelWithinRadius(center, radius, function (voxel, isInside) {\n        if (isInside) {\n          self._forEachAtomInVoxel(voxel, process);\n        } else {\n          self._forEachAtomInVoxel(voxel, function (atom) {\n            if (center.distanceToSquared(atom.position) <= r2) {\n              process(atom);\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"forEachAtomWithinDistFromMasked\",\n    value: function forEachAtomWithinDistFromMasked(complex, mask, dist, process) {\n      this._forEachAtomWithinDistFromGroup(function (atomProc) {\n        complex.forEachAtom(function (atom) {\n          if ((atom.mask & mask) !== 0) {\n            atomProc(atom);\n          }\n        });\n      }, dist, process);\n    }\n  }, {\n    key: \"forEachAtomWithinDistFromSelected\",\n    value: function forEachAtomWithinDistFromSelected(complex, selector, dist, process) {\n      this._forEachAtomWithinDistFromGroup(function (atomProc) {\n        complex.forEachAtom(function (atom) {\n          if (selector.includesAtom(atom)) {\n            atomProc(atom);\n          }\n        });\n      }, dist, process);\n    }\n  }, {\n    key: \"_forEachAtomWithinDistFromGroup\",\n    value: function _forEachAtomWithinDistFromGroup(forEachAtom, dist, process) {\n      var self = this;\n      var r2 = dist * dist;\n      var voxels = [];\n      var atoms = [];\n      var idx = 0;\n      forEachAtom(function (atom) {\n        self._forEachVoxelWithinRadius(atom.position, dist, function (voxel, isInside) {\n          if (isInside) {\n            voxels[voxel] = -1;\n          } else if (typeof voxels[voxel] === 'undefined') {\n            atoms.push(atom);\n            atoms.push(-1);\n            voxels[voxel] = idx;\n            idx += 2;\n          } else if (voxels[voxel] !== -1) {\n            atoms.push(atom);\n            atoms.push(voxels[voxel]);\n            voxels[voxel] = idx;\n            idx += 2;\n          }\n        });\n      });\n      var voxel;\n      var processIfWithin = function processIfWithin(atom) {\n        if (typeof voxels[voxel] === 'undefined') {\n          return;\n        }\n        idx = voxels[voxel];\n        if (idx === -1) {\n          process(atom);\n          return;\n        }\n        for (; idx >= 0; idx = atoms[idx + 1]) {\n          if (atom.position.distanceToSquared(atoms[idx].position) < r2) {\n            process(atom);\n            break;\n          }\n        }\n      };\n      for (voxel in voxels) {\n        if (Object.hasOwn(voxels, voxel)) {\n          self._forEachAtomInVoxel(voxel, processIfWithin);\n        }\n      }\n    }\n  }]);\n  return VoxelWorld;\n}();\n_defineProperty(VoxelWorld, \"_zero\", new Vector3(0, 0, 0));\n_defineProperty(VoxelWorld, \"_voxel\", new Vector3());\n_defineProperty(VoxelWorld, \"_xRange\", new Vector2());\n_defineProperty(VoxelWorld, \"_yRange\", new Vector2());\n_defineProperty(VoxelWorld, \"_zRange\", new Vector2());\n_defineProperty(VoxelWorld, \"_vCenter\", new Vector3());\n\nvar MINIMAL_DISTANCE = 0.5;\nvar MIN_HBOND_ENERGY = -9.9;\nvar MAX_HBOND_ENERGY = -0.5;\nvar COUPLING_CONSTANT = -27.888;\nvar MAX_COUPLING_DISTANCE = 5.0;\nvar MAX_RESIDUES_THRESHOLD = 1000;\nvar HBondInfo = function () {\n  function HBondInfo(complex) {\n    _classCallCheck(this, HBondInfo);\n    this._complex = complex;\n    this._hbonds = [];\n    if (this._complex._residues.length > MAX_RESIDUES_THRESHOLD) {\n      this._buildVW();\n    } else {\n      this._build();\n    }\n  }\n  _createClass(HBondInfo, [{\n    key: \"isBond\",\n    value: function isBond(from, to) {\n      if (this._hbonds[from]) {\n        var _this$_hbonds$from$ac = _slicedToArray(this._hbonds[from].acceptor, 2),\n            acc0 = _this$_hbonds$from$ac[0],\n            acc1 = _this$_hbonds$from$ac[1];\n        if (acc0 && acc0.residue === to && acc0.energy < MAX_HBOND_ENERGY) {\n          return true;\n        }\n        if (acc1 && acc1.residue === to && acc1.energy < MAX_HBOND_ENERGY) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var self = this;\n      for (var i = 0; i < this._complex._residues.length - 1; ++i) {\n        var ri = this._complex._residues[i];\n        if ((ri.getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n          continue;\n        }\n        var preri = null;\n        if (i > 0 && this._complex._residues[i - 1].getType().flags & ResidueType$1.Flags.PROTEIN && ri._sequence === this._complex._residues[i - 1]._sequence + 1) {\n          preri = this._complex._residues[i - 1];\n        }\n        for (var j = i + 1; j < this._complex._residues.length; ++j) {\n          var rj = this._complex._residues[j];\n          if ((rj.getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n            continue;\n          }\n          var prerj = null;\n          if (this._complex._residues[j - 1].getType().flags & ResidueType$1.Flags.PROTEIN && rj._sequence === this._complex._residues[j - 1]._sequence + 1) {\n            prerj = this._complex._residues[j - 1];\n          }\n          self._calcHBondEnergy(preri, ri, rj);\n          if (j !== i + 1) {\n            self._calcHBondEnergy(prerj, rj, ri);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_buildVW\",\n    value: function _buildVW() {\n      var self = this;\n      var residues = this._complex._residues;\n      var ri;\n      var preri;\n      var vw = this._complex.getVoxelWorld();\n      if (vw === null) {\n        return;\n      }\n      var pairs = new AtomPairs(this._complex._residues.length * this._complex._residues.length / 2);\n      function processAtom(atom) {\n        var rj = atom.residue;\n        if (rj._index === ri._index) {\n          return;\n        }\n        if ((rj.getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n          return;\n        }\n        if (!pairs.addPair(ri._index, rj._index)) {\n          return;\n        }\n        var prerj = rj._index > 0 ? residues[rj._index - 1] : null;\n        if (prerj && ((prerj.getType().flags & ResidueType$1.Flags.PROTEIN) === 0 || rj._sequence !== prerj._sequence + 1)) {\n          prerj = null;\n        }\n        self._calcHBondEnergy(preri, ri, rj);\n        if (rj._index !== ri._index + 1) {\n          self._calcHBondEnergy(prerj, rj, ri);\n        }\n      }\n      for (var i = 0; i < residues.length - 1; ++i) {\n        ri = residues[i];\n        if ((ri.getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n          continue;\n        }\n        preri = i > 0 ? residues[i - 1] : null;\n        if (preri && ((preri.getType().flags & ResidueType$1.Flags.PROTEIN) === 0 || ri._sequence !== preri._sequence + 1)) {\n          preri = null;\n        }\n        vw.forEachAtomWithinRadius(this._residueGetCAlpha(ri), MAX_COUPLING_DISTANCE, processAtom);\n      }\n    }\n  }, {\n    key: \"_residueGetCAlpha\",\n    value: function _residueGetCAlpha(res) {\n      for (var i = 0; i < res._atoms.length; ++i) {\n        var name = res._atoms[i].name;\n        if (name === 'CA' || name === 'C1') {\n          return res._atoms[i].position;\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"_residueGetCO\",\n    value: function _residueGetCO(res) {\n      var c = null;\n      var o = null;\n      res.forEachAtom(function (a) {\n        if (a.name === 'C') {\n          c = a.position;\n        } else if (a.name === 'O') {\n          o = a.position;\n        }\n      });\n      return [c, o];\n    }\n  }, {\n    key: \"_residueGetNH\",\n    value: function _residueGetNH(prev, res) {\n      var _this$_residueGetCO = this._residueGetCO(prev),\n          _this$_residueGetCO2 = _slicedToArray(_this$_residueGetCO, 2),\n          c = _this$_residueGetCO2[0],\n          o = _this$_residueGetCO2[1];\n      var n;\n      res.forEachAtom(function (a) {\n        if (a.name === 'N') {\n          n = a.position;\n        }\n      });\n      if (c && o && n) {\n        var h = c.clone();\n        h.sub(o);\n        h.multiplyScalar(1.0 / h.length());\n        h.add(n);\n        return [n, h];\n      }\n      return [null, null];\n    }\n  }, {\n    key: \"_calcHBondEnergy\",\n    value: function _calcHBondEnergy(predonor, donor, acceptor) {\n      var result = 0;\n      if (predonor === null) {\n        return result;\n      }\n      if (donor.getType().getName() !== 'PRO') {\n        var _this$_residueGetNH = this._residueGetNH(predonor, donor),\n            _this$_residueGetNH2 = _slicedToArray(_this$_residueGetNH, 2),\n            n = _this$_residueGetNH2[0],\n            h = _this$_residueGetNH2[1];\n        var _this$_residueGetCO3 = this._residueGetCO(acceptor),\n            _this$_residueGetCO4 = _slicedToArray(_this$_residueGetCO3, 2),\n            c = _this$_residueGetCO4[0],\n            o = _this$_residueGetCO4[1];\n        if (n === null || h === null || c === null || o === null) {\n          return result;\n        }\n        var distanceHO = h.distanceTo(o);\n        var distanceHC = h.distanceTo(c);\n        var distanceNC = n.distanceTo(c);\n        var distanceNO = n.distanceTo(o);\n        if (distanceHO < MINIMAL_DISTANCE || distanceHC < MINIMAL_DISTANCE || distanceNC < MINIMAL_DISTANCE || distanceNO < MINIMAL_DISTANCE) {\n          result = MIN_HBOND_ENERGY;\n        } else {\n          result = COUPLING_CONSTANT / distanceHO - COUPLING_CONSTANT / distanceHC + COUPLING_CONSTANT / distanceNC - COUPLING_CONSTANT / distanceNO;\n        }\n        result = Math.round(result * 1000) / 1000;\n        if (result < MIN_HBOND_ENERGY) {\n          result = MIN_HBOND_ENERGY;\n        }\n      }\n      if (typeof this._hbonds[donor._index] === 'undefined') {\n        this._hbonds[donor._index] = {\n          donor: [],\n          acceptor: []\n        };\n      }\n      var donorInfo = this._hbonds[donor._index];\n      if (donorInfo.acceptor.length < 2) {\n        donorInfo.acceptor.push({\n          residue: acceptor._index,\n          energy: result\n        });\n      }\n      if (donorInfo.acceptor.length > 1) {\n        if (result < donorInfo.acceptor[0].energy) {\n          donorInfo.acceptor[1].residue = donorInfo.acceptor[0].residue;\n          donorInfo.acceptor[1].energy = donorInfo.acceptor[0].energy;\n          donorInfo.acceptor[0].residue = acceptor._index;\n          donorInfo.acceptor[0].energy = result;\n        } else if (result < donorInfo.acceptor[1].energy) {\n          donorInfo.acceptor[1].residue = acceptor._index;\n          donorInfo.acceptor[1].energy = result;\n        }\n      }\n      if (typeof this._hbonds[acceptor._index] === 'undefined') {\n        this._hbonds[acceptor._index] = {\n          donor: [],\n          acceptor: []\n        };\n      }\n      var accInfo = this._hbonds[acceptor._index];\n      if (accInfo.donor.length < 2) {\n        accInfo.donor.push({\n          residue: donor._index,\n          energy: result\n        });\n      }\n      if (accInfo.donor.length > 1) {\n        if (result < accInfo.donor[0].energy) {\n          accInfo.donor[1].residue = accInfo.donor[0].residue;\n          accInfo.donor[1].energy = accInfo.donor[0].energy;\n          accInfo.donor[0].residue = donor._index;\n          accInfo.donor[0].energy = result;\n        } else if (result < accInfo.donor[1].energy) {\n          accInfo.donor[1].residue = donor._index;\n          accInfo.donor[1].energy = result;\n        }\n      }\n      return result;\n    }\n  }]);\n  return HBondInfo;\n}();\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar BridgeType = Object.freeze({\n  NO_BRIDGE: 0,\n  PARALLEL: 1,\n  ANTI_PARALLEL: 2\n});\nvar HelixFlag = Object.freeze({\n  START: 1,\n  MIDDLE: 2,\n  END: 3,\n  START_AND_END: 4\n});\nvar StructureType$1 = Object.freeze({\n  STRAND: 'E',\n  BRIDGE: 'B',\n  HELIX_310: 'G',\n  HELIX_ALPHA: 'H',\n  HELIX_PI: 'I',\n  TURN: 'T',\n  BEND: 'S',\n  LOOP: ' '\n});\nvar SecondaryStructureMap = function () {\n  function SecondaryStructureMap(complex) {\n    _classCallCheck(this, SecondaryStructureMap);\n    this._complex = complex;\n    this._build();\n  }\n  _createClass(SecondaryStructureMap, [{\n    key: \"_build\",\n    value: function _build() {\n      var self = this;\n      this._hbonds = new HBondInfo(this._complex);\n      this._ss = [];\n      this._sheet = [];\n      this._betaPartners = [];\n      this._bend = [];\n      for (var i = 0; i < this._complex.getResidues().length; ++i) {\n        this._betaPartners[i] = [];\n      }\n      this._helixFlags = [];\n      this._helixFlags[3] = [];\n      this._helixFlags[4] = [];\n      this._helixFlags[5] = [];\n      this._chainLengths = [];\n      for (var _i = 0; _i < this._complex._chains.length; ++_i) {\n        var chain = this._complex._chains[_i].getResidues();\n        var len = 0;\n        for (; len < chain.length; ++len) {\n          if ((chain[len].getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n            break;\n          }\n        }\n        this._chainLengths[_i] = len;\n      }\n      this._buildBetaSheets();\n      for (var _i2 = 0; _i2 < this._complex._chains.length; ++_i2) {\n        self._buildAlphaHelices(this._complex._chains[_i2].getResidues(), this._chainLengths[_i2], false);\n      }\n    }\n  }, {\n    key: \"_buildAlphaHelices\",\n    value: function _buildAlphaHelices(inResidues, chainLength, inPreferPiHelices) {\n      for (var stride = 3; stride <= 5; ++stride) {\n        if (inResidues.length < stride) {\n          break;\n        }\n        for (var i = 0; i + stride < chainLength; ++i) {\n          if (this._hbonds.isBond(inResidues[i + stride]._index, inResidues[i]._index)\n          ) {\n            this._helixFlags[stride][inResidues[i + stride]._index] = HelixFlag.END;\n            for (var j = i + 1; j < i + stride; ++j) {\n              if (typeof this._helixFlags[stride][inResidues[j]._index] === 'undefined') {\n                this._helixFlags[stride][inResidues[j]._index] = HelixFlag.MIDDLE;\n              }\n            }\n            if (this._helixFlags[stride][inResidues[i]._index] === HelixFlag.END) {\n              this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START_AND_END;\n            } else {\n              this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START;\n            }\n          }\n        }\n      }\n      for (var _i3 = 2; _i3 < chainLength - 2; ++_i3) {\n        var kappa = this._kappa(inResidues[_i3 - 2], inResidues[_i3], inResidues[_i3 + 2]);\n        this._bend[inResidues[_i3]._index] = kappa !== 360 && kappa > 70;\n      }\n      for (var _i4 = 1; _i4 + 4 < chainLength; ++_i4) {\n        if (this._isHelixStart(inResidues[_i4]._index, 4) && this._isHelixStart(inResidues[_i4 - 1]._index, 4)) {\n          for (var _j = _i4; _j <= _i4 + 3; ++_j) {\n            this._ss[inResidues[_j]._index] = StructureType$1.HELIX_ALPHA;\n          }\n        }\n      }\n      for (var _i5 = 1; _i5 + 3 < chainLength; ++_i5) {\n        if (this._isHelixStart(inResidues[_i5]._index, 3) && this._isHelixStart(inResidues[_i5 - 1]._index, 3)) {\n          var empty = true;\n          for (var _j2 = _i5; empty && _j2 <= _i5 + 2; ++_j2) {\n            empty = typeof this._ss[inResidues[_j2]._index] === 'undefined' || this._ss[inResidues[_j2]._index] === StructureType$1.HELIX_310;\n          }\n          if (empty) {\n            for (var _j3 = _i5; _j3 <= _i5 + 2; ++_j3) {\n              this._ss[inResidues[_j3]._index] = StructureType$1.HELIX_310;\n            }\n          }\n        }\n      }\n      for (var _i6 = 1; _i6 + 5 < chainLength; ++_i6) {\n        if (this._isHelixStart(inResidues[_i6]._index, 5) && this._isHelixStart(inResidues[_i6 - 1]._index, 5)) {\n          var _empty = true;\n          for (var _j4 = _i6; _empty && _j4 <= _i6 + 4; ++_j4) {\n            _empty = typeof this._ss[inResidues[_j4]._index] === 'undefined' || this._ss[inResidues[_j4]._index] === StructureType$1.HELIX_PI || inPreferPiHelices && this._ss[inResidues[_j4]._index] === StructureType$1.HELIX_ALPHA;\n          }\n          if (_empty) {\n            for (var _j5 = _i6; _j5 <= _i6 + 4; ++_j5) {\n              this._ss[inResidues[_j5]._index] = StructureType$1.HELIX_PI;\n            }\n          }\n        }\n      }\n      for (var _i7 = 1; _i7 + 1 < chainLength; ++_i7) {\n        if (typeof this._ss[inResidues[_i7]._index] === 'undefined') {\n          var isTurn = false;\n          for (var _stride = 3; _stride <= 5 && !isTurn; ++_stride) {\n            for (var k = 1; k < _stride && !isTurn; ++k) {\n              isTurn = _i7 >= k && this._isHelixStart(inResidues[_i7 - k]._index, _stride);\n            }\n          }\n          if (isTurn) {\n            this._ss[inResidues[_i7]._index] = StructureType$1.TURN;\n          } else if (this._bend[inResidues[_i7]._index]) {\n            this._ss[inResidues[_i7]._index] = StructureType$1.BEND;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_residueGetCAlpha\",\n    value: function _residueGetCAlpha(res) {\n      for (var i = 0; i < res._atoms.length; ++i) {\n        var name = res._atoms[i].name;\n        if (name === 'CA' || name === 'C1') {\n          return res._atoms[i].position;\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"_cosinusAngle\",\n    value: function _cosinusAngle(p1, p2, p3, p4) {\n      var v12 = p1.clone().sub(p2);\n      var v34 = p3.clone().sub(p4);\n      var result = 0;\n      var x = v12.dot(v12) * v34.dot(v34);\n      if (x > 0) {\n        result = v12.dot(v34) / Math.sqrt(x);\n      }\n      return result;\n    }\n  }, {\n    key: \"_kappa\",\n    value: function _kappa(prevPrev, res, nextNext) {\n      var curCA = this._residueGetCAlpha(res);\n      var ppCA = this._residueGetCAlpha(prevPrev);\n      var nnCA = this._residueGetCAlpha(nextNext);\n      if (curCA === null || ppCA === null || nnCA === null) {\n        return 180;\n      }\n      var ckap = this._cosinusAngle(curCA, ppCA, nnCA, curCA);\n      var skap = Math.sqrt(1 - ckap * ckap);\n      return Math.atan2(skap, ckap) * 180 / Math.PI;\n    }\n  }, {\n    key: \"_isHelixStart\",\n    value: function _isHelixStart(res, stride) {\n      return this._helixFlags[stride][res] === HelixFlag.START || this._helixFlags[stride][res] === HelixFlag.START_AND_END;\n    }\n  }, {\n    key: \"_buildBetaSheets\",\n    value: function _buildBetaSheets() {\n      var bridges = [];\n      for (var a = 0; a < this._complex._chains.length; ++a) {\n        var lenA = this._chainLengths[a];\n        if (lenA <= 4) {\n          continue;\n        }\n        var chainA = this._complex._chains[a].getResidues();\n        for (var b = a; b < this._complex._chains.length; ++b) {\n          var lenB = this._chainLengths[b];\n          if (lenB <= 4) {\n            continue;\n          }\n          var chainB = this._complex._chains[b].getResidues();\n          for (var i = 1; i + 1 < lenA; ++i) {\n            var ri = chainA[i];\n            var j = 1;\n            if (b === a) {\n              j = i + 3;\n            }\n            for (; j + 1 < lenB; ++j) {\n              var rj = chainB[j];\n              var type = this._testBridge(chainA, i, chainB, j);\n              if (type === BridgeType.NO_BRIDGE) {\n                continue;\n              }\n              var found = false;\n              var _iterator = _createForOfIteratorHelper(bridges),\n                  _step;\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  var bridge = _step.value;\n                  if (type !== bridge.type || ri._index !== bridge.i[bridge.i.length - 1] + 1) {\n                    continue;\n                  }\n                  if (type === BridgeType.PARALLEL && bridge.j[bridge.j.length - 1] + 1 === rj._index) {\n                    bridge.i.push(ri._index);\n                    bridge.j.push(rj._index);\n                    found = true;\n                    break;\n                  }\n                  if (type === BridgeType.ANTI_PARALLEL && bridge.j[0] - 1 === rj._index) {\n                    bridge.i.push(ri._index);\n                    bridge.j.unshift(rj._index);\n                    found = true;\n                    break;\n                  }\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              if (!found) {\n                bridges.push({\n                  type: type,\n                  i: [ri._index],\n                  chainI: ri.getChain()._index,\n                  j: [rj._index],\n                  chainJ: rj.getChain()._index\n                });\n              }\n            }\n          }\n        }\n      }\n      bridges.sort(function (a, b) {\n        if (a.chainI < b.chainI || a.chainI === b.chainI && a.i[0] < b.i[0]) {\n          return -1;\n        }\n        return 1;\n      });\n      for (var _i8 = 0; _i8 < bridges.length; ++_i8) {\n        for (var _j6 = _i8 + 1; _j6 < bridges.length; ++_j6) {\n          var ibi = bridges[_i8].i[0];\n          var iei = bridges[_i8].i[bridges[_i8].i.length - 1];\n          var jbi = bridges[_i8].j[0];\n          var jei = bridges[_i8].j[bridges[_i8].j.length - 1];\n          var ibj = bridges[_j6].i[0];\n          var iej = bridges[_j6].i[bridges[_j6].i.length - 1];\n          var jbj = bridges[_j6].j[0];\n          var jej = bridges[_j6].j[bridges[_j6].j.length - 1];\n          if (bridges[_i8].type !== bridges[_j6].type || this._hasChainBreak(Math.min(ibi, ibj), Math.max(iei, iej)) || this._hasChainBreak(Math.min(jbi, jbj), Math.max(jei, jej)) || ibj - iei >= 6 || iei >= ibj && ibi <= iej) {\n            continue;\n          }\n          var bulge = false;\n          if (bridges[_i8].type === BridgeType.PARALLEL) {\n            bulge = jbj - jei < 6 && ibj - iei < 3 || jbj - jei < 3;\n          } else {\n            bulge = jbi - jej < 6 && ibj - iei < 3 || jbi - jej < 3;\n          }\n          if (bulge) {\n            bridges[_i8].i = bridges[_i8].i.concat(bridges[_j6].i);\n            if (bridges[_i8].type === BridgeType.PARALLEL) {\n              bridges[_i8].j = bridges[_i8].j.concat(bridges[_j6].j);\n            } else {\n              bridges[_i8].j = bridges[_j6].j.concat(bridges[_i8].j);\n            }\n            bridges.splice(_j6--, 1);\n          }\n        }\n      }\n      var ladderset = new Set();\n      for (var _i9 = 0; _i9 < bridges.length; ++_i9) {\n        ladderset.add(bridges[_i9]);\n      }\n      var sheet = 1;\n      var ladder = 0;\n      while (ladderset.size > 0) {\n        var _bridge = ladderset.values().next().value;\n        ladderset.delete(_bridge);\n        var sheetset = new Set();\n        sheetset.add(_bridge);\n        var toMove = void 0;\n        do {\n          toMove = new Set();\n          var _iterator2 = _createForOfIteratorHelper(sheetset.values()),\n              _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _a = _step2.value;\n              var _iterator4 = _createForOfIteratorHelper(ladderset.values()),\n                  _step4;\n              try {\n                for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                  var _b = _step4.value;\n                  if (this._areBridgesLinked(_a, _b)) {\n                    toMove.add(_b);\n                  }\n                }\n              } catch (err) {\n                _iterator4.e(err);\n              } finally {\n                _iterator4.f();\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n          var _iterator3 = _createForOfIteratorHelper(toMove.values()),\n              _step3;\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              _bridge = _step3.value;\n              sheetset.add(_bridge);\n              ladderset.delete(_bridge);\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n        } while (toMove.size > 0);\n        var _iterator5 = _createForOfIteratorHelper(sheetset.values()),\n            _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            _bridge = _step5.value;\n            _bridge.ladder = ladder;\n            _bridge.sheet = sheet;\n            _bridge.link = sheetset;\n            ++ladder;\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n        ++sheet;\n      }\n      for (var _i10 = 0; _i10 < bridges.length; ++_i10) {\n        var _bridge2 = bridges[_i10];\n        var betai = 0;\n        var betaj = 0;\n        for (var l = 0; l < _bridge2.i.length; ++l) {\n          if (this._betaPartners[_bridge2.i[l]][0]) {\n            betai = 1;\n            break;\n          }\n        }\n        for (var _l = 0; _l < _bridge2.j.length; ++_l) {\n          if (this._betaPartners[_bridge2.j[_l]][0]) {\n            betaj = 1;\n            break;\n          }\n        }\n        var ss = StructureType$1.BRIDGE;\n        if (_bridge2.i.length > 1) {\n          ss = StructureType$1.STRAND;\n        }\n        if (_bridge2.type === BridgeType.PARALLEL) {\n          var _j7 = 0;\n          for (var k = 0; k < _bridge2.i.length; ++k) {\n            this._betaPartners[_bridge2.i[k]][betai] = {\n              residue: _bridge2.j[_j7++],\n              ladder: _bridge2.ladder,\n              parallel: true\n            };\n          }\n          _j7 = 0;\n          for (var _k = 0; _k < _bridge2.j.length; ++_k) {\n            this._betaPartners[_bridge2.j[_k]][betaj] = {\n              residue: _bridge2.i[_j7++],\n              ladder: _bridge2.ladder,\n              parallel: true\n            };\n          }\n        } else {\n          var _j8 = _bridge2.j.length - 1;\n          for (var _k2 = 0; _k2 < _bridge2.i.length; ++_k2) {\n            this._betaPartners[_bridge2.i[_k2]][betai] = {\n              residue: _bridge2.j[_j8--],\n              ladder: _bridge2.ladder,\n              parallel: false\n            };\n          }\n          _j8 = _bridge2.i.length - 1;\n          for (var _k3 = 0; _k3 < _bridge2.j.length; ++_k3) {\n            this._betaPartners[_bridge2.j[_k3]][betaj] = {\n              residue: _bridge2.i[_j8--],\n              ladder: _bridge2.ladder,\n              parallel: false\n            };\n          }\n        }\n        for (var _k4 = _bridge2.i[0]; _k4 <= _bridge2.i[_bridge2.i.length - 1]; ++_k4) {\n          if (this._ss[_k4] !== StructureType$1.STRAND) {\n            this._ss[_k4] = ss;\n            this._sheet[_k4] = _bridge2.sheet;\n          }\n        }\n        for (var _k5 = _bridge2.j[0]; _k5 <= _bridge2.j[_bridge2.j.length - 1]; ++_k5) {\n          if (this._ss[_k5] !== StructureType$1.STRAND) {\n            this._ss[_k5] = ss;\n            this._sheet[_k5] = _bridge2.sheet;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_testBridge\",\n    value: function _testBridge(chainA, from, chainB, to) {\n      var result = BridgeType.NO_BRIDGE;\n      var a = chainA[from - 1]._index;\n      var b = chainA[from]._index;\n      var c = chainA[from + 1]._index;\n      var d = chainB[to - 1]._index;\n      var e = chainB[to]._index;\n      var f = chainB[to + 1]._index;\n      var isBond = this._hbonds.isBond.bind(this._hbonds);\n      if (isBond(c, e) && isBond(e, a) || isBond(f, b) && isBond(b, d)) {\n        result = BridgeType.PARALLEL;\n      } else if (isBond(c, d) && isBond(f, a) || isBond(e, b) && isBond(b, e)) {\n        result = BridgeType.ANTI_PARALLEL;\n      }\n      return result;\n    }\n  }, {\n    key: \"_areBridgesLinked\",\n    value: function _areBridgesLinked(a, b) {\n      var ai = new Set(a.i);\n      var aj = new Set(a.j);\n      var _iterator6 = _createForOfIteratorHelper(b.i),\n          _step6;\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var i = _step6.value;\n          if (ai.has(i) || aj.has(i)) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n      var _iterator7 = _createForOfIteratorHelper(b.j),\n          _step7;\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var _i11 = _step7.value;\n          if (ai.has(_i11) || aj.has(_i11)) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n      return false;\n    }\n  }, {\n    key: \"_hasChainBreak\",\n    value: function _hasChainBreak(from, to) {\n      for (var i = from + 1; i <= to; ++i) {\n        if (this._complex._residues[i]._sequence !== this._complex._residues[i - 1]._sequence + 1) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return SecondaryStructureMap;\n}();\nSecondaryStructureMap.StructureType = StructureType$1;\n\nvar _helixClassMap, _loopMap;\nvar VOXEL_SIZE = 5.0;\nvar StructureType = SecondaryStructureMap.StructureType;\nvar StructuralElementType$3 = StructuralElement.Type;\nvar helixClassMap = (_helixClassMap = {}, _defineProperty(_helixClassMap, StructureType.HELIX_ALPHA, 1), _defineProperty(_helixClassMap, StructureType.HELIX_PI, 3), _defineProperty(_helixClassMap, StructureType.HELIX_310, 5), _helixClassMap);\nvar loopMap = (_loopMap = {}, _defineProperty(_loopMap, StructureType.BRIDGE, StructuralElementType$3.BRIDGE), _defineProperty(_loopMap, StructureType.TURN, StructuralElementType$3.TURN), _defineProperty(_loopMap, StructureType.BEND, StructuralElementType$3.BEND), _defineProperty(_loopMap, StructureType.LOOP, StructuralElementType$3.COIL), _loopMap);\nvar Complex$9 = function () {\n  function Complex() {\n    _classCallCheck(this, Complex);\n    this._chains = [];\n    this._components = [];\n    this._helices = [];\n    this._sheets = [];\n    this.structures = [];\n    this._residueTypes = Object.create(ResidueType$1.StandardTypes);\n    this._atoms = [];\n    this._residues = [];\n    this._bonds = [];\n    this._sgroups = [];\n    this._molecules = [];\n    this._maskNeedsUpdate = false;\n    this.metadata = {};\n    this.symmetry = [];\n    this.units = [new BiologicalUnit(this)];\n    this._currentUnit = 0;\n  }\n  _createClass(Complex, [{\n    key: \"addAtom\",\n    value: function addAtom(atom) {\n      var index = this._atoms.length;\n      this._atoms.push(atom);\n      return index;\n    }\n  }, {\n    key: \"addSheet\",\n    value: function addSheet(sheet) {\n      var index = this._sheets.length;\n      this._sheets.push(sheet);\n      return index;\n    }\n  }, {\n    key: \"addHelix\",\n    value: function addHelix(helix) {\n      var index = this._helices.length;\n      this._helices.push(helix);\n      return index;\n    }\n  }, {\n    key: \"getAtoms\",\n    value: function getAtoms() {\n      return this._atoms;\n    }\n  }, {\n    key: \"getBonds\",\n    value: function getBonds() {\n      return this._bonds;\n    }\n  }, {\n    key: \"getAtomCount\",\n    value: function getAtomCount() {\n      return this._atoms.length;\n    }\n  }, {\n    key: \"addResidue\",\n    value: function addResidue(residue) {\n      var index = this._residues.length;\n      this._residues.push(residue);\n      return index;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      this.forEachChain(function (chain) {\n        chain.updateToFrame(frameData);\n      });\n    }\n  }, {\n    key: \"addResidueType\",\n    value: function addResidueType(resName) {\n      var rt = this._residueTypes[resName] = new ResidueType$1(resName, 'Unknown', '');\n      return rt;\n    }\n  }, {\n    key: \"getResidueCount\",\n    value: function getResidueCount() {\n      return this._residues.length;\n    }\n  }, {\n    key: \"getResidues\",\n    value: function getResidues() {\n      return this._residues;\n    }\n  }, {\n    key: \"getSGroupCount\",\n    value: function getSGroupCount() {\n      return this._sgroups.length;\n    }\n  }, {\n    key: \"getSGroups\",\n    value: function getSGroups() {\n      return this._sgroups;\n    }\n  }, {\n    key: \"getAtomByFullname\",\n    value: function getAtomByFullname(fullName) {\n      var parts = fullName.split('.');\n      if (parts.length !== 3) {\n        return null;\n      }\n      var chainName = parts[0];\n      var resId = parseInt(parts[1], 10);\n      if (Number.isNaN(resId)) {\n        return null;\n      }\n      var atomName = parts[2].toUpperCase();\n      var currAtom = null;\n      this.forEachChain(function (chain) {\n        if (currAtom) {\n          return;\n        }\n        if (chain._name.localeCompare(chainName) === 0) {\n          chain.forEachResidue(function (residue) {\n            if (currAtom) {\n              return;\n            }\n            if (residue._sequence === resId) {\n              residue.forEachAtom(function (atom) {\n                if (currAtom) {\n                  return;\n                }\n                if (atomName.localeCompare(atom.name) === 0) {\n                  currAtom = atom;\n                }\n              });\n            }\n          });\n        }\n      });\n      return currAtom;\n    }\n  }, {\n    key: \"addChain\",\n    value: function addChain(name) {\n      var result = new Chain$2(this, name);\n      this._chains.push(result);\n      return result;\n    }\n  }, {\n    key: \"getChain\",\n    value: function getChain(name) {\n      for (var i = 0, n = this._chains.length; i < n; ++i) {\n        var chain = this._chains[i];\n        if (chain.getName() === name) {\n          return chain;\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"getChainCount\",\n    value: function getChainCount() {\n      return this._chains.length;\n    }\n  }, {\n    key: \"getMolecules\",\n    value: function getMolecules() {\n      return this._molecules;\n    }\n  }, {\n    key: \"getMoleculeCount\",\n    value: function getMoleculeCount() {\n      return this._molecules.length;\n    }\n  }, {\n    key: \"forEachAtom\",\n    value: function forEachAtom(process) {\n      var atoms = this._atoms;\n      for (var i = 0, n = atoms.length; i < n; ++i) {\n        process(atoms[i]);\n      }\n    }\n  }, {\n    key: \"forEachBond\",\n    value: function forEachBond(process) {\n      var bonds = this._bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        process(bonds[i]);\n      }\n    }\n  }, {\n    key: \"forEachResidue\",\n    value: function forEachResidue(process) {\n      var residues = this._residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        process(residues[i]);\n      }\n    }\n  }, {\n    key: \"forEachChain\",\n    value: function forEachChain(process) {\n      var chains = this._chains;\n      for (var i = 0, n = chains.length; i < n; ++i) {\n        process(chains[i]);\n      }\n    }\n  }, {\n    key: \"forEachMolecule\",\n    value: function forEachMolecule(process) {\n      var molecules = this._molecules;\n      var n = molecules.length;\n      for (var i = 0; i < n; ++i) {\n        process(molecules[i]);\n      }\n    }\n  }, {\n    key: \"forEachSGroup\",\n    value: function forEachSGroup(process) {\n      var groups = this._sgroups;\n      for (var i = 0, n = groups.length; i < n; ++i) {\n        process(groups[i]);\n      }\n    }\n  }, {\n    key: \"forEachComponent\",\n    value: function forEachComponent(process) {\n      var components = this._components;\n      for (var i = 0, n = components.length; i < n; ++i) {\n        process(components[i]);\n      }\n    }\n  }, {\n    key: \"forEachVisibleComponent\",\n    value: function forEachVisibleComponent(process) {\n      var components = this._components;\n      for (var i = 0, n = components.length; i < n; ++i) {\n        process(components[i]);\n      }\n    }\n  }, {\n    key: \"addBond\",\n    value: function addBond(left, right, order, type, fixed) {\n      var bond = new Bond$5(left, right, order, type, fixed);\n      this._bonds.push(bond);\n      return bond;\n    }\n  }, {\n    key: \"getBondCount\",\n    value: function getBondCount() {\n      return this._bonds.length;\n    }\n  }, {\n    key: \"getResidueType\",\n    value: function getResidueType(name) {\n      return this._residueTypes[name] || null;\n    }\n  }, {\n    key: \"getUnifiedSerial\",\n    value: function getUnifiedSerial(chain, serial, iCode) {\n      var maxSerial = 65536;\n      var chainShift = maxSerial * 256;\n      return serial + iCode * maxSerial + chain * chainShift;\n    }\n  }, {\n    key: \"splitUnifiedSerial\",\n    value: function splitUnifiedSerial(uniSerial) {\n      var maxSerial = 65536;\n      var chainShift = maxSerial * 256;\n      var chainId = Math.floor(uniSerial / chainShift);\n      var remnant = uniSerial - chainId * chainShift;\n      var insCode = Math.floor(remnant / maxSerial);\n      var ser = remnant - insCode * maxSerial;\n      return {\n        chain: chainId,\n        serial: ser,\n        iCode: insCode\n      };\n    }\n  }, {\n    key: \"_fillCmpEdit\",\n    value: function _fillCmpEdit() {\n      var self = this;\n      var components = this._components;\n      function addComp() {\n        var comp = new Component(self);\n        comp._index = components.length;\n        components[comp._index] = comp;\n        return comp;\n      }\n      this.forEachChain(function (chain) {\n        var residues = chain._residues;\n        var resCount = residues.length;\n        if (resCount < 1) {\n          return;\n        }\n        var comp = addComp();\n        var currStart = residues[0]._index;\n        for (var i = 0; i < resCount; ++i) {\n          var currRes = residues[i];\n          currRes._component = comp;\n          var nextRes = i === resCount - 1 ? null : residues[i + 1];\n          if (!nextRes || !currRes.isConnected(nextRes) || currRes._index !== nextRes._index - 1) {\n            comp.setSubDivs([{\n              start: currStart,\n              end: currRes._index\n            }]);\n            if (nextRes) {\n              currStart = nextRes._index;\n              comp = addComp();\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_fillCmpNoedit\",\n    value: function _fillCmpNoedit() {\n      var comp = new Component(this);\n      comp._index = 0;\n      var residues = this._residues;\n      var resCount = residues.length;\n      if (resCount === 0) {\n        return;\n      }\n      var currSubDivs = [];\n      var currStart = 0;\n      for (var i = 0; i < resCount; ++i) {\n        var currRes = residues[i];\n        currRes._component = comp;\n        var nextRes = i === resCount - 1 ? null : residues[i + 1];\n        if (!nextRes || !currRes.isConnected(nextRes)) {\n          currSubDivs[currSubDivs.length] = {\n            start: currStart,\n            end: i\n          };\n          if (nextRes) {\n            currStart = i + 1;\n          }\n        }\n      }\n      comp.setSubDivs(currSubDivs);\n      this._components[comp._index] = comp;\n    }\n  }, {\n    key: \"_fillComponents\",\n    value: function _fillComponents(enableEditing) {\n      if (enableEditing) {\n        this._fillCmpEdit();\n      } else {\n        this._fillCmpNoedit();\n      }\n    }\n  }, {\n    key: \"getCurrentUnit\",\n    value: function getCurrentUnit() {\n      return this._currentUnit;\n    }\n  }, {\n    key: \"getDefaultBoundaries\",\n    value: function getDefaultBoundaries() {\n      return this.units[0].getBoundaries();\n    }\n  }, {\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      return this.units[this._currentUnit].getBoundaries();\n    }\n  }, {\n    key: \"getTransforms\",\n    value: function getTransforms() {\n      return this.units[this._currentUnit].getTransforms();\n    }\n  }, {\n    key: \"getSelector\",\n    value: function getSelector() {\n      return this.units[this._currentUnit].getSelector();\n    }\n  }, {\n    key: \"resetCurrentUnit\",\n    value: function resetCurrentUnit() {\n      this._currentUnit = 0;\n      this.setCurrentUnit(1);\n    }\n  }, {\n    key: \"setCurrentUnit\",\n    value: function setCurrentUnit(newUnit) {\n      if (newUnit !== null && newUnit !== undefined && newUnit !== this._currentUnit && newUnit >= 0 && newUnit < this.units.length) {\n        this._currentUnit = newUnit;\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"_computeBounds\",\n    value: function _computeBounds() {\n      var units = this.units;\n      for (var i = 0, n = units.length; i < n; ++i) {\n        units[i].computeBoundaries();\n      }\n    }\n  }, {\n    key: \"onAtomPositionChanged\",\n    value: function onAtomPositionChanged() {\n      this.forEachChain(function (a) {\n        a._finalize();\n      });\n      this.forEachComponent(function (c) {\n        c.update();\n      });\n      this._computeBounds();\n      this._finalizeBonds();\n      this.forEachSGroup(function (s) {\n        s._rebuildSGroupOnAtomChange();\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this._maskNeedsUpdate) {\n        this.updateStructuresMask();\n        this._maskNeedsUpdate = false;\n      }\n    }\n  }, {\n    key: \"_finalizeBonds\",\n    value: function _finalizeBonds() {\n      var bonds = this.getBonds();\n      var n = bonds.length;\n      for (var i = 0; i < n; ++i) {\n        bonds[i]._index = i;\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize(opts) {\n      opts = opts || {};\n      var bonds = this._bonds;\n      var i;\n      var n;\n      for (i = bonds.length - 1; i >= 0; i--) {\n        var bond = bonds[i];\n        if (bond._left === null || bond._right === null) {\n          bonds.splice(i, 1);\n        } else {\n          bond._left.bonds.push(bond);\n          bond._right.bonds.push(bond);\n        }\n      }\n      var residues = this._residues;\n      for (i = 0, n = residues.length; i < n; ++i) {\n        residues[i]._finalize();\n      }\n      this.forEachChain(function (a) {\n        a._finalize();\n      });\n      var units = this.units;\n      for (i = 0, n = units.length; i < n; ++i) {\n        units[i].finalize();\n      }\n      this.setCurrentUnit(1);\n      var residueHash = {};\n      for (i = 0, n = residues.length; i < n; ++i) {\n        var res = residues[i];\n        residueHash[this.getUnifiedSerial(res.getChain().getName().charCodeAt(0), res.getSequence(), res.getICode().charCodeAt(0))] = res;\n      }\n      var structures = this.structures;\n      for (i = 0, n = structures.length; i < n; ++i) {\n        structures[i]._finalize(opts.serialAtomMap, residueHash, this);\n      }\n      var helices = this._helices;\n      for (i = 0, n = helices.length; i < n; ++i) {\n        helices[i]._finalize(opts.serialAtomMap, residueHash, this);\n      }\n      var sheets = this._sheets;\n      for (i = 0, n = sheets.length; i < n; ++i) {\n        sheets[i]._finalize(opts.serialAtomMap, residueHash, this);\n      }\n      this._computeBounds();\n      var atoms = this._atoms;\n      for (i = 0, n = atoms.length; i < n; ++i) {\n        var currAtom = atoms[i];\n        currAtom.index = i;\n      }\n      if (opts.needAutoBonding) {\n        var autoConnector = new AutoBond(this);\n        autoConnector.build();\n        autoConnector.destroy();\n      }\n      var chains = this._chains;\n      for (i = 0, n = chains.length; i < n; ++i) {\n        chains[i]._index = i;\n      }\n      for (i = 0, n = residues.length; i < n; ++i) {\n        residues[i]._index = i;\n      }\n      for (i = 0, n = atoms.length; i < n; ++i) {\n        var atom = atoms[i];\n        if (atom.flags & Atom$2.Flags.HYDROGEN && atom.bonds.length === 1) {\n          var _bond = atom.bonds[0];\n          var other = _bond._left !== atom && _bond._left || _bond._right;\n          if (other.flags & Atom$2.Flags.CARBON) {\n            atom.flags |= Atom$2.Flags.NONPOLARH;\n          }\n        }\n      }\n      this._finalizeBonds();\n      this._fillComponents(opts.enableEditing);\n      var marker = new AromaticLoopsMarker(this);\n      marker.markCycles();\n      if (opts.detectAromaticLoops) {\n        marker.detectCycles();\n      }\n      this._finalizeMolecules();\n    }\n  }, {\n    key: \"_finalizeMolecules\",\n    value: function _finalizeMolecules() {\n      for (var i = 0; i < this._molecules.length; i++) {\n        var molecule = this._molecules[i];\n        var count = molecule.residues.length;\n        for (var j = 0; j < count; j++) {\n          var residue = molecule.residues[j];\n          residue._molecule = molecule;\n        }\n      }\n    }\n  }, {\n    key: \"updateStructuresMask\",\n    value: function updateStructuresMask() {\n      var updater = function updater(structure) {\n        return structure.collectMask();\n      };\n      this.forEachResidue(updater);\n      this.forEachChain(updater);\n      this.forEachMolecule(updater);\n    }\n  }, {\n    key: \"countAtomsByMask\",\n    value: function countAtomsByMask(mask) {\n      var count = 0;\n      this.forEachAtom(function (atom) {\n        if ((atom.mask & mask) !== 0) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"getNumAtomsBySelector\",\n    value: function getNumAtomsBySelector(selector) {\n      var count = 0;\n      this.forEachAtom(function (atom) {\n        if (selector.includesAtom(atom)) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"resetAtomMask\",\n    value: function resetAtomMask(mask) {\n      this.forEachAtom(function (atom) {\n        atom.mask = mask;\n      });\n    }\n  }, {\n    key: \"markAtoms\",\n    value: function markAtoms(selector, mask) {\n      var setMask = mask;\n      var clearMask = ~setMask;\n      var count = 0;\n      var totalSelector = selectors$4.keyword('And')(selector, this.getSelector());\n      this.forEachAtom(function (atom) {\n        if (totalSelector.includesAtom(atom)) {\n          atom.mask |= setMask;\n          count++;\n        } else {\n          atom.mask &= clearMask;\n        }\n      });\n      this._maskNeedsUpdate = true;\n      return count;\n    }\n  }, {\n    key: \"markAtomsAdditionally\",\n    value: function markAtomsAdditionally(selector, mask) {\n      var setMask = mask;\n      var count = 0;\n      this.forEachAtom(function (atom) {\n        if (selector.includesAtom(atom) && (atom.mask & mask) !== mask) {\n          atom.mask |= setMask;\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"clearAtomBits\",\n    value: function clearAtomBits(mask) {\n      var clearMask = ~mask;\n      this.forEachAtom(function (atom) {\n        atom.mask &= clearMask;\n      });\n      var reseter = function reseter(a) {\n        a._mask &= clearMask;\n      };\n      this.forEachAtom(reseter);\n      this.forEachResidue(reseter);\n      this.forEachChain(reseter);\n      this.forEachMolecule(reseter);\n    }\n  }, {\n    key: \"getAtomNames\",\n    value: function getAtomNames() {\n      if (Object.hasOwn(this, '_atomNames')) {\n        return this._atomNames;\n      }\n      var dict = {};\n      this.forEachAtom(function (atom) {\n        dict[atom.name] = 1;\n      });\n      this._atomNames = Object.keys(dict);\n      return this._atomNames;\n    }\n  }, {\n    key: \"getElements\",\n    value: function getElements() {\n      if (Object.hasOwn(this, '_elements')) {\n        return this._elements;\n      }\n      var dict = {};\n      this.forEachAtom(function (atom) {\n        dict[atom.element.name] = 1;\n      });\n      this._elements = Object.keys(dict);\n      return this._elements;\n    }\n  }, {\n    key: \"getResidueNames\",\n    value: function getResidueNames() {\n      if (Object.hasOwn(this, '_residueNames')) {\n        return this._residueNames;\n      }\n      var dict = {};\n      this.forEachResidue(function (res) {\n        dict[res._type._name] = 1;\n      });\n      this._residueNames = Object.keys(dict);\n      return this._residueNames;\n    }\n  }, {\n    key: \"getChainNames\",\n    value: function getChainNames() {\n      if (Object.hasOwn(this, '_chainNames')) {\n        return this._chainNames;\n      }\n      var dict = {};\n      this.forEachChain(function (chain) {\n        dict[chain._name] = 1;\n      });\n      this._chainNames = Object.keys(dict);\n      return this._chainNames;\n    }\n  }, {\n    key: \"getAltLocNames\",\n    value: function getAltLocNames() {\n      if (Object.hasOwn(this, '_altlocNames')) {\n        return this._altlocNames;\n      }\n      var dict = {};\n      this.forEachAtom(function (atom) {\n        dict[String.fromCharCode(atom.location)] = 1;\n      });\n      this._altlocNames = Object.keys(dict);\n      return this._altlocNames;\n    }\n  }, {\n    key: \"getVoxelWorld\",\n    value: function getVoxelWorld() {\n      if (!Object.hasOwn(this, '_voxelWorld')) {\n        try {\n          this._voxelWorld = new VoxelWorld(this.getDefaultBoundaries().boundingBox, new Vector3(VOXEL_SIZE, VOXEL_SIZE, VOXEL_SIZE));\n          this._voxelWorld.addAtoms(this);\n        } catch (e) {\n          logger.warn('Unable to create voxel world');\n          this._voxelWorld = null;\n        }\n      }\n      return this._voxelWorld;\n    }\n  }, {\n    key: \"addElement\",\n    value: function addElement(srcArray, dstArray, param, functor) {\n      var length = srcArray.length;\n      for (var i = 0; i < length; ++i) {\n        var elem = srcArray[i];\n        functor(elem, param);\n        dstArray.push(elem);\n      }\n    }\n  }, {\n    key: \"joinComplexes\",\n    value: function joinComplexes(complexes) {\n      this._chains = [];\n      this._components = [];\n      this._helices = [];\n      this._sheets = [];\n      this.structures = [];\n      this._atoms = [];\n      this._residues = [];\n      this._bonds = [];\n      this._sgroups = [];\n      var self = this;\n      var atomBias = 0;\n      var bondBias = 0;\n      var residueBias = 0;\n      var chainBias = 0;\n      var componentBias = 0;\n      function processAtom(atom, bias) {\n        atom.serial += bias;\n        atom.index += bias;\n      }\n      function processBond(bond, bias) {\n        bond._index += bias;\n      }\n      function processResidue(residue, bias) {\n        residue._index += bias;\n      }\n      function processChain(chain, bias) {\n        chain._complex = self;\n        chain._index += bias;\n      }\n      function processComponent(component, bias) {\n        component._complex = self;\n        component._index += bias;\n      }\n      function doNothing() {}\n      for (var i = 0; i < complexes.length; ++i) {\n        var c = complexes[i];\n        this.addElement(c._atoms, this._atoms, atomBias, processAtom);\n        this.addElement(c._bonds, this._bonds, bondBias, processBond);\n        this.addElement(c._residues, this._residues, residueBias, processResidue);\n        this.addElement(c._chains, this._chains, chainBias, processChain);\n        this.addElement(c._sheets, this._sheets, 0, doNothing);\n        this.addElement(c._helices, this._helices, 0, doNothing);\n        this.addElement(c._sgroups, this._sgroups, 0, doNothing);\n        this.addElement(c._components, this._components, componentBias, processComponent);\n        this.addElement(c.structures, this.structures, 0, doNothing);\n        for (var rt in c._residueTypes) {\n          if (Object.hasOwn(c._residueTypes, rt)) {\n            this._residueTypes[rt] = c._residueTypes[rt];\n          }\n        }\n        atomBias += c._atoms.length;\n        bondBias += c._bonds.length;\n        residueBias += c._residues.length;\n        chainBias += c._chains.length;\n        componentBias += c._components.length;\n      }\n      this._computeBounds();\n    }\n  }, {\n    key: \"dssp\",\n    value: function dssp() {\n      var ssMap = new SecondaryStructureMap(this);\n      var structures = this.structures = [];\n      var helices = this._helices = [];\n      var sheets = this._sheets = [];\n      var getSheet = function getSheet(index) {\n        var item = sheets[index];\n        if (!item) {\n          item = sheets[index] = new Sheet$3(String(index), 0);\n        }\n        return item;\n      };\n      var lastCode;\n      var lastSheetIndex;\n      var lastHelixIndex = 0;\n      var curStructure = null;\n      for (var i = 0, n = this._residues.length; i < n; ++i) {\n        var curCode = ssMap._ss[i];\n        var curResidue = this._residues[i];\n        var curSheetIndex = ssMap._sheet[i];\n        if (curCode === lastCode && curSheetIndex === lastSheetIndex) {\n          curResidue._secondary = curStructure;\n          if (curStructure) {\n            curStructure.term = curResidue;\n          }\n          if (curStructure instanceof Helix$3) {\n            curStructure.length++;\n          }\n          continue;\n        }\n        var helixClass = helixClassMap[curCode];\n        var loopType = loopMap[curCode];\n        if (curCode === StructureType.STRAND) {\n          var curSheet = getSheet(curSheetIndex);\n          curStructure = new Strand$3(curSheet, curResidue, curResidue, 0, null, null);\n          curSheet.addStrand(curStructure);\n        } else if (helixClass !== undefined) {\n          lastHelixIndex++;\n          curStructure = new Helix$3(helixClass, curResidue, curResidue, lastHelixIndex, String(lastHelixIndex), '', 1);\n          helices.push(curStructure);\n        } else if (loopType !== undefined) {\n          curStructure = new StructuralElement(loopType, curResidue, curResidue);\n        } else {\n          curStructure = null;\n        }\n        if (curStructure) {\n          structures.push(curStructure);\n        }\n        curResidue._secondary = curStructure;\n        lastCode = curCode;\n        lastSheetIndex = curSheetIndex;\n      }\n      this._sheets = sheets.filter(function (_sheet) {\n        return true;\n      });\n    }\n  }]);\n  return Complex;\n}();\nComplex$9.prototype.id = 'Complex';\nComplex$9.prototype.name = '';\n\nfunction pow2ceil(v) {\n  var p = 2;\n  v = v - 1 >> 1;\n  while (v) {\n    p <<= 1;\n    v >>= 1;\n  }\n  return p;\n}\nvar Volume$2 = function () {\n  function Volume(type, dimensions, box, vecSize, data, volumeInfo) {\n    _classCallCheck(this, Volume);\n    this._box = box.clone();\n    this._dimVec = Math.max(Math.floor(vecSize || 1), 1);\n    this._volumeInfo = volumeInfo;\n    if (dimensions instanceof Array) {\n      var _dimensions = _slicedToArray(dimensions, 3);\n      this._dimX = _dimensions[0];\n      this._dimY = _dimensions[1];\n      this._dimZ = _dimensions[2];\n    } else {\n      this._dimX = dimensions.x;\n      this._dimY = dimensions.y;\n      this._dimZ = dimensions.z;\n    }\n    this._dimX = Math.max(Math.floor(this._dimX), 1);\n    this._dimY = Math.max(Math.floor(this._dimY), 1);\n    this._dimZ = Math.max(Math.floor(this._dimZ), 1);\n    this._rowElements = this._dimVec * this._dimX;\n    this._planeElements = this._rowElements * this._dimY;\n    this._totalElements = this._planeElements * this._dimZ;\n    this._data = data || utils.allocateTyped(type, this._totalElements);\n    switch (this._dimVec) {\n      case 1:\n        break;\n      case 2:\n        this.getValue = function (x, y, z) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          return [this._data[idx], this._data[idx + 1]];\n        };\n        this.setValue = function (x, y, z, a, b) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] = a;\n          this._data[idx + 1] = b;\n        };\n        this.addValue = function (x, y, z, a, b) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] += a;\n          this._data[idx + 1] += b;\n        };\n        break;\n      case 3:\n        this.getValue = function (x, y, z) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          return [this._data[idx], this._data[idx + 1], this._data[idx + 2]];\n        };\n        this.setValue = function (x, y, z, a, b, c) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] = a;\n          this._data[idx + 1] = b;\n          this._data[idx + 2] = c;\n        };\n        this.addValue = function (x, y, z, a, b, c) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] += a;\n          this._data[idx + 1] += b;\n          this._data[idx + 2] += c;\n        };\n        break;\n      default:\n        throw new Error('Volume: invalid vector dimension');\n    }\n  }\n  _createClass(Volume, [{\n    key: \"getValue\",\n    value: function getValue(x, y, z) {\n      return this._data[x + y * this._rowElements + z * this._planeElements];\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(x, y, z, val) {\n      this._data[x + y * this._rowElements + z * this._planeElements] = val;\n    }\n  }, {\n    key: \"addValue\",\n    value: function addValue(x, y, z, val) {\n      this._data[x + y * this._rowElements + z * this._planeElements] += val;\n    }\n  }, {\n    key: \"getDimensions\",\n    value: function getDimensions() {\n      return [this._dimX, this._dimY, this._dimZ];\n    }\n  }, {\n    key: \"getBox\",\n    value: function getBox() {\n      return this._box;\n    }\n  }, {\n    key: \"getVolumeInfo\",\n    value: function getVolumeInfo() {\n      return this._volumeInfo;\n    }\n  }, {\n    key: \"getCellSize\",\n    value: function getCellSize() {\n      var boxSize = new Vector3();\n      this._box.getSize(boxSize);\n      var res = new Vector3();\n      res.x = this._dimX > 1 ? boxSize.x / (this._dimX - 1) : 0;\n      res.y = this._dimY > 1 ? boxSize.y / (this._dimY - 1) : 0;\n      res.z = this._dimZ > 1 ? boxSize.z / (this._dimZ - 1) : 0;\n      return res;\n    }\n  }, {\n    key: \"computeGradient\",\n    value: function computeGradient() {\n      if (this._dimVec !== 1) {\n        return null;\n      }\n      var gradient = new Volume(Float32Array, [this._dimX, this._dimY, this._dimZ], this._box, 3);\n      var vl = this.getCellSize();\n      var vs = new Vector3(-0.5 / vl.x, -0.5 / vl.y, -0.5 / vl.z);\n      function clamp(val, min, max) {\n        return Math.min(max, Math.max(min, val));\n      }\n      var xSize = this._dimX;\n      var ySize = this._dimY;\n      var zSize = this._dimZ;\n      var volMap = this._data;\n      function _voxelValue(x, y, z) {\n        return volMap[z * xSize * ySize + y * xSize + x];\n      }\n      for (var zi = 0; zi < zSize; ++zi) {\n        var zm = clamp(zi - 1, 0, zSize - 1);\n        var zp = clamp(zi + 1, 0, zSize - 1);\n        for (var yi = 0; yi < ySize; ++yi) {\n          var ym = clamp(yi - 1, 0, ySize - 1);\n          var yp = clamp(yi + 1, 0, ySize - 1);\n          for (var xi = 0; xi < xSize; ++xi) {\n            var xm = clamp(xi - 1, 0, xSize - 1);\n            var xp = clamp(xi + 1, 0, xSize - 1);\n            gradient.setValue(xi, yi, zi, (_voxelValue(xp, yi, zi) - _voxelValue(xm, yi, zi)) * vs.x, (_voxelValue(xi, yp, zi) - _voxelValue(xi, ym, zi)) * vs.y, (_voxelValue(xi, yi, zp) - _voxelValue(xi, yi, zm)) * vs.z);\n          }\n        }\n      }\n      return gradient;\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var data = this._data;\n      var min = data[0];\n      var max = data[0];\n      for (var i = 1; i < data.length; ++i) {\n        min = Math.min(min, data[i]);\n        max = Math.max(max, data[i]);\n      }\n      var d = 1.0 / (max - min);\n      if (d === 0) {\n        return;\n      }\n      for (var _i = 0; _i < data.length; ++_i) {\n        data[_i] = d * (data[_i] - min);\n      }\n    }\n  }, {\n    key: \"getTiledTextureStride\",\n    value: function getTiledTextureStride() {\n      return [this._dimX + 2, this._dimY + 2];\n    }\n  }, {\n    key: \"buildTiledTexture\",\n    value: function buildTiledTexture() {\n      var tilesX = Math.ceil(Math.sqrt(this._dimZ * this._dimY / this._dimX));\n      var width = tilesX * (this._dimX + 2) - 1;\n      width = pow2ceil(width);\n      tilesX = Math.floor(width / (this._dimX + 2));\n      var tilesY = Math.ceil(this._dimZ / tilesX);\n      var height = tilesY * (this._dimY + 2) - 1;\n      height = pow2ceil(height);\n      var data = new Uint8Array(width * height);\n      var src;\n      var dst;\n      for (var tileRow = 0; tileRow < tilesY; ++tileRow) {\n        for (var row = 0; row < this._dimY; ++row) {\n          src = tileRow * tilesX * this._planeElements + row * this._rowElements;\n          dst = width * (tileRow * (this._dimY + 2) + row);\n          for (var t = 0; t < tilesX; ++t) {\n            for (var x = 0; x < this._dimX; ++x) {\n              data[dst++] = 255.0 * this._data[src++];\n            }\n            data[dst++] = 255.0 * this._data[src - 1];\n            if (t < tilesX - 1) {\n              src += this._planeElements - this._rowElements;\n              data[dst++] = 255.0 * this._data[src];\n            }\n          }\n        }\n      }\n      for (var _tileRow = 0; _tileRow < tilesY; ++_tileRow) {\n        src = width * (_tileRow * (this._dimY + 2) + this._dimY - 1);\n        dst = src + width;\n        for (var _x = 0; _x < width; ++_x) {\n          data[dst++] = data[src++];\n        }\n        if (_tileRow < tilesY - 1) {\n          src = width * (_tileRow + 1) * (this._dimY + 2);\n          dst = src - width;\n          for (var _x2 = 0; _x2 < width; ++_x2) {\n            data[dst++] = data[src++];\n          }\n        }\n      }\n      var texture = new DataTexture(data, width, height, LuminanceFormat, UnsignedByteType, UVMapping, ClampToEdgeWrapping, ClampToEdgeWrapping, LinearFilter, LinearFilter);\n      texture.needsUpdate = true;\n      return texture;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this._data;\n    }\n  }, {\n    key: \"getDirectIdx\",\n    value: function getDirectIdx(x, y, z) {\n      return x * this._dimVec + y * this._rowElements + z * this._planeElements;\n    }\n  }, {\n    key: \"getStrideX\",\n    value: function getStrideX() {\n      return this._dimVec;\n    }\n  }, {\n    key: \"getStrideY\",\n    value: function getStrideY() {\n      return this._rowElements;\n    }\n  }, {\n    key: \"getStrideZ\",\n    value: function getStrideZ() {\n      return this._planeElements;\n    }\n  }]);\n  return Volume;\n}();\nVolume$2.prototype.id = 'Volume';\n\nvar Molecule$8 = function () {\n  function Molecule(complex, name, index) {\n    _classCallCheck(this, Molecule);\n    this.complex = complex;\n    this.name = name || '';\n    this.residues = [];\n    this.mask = 1 | 0;\n    this.index = index || -1;\n  }\n  _createClass(Molecule, [{\n    key: \"forEachResidue\",\n    value: function forEachResidue(process) {\n      var residues = this.residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        process(residues[i]);\n      }\n    }\n  }, {\n    key: \"collectMask\",\n    value: function collectMask() {\n      var mask = 0xffffffff;\n      var residues = this.residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        mask &= residues[i]._mask;\n      }\n      this.mask = mask;\n    }\n  }]);\n  return Molecule;\n}();\n\nvar chem = {\n  Atom: Atom$2,\n  Element: Element$a,\n  Bond: Bond$5,\n  Residue: Residue$1,\n  ResidueType: ResidueType$1,\n  Chain: Chain$2,\n  Helix: Helix$3,\n  Strand: Strand$3,\n  Sheet: Sheet$3,\n  SGroup: SGroup$1,\n  Assembly: Assembly$3,\n  Complex: Complex$9,\n  Volume: Volume$2,\n  VoxelWorld: VoxelWorld,\n  selectors: selectors$4,\n  Molecule: Molecule$8\n};\n\nfunction _createSuper$1V(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1V(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1V() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar CSS2DObject = function (_Object3D) {\n  _inherits(CSS2DObject, _Object3D);\n  var _super = _createSuper$1V(CSS2DObject);\n  function CSS2DObject(element) {\n    var _this;\n    _classCallCheck(this, CSS2DObject);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._element = element;\n    _this._element.style.position = 'absolute';\n    _this.addEventListener('removed', function () {\n      if (self._element.parentNode !== null) {\n        self._element.parentNode.removeChild(self._element);\n      }\n    });\n    return _this;\n  }\n  _createClass(CSS2DObject, [{\n    key: \"getElement\",\n    value: function getElement() {\n      return this._element;\n    }\n  }, {\n    key: \"setTransparency\",\n    value: function setTransparency(transp) {\n      var el = this.getElement();\n      if (el === null) {\n        return;\n      }\n      if (transp === 1.0) {\n        el.style.display = 'none';\n        return;\n      }\n      el.style.display = 'inline';\n      var op = 1.0 - transp;\n      var top = op.toString();\n      var op100 = op * 100;\n      el.style.opacity = top;\n      el.style.filter = \"alpha(opacity=\".concat(op100, \")\");\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var obj = new CSS2DObject(this._element);\n      obj.copy(this);\n      return obj;\n    }\n  }]);\n  return CSS2DObject;\n}(Object3D);\n\nfunction _createSuper$1U(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1U(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1U() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar RCGroup = function (_Group) {\n  _inherits(RCGroup, _Group);\n  var _super = _createSuper$1U(RCGroup);\n  function RCGroup() {\n    _classCallCheck(this, RCGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(RCGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      if (!this.visible) {\n        return;\n      }\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        children[i].raycast(raycaster, intersects);\n      }\n    }\n  }, {\n    key: \"enableSubset\",\n    value: function enableSubset(mask, innerOnly) {\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].enableSubset) {\n          children[i].enableSubset(mask, innerOnly);\n        }\n      }\n    }\n  }, {\n    key: \"disableSubset\",\n    value: function disableSubset(mask, innerOnly) {\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].disableSubset) {\n          children[i].disableSubset(mask, innerOnly);\n        }\n      }\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return this.children.length === 0;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].updateToFrame) {\n          children[i].updateToFrame(frameData);\n        }\n      }\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          Array.prototype.push.apply(totalSubset, children[i].getSubset(mask, innerOnly));\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return RCGroup;\n}(Group);\n\nvar vertexScreenQuadShader = \"uniform mat4 projectionMatrix;\\r\\nuniform mat4 modelViewMatrix;\\r\\n\\r\\nattribute vec2 uv;\\r\\nattribute vec3 position;\\r\\n\\r\\nvarying vec2 vUv;\\r\\n\\r\\nvoid main() {\\r\\n  vUv = uv;\\r\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\r\\n}\\r\\n\";\n\nvar fragmentScreenQuadFromTex = \"precision highp float;\\r\\n\\r\\nvarying vec2 vUv;\\r\\nuniform sampler2D srcTex;\\r\\nuniform float opacity;\\r\\n\\r\\nvoid main() {\\r\\n  vec4 color = texture2D(srcTex, vUv);\\r\\n  gl_FragColor = vec4(color.xyz, color.a * opacity);\\r\\n}\\r\\n\";\n\nvar fragmentScreenQuadFromTexWithDistortion = \"precision highp float;\\r\\n\\r\\nvarying vec2 vUv;\\r\\nuniform sampler2D srcTex;\\r\\nuniform float coef;\\r\\n\\r\\nvoid main() {\\r\\n  vec2 uv = vUv * 2.0 - 1.0;\\r\\n  float r2 = dot(uv, uv);\\r\\n  vec2 tc = uv * (1.0 + coef * r2);\\r\\n  if (!all(lessThan(abs(tc), vec2(1.0))))\\r\\n    discard;\\r\\n  tc = 0.5 * (tc + 1.0);\\r\\n  gl_FragColor = texture2D(srcTex, tc);\\r\\n}\\r\\n\";\n\nfunction _createSuper$1T(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1T(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1T() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LAYERS = {\n  DEFAULT: 0,\n  VOLUME: 1,\n  TRANSPARENT: 2,\n  PREPASS_TRANSPARENT: 3,\n  VOLUME_BFPLANE: 4,\n  COLOR_FROM_POSITION: 5,\n  SHADOWMAP: 6\n};\nvar SELECTION_LAYERS = [\nLAYERS.DEFAULT, LAYERS.TRANSPARENT];\nObject3D.prototype.resetTransform = function () {\n  this.position.set(0, 0, 0);\n  this.quaternion.set(0, 0, 0, 1);\n  this.scale.set(1, 1, 1);\n};\nObject3D.prototype.updateMatrixWorldRecursive = function () {\n  if (this.parent != null) {\n    this.parent.updateMatrixWorldRecursive();\n  }\n  this.updateMatrixWorld();\n};\nObject3D.prototype.addSavingWorldTransform = function () {\n  var _worldMatrixInverse = new Matrix4();\n  return function (object) {\n    if (object instanceof Object3D) {\n      _worldMatrixInverse.copy(this.matrixWorld).invert();\n      _worldMatrixInverse.multiply(object.matrixWorld);\n      object.matrix.copy(_worldMatrixInverse);\n      object.matrix.decompose(object.position, object.quaternion, object.scale);\n      this.add(object);\n    }\n  };\n}();\nWebGLRenderer.prototype.renderDummyQuad = function () {\n  var _material = new MeshBasicMaterial({\n    transparent: true,\n    opacity: 0.0,\n    depthWrite: false\n  });\n  var _scene = new Scene();\n  var _quad = new Mesh(new PlaneBufferGeometry(0.01, 0.01), _material);\n  _scene.add(_quad);\n  var _camera = new OrthographicCamera(-0.5, 0.5, 0.5, -0.5, -10000, 10000);\n  _camera.position.z = 100;\n  return function () {\n    this.render(_scene, _camera);\n  };\n}();\nWebGLRenderer.prototype.renderScreenQuad = function () {\n  var _scene = new Scene();\n  var _quad = new Mesh(new PlaneBufferGeometry(1.0, 1.0));\n  _scene.add(_quad);\n  var _camera = new OrthographicCamera(-0.5, 0.5, 0.5, -0.5, -10000, 10000);\n  _camera.position.z = 100;\n  return function (material) {\n    _quad.material = material;\n    this.render(_scene, _camera);\n  };\n}();\nMatrix4.prototype.isIdentity = function () {\n  var identity = new Matrix4();\n  return function () {\n    return identity.equals(this);\n  };\n}();\nMatrix4.prototype.applyToPointsArray = function (array, stride, w) {\n  if (!array || !stride || stride < 3) {\n    return array;\n  }\n  w = w || 0;\n  var e = this.elements;\n  for (var i = 0; i < array.length; i += stride) {\n    var x = array[i];\n    var y = array[i + 1];\n    var z = array[i + 2];\n    var persp = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n    array[i] = (e[0] * x + e[4] * y + e[8] * z + e[12] * w) * persp;\n    array[i + 1] = (e[1] * x + e[5] * y + e[9] * z + e[13] * w) * persp;\n    array[i + 2] = (e[2] * x + e[6] * y + e[10] * z + e[14] * w) * persp;\n  }\n  return array;\n};\nvar ScreenQuadMaterial = function (_RawShaderMaterial) {\n  _inherits(ScreenQuadMaterial, _RawShaderMaterial);\n  var _super = _createSuper$1T(ScreenQuadMaterial);\n  function ScreenQuadMaterial(params) {\n    _classCallCheck(this, ScreenQuadMaterial);\n    if (params.uniforms === undefined) {\n      params.uniforms = {};\n    }\n    params.uniforms.srcTex = {\n      type: 't',\n      value: null\n    };\n    params.vertexShader = vertexScreenQuadShader;\n    params.transparent = false;\n    params.depthTest = false;\n    params.depthWrite = false;\n    return _super.call(this, params);\n  }\n  return _createClass(ScreenQuadMaterial);\n}(RawShaderMaterial);\nWebGLRenderer.prototype.renderScreenQuadFromTex = function () {\n  var _material = new ScreenQuadMaterial({\n    uniforms: {\n      opacity: {\n        type: 'f',\n        value: 1.0\n      }\n    },\n    fragmentShader: fragmentScreenQuadFromTex,\n    transparent: true\n  });\n  return function (srcTex, opacity) {\n    _material.uniforms.srcTex.value = srcTex;\n    _material.transparent = opacity < 1.0;\n    _material.uniforms.opacity.value = opacity;\n    this.renderScreenQuad(_material);\n  };\n}();\nWebGLRenderer.prototype.renderScreenQuadFromTexWithDistortion = function () {\n  var _material = new ScreenQuadMaterial({\n    uniforms: {\n      coef: {\n        type: 'f',\n        value: 1.0\n      }\n    },\n    fragmentShader: fragmentScreenQuadFromTexWithDistortion\n  });\n  return function (srcTex, coef) {\n    _material.uniforms.srcTex.value = srcTex;\n    _material.uniforms.coef.value = coef;\n    this.renderScreenQuad(_material);\n  };\n}();\nPerspectiveCamera.prototype.setMinimalFov = function (angle) {\n  if (this.aspect >= 1.0) {\n    this.fov = angle;\n  } else {\n    this.fov = MathUtils.radToDeg(2 * Math.atan(Math.tan(MathUtils.degToRad(angle) * 0.5) / this.aspect));\n  }\n};\nStereoCamera.prototype.updateHalfSized = function (camera, angle) {\n  var originalAspect = camera.aspect;\n  var originalFov = camera.fov;\n  camera.aspect = originalAspect / 2.0;\n  camera.setMinimalFov(angle);\n  camera.updateProjectionMatrix();\n  this.update(camera);\n  camera.aspect = originalAspect;\n  camera.fov = originalFov;\n  camera.updateProjectionMatrix();\n};\nPerspectiveCamera.prototype.setDistanceToFit = function (radius, angle) {\n  this.position.z = radius / Math.sin(0.5 * MathUtils.degToRad(angle));\n};\nRaycaster.prototype.intersectVisibleObject = function (gfxObj, camera, clipPlane, fogFarPlane) {\n  var intersects = this.intersectObject(gfxObj, false);\n  if (intersects.length === 0) {\n    return null;\n  }\n  var nearPlane = Math.min(camera.near, clipPlane);\n  var i;\n  var p = intersects[0];\n  var v = new Vector3();\n  for (i = 0; i < intersects.length; ++i) {\n    p = intersects[i];\n    v.copy(p.point);\n    v.applyMatrix4(camera.matrixWorldInverse);\n    if (v.z <= -nearPlane) {\n      break;\n    }\n  }\n  if (i === intersects.length) {\n    return null;\n  }\n  var farPlane = Math.min(camera.far, fogFarPlane);\n  v.copy(p.point);\n  v.applyMatrix4(camera.matrixWorldInverse);\n  if (v.z <= -farPlane) {\n    return null;\n  }\n  return p;\n};\nMatrix4.prototype.extractScale = function () {\n  var _v = new Vector3();\n  return function (scale) {\n    if (scale === undefined) {\n      logger.debug('extractScale(): new is too expensive operation to do it on-the-fly');\n      scale = _v.clone();\n    }\n    var te = this.elements;\n    scale.x = _v.set(te[0], te[1], te[2]).length();\n    scale.y = _v.set(te[4], te[5], te[6]).length();\n    scale.z = _v.set(te[8], te[9], te[10]).length();\n    var det = this.determinant();\n    if (det < 0) {\n      scale.x = -scale.x;\n    }\n    return scale;\n  };\n}();\nfunction _calcCylinderMatrix(posBegin, posEnd, radius) {\n  var posCenter = posBegin.clone().lerp(posEnd, 0.5);\n  var matScale = new Matrix4();\n  matScale.makeScale(radius, posBegin.distanceTo(posEnd), radius);\n  var matRotHalf = new Matrix4();\n  matRotHalf.makeRotationX(Math.PI / 2);\n  var matRotLook = new Matrix4();\n  var vUp = new Vector3(0, 1, 0);\n  matRotLook.lookAt(posCenter, posEnd, vUp);\n  matRotLook.multiply(matRotHalf);\n  matRotLook.multiply(matScale);\n  matRotLook.setPosition(posCenter);\n  return matRotLook;\n}\nfunction _calcChunkMatrix(eye, target, up, rad) {\n  var matScale = new Matrix4();\n  matScale.makeScale(rad.x, rad.y, 0);\n  var matRotLook = new Matrix4();\n  matRotLook.lookAt(eye, target, up);\n  matRotLook.multiply(matScale);\n  matRotLook.setPosition(eye);\n  return matRotLook;\n}\nfunction _groupHasGeometryToRender(group) {\n  var hasGeoms = false;\n  group.traverse(function (node) {\n    if (Object.hasOwn(node, 'geometry') || node instanceof CSS2DObject) {\n      hasGeoms = true;\n    }\n  });\n  return hasGeoms;\n}\nfunction _buildDistorionMesh(widthSegments, heightSegements, coef) {\n  function calcInverseBarrel(r2) {\n    var epsilon = 1e-5;\n    var prevR2 = 0.0;\n    var curR2 = r2;\n    var dr = 1.0;\n    while (Math.abs(curR2 - prevR2) > epsilon) {\n      dr = 1.0 + coef * curR2;\n      prevR2 = curR2;\n      curR2 = r2 / (dr * dr);\n    }\n    return 1.0 / dr;\n  }\n  var geo = new PlaneBufferGeometry(2.0, 2.0, widthSegments, heightSegements);\n  var pos = geo.getAttribute('position');\n  for (var i = 0; i < pos.count; ++i) {\n    var x = pos.array[3 * i];\n    var y = pos.array[3 * i + 1];\n    var c = calcInverseBarrel(x * x + y * y);\n    pos.setXY(i, c * x, c * y);\n  }\n  return geo;\n}\nBufferAttribute.prototype.copyAtList = function (attribute, indexList) {\n  console.assert(this.itemSize === attribute.itemSize, 'false: BufferAttribute.copyAtList buffers have different item size.');\n  var itemSize = this.itemSize;\n  for (var i = 0, n = indexList.length; i < n; ++i) {\n    for (var j = 0; j < itemSize; ++j) {\n      this.array[i * itemSize + j] = attribute.array[indexList[i] * itemSize + j];\n    }\n  }\n  return this;\n};\nfunction fillArray(array, value, startIndex, endIndex) {\n  startIndex = typeof startIndex !== 'undefined' ? startIndex : 0;\n  endIndex = typeof endIndex !== 'undefined' ? endIndex : array.length;\n  for (var i = startIndex; i < endIndex; ++i) {\n    array[i] = value;\n  }\n}\nfunction removeChildren(object) {\n  var children = object.children;\n  for (var i = 0, n = children.length; i < n; ++i) {\n    var child = children[i];\n    child.parent = null;\n    child.dispatchEvent({\n      type: 'removed'\n    });\n  }\n  object.children = [];\n}\nfunction clearTree(object) {\n  object.traverse(function (obj) {\n    if (obj instanceof Mesh || obj instanceof LineSegments || obj instanceof Line) {\n      obj.geometry.dispose();\n    }\n  });\n  removeChildren(object);\n}\nfunction destroyObject(object) {\n  clearTree(object);\n  if (object.parent) {\n    object.parent.remove(object);\n  } else {\n    object.dispatchEvent({\n      type: 'removed'\n    });\n  }\n}\nfunction belongToSelectLayers(object) {\n  for (var i = 0; i < SELECTION_LAYERS.length; i++) {\n    if ((object.layers.mask >> SELECTION_LAYERS[i] & 1) === 1) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction processObjRenderOrder(root, idMaterial) {\n  var renderOrder = +(idMaterial !== 'BA');\n  root.traverse(function (object) {\n    if (object.isGroup) {\n      object.renderOrder = renderOrder;\n    }\n  });\n}\nfunction applySelectionMaterial(geo) {\n  geo.traverse(function (node) {\n    if ('material' in node) {\n      node.material = node.material.clone(true);\n      node.material.setValues({\n        depthFunc: LessEqualDepth,\n        overrideColor: true,\n        fog: false,\n        lights: false,\n        shadowmap: false\n      });\n      node.material.setUberOptions({\n        fixedColor: new Color(0xffff00),\n        zOffset: -1e-6\n      });\n    }\n  });\n}\nfunction getMiddlePoint(point1, point2, optionalTarget) {\n  var result = optionalTarget || new Vector3();\n  result.set(0, 0, 0);\n  result.addScaledVector(point1, 0.5);\n  result.addScaledVector(point2, 0.5);\n  return result;\n}\nvar _oldInstancedBufferGeometryCopy = InstancedBufferGeometry.prototype.copy;\nInstancedBufferGeometry.prototype.copy = function (source) {\n  _oldInstancedBufferGeometryCopy.call(this, source);\n  if (this.instanceCount === undefined) {\n    this.instanceCount = Infinity;\n  }\n};\nvar gfxutils = {\n  calcCylinderMatrix: _calcCylinderMatrix,\n  calcChunkMatrix: _calcChunkMatrix,\n  groupHasGeometryToRender: _groupHasGeometryToRender,\n  buildDistorionMesh: _buildDistorionMesh,\n  RCGroup: RCGroup,\n  fillArray: fillArray,\n  clearTree: clearTree,\n  destroyObject: destroyObject,\n  belongToSelectLayers: belongToSelectLayers,\n  processObjRenderOrder: processObjRenderOrder,\n  applySelectionMaterial: applySelectionMaterial,\n  getMiddlePoint: getMiddlePoint,\n  LAYERS: LAYERS\n};\n\nfunction _createSuper$1S(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1S(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1S() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _defaultBoundaries = {\n  boundingBox: new Box3(new Vector3(-1, -1, -1), new Vector3(1, 1, 1)),\n  boundingSphere: new Sphere(new Vector3(0, 0, 0), 1)\n};\nvar Visual = function (_gfxutils$RCGroup) {\n  _inherits(Visual, _gfxutils$RCGroup);\n  var _super = _createSuper$1S(Visual);\n  function Visual(name, dataSource) {\n    var _this;\n    _classCallCheck(this, Visual);\n    _this = _super.call(this, name, dataSource);\n    _this.name = name;\n    _this._dataSource = dataSource;\n    return _this;\n  }\n  _createClass(Visual, [{\n    key: \"release\",\n    value: function release() {\n      if (this.parent) {\n        this.parent.remove(this);\n      }\n    }\n  }, {\n    key: \"getDataSource\",\n    value: function getDataSource() {\n      return this._dataSource;\n    }\n  }, {\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      return _defaultBoundaries;\n    }\n  }]);\n  return Visual;\n}(gfxutils.RCGroup);\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$1(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$1(arr) || _nonIterableSpread();\n}\n\nfunction _ensureArray(x) {\n  if (x === null || x === undefined || Array.isArray(x)) {\n    return x;\n  }\n  return [x];\n}\nvar EntityList = function () {\n  function EntityList() {\n    var _this = this;\n    var entities = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var indices = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['id'];\n    _classCallCheck(this, EntityList);\n    this._list = [];\n    this._dict = {};\n    this._indices = _toConsumableArray(indices);\n    this._indices.forEach(function (index) {\n      _this._dict[index] = {};\n    });\n    entities.forEach(function (entity) {\n      return _this.register(entity);\n    });\n  }\n  _createClass(EntityList, [{\n    key: \"register\",\n    value:\n    function register(entity) {\n      var _this2 = this;\n      EntityList.registerInList(this._list, entity);\n      this._indices.forEach(function (index) {\n        EntityList.registerInDict(_this2._dict[index], _ensureArray(entity[index]), entity);\n      });\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(entity) {\n      var _this3 = this;\n      EntityList.unregisterFromList(this._list, entity);\n      this._indices.forEach(function (index) {\n        EntityList.unregisterFromDict(_this3._dict[index], _ensureArray(entity[index]), entity);\n      });\n    }\n  }, {\n    key: \"all\",\n    get: function get() {\n      return _toConsumableArray(this._list);\n    }\n  }, {\n    key: \"first\",\n    get: function get() {\n      return this._list[0];\n    }\n  }, {\n    key: \"keys\",\n    value: function keys(index) {\n      return Object.keys(this._dict[index || this._indices[0]]);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key, index) {\n      var dict = this._dict[index || this._indices[0]];\n      if (dict) {\n        var values = dict[key && key.toLowerCase()];\n        return values && values.length > 0 ? values[0] : undefined;\n      }\n      return undefined;\n    }\n  }], [{\n    key: \"registerInList\",\n    value: function registerInList(list, value) {\n      if (!list.includes(value)) {\n        list.push(value);\n      }\n    }\n  }, {\n    key: \"unregisterFromList\",\n    value: function unregisterFromList(list, value) {\n      var pos = list.indexOf(value);\n      if (pos !== -1) {\n        list.splice(pos, 1);\n      }\n    }\n  }, {\n    key: \"registerInDict\",\n    value: function registerInDict(dict, keys, value) {\n      keys.forEach(function (key) {\n        key = key.toLowerCase();\n        var list = dict[key] = dict[key] || [];\n        if (!list.includes(value)) {\n          list.push(value);\n        }\n      });\n    }\n  }, {\n    key: \"unregisterFromDict\",\n    value: function unregisterFromDict(dict, keys, value) {\n      keys.forEach(function (key) {\n        key = key.toLowerCase();\n        var list = dict[key];\n        if (list) {\n          var pos = list.indexOf(value);\n          if (pos !== -1) {\n            list.splice(pos, 1);\n          }\n          if (list.length === 0) {\n            delete dict[key];\n          }\n        }\n      });\n    }\n  }]);\n  return EntityList;\n}();\n\nfunction makeContextDependent(prototype) {\n  Object.defineProperties(prototype, {\n    logger: {\n      get: function get() {\n        return this.context && this.context.logger ? this.context.logger : logger;\n      }\n    },\n    settings: {\n      get: function get() {\n        return this.context && this.context.settings ? this.context.settings : settings;\n      }\n    }\n  });\n}\n\nfunction _createSuper$1R(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1R(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1R() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar CollisionSphere = function () {\n  function CollisionSphere(position, radius) {\n    _classCallCheck(this, CollisionSphere);\n    this._position = position;\n    this._radius = radius;\n  }\n  _createClass(CollisionSphere, [{\n    key: \"raycast\",\n    value: function raycast(raycaster) {\n      var sphere = CollisionSphere._sphere;\n      sphere.set(this._position, this._radius);\n      var p = new Vector3();\n      if (raycaster.ray.intersectSphere(sphere, p)) {\n        return {\n          distance: raycaster.ray.origin.distanceTo(p),\n          point: p\n        };\n      }\n      return null;\n    }\n  }]);\n  return CollisionSphere;\n}();\n_defineProperty(CollisionSphere, \"_sphere\", new Sphere());\nvar SphereCollisionGeo = function SphereCollisionGeo(base) {\n  return function (_base) {\n    _inherits(_class, _base);\n    var _super = _createSuper$1R(_class);\n    function _class(count) {\n      var _this;\n      _classCallCheck(this, _class);\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this._objects = new Array(count);\n      _this.boundingSphere = null;\n      _this.boundingBox = null;\n      return _this;\n    }\n    _createClass(_class, [{\n      key: \"setSphere\",\n      value: function setSphere(idx, position, radius) {\n        this._objects[idx] = new CollisionSphere(position, radius);\n      }\n    }, {\n      key: \"raycast\",\n      value: function raycast(raycaster, intersects) {\n        for (var i = 0, n = this._objects.length; i < n; ++i) {\n          var inters = this._objects[i].raycast(raycaster);\n          if (inters) {\n            inters.chunkIdx = i;\n            intersects.push(inters);\n          }\n        }\n      }\n    }, {\n      key: \"computeBoundingBox\",\n      value: function computeBoundingBox() {\n        var objects = this._objects;\n        var boundingBox = this.boundingBox;\n        if (boundingBox === null) {\n          this.boundingBox = boundingBox = new Box3();\n        }\n        boundingBox.makeEmpty();\n        for (var i = 0, n = objects.length; i < n; ++i) {\n          boundingBox.expandByPoint(objects[i]._position);\n        }\n      }\n    }, {\n      key: \"computeBoundingSphere\",\n      value: function computeBoundingSphere() {\n        this.computeBoundingBox();\n        var objects = this._objects;\n        var boundingBox = this.boundingBox;\n        var radiusSquared = 0.0;\n        var center = new Vector3();\n        boundingBox.getCenter(center);\n        for (var i = 0, n = objects.length; i < n; ++i) {\n          var pos = objects[i]._position;\n          var lengthSquared = center.distanceToSquared(pos);\n          if (radiusSquared < lengthSquared) {\n            radiusSquared = lengthSquared;\n          }\n        }\n        if (this.boundingSphere === null) {\n          this.boundingSphere = new Sphere();\n        }\n        this.boundingSphere.set(center, Math.sqrt(radiusSquared));\n      }\n    }]);\n    return _class;\n  }(base);\n};\n\nfunction _createSuper$1Q(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1Q(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1Q() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar tmpColor$4 = new Color();\nvar OFFSET_SIZE$1 = 4;\nvar COLOR_SIZE$3 = 3;\nvar copySubArrays$1 = utils.copySubArrays;\nfunction setArrayXYZ$2(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\nfunction setArrayXYZW$2(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\nvar InstancedSpheresGeometry = function (_SphereCollisionGeo) {\n  _inherits(InstancedSpheresGeometry, _SphereCollisionGeo);\n  var _super = _createSuper$1Q(InstancedSpheresGeometry);\n  function InstancedSpheresGeometry(spheresCount, sphereComplexity, useZSprites) {\n    var _this;\n    _classCallCheck(this, InstancedSpheresGeometry);\n    _this = _super.call(this, spheresCount);\n    _this._sphGeometry = useZSprites ? new PlaneBufferGeometry(2, 2, 1, 1) : new SphereBufferGeometry(1, sphereComplexity * 2, sphereComplexity, 0, Math.PI * 2, 0, Math.PI);\n    _this._init(spheresCount, _this._sphGeometry);\n    return _this;\n  }\n  _createClass(InstancedSpheresGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, itemPos, itemRad) {\n      setArrayXYZW$2(this._offsets, itemIdx * OFFSET_SIZE$1, itemPos.x, itemPos.y, itemPos.z, itemRad);\n      this.setSphere(itemIdx, itemPos, itemRad);\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, colorVal) {\n      tmpColor$4.set(colorVal);\n      setArrayXYZ$2(this._colors, itemIdx * COLOR_SIZE$3, tmpColor$4.r, tmpColor$4.g, tmpColor$4.b);\n    }\n  }, {\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.getAttribute('offset').needsUpdate = true;\n      this.getAttribute('color').needsUpdate = true;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(chunkIndices, value) {\n      var alphaArr = this._alpha;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        alphaArr[chunkIndices[i]] = value;\n      }\n      this.getAttribute('alphaColor').needsUpdate = true;\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var instanceCount = chunkIndices.length;\n      var geom = new InstancedBufferGeometry();\n      this._init.call(geom, instanceCount, this._sphGeometry);\n      copySubArrays$1(this._offsets, geom._offsets, chunkIndices, OFFSET_SIZE$1);\n      copySubArrays$1(this._colors, geom._colors, chunkIndices, COLOR_SIZE$3);\n      geom.boundingSphere = this.boundingSphere;\n      geom.boundingBox = this.boundingBox;\n      return [geom];\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(spheresCount, sphereGeo) {\n      this.copy(sphereGeo);\n      this._offsets = utils.allocateTyped(Float32Array, spheresCount * OFFSET_SIZE$1);\n      this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE$3);\n      var alpha = this._alpha = utils.allocateTyped(Float32Array, spheresCount);\n      fill(alpha, 1.0);\n      this.setAttribute('offset', new InstancedBufferAttribute(this._offsets, OFFSET_SIZE$1, false, 1));\n      this.setAttribute('color', new InstancedBufferAttribute(this._colors, COLOR_SIZE$3, false, 1));\n      this.setAttribute('alphaColor', new InstancedBufferAttribute(alpha, 1, false, 1));\n    }\n  }]);\n  return InstancedSpheresGeometry;\n}(SphereCollisionGeo(InstancedBufferGeometry));\n\nfunction _createSuper$1P(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1P(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1P() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MAX_IDC_16BIT$1 = 65535;\nvar VEC_SIZE$4 = 3;\nvar tmpColor$3 = new Color();\nvar ChunkedObjectsGeometry = function (_BufferGeometry) {\n  _inherits(ChunkedObjectsGeometry, _BufferGeometry);\n  var _super = _createSuper$1P(ChunkedObjectsGeometry);\n  function ChunkedObjectsGeometry(chunkGeo, chunksCount) {\n    var _this;\n    _classCallCheck(this, ChunkedObjectsGeometry);\n    _this = _super.call(this);\n    if (_this.constructor === ChunkedObjectsGeometry) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    _this._chunkGeo = chunkGeo;\n    _this._init(chunkGeo, chunksCount);\n    return _this;\n  }\n  _createClass(ChunkedObjectsGeometry, [{\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.getAttribute('position').needsUpdate = true;\n      this.getAttribute('normal').needsUpdate = true;\n      this.getAttribute('color').needsUpdate = true;\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(chunkIdx, colorVal) {\n      tmpColor$3.set(colorVal);\n      var colors = this._colors;\n      var chunkSize = this._chunkSize;\n      for (var i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n        var idx = i * VEC_SIZE$4;\n        colors[idx] = tmpColor$3.r;\n        colors[idx + 1] = tmpColor$3.g;\n        colors[idx + 2] = tmpColor$3.b;\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(chunkIndices, value) {\n      var alphaArr = this._alpha;\n      var chunkSize = this._chunkSize;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        var left = chunkIndices[i] * chunkSize;\n        fill(alphaArr, value, left, left + chunkSize);\n      }\n      this.getAttribute('alphaColor').needsUpdate = true;\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var inters = [];\n      var mesh = new Mesh();\n      mesh.geometry = this;\n      mesh.raycast(raycaster, inters);\n      var facesPerChunk = this._chunkGeo.index.count / 3;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!Object.hasOwn(inters[i], 'faceIndex')) {\n          continue;\n        }\n        inters[i].chunkIdx = Math.floor(inters[i].faceIndex / facesPerChunk);\n        intersects.push(inters[i]);\n      }\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var instanceCount = chunkIndices.length;\n      var geom = new BufferGeometry();\n      this._init.call(geom, this._chunkGeo, instanceCount);\n      var srcPos = this._positions;\n      var srcNorm = this._normals;\n      var srcColor = this._colors;\n      var dstPos = geom._positions;\n      var dstNorm = geom._normals;\n      var dstColor = geom._colors;\n      var chunkSize = this._chunkSize * VEC_SIZE$4;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        var dstPtOffset = i * chunkSize;\n        var ptIdxBegin = chunkIndices[i] * chunkSize;\n        var ptIdxEnd = ptIdxBegin + chunkSize;\n        dstPos.set(srcPos.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n        dstNorm.set(srcNorm.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n        dstColor.set(srcColor.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n      }\n      geom.boundingSphere = this.boundingSphere;\n      geom.boundingBox = this.boundingBox;\n      return [geom];\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(chunkGeo, chunksCount) {\n      var chunkSize = this._chunkSize = chunkGeo.attributes.position.count;\n      var chunkIndex = chunkGeo.index.array;\n      var chunkIndexSize = chunkIndex.length;\n      var pointsCount = this._chunkSize * chunksCount;\n      var use32bitIndex = pointsCount > MAX_IDC_16BIT$1;\n      var indexSize = chunkIndexSize * chunksCount;\n      var index = this._index = utils.allocateTyped(use32bitIndex ? Uint32Array : Uint16Array, indexSize);\n      this._positions = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE$4);\n      this._normals = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE$4);\n      this._colors = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE$4);\n      var alpha = this._alpha = utils.allocateTyped(Float32Array, pointsCount);\n      fill(alpha, 1.0);\n      for (var i = 0; i < chunksCount; ++i) {\n        var offset = i * chunkIndexSize;\n        var posOffset = i * chunkSize;\n        index.set(chunkIndex, offset);\n        for (var j = 0; j < chunkIndexSize; ++j) {\n          index[offset + j] += posOffset;\n        }\n      }\n      this.setIndex(new BufferAttribute(this._index, 1));\n      this.setAttribute('position', new BufferAttribute(this._positions, VEC_SIZE$4));\n      this.setAttribute('normal', new BufferAttribute(this._normals, VEC_SIZE$4));\n      this.setAttribute('color', new BufferAttribute(this._colors, VEC_SIZE$4));\n      this.setAttribute('alphaColor', new BufferAttribute(alpha, 1));\n    }\n  }]);\n  return ChunkedObjectsGeometry;\n}(BufferGeometry);\n\nfunction _createSuper$1O(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1O(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1O() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VEC_SIZE$3 = 3;\nvar SimpleSpheresGeometry = function (_SphereCollisionGeo) {\n  _inherits(SimpleSpheresGeometry, _SphereCollisionGeo);\n  var _super = _createSuper$1O(SimpleSpheresGeometry);\n  function SimpleSpheresGeometry(spheresCount, sphereComplexity) {\n    var _this;\n    _classCallCheck(this, SimpleSpheresGeometry);\n    var sphGeometry = new SphereBufferGeometry(1, sphereComplexity * 2, sphereComplexity, 0, Math.PI * 2, 0, Math.PI);\n    _this = _super.call(this, spheresCount, sphGeometry, spheresCount);\n    var normals = _this._normals;\n    var geoNormals = sphGeometry.attributes.normal.array;\n    var chunkSize = _this._chunkSize;\n    _this._chunkPos = _this._chunkGeo.attributes.position.array;\n    _this._tmpPositions = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE$3);\n    for (var i = 0; i < spheresCount; ++i) {\n      normals.set(geoNormals, chunkSize * VEC_SIZE$3 * i);\n    }\n    return _this;\n  }\n  _createClass(SimpleSpheresGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, itemPos, itemRad) {\n      var tmpPos = this._tmpPositions;\n      var chunkSize = this._chunkSize;\n      var geoPos = this._chunkPos;\n      for (var i = 0; i < chunkSize; ++i) {\n        var idx = i * 3;\n        tmpPos[idx] = itemPos.x + geoPos[idx] * itemRad;\n        tmpPos[idx + 1] = itemPos.y + geoPos[idx + 1] * itemRad;\n        tmpPos[idx + 2] = itemPos.z + geoPos[idx + 2] * itemRad;\n      }\n      this._positions.set(tmpPos, chunkSize * itemIdx * VEC_SIZE$3);\n      this.setSphere(itemIdx, itemPos, itemRad);\n    }\n  }]);\n  return SimpleSpheresGeometry;\n}(SphereCollisionGeo(ChunkedObjectsGeometry));\n\nfunction _createSuper$1N(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1N(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1N() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VEC_SIZE$2 = 3;\nvar centerPos = new Vector3();\nvar tmpVector$2 = new Vector3();\nvar normMtx$1 = new Matrix3();\nvar Simple2CCylindersGeometry = function (_ChunkedObjectsGeomet) {\n  _inherits(Simple2CCylindersGeometry, _ChunkedObjectsGeomet);\n  var _super = _createSuper$1N(Simple2CCylindersGeometry);\n  function Simple2CCylindersGeometry(instanceCount, polyComplexity) {\n    var _this;\n    _classCallCheck(this, Simple2CCylindersGeometry);\n    var cylGeometry = new CylinderBufferGeometry$1(1, 1, 1.0, Math.max(3, polyComplexity), 2, true);\n    _this = _super.call(this, cylGeometry, 2 * instanceCount);\n    var chunkSize = _this._chunkSize;\n    _this._chunkPos = _this._chunkGeo.attributes.position.array;\n    _this._chunkNorms = _this._chunkGeo.attributes.normal.array;\n    _this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE$2);\n    return _this;\n  }\n  _createClass(Simple2CCylindersGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, botPos, topPos, itemRad) {\n      var chunkSize = this._chunkSize;\n      var firstOffset = chunkSize * 2 * itemIdx * VEC_SIZE$2;\n      var secondOffset = firstOffset + chunkSize * VEC_SIZE$2;\n      var tmpArray = this._tmpVector;\n      var geoPos = this._chunkPos;\n      var geoNorm = this._chunkNorms;\n      centerPos.lerpVectors(botPos, topPos, 0.5);\n      var mtx1 = gfxutils.calcCylinderMatrix(botPos, centerPos, itemRad);\n      normMtx$1.getNormalMatrix(mtx1);\n      var idx;\n      for (var i = 0; i < chunkSize; ++i) {\n        idx = i * VEC_SIZE$2;\n        tmpVector$2.fromArray(geoPos, idx);\n        tmpVector$2.applyMatrix4(mtx1);\n        tmpVector$2.toArray(tmpArray, idx);\n      }\n      this._positions.set(tmpArray, firstOffset);\n      centerPos.sub(botPos);\n      for (var _i = 0; _i < chunkSize; ++_i) {\n        idx = _i * VEC_SIZE$2;\n        tmpArray[idx] += centerPos.x;\n        tmpArray[idx + 1] += centerPos.y;\n        tmpArray[idx + 2] += centerPos.z;\n      }\n      this._positions.set(tmpArray, secondOffset);\n      for (var _i2 = 0; _i2 < chunkSize; ++_i2) {\n        idx = _i2 * VEC_SIZE$2;\n        tmpVector$2.fromArray(geoNorm, idx);\n        tmpVector$2.applyMatrix3(normMtx$1);\n        tmpVector$2.toArray(tmpArray, idx);\n      }\n      this._normals.set(tmpArray, firstOffset);\n      this._normals.set(tmpArray, secondOffset);\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, colorVal1, colorVal2) {\n      var first = 2 * itemIdx;\n      _get(_getPrototypeOf(Simple2CCylindersGeometry.prototype), \"setColor\", this).call(this, first, colorVal1);\n      var second = first + 1;\n      _get(_getPrototypeOf(Simple2CCylindersGeometry.prototype), \"setColor\", this).call(this, second, colorVal2);\n    }\n  }]);\n  return Simple2CCylindersGeometry;\n}(ChunkedObjectsGeometry);\n\nfunction _createSuper$1M(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1M(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1M() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MAX_POINTS_COUNT_16BIT = 65536;\nvar PTS_PER_TRIANGLE = 3;\nvar CylinderBufferGeometry = function (_BufferGeometry) {\n  _inherits(CylinderBufferGeometry, _BufferGeometry);\n  var _super = _createSuper$1M(CylinderBufferGeometry);\n  function CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded) {\n    var _this;\n    _classCallCheck(this, CylinderBufferGeometry);\n    _this = _super.call(this);\n    var thetaStart = 0;\n    var thetaLength = 2 * Math.PI;\n    _this.type = 'CylinderBufferGeometry';\n    _this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded\n    };\n    var hasTop = openEnded === false && radiusTop > 0;\n    var hasBottom = openEnded === false && radiusBottom > 0;\n    var vertexCount = (heightSegments + 1) * radialSegments + hasTop * (radialSegments + 1) + hasBottom * (radialSegments + 1);\n    var facesCount = (2 * heightSegments + hasTop + hasBottom) * radialSegments;\n    var heightHalf = height / 2;\n    var positions = new BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 3), 3);\n    var normals = new BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 3), 3);\n    var indices = new Uint16BufferAttribute(utils.allocateTyped(Uint16Array, facesCount * PTS_PER_TRIANGLE), 1);\n    var uvs = new BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 2), 2);\n    console.assert(vertexCount < MAX_POINTS_COUNT_16BIT, 'false: Cylinder Geometry has too many vertices (65536 max).');\n    var currVtxIdx = 0;\n    var currFaceIdx = 0;\n    var tanTheta = -(radiusBottom - radiusTop) / height;\n    for (var y = 0; y <= heightSegments; y++) {\n      if (y !== heightSegments) {\n        for (var i = 0; i < radialSegments; i++) {\n          var v1 = currVtxIdx + i;\n          var v2 = currVtxIdx + radialSegments + i;\n          var v3 = currVtxIdx + radialSegments + (i + 1) % radialSegments;\n          var v4 = currVtxIdx + (i + 1) % radialSegments;\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v1, v4, v2);\n          currFaceIdx++;\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v2, v4, v3);\n          currFaceIdx++;\n        }\n      }\n      var v = y / heightSegments;\n      var radius = v * (radiusBottom - radiusTop) + radiusTop;\n      for (var x = 0; x < radialSegments; x++) {\n        var u = x / radialSegments;\n        var vx = radius * Math.sin(u * thetaLength + thetaStart);\n        var vy = v * height - heightHalf;\n        var vz = radius * Math.cos(u * thetaLength + thetaStart);\n        var normal = new Vector3(vx, Math.sqrt(vx * vx + vz * vz) * tanTheta, vz).normalize();\n        positions.setXYZ(currVtxIdx, vx, vy, vz);\n        normals.setXYZ(currVtxIdx, normal.x, normal.y, normal.z);\n        uvs.setXY(currVtxIdx, u, v);\n        ++currVtxIdx;\n      }\n    }\n    if (hasTop) {\n      var startTIdx = currVtxIdx;\n      var lastIdx = currVtxIdx + radialSegments;\n      for (var fTIdx = 0; fTIdx < radialSegments; ++fTIdx) {\n        var currSrcIdx = currVtxIdx - radialSegments;\n        positions.setXYZ(currVtxIdx, positions.getX(currSrcIdx), positions.getY(currSrcIdx), positions.getZ(currSrcIdx));\n        normals.setXYZ(currVtxIdx, 0, 1, 0);\n        uvs.setXY(currVtxIdx, 1, 1);\n        var nextTVtx = startTIdx + (fTIdx + 1) % radialSegments;\n        indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, currVtxIdx, nextTVtx, lastIdx);\n        currFaceIdx++;\n        currVtxIdx++;\n      }\n      positions.setXYZ(currVtxIdx, 0, heightHalf, 0);\n      normals.setXYZ(currVtxIdx, 0, 1, 0);\n      uvs.setXY(currVtxIdx, 1, 1);\n      ++currVtxIdx;\n    }\n    if (hasBottom) {\n      var startBIdx = currVtxIdx;\n      var lastBIdx = currVtxIdx + radialSegments;\n      for (var fBIdx = 0; fBIdx < radialSegments; ++fBIdx) {\n        var currSrcBIdx = fBIdx;\n        positions.setXYZ(currVtxIdx, positions.getX(currSrcBIdx), positions.getY(currSrcBIdx), positions.getZ(currSrcBIdx));\n        normals.setXYZ(currVtxIdx, 0, -1, 0);\n        uvs.setXY(currVtxIdx, 0, 0);\n        var nextBVtx = startBIdx + (fBIdx + 1) % radialSegments;\n        indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, nextBVtx, currVtxIdx, lastBIdx);\n        currFaceIdx++;\n        currVtxIdx++;\n      }\n      positions.setXYZ(currVtxIdx, 0, -heightHalf, 0);\n      normals.setXYZ(currVtxIdx, 0, -1, 0);\n      uvs.setXY(currVtxIdx, 0, 0);\n    }\n    _this.setIndex(indices);\n    _this.setAttribute('position', positions);\n    _this.setAttribute('normal', normals);\n    _this.setAttribute('uv', uvs);\n    return _this;\n  }\n  _createClass(CylinderBufferGeometry, [{\n    key: \"clone\",\n    value: function clone() {\n      var parameters = this.parameters;\n      return new CylinderBufferGeometry(parameters.radiusTop, parameters.radiusBottom, parameters.height, parameters.radialSegments, parameters.heightSegments, parameters.openEnded);\n    }\n  }]);\n  return CylinderBufferGeometry;\n}(BufferGeometry);\n\nfunction _createSuper$1L(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1L(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1L() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar tmpColor$2 = new Color();\nvar invMatrix = new Matrix4();\nvar OFFSET_SIZE = 4;\nvar COLOR_SIZE$2 = 3;\nvar copySubArrays = utils.copySubArrays;\nfunction setArrayXYZ$1(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\nfunction setArrayXYZW$1(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\nfunction sortNumber(a, b) {\n  return a - b;\n}\nfunction _prepareCylinderInfo(chunkIndices) {\n  chunkIndices.sort(sortNumber);\n  var chunksIdx = [];\n  var cylinderInfo = [];\n  for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n    var val = chunkIndices[i];\n    var even = (val | 0) % 2 === 0;\n    var newPar = {\n      first: false,\n      second: false\n    };\n    if (even) {\n      newPar.first = true;\n      newPar.second = i + 1 < n && chunkIndices[i + 1] === chunkIndices[i] + 1;\n      if (newPar.second) {\n        ++i;\n      }\n    } else {\n      newPar.second = true;\n    }\n    chunksIdx.push(Math.floor(val / 2));\n    cylinderInfo.push(newPar);\n  }\n  return {\n    indices: chunksIdx,\n    cylinderInfo: cylinderInfo\n  };\n}\nfunction _assignOpacity(cylinderInfo, color1, color2) {\n  for (var i = 0, n = cylinderInfo.length; i < n; ++i) {\n    var info = cylinderInfo[i];\n    if (!info.first) {\n      color1[COLOR_SIZE$2 * i] = -0.5;\n    }\n    if (!info.second) {\n      color2[COLOR_SIZE$2 * i] = -0.5;\n    }\n  }\n}\nvar Instanced2CCylindersGeometry = function (_InstancedBufferGeome) {\n  _inherits(Instanced2CCylindersGeometry, _InstancedBufferGeome);\n  var _super = _createSuper$1L(Instanced2CCylindersGeometry);\n  function Instanced2CCylindersGeometry(instanceCount, polyComplexity, useZSprites, openEnded) {\n    var _this;\n    _classCallCheck(this, Instanced2CCylindersGeometry);\n    _this = _super.call(this);\n    _this._useZSprites = useZSprites;\n    _this._cylGeometry = useZSprites ? new PlaneBufferGeometry(2, 2, 1, 1) : new CylinderBufferGeometry(1, 1, 1.0, Math.max(3, polyComplexity), 2, openEnded);\n    _this._init(instanceCount, _this._cylGeometry, _this._useZSprites);\n    _this._collisionGeo = new Simple2CCylindersGeometry(instanceCount, 3);\n    return _this;\n  }\n  _createClass(Instanced2CCylindersGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, botPos, topPos, itemRad) {\n      var matrix = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad);\n      var me = matrix.elements;\n      var mtxOffset = itemIdx * OFFSET_SIZE;\n      this._collisionGeo.setItem(itemIdx, botPos, topPos, itemRad);\n      setArrayXYZW$1(this._matVector1, mtxOffset, me[0], me[4], me[8], me[12]);\n      setArrayXYZW$1(this._matVector2, mtxOffset, me[1], me[5], me[9], me[13]);\n      setArrayXYZW$1(this._matVector3, mtxOffset, me[2], me[6], me[10], me[14]);\n      if (this._useZSprites) {\n        invMatrix.copy(matrix).invert();\n        me = invMatrix.elements;\n        setArrayXYZW$1(this._invmatVector1, mtxOffset, me[0], me[4], me[8], me[12]);\n        setArrayXYZW$1(this._invmatVector2, mtxOffset, me[1], me[5], me[9], me[13]);\n        setArrayXYZW$1(this._invmatVector3, mtxOffset, me[2], me[6], me[10], me[14]);\n      }\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, colorVal1, colorVal2) {\n      var colorIdx = itemIdx * COLOR_SIZE$2;\n      tmpColor$2.set(colorVal1);\n      setArrayXYZ$1(this._color1, colorIdx, tmpColor$2.r, tmpColor$2.g, tmpColor$2.b);\n      tmpColor$2.set(colorVal2);\n      setArrayXYZ$1(this._color2, colorIdx, tmpColor$2.r, tmpColor$2.g, tmpColor$2.b);\n    }\n  }, {\n    key: \"computeBoundingSphere\",\n    value: function computeBoundingSphere() {\n      this._collisionGeo.computeBoundingSphere();\n      this.boundingSphere = this._collisionGeo.boundingSphere;\n    }\n  }, {\n    key: \"computeBoundingBox\",\n    value: function computeBoundingBox() {\n      this._collisionGeo.computeBoundingBox();\n      this.boundingBox = this._collisionGeo.boundingBox;\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      this._collisionGeo.raycast(raycaster, intersects);\n    }\n  }, {\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.getAttribute('matVector1').needsUpdate = true;\n      this.getAttribute('matVector2').needsUpdate = true;\n      this.getAttribute('matVector3').needsUpdate = true;\n      this.getAttribute('color').needsUpdate = true;\n      this.getAttribute('color2').needsUpdate = true;\n      this.getAttribute('alphaColor').needsUpdate = true;\n      if (this._useZSprites) {\n        this.getAttribute('invmatVector1').needsUpdate = true;\n        this.getAttribute('invmatVector2').needsUpdate = true;\n        this.getAttribute('invmatVector3').needsUpdate = true;\n      }\n      this._collisionGeo.finishUpdate();\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(chunkIndices, value) {\n      var alphaArr = this._alpha;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        alphaArr[Math.floor(chunkIndices[i] / 2)] = value;\n      }\n      this.getAttribute('alphaColor').needsUpdate = true;\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var info = _prepareCylinderInfo(chunkIndices);\n      var cylinderIndices = info.indices;\n      var instanceCount = cylinderIndices.length;\n      var geom = new InstancedBufferGeometry();\n      this._init.call(geom, instanceCount, this._cylGeometry, this._useZSprites);\n      copySubArrays(this._matVector1, geom._matVector1, cylinderIndices, OFFSET_SIZE);\n      copySubArrays(this._matVector2, geom._matVector2, cylinderIndices, OFFSET_SIZE);\n      copySubArrays(this._matVector3, geom._matVector3, cylinderIndices, OFFSET_SIZE);\n      if (this._useZSprites) {\n        copySubArrays(this._invmatVector1, geom._invmatVector1, cylinderIndices, OFFSET_SIZE);\n        copySubArrays(this._invmatVector2, geom._invmatVector2, cylinderIndices, OFFSET_SIZE);\n        copySubArrays(this._invmatVector3, geom._invmatVector3, cylinderIndices, OFFSET_SIZE);\n      }\n      copySubArrays(this._color1, geom._color1, cylinderIndices, COLOR_SIZE$2);\n      copySubArrays(this._color2, geom._color2, cylinderIndices, COLOR_SIZE$2);\n      _assignOpacity(info.cylinderInfo, geom._color1, geom._color2);\n      geom.boundingSphere = this.boundingSphere;\n      geom.boundingBox = this.boundingBox;\n      return [geom];\n    }\n  }, {\n    key: \"getGeoParams\",\n    value: function getGeoParams() {\n      return this._cylGeometry.parameters;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(instanceCount, cylinderGeo, useZSprites) {\n      this.copy(cylinderGeo);\n      this._matVector1 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._matVector2 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._matVector3 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._color1 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE$2);\n      this._color2 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE$2);\n      var alpha = this._alpha = utils.allocateTyped(Float32Array, instanceCount);\n      fill(alpha, 1.0);\n      this.setAttribute('matVector1', new InstancedBufferAttribute(this._matVector1, OFFSET_SIZE, false, 1));\n      this.setAttribute('matVector2', new InstancedBufferAttribute(this._matVector2, OFFSET_SIZE, false, 1));\n      this.setAttribute('matVector3', new InstancedBufferAttribute(this._matVector3, OFFSET_SIZE, false, 1));\n      this.setAttribute('color', new InstancedBufferAttribute(this._color1, COLOR_SIZE$2, false, 1));\n      this.setAttribute('color2', new InstancedBufferAttribute(this._color2, COLOR_SIZE$2, false, 1));\n      this.setAttribute('alphaColor', new InstancedBufferAttribute(this._alpha, 1, false, 1));\n      if (useZSprites) {\n        this._invmatVector1 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n        this._invmatVector2 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n        this._invmatVector3 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n        this.setAttribute('invmatVector1', new InstancedBufferAttribute(this._invmatVector1, OFFSET_SIZE, false, 1));\n        this.setAttribute('invmatVector2', new InstancedBufferAttribute(this._invmatVector2, OFFSET_SIZE, false, 1));\n        this.setAttribute('invmatVector3', new InstancedBufferAttribute(this._invmatVector3, OFFSET_SIZE, false, 1));\n      }\n    }\n  }]);\n  return Instanced2CCylindersGeometry;\n}(InstancedBufferGeometry);\n\nfunction _createSuper$1K(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1K(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1K() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VEC_SIZE$1 = 3;\nvar TRI_SIZE = 3;\nvar tmpPrev = new Vector3();\nvar tmpNext = new Vector3();\nvar tmpRes = new Vector3();\nvar simpleNormal = new Vector3(1.0, 0.0, 0.0);\nvar normalOnCut = new Vector3();\nvar nearRingPt = new Vector3();\nfunction _createExtrudedChunkGeometry(shape, ringsCount) {\n  var geo = new BufferGeometry();\n  var ptsCount = shape.length;\n  var totalPts = ptsCount * ringsCount;\n  var type = totalPts <= 65536 ? Uint16Array : Uint32Array;\n  var facesPerChunk = (ringsCount - 1) * ptsCount * 2;\n  var indices = new BufferAttribute(utils.allocateTyped(type, facesPerChunk * TRI_SIZE), 1);\n  var currVtxIdx = 0;\n  var currFaceIdx = 0;\n  for (var y = 0; y < ringsCount; y++) {\n    if (y !== ringsCount - 1) {\n      for (var i = 0; i < ptsCount; i++) {\n        var v1 = currVtxIdx + i;\n        var v2 = currVtxIdx + ptsCount + i;\n        var v3 = currVtxIdx + ptsCount + (i + 1) % ptsCount;\n        var v4 = currVtxIdx + (i + 1) % ptsCount;\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v1, v4, v2);\n        currFaceIdx++;\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v2, v4, v3);\n        currFaceIdx++;\n      }\n    }\n    currVtxIdx += ptsCount;\n  }\n  geo.setIndex(indices);\n  var pos = utils.allocateTyped(Float32Array, totalPts * VEC_SIZE$1);\n  geo.setAttribute('position', new BufferAttribute(pos, VEC_SIZE$1));\n  geo._positions = shape;\n  return geo;\n}\nvar ExtrudedObjectsGeometry = function (_ChunkedObjectsGeomet) {\n  _inherits(ExtrudedObjectsGeometry, _ChunkedObjectsGeomet);\n  var _super = _createSuper$1K(ExtrudedObjectsGeometry);\n  function ExtrudedObjectsGeometry(shape, ringsCount, chunksCount) {\n    var _this;\n    _classCallCheck(this, ExtrudedObjectsGeometry);\n    var chunkGeo = _createExtrudedChunkGeometry(shape, ringsCount);\n    _this = _super.call(this, chunkGeo, chunksCount);\n    _this._ringsCount = ringsCount;\n    var tmpShape = _this._tmpShape = [];\n    for (var i = 0; i < shape.length; ++i) {\n      tmpShape[i] = new Vector3();\n    }\n    return _this;\n  }\n  _createClass(ExtrudedObjectsGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, matrices) {\n      var hasSlope = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var hasCut = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var ptsCount = this._chunkGeo._positions.length;\n      var ringsCount = this._ringsCount;\n      var chunkStartIdx = ptsCount * this._ringsCount * itemIdx * VEC_SIZE$1;\n      this._setPoints(matrices, ptsCount, ringsCount, chunkStartIdx);\n      if (hasSlope) {\n        this._setSlopeNormals(ptsCount, ringsCount, chunkStartIdx);\n      } else {\n        this._setBaseNormals(ptsCount, ringsCount, chunkStartIdx);\n      }\n      if (hasCut) {\n        this._addCut(ptsCount, ringsCount, chunkStartIdx);\n      }\n    }\n  }, {\n    key: \"_setPoints\",\n    value: function _setPoints(matrices, ptsCount, ringsCount, chunkStartIdx) {\n      var tmpShape = this._tmpShape;\n      var positions = this._positions;\n      var shape = this._chunkGeo._positions;\n      for (var i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i) {\n        var mtx = matrices[i];\n        for (var j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE$1) {\n          tmpShape[j].copy(shape[j]).applyMatrix4(mtx).toArray(positions, vtxIdx);\n        }\n      }\n    }\n  }, {\n    key: \"_setBaseNormals\",\n    value: function _setBaseNormals(ptsCount, ringsCount, chunkStartIdx) {\n      var nPtsInRing = ptsCount * VEC_SIZE$1;\n      for (var i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n        this._countNormalsInRing(ptsCount, vtxIdx, false);\n      }\n    }\n  }, {\n    key: \"_setSlopeNormals\",\n    value: function _setSlopeNormals(ptsCount, ringsCount, chunkStartIdx) {\n      var normals = this._normals;\n      var nPtsInRing = ptsCount * VEC_SIZE$1;\n      var vtxIdx = chunkStartIdx;\n      for (var j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE$1) {\n        simpleNormal.toArray(normals, vtxIdx);\n      }\n      if (vtxIdx - 2 * nPtsInRing > 0) {\n        for (var _j = 0; _j < ptsCount; ++_j, vtxIdx += VEC_SIZE$1) {\n          tmpRes.fromArray(normals, vtxIdx - 2 * nPtsInRing).toArray(normals, vtxIdx);\n        }\n      } else {\n        this._countNormalsInRing(ptsCount, vtxIdx, true, +nPtsInRing);\n        vtxIdx += nPtsInRing;\n      }\n      for (var i = 2; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n        this._countNormalsInRing(ptsCount, vtxIdx, true, -nPtsInRing);\n      }\n    }\n  }, {\n    key: \"_countNormalsInRing\",\n    value: function _countNormalsInRing(ptsCount, vtxIdx, isSlope, shiftToExtraPt) {\n      var tmpShape = this._tmpShape;\n      var normals = this._normals;\n      tmpShape[0].fromArray(this._positions, vtxIdx);\n      tmpShape[ptsCount - 1].fromArray(this._positions, vtxIdx + (ptsCount - 1) * VEC_SIZE$1);\n      for (var j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE$1) {\n        if (j < ptsCount - 1) {\n          tmpShape[j + 1].fromArray(this._positions, vtxIdx + VEC_SIZE$1);\n        }\n        if (isSlope) {\n          nearRingPt.fromArray(this._positions, vtxIdx + shiftToExtraPt);\n          tmpPrev.subVectors(tmpShape[(j + ptsCount - 1) % ptsCount], tmpShape[(j + 1) % ptsCount]).normalize();\n          tmpNext.subVectors(tmpShape[j], nearRingPt).normalize();\n          tmpRes.crossVectors(tmpNext, tmpPrev).normalize().toArray(normals, vtxIdx);\n        } else {\n          tmpPrev.subVectors(tmpShape[j], tmpShape[(j + ptsCount - 1) % ptsCount]).normalize();\n          tmpNext.subVectors(tmpShape[j], tmpShape[(j + 1) % ptsCount]).normalize();\n          tmpRes.addVectors(tmpPrev, tmpNext).normalize().toArray(normals, vtxIdx);\n        }\n      }\n    }\n  }, {\n    key: \"_addCut\",\n    value: function _addCut(ptsCount, ringsCount, chunkStartIdx) {\n      if (ptsCount < 3 || ringsCount < 2) {\n        return;\n      }\n      var positions = this._positions;\n      var normals = this._normals;\n      var tmpShape = this._tmpShape;\n      var nPtsInRing = ptsCount * VEC_SIZE$1;\n      tmpShape[0].fromArray(positions, chunkStartIdx);\n      tmpShape[1].fromArray(positions, chunkStartIdx + VEC_SIZE$1);\n      tmpShape[2].fromArray(positions, chunkStartIdx + 2 * VEC_SIZE$1);\n      tmpPrev.subVectors(tmpShape[1], tmpShape[0]).normalize();\n      tmpNext.subVectors(tmpShape[1], tmpShape[2]).normalize();\n      normalOnCut.crossVectors(tmpPrev, tmpNext).normalize();\n      var vtxIdx = chunkStartIdx;\n      for (var j = 0; j < ptsCount * 2; ++j, vtxIdx += VEC_SIZE$1) {\n        normalOnCut.toArray(normals, vtxIdx);\n      }\n      if (ringsCount > 2) {\n        for (var _j2 = 0; _j2 < ptsCount; ++_j2, vtxIdx += VEC_SIZE$1) {\n          tmpRes.fromArray(positions, vtxIdx - nPtsInRing).toArray(positions, vtxIdx);\n        }\n      }\n    }\n  }]);\n  return ExtrudedObjectsGeometry;\n}(ChunkedObjectsGeometry);\n\nfunction _createSuper$1J(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1J(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1J() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MAX_IDC_16BIT = 65535;\nvar VERTEX_PER_SEGMENT = 4;\nvar POS_SIZE = 4;\nvar DIR_SIZE = 3;\nvar COL_SIZE = 3;\nvar tmpColor$1 = new Color();\nvar direction = new Vector3();\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\nfunction getSubset(arr, startSegmentIdx, segmentsCount, elemSize) {\n  var start = startSegmentIdx * VERTEX_PER_SEGMENT;\n  var end = start + segmentsCount * VERTEX_PER_SEGMENT;\n  return arr.subarray(start * elemSize, end * elemSize);\n}\nvar ThickLinesGeometry = function (_BufferGeometry) {\n  _inherits(ThickLinesGeometry, _BufferGeometry);\n  var _super = _createSuper$1J(ThickLinesGeometry);\n  function ThickLinesGeometry(segmentsCount) {\n    var _this;\n    _classCallCheck(this, ThickLinesGeometry);\n    _this = _super.call(this);\n    _this._initVertices(segmentsCount);\n    return _this;\n  }\n  _createClass(ThickLinesGeometry, [{\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.getAttribute('position').needsUpdate = true;\n      this.getAttribute('color').needsUpdate = true;\n      this.getAttribute('alphaColor').needsUpdate = true;\n      this.getAttribute('direction').needsUpdate = true;\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(segmentIdx, colorVal) {\n      tmpColor$1.set(colorVal);\n      var idx = segmentIdx * VERTEX_PER_SEGMENT * COL_SIZE;\n      setArrayXYZ(this._colors, idx, tmpColor$1.r, tmpColor$1.g, tmpColor$1.b);\n      idx += COL_SIZE;\n      setArrayXYZ(this._colors, idx, tmpColor$1.r, tmpColor$1.g, tmpColor$1.b);\n      idx += COL_SIZE;\n      setArrayXYZ(this._colors, idx, tmpColor$1.r, tmpColor$1.g, tmpColor$1.b);\n      idx += COL_SIZE;\n      setArrayXYZ(this._colors, idx, tmpColor$1.r, tmpColor$1.g, tmpColor$1.b);\n    }\n  }, {\n    key: \"setSegment\",\n    value: function setSegment(segmentIdx, pos1, pos2) {\n      direction.subVectors(pos1, pos2);\n      direction.normalize();\n      var positions = this._positions;\n      var directions = this._directions;\n      var idx = segmentIdx * VERTEX_PER_SEGMENT * POS_SIZE;\n      var dirIdx = segmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE;\n      setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, 0.5);\n      setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n      idx += POS_SIZE;\n      dirIdx += DIR_SIZE;\n      setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, -0.5);\n      setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n      idx += POS_SIZE;\n      dirIdx += DIR_SIZE;\n      setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, 0.5);\n      setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n      idx += POS_SIZE;\n      dirIdx += DIR_SIZE;\n      setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, -0.5);\n      setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(startSegIdx, endSegIdx, value) {\n      var start = startSegIdx * VERTEX_PER_SEGMENT;\n      var end = endSegIdx * VERTEX_PER_SEGMENT;\n      fill(this.alpha, value, end, start);\n      this.getAttribute('alphaColor').needsUpdate = true;\n    }\n  }, {\n    key: \"getSubsetSegments\",\n    value: function getSubsetSegments(startSegmentIdx, segmentsCount) {\n      return [getSubset(this._positions, startSegmentIdx, segmentsCount, POS_SIZE), getSubset(this._directions, startSegmentIdx, segmentsCount, DIR_SIZE)];\n    }\n  }, {\n    key: \"getSubsetColors\",\n    value: function getSubsetColors(startSegmentIdx, segmentsCount) {\n      return getSubset(this._colors, startSegmentIdx, segmentsCount, COL_SIZE);\n    }\n  }, {\n    key: \"getSubsetOpacities\",\n    value: function getSubsetOpacities(startSegmentIdx, segmentsCount) {\n      return getSubset(this._alpha, startSegmentIdx, segmentsCount, 1);\n    }\n  }, {\n    key: \"getNumVertexPerSegment\",\n    value: function getNumVertexPerSegment() {\n      return VERTEX_PER_SEGMENT;\n    }\n  }, {\n    key: \"getPositionSize\",\n    value: function getPositionSize() {\n      return POS_SIZE;\n    }\n  }, {\n    key: \"setSegments\",\n    value: function setSegments(startSegmentIdx, positions) {\n      var startPos = startSegmentIdx * VERTEX_PER_SEGMENT * POS_SIZE;\n      if (positions instanceof Array && positions.length === 2) {\n        this._positions.set(positions[0], startPos);\n        var startDir = startSegmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE;\n        this._directions.set(positions[1], startDir);\n      } else {\n        this._positions.set(positions, startPos);\n      }\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(startSegmentIdx, colors) {\n      var start = startSegmentIdx * VERTEX_PER_SEGMENT * COL_SIZE;\n      this._colors.set(colors, start);\n    }\n  }, {\n    key: \"_initVertices\",\n    value: function _initVertices(segmentsCount) {\n      this._buffersSize = segmentsCount * VERTEX_PER_SEGMENT;\n      var pointsCount = this._buffersSize;\n      var use32bitIndex = pointsCount > MAX_IDC_16BIT;\n      this._index = utils.allocateTyped(use32bitIndex ? Uint32Array : Uint16Array, segmentsCount * 6);\n      this._positions = utils.allocateTyped(Float32Array, pointsCount * POS_SIZE);\n      this._colors = utils.allocateTyped(Float32Array, pointsCount * COL_SIZE);\n      this._directions = utils.allocateTyped(Float32Array, pointsCount * DIR_SIZE);\n      var alpha = this._alpha = utils.allocateTyped(Float32Array, pointsCount);\n      fill(alpha, 1.0);\n      var index = this._index;\n      var indexOffset = 0;\n      var pointOffset = 0;\n      for (var j = 0; j < segmentsCount; j++, indexOffset += 6, pointOffset += VERTEX_PER_SEGMENT) {\n        index[indexOffset] = pointOffset;\n        index[indexOffset + 1] = pointOffset + 1;\n        index[indexOffset + 2] = pointOffset + 3;\n        index[indexOffset + 3] = pointOffset;\n        index[indexOffset + 4] = pointOffset + 2;\n        index[indexOffset + 5] = pointOffset + 3;\n      }\n      this.setIndex(new BufferAttribute(this._index, 1));\n      this.setAttribute('position', new BufferAttribute(this._positions, POS_SIZE));\n      this.setAttribute('color', new BufferAttribute(this._colors, COL_SIZE));\n      this.setAttribute('alphaColor', new BufferAttribute(alpha, 1));\n      this.setAttribute('direction', new BufferAttribute(this._directions, DIR_SIZE));\n    }\n  }]);\n  return ThickLinesGeometry;\n}(BufferGeometry);\n\nfunction _createSuper$1I(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1I(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1I() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LinesGeometry = function (_BaseLinesGeometry) {\n  _inherits(LinesGeometry, _BaseLinesGeometry);\n  var _super = _createSuper$1I(LinesGeometry);\n  function LinesGeometry() {\n    _classCallCheck(this, LinesGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LinesGeometry, [{\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"computeBoundingSphere\",\n    value: function computeBoundingSphere() {\n      var boundingBox = this.boundingBox;\n      var radiusSquared = 0.0;\n      var center = new Vector3();\n      if (boundingBox) {\n        boundingBox.getCenter(center);\n      }\n      var positions = this._positions;\n      var sphere = this.boundingSphere || new Sphere();\n      var size = this._positions.length;\n      var pos = new Vector3();\n      var posSize = this.getPositionSize();\n      for (var i = 0; i < size; i += posSize) {\n        pos.set(positions[i], positions[i + 1], positions[i + 2]);\n        var lengthSquared = center.distanceToSquared(pos);\n        if (radiusSquared < lengthSquared) {\n          radiusSquared = lengthSquared;\n        }\n      }\n      sphere.set(center, Math.sqrt(radiusSquared));\n      this.boundingSphere = sphere;\n    }\n  }, {\n    key: \"computeBoundingBox\",\n    value: function computeBoundingBox() {\n      var positions = this._positions;\n      var box = new Box3();\n      var size = this._positions.length;\n      var tmpVec = new Vector3();\n      var posSize = this.getPositionSize();\n      for (var i = 0; i < size; i += posSize) {\n        tmpVec.set(positions[i], positions[i + 1], positions[i + 2]);\n        box.expandByPoint(tmpVec);\n      }\n      this.boundingBox = box;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }]);\n  return LinesGeometry;\n}(ThickLinesGeometry);\n\nfunction _createSuper$1H(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1H(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1H() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VEC_SIZE = 3;\nvar tmpVector$1 = new Vector3();\nvar normMtx = new Matrix3();\nvar CylinderCollisionGeo = function (_ChunkedObjectsGeomet) {\n  _inherits(CylinderCollisionGeo, _ChunkedObjectsGeomet);\n  var _super = _createSuper$1H(CylinderCollisionGeo);\n  function CylinderCollisionGeo(instanceCount, polyComplexity) {\n    var _this;\n    _classCallCheck(this, CylinderCollisionGeo);\n    var cylGeometry = new CylinderBufferGeometry$1(1, 1, 1.0, Math.max(3, polyComplexity), 2, true);\n    _this = _super.call(this, cylGeometry, instanceCount);\n    var chunkSize = _this._chunkSize;\n    _this._chunkPos = _this._chunkGeo.attributes.position.array;\n    _this._chunkNorms = _this._chunkGeo.attributes.normal.array;\n    _this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE);\n    return _this;\n  }\n  _createClass(CylinderCollisionGeo, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, botPos, topPos, itemRad) {\n      var chunkSize = this._chunkSize;\n      var itemOffset = chunkSize * itemIdx * VEC_SIZE;\n      var tmpArray = this._tmpVector;\n      var geoPos = this._chunkPos;\n      var geoNorm = this._chunkNorms;\n      var mtx1 = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad);\n      normMtx.getNormalMatrix(mtx1);\n      var idx;\n      for (var i = 0; i < chunkSize; ++i) {\n        idx = i * VEC_SIZE;\n        tmpVector$1.fromArray(geoPos, idx);\n        tmpVector$1.applyMatrix4(mtx1);\n        tmpVector$1.toArray(tmpArray, idx);\n      }\n      this._positions.set(tmpArray, itemOffset);\n      for (var _i = 0; _i < chunkSize; ++_i) {\n        idx = _i * VEC_SIZE;\n        tmpVector$1.fromArray(geoNorm, idx);\n        tmpVector$1.applyMatrix3(normMtx);\n        tmpVector$1.toArray(tmpArray, idx);\n      }\n      this._normals.set(tmpArray, itemOffset);\n    }\n  }]);\n  return CylinderCollisionGeo;\n}(ChunkedObjectsGeometry);\n\nfunction _createSuper$1G(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1G(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1G() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar COLLISION_RAD$1 = 0.1;\nvar ChunkedLinesGeometry = function (_LinesGeometry) {\n  _inherits(ChunkedLinesGeometry, _LinesGeometry);\n  var _super = _createSuper$1G(ChunkedLinesGeometry);\n  function ChunkedLinesGeometry(chunksCount, segmentsCount, enableCollision) {\n    var _this;\n    _classCallCheck(this, ChunkedLinesGeometry);\n    _this = _super.call(this, chunksCount * segmentsCount);\n    _this._init(segmentsCount);\n    _this._collisionGeo = enableCollision ? new CylinderCollisionGeo(chunksCount * segmentsCount, 3) : null;\n    return _this;\n  }\n  _createClass(ChunkedLinesGeometry, [{\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"computeBoundingSphere\",\n    value: function computeBoundingSphere() {\n      var collisionGeo = this._collisionGeo;\n      if (collisionGeo) {\n        collisionGeo.computeBoundingSphere();\n        this.boundingSphere = collisionGeo.boundingSphere;\n        return;\n      }\n      _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"computeBoundingSphere\", this).call(this);\n    }\n  }, {\n    key: \"computeBoundingBox\",\n    value: function computeBoundingBox() {\n      var collisionGeo = this._collisionGeo;\n      if (collisionGeo) {\n        collisionGeo.computeBoundingBox();\n        this.boundingBox = collisionGeo.boundingBox;\n        return;\n      }\n      _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"computeBoundingBox\", this).call(this);\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var collisionGeo = this._collisionGeo;\n      if (!collisionGeo) {\n        return;\n      }\n      var segCount = this._chunkSize;\n      this._collisionGeo.raycast(raycaster, intersects);\n      for (var i = 0, n = intersects.length; i < n; ++i) {\n        var chunkIdx = intersects[i].chunkIdx;\n        if (chunkIdx === undefined) {\n          continue;\n        }\n        chunkIdx = chunkIdx / segCount | 0;\n        intersects[i].chunkIdx = chunkIdx;\n      }\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(chunkIdx, colorVal) {\n      var chunkSize = this._chunkSize;\n      for (var i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n        _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"setColor\", this).call(this, i, colorVal);\n      }\n    }\n  }, {\n    key: \"setSegment\",\n    value: function setSegment(chunkIdx, segIdx, pos1, pos2) {\n      var chunkSize = this._chunkSize;\n      var idx = chunkIdx * chunkSize + segIdx;\n      _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"setSegment\", this).call(this, idx, pos1, pos2);\n      if (this._collisionGeo) {\n        this._collisionGeo.setItem(chunkIdx * chunkSize + segIdx, pos1, pos2, COLLISION_RAD$1);\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(chunkIndices, value) {\n      var chunkSize = this._chunkSize;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        var left = chunkIndices[i] * chunkSize;\n        _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"setOpacity\", this).call(this, left, left + chunkSize - 1, value);\n      }\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var instanceCount = chunkIndices.length;\n      var chunkSize = this._chunkSize;\n      var subset = new ChunkedLinesGeometry(instanceCount, chunkSize, false);\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        var dstPtOffset = i * chunkSize;\n        var startSegIdx = chunkIndices[i] * chunkSize;\n        subset.setSegments(dstPtOffset, this.getSubsetSegments(startSegIdx, chunkSize));\n        subset.setColors(dstPtOffset, this.getSubsetColors(startSegIdx, chunkSize));\n      }\n      subset.boundingSphere = this.boundingSphere;\n      subset.boundingBox = this.boundingBox;\n      return [subset];\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(chunkSize) {\n      this._chunkSize = chunkSize;\n    }\n  }]);\n  return ChunkedLinesGeometry;\n}(LinesGeometry);\n\nfunction _createSuper$1F(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1F(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1F() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar COLLISION_RAD = 0.3;\nvar tmpVector = new Vector3();\nvar TwoColorLinesGeometry = function (_LinesGeometry) {\n  _inherits(TwoColorLinesGeometry, _LinesGeometry);\n  var _super = _createSuper$1F(TwoColorLinesGeometry);\n  function TwoColorLinesGeometry(segmentsCount) {\n    var _this;\n    _classCallCheck(this, TwoColorLinesGeometry);\n    _this = _super.call(this, segmentsCount * 2);\n    _this._init(segmentsCount);\n    _this._collisionGeo = new Simple2CCylindersGeometry(segmentsCount, 3);\n    return _this;\n  }\n  _createClass(TwoColorLinesGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, botPos, topPos) {\n      this._collisionGeo.setItem(itemIdx, botPos, topPos, COLLISION_RAD);\n      var offset = 2 * itemIdx;\n      tmpVector.lerpVectors(botPos, topPos, 0.5);\n      _get(_getPrototypeOf(TwoColorLinesGeometry.prototype), \"setSegment\", this).call(this, offset, botPos, tmpVector);\n      _get(_getPrototypeOf(TwoColorLinesGeometry.prototype), \"setSegment\", this).call(this, offset + 1, tmpVector, topPos);\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, colorVal1, colorVal2) {\n      var offset = 2 * itemIdx;\n      _get(_getPrototypeOf(TwoColorLinesGeometry.prototype), \"setColor\", this).call(this, offset, colorVal1);\n      _get(_getPrototypeOf(TwoColorLinesGeometry.prototype), \"setColor\", this).call(this, offset + 1, colorVal2);\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      if (this._collisionGeo) {\n        this._collisionGeo.raycast(raycaster, intersects);\n      }\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(segmentIndices) {\n      var instanceCount = segmentIndices.length;\n      var subset = new TwoColorLinesGeometry(instanceCount, false);\n      for (var i = 0, n = instanceCount; i < n; ++i) {\n        var startSegIdx = segmentIndices[i];\n        subset.setSegments(i, this.getSubsetSegments(startSegIdx, 1));\n        subset.setColors(i, this.getSubsetColors(startSegIdx, 1));\n      }\n      subset.boundingSphere = this.boundingSphere;\n      subset.boundingBox = this.boundingBox;\n      return [subset];\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(segmentsCount) {\n      this._segCounts = segmentsCount * 2;\n    }\n  }]);\n  return TwoColorLinesGeometry;\n}(LinesGeometry);\n\nfunction _createSuper$1E(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1E(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1E() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar vectors = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 1, 0), new Vector3(0, -1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];\nvar vecCount = vectors.length;\nvar tempPos1 = new Vector3();\nvar tempPos2 = new Vector3();\nvar CrossGeometry = function (_SphereCollisionGeo) {\n  _inherits(CrossGeometry, _SphereCollisionGeo);\n  var _super = _createSuper$1E(CrossGeometry);\n  function CrossGeometry(chunksCount) {\n    _classCallCheck(this, CrossGeometry);\n    return _super.call(this, chunksCount, chunksCount, vecCount / 2 | 0, false);\n  }\n  _createClass(CrossGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, itemPos, itemRad) {\n      this.setSphere(itemIdx, itemPos, itemRad);\n      for (var i = 0; i < vecCount / 2; ++i) {\n        var first = i * 2;\n        tempPos1.x = itemPos.x + vectors[first].x * itemRad;\n        tempPos1.y = itemPos.y + vectors[first].y * itemRad;\n        tempPos1.z = itemPos.z + vectors[first].z * itemRad;\n        var second = first + 1;\n        tempPos2.x = itemPos.x + vectors[second].x * itemRad;\n        tempPos2.y = itemPos.y + vectors[second].y * itemRad;\n        tempPos2.z = itemPos.z + vectors[second].z * itemRad;\n        this.setSegment(itemIdx, i, tempPos1, tempPos2);\n      }\n    }\n  }]);\n  return CrossGeometry;\n}(SphereCollisionGeo(ChunkedLinesGeometry));\n\nfunction _createSuper$1D(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1D(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1D() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar POS_RAD_SIZE = 4;\nvar COLOR_SIZE$1 = 3;\nvar tmpColor = new Color();\nvar IsoSurfaceGeometry = function (_BufferGeometry) {\n  _inherits(IsoSurfaceGeometry, _BufferGeometry);\n  var _super = _createSuper$1D(IsoSurfaceGeometry);\n  function IsoSurfaceGeometry(spheresCount, opts) {\n    var _this;\n    _classCallCheck(this, IsoSurfaceGeometry);\n    _this = _super.call(this);\n    _this._opts = opts;\n    _this.zClip = _this._opts.zClip;\n    _this._posRad = utils.allocateTyped(Float32Array, spheresCount * POS_RAD_SIZE);\n    _this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE$1);\n    return _this;\n  }\n  _createClass(IsoSurfaceGeometry, [{\n    key: \"setItem\",\n    value: function setItem(chunkIdx, pos, radius) {\n      var posRad = this._posRad;\n      var idx = POS_RAD_SIZE * chunkIdx;\n      posRad[idx++] = pos.x;\n      posRad[idx++] = pos.y;\n      posRad[idx++] = pos.z;\n      posRad[idx] = radius;\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(chunkIdx, colorVal) {\n      tmpColor.set(colorVal);\n      var colors = this._colors;\n      var idx = COLOR_SIZE$1 * chunkIdx;\n      colors[idx++] = tmpColor.r;\n      colors[idx++] = tmpColor.g;\n      colors[idx] = tmpColor.b;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this._build();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity() {\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast() {}\n  }, {\n    key: \"getSubset\",\n    value: function getSubset() {\n      return [];\n    }\n  }]);\n  return IsoSurfaceGeometry;\n}(BufferGeometry);\n\nvar IsoSurfaceMarchCube = function () {\n  function IsoSurfaceMarchCube() {\n    _classCallCheck(this, IsoSurfaceMarchCube);\n    this.pointsValuesLinear = null;\n    this.hasIntersection = null;\n    this.bitsInside = null;\n  }\n  _createClass(IsoSurfaceMarchCube, [{\n    key: \"create\",\n    value: function create(numCellsPerSide) {\n      var vx7000000 = 0x7000000;\n      var n3 = numCellsPerSide * numCellsPerSide * numCellsPerSide;\n      if (n3 > vx7000000) {\n        throw new Error('Too large cube dimension: lead to memory huge uasge');\n      }\n      this.pointsValuesLinear = utils.allocateTyped(Float32Array, (2 << 2 + 2) * n3);\n      this.hasIntersection = utils.allocateTyped(Int32Array, n3);\n      this.bitsInside = utils.allocateTyped(Int32Array, n3);\n      return 0;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.bitsInside = null;\n      this.hasIntersection = null;\n      this.pointsValuesLinear = null;\n    }\n  }]);\n  return IsoSurfaceMarchCube;\n}();\nIsoSurfaceMarchCube.prototype.striIndicesMarchCube = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 8, 3, 9, 8, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 2, 10, 0, 2, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 8, 3, 2, 10, 8, 10, 9, 8, -1, -1, -1, -1, -1, -1, -1, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 11, 2, 8, 11, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 9, 0, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 11, 2, 1, 9, 11, 9, 8, 11, -1, -1, -1, -1, -1, -1, -1, 3, 10, 1, 11, 10, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 10, 1, 0, 8, 10, 8, 11, 10, -1, -1, -1, -1, -1, -1, -1, 3, 9, 0, 3, 11, 9, 11, 10, 9, -1, -1, -1, -1, -1, -1, -1, 9, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 3, 0, 7, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 1, 9, 4, 7, 1, 7, 3, 1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 4, 7, 3, 0, 4, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, 9, 2, 10, 9, 0, 2, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, 2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, -1, -1, -1, -1, 8, 4, 7, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 4, 7, 11, 2, 4, 2, 0, 4, -1, -1, -1, -1, -1, -1, -1, 9, 0, 1, 8, 4, 7, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, 4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, -1, -1, -1, -1, 3, 10, 1, 3, 11, 10, 7, 8, 4, -1, -1, -1, -1, -1, -1, -1, 1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4, -1, -1, -1, -1, 4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3, -1, -1, -1, -1, 4, 7, 11, 4, 11, 9, 9, 11, 10, -1, -1, -1, -1, -1, -1, -1, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 5, 4, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 5, 4, 1, 5, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 5, 4, 8, 3, 5, 3, 1, 5, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 0, 8, 1, 2, 10, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1, 5, 2, 10, 5, 4, 2, 4, 0, 2, -1, -1, -1, -1, -1, -1, -1, 2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, -1, -1, -1, -1, 9, 5, 4, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 11, 2, 0, 8, 11, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1, 0, 5, 4, 0, 1, 5, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, 2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, -1, -1, -1, -1, 10, 3, 11, 10, 1, 3, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, 4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10, -1, -1, -1, -1, 5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, -1, -1, -1, -1, 5, 4, 8, 5, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, 9, 7, 8, 5, 7, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 3, 0, 9, 5, 3, 5, 7, 3, -1, -1, -1, -1, -1, -1, -1, 0, 7, 8, 0, 1, 7, 1, 5, 7, -1, -1, -1, -1, -1, -1, -1, 1, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 7, 8, 9, 5, 7, 10, 1, 2, -1, -1, -1, -1, -1, -1, -1, 10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, -1, -1, -1, -1, 8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2, -1, -1, -1, -1, 2, 10, 5, 2, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, 7, 9, 5, 7, 8, 9, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, 9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, -1, -1, -1, -1, 2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7, -1, -1, -1, -1, 11, 2, 1, 11, 1, 7, 7, 1, 5, -1, -1, -1, -1, -1, -1, -1, 9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, -1, -1, -1, -1, 5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, -1, 11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0, -1, 11, 10, 5, 7, 11, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 0, 1, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 8, 3, 1, 9, 8, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, 1, 6, 5, 2, 6, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 6, 5, 1, 2, 6, 3, 0, 8, -1, -1, -1, -1, -1, -1, -1, 9, 6, 5, 9, 0, 6, 0, 2, 6, -1, -1, -1, -1, -1, -1, -1, 5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, -1, -1, -1, -1, 2, 3, 11, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 0, 8, 11, 2, 0, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, 5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, -1, -1, -1, -1, 6, 3, 11, 6, 5, 3, 5, 1, 3, -1, -1, -1, -1, -1, -1, -1, 0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6, -1, -1, -1, -1, 3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, -1, -1, -1, -1, 6, 5, 9, 6, 9, 11, 11, 9, 8, -1, -1, -1, -1, -1, -1, -1, 5, 10, 6, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 3, 0, 4, 7, 3, 6, 5, 10, -1, -1, -1, -1, -1, -1, -1, 1, 9, 0, 5, 10, 6, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, 10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4, -1, -1, -1, -1, 6, 1, 2, 6, 5, 1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, 1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, -1, -1, -1, -1, 8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, -1, -1, -1, -1, 7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9, -1, 3, 11, 2, 7, 8, 4, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, 5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, -1, -1, -1, -1, 0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, 9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, -1, 8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, -1, -1, -1, -1, 5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11, -1, 0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7, -1, 6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, -1, -1, -1, -1, 10, 4, 9, 6, 4, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 10, 6, 4, 9, 10, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, 10, 0, 1, 10, 6, 0, 6, 4, 0, -1, -1, -1, -1, -1, -1, -1, 8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, -1, -1, -1, -1, 1, 4, 9, 1, 2, 4, 2, 6, 4, -1, -1, -1, -1, -1, -1, -1, 3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, -1, -1, -1, -1, 0, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 3, 2, 8, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, 10, 4, 9, 10, 6, 4, 11, 2, 3, -1, -1, -1, -1, -1, -1, -1, 0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, -1, -1, -1, -1, 3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, -1, -1, -1, -1, 6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1, -1, 9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, -1, -1, -1, -1, 8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, -1, 3, 11, 6, 3, 6, 0, 0, 6, 4, -1, -1, -1, -1, -1, -1, -1, 6, 4, 8, 11, 6, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 10, 6, 7, 8, 10, 8, 9, 10, -1, -1, -1, -1, -1, -1, -1, 0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10, -1, -1, -1, -1, 10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0, -1, -1, -1, -1, 10, 6, 7, 10, 7, 1, 1, 7, 3, -1, -1, -1, -1, -1, -1, -1, 1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, -1, -1, -1, -1, 2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9, -1, 7, 8, 0, 7, 0, 6, 6, 0, 2, -1, -1, -1, -1, -1, -1, -1, 7, 3, 2, 6, 7, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7, -1, -1, -1, -1, 2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7, -1, 1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, -1, 11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1, -1, -1, -1, -1, 8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6, -1, 0, 9, 1, 11, 6, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0, -1, -1, -1, -1, 7, 11, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 0, 8, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 1, 9, 8, 3, 1, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, 10, 1, 2, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 3, 0, 8, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, 2, 9, 0, 2, 10, 9, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, 6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8, -1, -1, -1, -1, 7, 2, 3, 6, 2, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 0, 8, 7, 6, 0, 6, 2, 0, -1, -1, -1, -1, -1, -1, -1, 2, 7, 6, 2, 3, 7, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1, 1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6, -1, -1, -1, -1, 10, 7, 6, 10, 1, 7, 1, 3, 7, -1, -1, -1, -1, -1, -1, -1, 10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, -1, -1, -1, -1, 0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7, -1, -1, -1, -1, 7, 6, 10, 7, 10, 8, 8, 10, 9, -1, -1, -1, -1, -1, -1, -1, 6, 8, 4, 11, 8, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 6, 11, 3, 0, 6, 0, 4, 6, -1, -1, -1, -1, -1, -1, -1, 8, 6, 11, 8, 4, 6, 9, 0, 1, -1, -1, -1, -1, -1, -1, -1, 9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, -1, -1, -1, -1, 6, 8, 4, 6, 11, 8, 2, 10, 1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6, -1, -1, -1, -1, 4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, -1, -1, -1, -1, 10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, -1, 8, 2, 3, 8, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, 0, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, -1, -1, -1, -1, 1, 9, 4, 1, 4, 2, 2, 4, 6, -1, -1, -1, -1, -1, -1, -1, 8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1, -1, -1, -1, -1, 10, 1, 0, 10, 0, 6, 6, 0, 4, -1, -1, -1, -1, -1, -1, -1, 4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, -1, 10, 9, 4, 6, 10, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 9, 5, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 4, 9, 5, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, 5, 0, 1, 5, 4, 0, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, 11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5, -1, -1, -1, -1, 9, 5, 4, 10, 1, 2, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, 6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, -1, -1, -1, -1, 7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2, -1, -1, -1, -1, 3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6, -1, 7, 2, 3, 7, 6, 2, 5, 4, 9, -1, -1, -1, -1, -1, -1, -1, 9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7, -1, -1, -1, -1, 3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, -1, -1, -1, -1, 6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, -1, 9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7, -1, -1, -1, -1, 1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4, -1, 4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, -1, 7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10, -1, -1, -1, -1, 6, 9, 5, 6, 11, 9, 11, 8, 9, -1, -1, -1, -1, -1, -1, -1, 3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, -1, -1, -1, -1, 0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, -1, -1, -1, -1, 6, 11, 3, 6, 3, 5, 5, 3, 1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, -1, -1, -1, -1, 0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, -1, 11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, -1, 6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3, -1, -1, -1, -1, 5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, -1, -1, -1, -1, 9, 5, 6, 9, 6, 0, 0, 6, 2, -1, -1, -1, -1, -1, -1, -1, 1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8, -1, 1, 5, 6, 2, 1, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, -1, 10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0, -1, -1, -1, -1, 0, 3, 8, 5, 6, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, 5, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 5, 10, 7, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 5, 10, 11, 7, 5, 8, 3, 0, -1, -1, -1, -1, -1, -1, -1, 5, 11, 7, 5, 10, 11, 1, 9, 0, -1, -1, -1, -1, -1, -1, -1, 10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, -1, -1, -1, -1, 11, 1, 2, 11, 7, 1, 7, 5, 1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11, -1, -1, -1, -1, 9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, -1, -1, -1, -1, 7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, -1, 2, 5, 10, 2, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, 8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, -1, -1, -1, -1, 9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, -1, -1, -1, -1, 9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2, -1, 1, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 7, 0, 7, 1, 1, 7, 5, -1, -1, -1, -1, -1, -1, -1, 9, 0, 3, 9, 3, 5, 5, 3, 7, -1, -1, -1, -1, -1, -1, -1, 9, 8, 7, 5, 9, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 5, 8, 4, 5, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, 5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, -1, -1, -1, -1, 0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5, -1, -1, -1, -1, 10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4, -1, 2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, -1, -1, -1, -1, 0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, -1, 0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5, -1, 9, 4, 5, 2, 11, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4, -1, -1, -1, -1, 5, 10, 2, 5, 2, 4, 4, 2, 0, -1, -1, -1, -1, -1, -1, -1, 3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, -1, 5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, -1, -1, -1, -1, 8, 4, 5, 8, 5, 3, 3, 5, 1, -1, -1, -1, -1, -1, -1, -1, 0, 4, 5, 1, 0, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, -1, -1, -1, -1, 9, 4, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 11, 7, 4, 9, 11, 9, 10, 11, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, -1, -1, -1, -1, 1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, -1, -1, -1, -1, 3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4, -1, 4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, -1, -1, -1, -1, 9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, -1, 11, 7, 4, 11, 4, 2, 2, 4, 0, -1, -1, -1, -1, -1, -1, -1, 11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4, -1, -1, -1, -1, 2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, -1, -1, -1, -1, 9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, -1, 3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10, -1, 1, 10, 2, 8, 7, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 9, 1, 4, 1, 7, 7, 1, 3, -1, -1, -1, -1, -1, -1, -1, 4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1, -1, -1, -1, -1, 4, 0, 3, 7, 4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 8, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 0, 9, 3, 9, 11, 11, 9, 10, -1, -1, -1, -1, -1, -1, -1, 0, 1, 10, 0, 10, 8, 8, 10, 11, -1, -1, -1, -1, -1, -1, -1, 3, 1, 10, 11, 3, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 11, 1, 11, 9, 9, 11, 8, -1, -1, -1, -1, -1, -1, -1, 3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9, -1, -1, -1, -1, 0, 2, 11, 8, 0, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 2, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 3, 8, 2, 8, 10, 10, 8, 9, -1, -1, -1, -1, -1, -1, -1, 9, 10, 2, 0, 9, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, -1, -1, -1, -1, 1, 10, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 3, 8, 9, 1, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 9, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 3, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1];\n\nvar edgeTable = [0x0, 0x109, 0x203, 0x30a, 0x406, 0x50f, 0x605, 0x70c, 0x80c, 0x905, 0xa0f, 0xb06, 0xc0a, 0xd03, 0xe09, 0xf00, 0x190, 0x99, 0x393, 0x29a, 0x596, 0x49f, 0x795, 0x69c, 0x99c, 0x895, 0xb9f, 0xa96, 0xd9a, 0xc93, 0xf99, 0xe90, 0x230, 0x339, 0x33, 0x13a, 0x636, 0x73f, 0x435, 0x53c, 0xa3c, 0xb35, 0x83f, 0x936, 0xe3a, 0xf33, 0xc39, 0xd30, 0x3a0, 0x2a9, 0x1a3, 0xaa, 0x7a6, 0x6af, 0x5a5, 0x4ac, 0xbac, 0xaa5, 0x9af, 0x8a6, 0xfaa, 0xea3, 0xda9, 0xca0, 0x460, 0x569, 0x663, 0x76a, 0x66, 0x16f, 0x265, 0x36c, 0xc6c, 0xd65, 0xe6f, 0xf66, 0x86a, 0x963, 0xa69, 0xb60, 0x5f0, 0x4f9, 0x7f3, 0x6fa, 0x1f6, 0xff, 0x3f5, 0x2fc, 0xdfc, 0xcf5, 0xfff, 0xef6, 0x9fa, 0x8f3, 0xbf9, 0xaf0, 0x650, 0x759, 0x453, 0x55a, 0x256, 0x35f, 0x55, 0x15c, 0xe5c, 0xf55, 0xc5f, 0xd56, 0xa5a, 0xb53, 0x859, 0x950, 0x7c0, 0x6c9, 0x5c3, 0x4ca, 0x3c6, 0x2cf, 0x1c5, 0xcc, 0xfcc, 0xec5, 0xdcf, 0xcc6, 0xbca, 0xac3, 0x9c9, 0x8c0, 0x8c0, 0x9c9, 0xac3, 0xbca, 0xcc6, 0xdcf, 0xec5, 0xfcc, 0xcc, 0x1c5, 0x2cf, 0x3c6, 0x4ca, 0x5c3, 0x6c9, 0x7c0, 0x950, 0x859, 0xb53, 0xa5a, 0xd56, 0xc5f, 0xf55, 0xe5c, 0x15c, 0x55, 0x35f, 0x256, 0x55a, 0x453, 0x759, 0x650, 0xaf0, 0xbf9, 0x8f3, 0x9fa, 0xef6, 0xfff, 0xcf5, 0xdfc, 0x2fc, 0x3f5, 0xff, 0x1f6, 0x6fa, 0x7f3, 0x4f9, 0x5f0, 0xb60, 0xa69, 0x963, 0x86a, 0xf66, 0xe6f, 0xd65, 0xc6c, 0x36c, 0x265, 0x16f, 0x66, 0x76a, 0x663, 0x569, 0x460, 0xca0, 0xda9, 0xea3, 0xfaa, 0x8a6, 0x9af, 0xaa5, 0xbac, 0x4ac, 0x5a5, 0x6af, 0x7a6, 0xaa, 0x1a3, 0x2a9, 0x3a0, 0xd30, 0xc39, 0xf33, 0xe3a, 0x936, 0x83f, 0xb35, 0xa3c, 0x53c, 0x435, 0x73f, 0x636, 0x13a, 0x33, 0x339, 0x230, 0xe90, 0xf99, 0xc93, 0xd9a, 0xa96, 0xb9f, 0x895, 0x99c, 0x69c, 0x795, 0x49f, 0x596, 0x29a, 0x393, 0x99, 0x190, 0xf00, 0xe09, 0xd03, 0xc0a, 0xb06, 0xa0f, 0x905, 0x80c, 0x70c, 0x605, 0x50f, 0x406, 0x30a, 0x203, 0x109, 0x0];\nfunction _voxelGradientFast(v, point, grad) {\n  var g = v.getValue(point.x, point.y, point.z);\n  grad.set(g[0], g[1], g[2]);\n}\nvar GridCell = _createClass(function GridCell() {\n  _classCallCheck(this, GridCell);\n  this._arrSize = 8;\n  this.p = new Array(this._arrSize);\n  this.g = new Array(this._arrSize);\n  this.val = new Array(this._arrSize);\n  for (var i = 0; i < this._arrSize; ++i) {\n    this.p[i] = new Vector3();\n    this.g[i] = new Vector3();\n  }\n  this.cubeIndex = 0;\n});\nvar Triangle = _createClass(function Triangle() {\n  _classCallCheck(this, Triangle);\n  this.a = {\n    p: new Vector3(),\n    n: new Vector3()\n  };\n  this.b = {\n    p: new Vector3(),\n    n: new Vector3()\n  };\n  this.c = {\n    p: new Vector3(),\n    n: new Vector3()\n  };\n});\nfunction createArray(arrSize) {\n  var arr = new Array(arrSize);\n  for (var i = 0; i < arrSize; ++i) {\n    arr[i] = new Vector3();\n  }\n  return arr;\n}\nvar IsoSurface = function () {\n  function IsoSurface() {\n    _classCallCheck(this, IsoSurface);\n    this._numTriangles = 0;\n    this._numVertices = 0;\n    this._position = [];\n    this._normals = [];\n    this._colors = null;\n    this._indices = [];\n    this._volumetricData = null;\n    this._xAxis = new Vector3();\n    this._yAxis = new Vector3();\n    this._zAxis = new Vector3();\n    this._xDir = new Vector3();\n    this._yDir = new Vector3();\n    this._zDir = new Vector3();\n  }\n  _createClass(IsoSurface, [{\n    key: \"_prepareAxesAndDirs\",\n    value: function _prepareAxesAndDirs() {\n      var volData = this._volumetricData;\n      var cellSize = volData.getCellSize();\n      var xAxis = this._xAxis;\n      var yAxis = this._yAxis;\n      var zAxis = this._zAxis;\n      var xDir = this._xDir;\n      var yDir = this._yDir;\n      var zDir = this._zDir;\n      xAxis.set(cellSize.x, 0, 0);\n      yAxis.set(0, cellSize.y, 0);\n      zAxis.set(0, 0, cellSize.z);\n      xDir.set(1, 0, 0);\n      yDir.set(0, 1, 0);\n      zDir.set(0, 0, 1);\n      var tmp = new Vector3();\n      tmp.crossVectors(xDir, yDir);\n      if (tmp.dot(zDir) < 0) {\n        xDir.negate();\n        yDir.negate();\n        zDir.negate();\n      }\n      if (xDir.x < 0 || xDir.y < 0 || xDir.z < 0 || yDir.x < 0 || yDir.y < 0 || yDir.z < 0 || zDir.x < 0 || zDir.y < 0 || zDir.z < 0) {\n        return false;\n      }\n      var notZero = function notZero(axe) {\n        return Math.abs(axe) > Number.EPSILON;\n      };\n      return !(notZero(xAxis.y) || notZero(xAxis.z) || notZero(yAxis.x) || notZero(yAxis.z) || notZero(zAxis.x) || notZero(zAxis.y));\n    }\n  }, {\n    key: \"_vertexInterp\",\n    value: function _vertexInterp(isoLevel, grid, ind1, ind2, vertex, normal) {\n      var p1 = grid.p[ind1];\n      var p2 = grid.p[ind2];\n      var n1 = grid.g[ind1];\n      var n2 = grid.g[ind2];\n      var valP1 = grid.val[ind1];\n      var valP2 = grid.val[ind2];\n      var isoDiffP1 = isoLevel - valP1;\n      var diffValP2P1 = valP2 - valP1;\n      var mu = 0.0;\n      if (Math.abs(diffValP2P1) > 0.0) {\n        mu = isoDiffP1 / diffValP2P1;\n      }\n      mu = mu > 1.0 ? 1.0 : mu;\n      vertex.lerpVectors(p1, p2, mu);\n      normal.lerpVectors(n1, n2, mu);\n    }\n  }, {\n    key: \"_polygonize\",\n    value: function _polygonize(grid, isoLevel, triangles) {\n      var cubeIndex = grid.cubeIndex;\n      var i = 0;\n      var arrSize = IsoSurface._arrSize;\n      var firstIndices = IsoSurface._firstIndices;\n      var secondIndices = IsoSurface._secondIndices;\n      var vertexList = IsoSurface._vertexList;\n      var normalList = IsoSurface._normalList;\n      for (; i < arrSize; ++i) {\n        if (edgeTable[cubeIndex] & 1 << i) {\n          this._vertexInterp(isoLevel, grid, firstIndices[i], secondIndices[i], vertexList[i], normalList[i]);\n        }\n      }\n      var triCount = 0;\n      var triTblIdx = cubeIndex * 16;\n      var triTable = IsoSurface._triTable;\n      for (i = 0; triTable[triTblIdx + i] !== -1; i += 3) {\n        triangles[triCount].a.p.copy(vertexList[triTable[triTblIdx + i]]);\n        triangles[triCount].a.n.copy(normalList[triTable[triTblIdx + i]]);\n        triangles[triCount].b.p.copy(vertexList[triTable[triTblIdx + i + 1]]);\n        triangles[triCount].b.n.copy(normalList[triTable[triTblIdx + i + 1]]);\n        triangles[triCount].c.p.copy(vertexList[triTable[triTblIdx + i + 2]]);\n        triangles[triCount].c.n.copy(normalList[triTable[triTblIdx + i + 2]]);\n        ++triCount;\n      }\n      return triCount;\n    }\n  }, {\n    key: \"_doGridPosNorms\",\n    value: function _doGridPosNorms(isoValue, step, appendSimple) {\n      var vol = this._volumetricData;\n      var volData = this._volumetricData.getData();\n      var dim = vol.getDimensions();\n      var xSize = dim[0];\n      var ySize = dim[1];\n      var zSize = dim[2];\n      var stepX = step * vol.getStrideX();\n      var stepY = step * vol.getStrideY();\n      var stepZ = step * vol.getStrideZ();\n      var gc = new GridCell();\n      var gcVal = gc.val;\n      var gcValSize = gc.val.length;\n      var additions = [new Vector3(0, 0, 0),\n      new Vector3(step, 0, 0),\n      new Vector3(step, step, 0),\n      new Vector3(0, step, 0),\n      new Vector3(0, 0, step),\n      new Vector3(step, 0, step),\n      new Vector3(step, step, step),\n      new Vector3(0, step, step)\n      ];\n      var tmpTriCount = 5;\n      var triangles = new Array(tmpTriCount);\n      for (var j = 0; j < tmpTriCount; ++j) {\n        triangles[j] = new Triangle();\n      }\n      var appendVertex;\n      var self = this;\n      var positions = this._position;\n      var normals = this._normals;\n      if (appendSimple) {\n        appendVertex = function () {\n          var axis = new Vector3(self._xAxis.x, self._yAxis.y, self._zAxis.z);\n          return function (triVertex) {\n            var vertex = triVertex.p.clone();\n            vertex.multiply(axis);\n            positions.push(vertex.add(self._origin));\n            normals.push(triVertex.n.clone());\n          };\n        }();\n      } else {\n        appendVertex = function () {\n          var posMtx = new Matrix3();\n          posMtx.set(self._xAxis.x, self._yAxis.x, self._zAxis.x, self._xAxis.y, self._yAxis.y, self._zAxis.y, self._xAxis.z, self._yAxis.z, self._zAxis.z);\n          var normMtx = new Matrix3();\n          normMtx.set(self._xDir.x, self._yDir.x, self._zDir.x, self._xDir.y, self._yDir.y, self._zDir.y, self._xDir.z, self._yDir.z, self._zDir.z);\n          return function (triVertex) {\n            positions.push(triVertex.p.clone().applyMatrix3(posMtx).add(self._origin));\n            normals.push(triVertex.n.clone().applyMatrix3(normMtx));\n          };\n        }();\n      }\n      var indices = this._indices;\n      var globTriCount = 0;\n      for (var z = 0; z < zSize - step; z += step) {\n        for (var y = 0; y < ySize - step; y += step) {\n          var idx = vol.getDirectIdx(0, y, z);\n          for (var x = 0; x < xSize - step; x += step, idx += stepX) {\n            gcVal[0] = volData[idx];\n            gcVal[1] = volData[idx + stepX];\n            gcVal[3] = volData[idx + stepY];\n            gcVal[2] = volData[idx + stepX + stepY];\n            gcVal[4] = volData[idx + stepZ];\n            gcVal[5] = volData[idx + stepX + stepZ];\n            gcVal[7] = volData[idx + stepY + stepZ];\n            gcVal[6] = volData[idx + stepX + stepY + stepZ];\n            var cubeIndex = 0;\n            var i = 0;\n            for (; i < gcValSize; ++i) {\n              if (gcVal[i] < isoValue) {\n                cubeIndex |= 1 << i;\n              }\n            }\n            if (edgeTable[cubeIndex] === 0) {\n              continue;\n            }\n            gc.cubeIndex = cubeIndex;\n            for (i = 0; i < gcValSize; ++i) {\n              gc.p[i].set(x + additions[i].x, y + additions[i].y, z + additions[i].z);\n              _voxelGradientFast(this._gradient, gc.p[i], gc.g[i]);\n            }\n            var triCount = this._polygonize(gc, isoValue, triangles);\n            globTriCount += triCount;\n            for (i = 0; i < triCount; ++i) {\n              indices.push(this._numTriangles * 3);\n              indices.push(this._numTriangles * 3 + 1);\n              indices.push(this._numTriangles * 3 + 2);\n              ++this._numTriangles;\n              appendVertex(triangles[i].a);\n              appendVertex(triangles[i].b);\n              appendVertex(triangles[i].c);\n            }\n          }\n        }\n      }\n      return globTriCount;\n    }\n  }, {\n    key: \"compute\",\n    value: function compute(volData, origin, isoValue, step) {\n      this._volumetricData = volData;\n      this._origin = origin;\n      this._gradient = volData.computeGradient();\n      this._doGridPosNorms(isoValue, step, this._prepareAxesAndDirs());\n    }\n  }, {\n    key: \"_remapIndices\",\n    value: function _remapIndices(vertexMap, idcCount) {\n      var indices = this._indices;\n      var newIndices = utils.allocateTyped(Uint32Array, idcCount);\n      for (var i = 0; i < idcCount; ++i) {\n        indices[i] = vertexMap[indices[i]];\n        newIndices[i] = indices[i];\n      }\n      this._indices = newIndices;\n    }\n  }, {\n    key: \"_remapVertices\",\n    value: function _remapVertices(vertices, normals, count) {\n      var newPositions = utils.allocateTyped(Float32Array, count * 3);\n      var newNormals = utils.allocateTyped(Float32Array, count * 3);\n      for (var i = 0; i < count; ++i) {\n        var pos = vertices[i];\n        newPositions[i * 3] = pos.x;\n        newPositions[i * 3 + 1] = pos.y;\n        newPositions[i * 3 + 2] = pos.z;\n        var norm = normals[i].normalize();\n        newNormals[i * 3] = norm.x;\n        newNormals[i * 3 + 1] = norm.y;\n        newNormals[i * 3 + 2] = norm.z;\n      }\n      this._position = newPositions;\n      this._normals = newNormals;\n    }\n  }, {\n    key: \"vertexFusion\",\n    value: function vertexFusion(offset, len) {\n      var faceVer = this._indices.length;\n      var vertices = this._position;\n      var normals = this._normals;\n      var oldVerCount = vertices.length | 0;\n      if (faceVer === 0 || oldVerCount === 0) {\n        return;\n      }\n      var vMap = utils.allocateTyped(Uint32Array, oldVerCount);\n      vMap[0] = 0;\n      var newVer = 1;\n      var i = 1;\n      for (; i < oldVerCount; ++i) {\n        var start = newVer - offset < 0 ? 0 : newVer - offset;\n        var end = start + len > newVer ? newVer : start + len;\n        var matchedIndex = -1;\n        for (var j = start; j < end; ++j) {\n          if (Math.abs(vertices[i] - vertices[j]) < Number.EPSILON) {\n            matchedIndex = j;\n            break;\n          }\n        }\n        if (matchedIndex !== -1) {\n          vMap[i] = matchedIndex;\n        } else {\n          vertices[newVer].copy(vertices[i]);\n          normals[newVer].copy(normals[i]);\n          vMap[i] = newVer;\n          ++newVer;\n        }\n      }\n      this._remapIndices(vMap, faceVer);\n      this._remapVertices(vertices, normals, newVer);\n    }\n  }, {\n    key: \"setColorVolTex\",\n    value: function setColorVolTex(colorMap, atomMap, atomWeightMap, visibilitySelector) {\n      var i;\n      var idx;\n      var numVerts = this._position.length / 3;\n      var vertices = this._position;\n      var origin = this._origin;\n      var dim = this._volumetricData.getDimensions();\n      var xs = dim[0] - 1;\n      var ys = dim[1] - 1;\n      var zs = dim[2] - 1;\n      var colorData = colorMap.getData();\n      var strideX = colorMap.getStrideX();\n      var strideY = colorMap.getStrideY();\n      var strideZ = colorMap.getStrideZ();\n      var atomWeightData;\n      var atomStrideX;\n      var atomStrideY;\n      var atomStrideZ;\n      if (visibilitySelector !== null) {\n        atomWeightData = atomWeightMap.getData();\n        atomStrideX = atomWeightMap.getStrideX();\n        atomStrideY = atomWeightMap.getStrideY();\n        atomStrideZ = atomWeightMap.getStrideZ();\n      }\n      var xInv = 1.0 / this._xAxis.x;\n      var yInv = 1.0 / this._yAxis.y;\n      var zInv = 1.0 / this._zAxis.z;\n      var atomLookup = [];\n      var atomWeights = [];\n      var colors = utils.allocateTyped(Float32Array, numVerts * 3);\n      function interp(mu, idx1, idx2, c) {\n        c[0] = (1 - mu) * colorData[idx1] + mu * colorData[idx2];\n        c[1] = (1 - mu) * colorData[idx1 + 1] + mu * colorData[idx2 + 1];\n        c[2] = (1 - mu) * colorData[idx1 + 2] + mu * colorData[idx2 + 2];\n      }\n      function collectWeight(ai, coefX, coefY, coefZ) {\n        var a = atomMap[ai];\n        if (a != null) {\n          atomLookup[a.index] = a;\n          var w = coefX * coefY * coefZ * atomWeightData[ai];\n          if (typeof atomWeights[a.index] === 'undefined') {\n            atomWeights[a.index] = w;\n          } else {\n            atomWeights[a.index] += w;\n          }\n        }\n      }\n      var vMap = utils.allocateTyped(Int32Array, numVerts);\n      var newVerCount = 0;\n      for (i = 0; i < numVerts; i++) {\n        var ind = i * 3;\n        var vx = (vertices[ind] - origin.x) * xInv;\n        var vy = (vertices[ind + 1] - origin.y) * yInv;\n        var vz = (vertices[ind + 2] - origin.z) * zInv;\n        var x = Math.min(Math.max(vx, 0), xs) | 0;\n        var y = Math.min(Math.max(vy, 0), ys) | 0;\n        var z = Math.min(Math.max(vz, 0), zs) | 0;\n        var mux = vx - x;\n        var muy = vy - y;\n        var muz = vz - z;\n        if (visibilitySelector != null) {\n          atomLookup = [];\n          atomWeights = [];\n          idx = atomWeightMap.getDirectIdx(x, y, z);\n          collectWeight(idx, 1 - mux, 1 - muy, 1 - muz);\n          collectWeight(idx + atomStrideX, mux, 1 - muy, 1 - muz);\n          collectWeight(idx + atomStrideY, 1 - mux, muy, 1 - muz);\n          collectWeight(idx + atomStrideX + atomStrideY, mux, muy, 1 - muz);\n          collectWeight(idx + atomStrideZ, 1 - mux, 1 - muy, muz);\n          collectWeight(idx + atomStrideX + atomStrideZ, mux, 1 - muy, muz);\n          collectWeight(idx + atomStrideY + atomStrideZ, 1 - mux, muy, muz);\n          collectWeight(idx + atomStrideX + atomStrideY + atomStrideZ, mux, muy, muz);\n          var maxWeight = 0.0;\n          var dominantIdx = -1;\n          for (var atomIdx in atomWeights) {\n            if (atomWeights[atomIdx] > maxWeight) {\n              dominantIdx = atomIdx;\n              maxWeight = atomWeights[atomIdx];\n            }\n          }\n          if (dominantIdx < 0 || !visibilitySelector.includesAtom(atomLookup[dominantIdx])) {\n            vMap[i] = -1;\n            continue;\n          }\n        }\n        vMap[i] = newVerCount++;\n        var dx = x < xs ? strideX : 0;\n        var dy = y < ys ? strideY : 0;\n        var dz = z < zs ? strideZ : 0;\n        var c0 = [0, 0, 0];\n        var c1 = [0, 0, 0];\n        var c2 = [0, 0, 0];\n        var c3 = [0, 0, 0];\n        idx = colorMap.getDirectIdx(x, y, z);\n        interp(mux, idx, idx + dx, c0);\n        interp(mux, idx + dy, idx + dx + dy, c1);\n        interp(mux, idx + dz, idx + dx + dz, c2);\n        interp(mux, idx + dy + dz, idx + dx + dy + dz, c3);\n        var cz0 = [0, 0, 0];\n        cz0[0] = (1 - muy) * c0[0] + muy * c1[0];\n        cz0[1] = (1 - muy) * c0[1] + muy * c1[1];\n        cz0[2] = (1 - muy) * c0[2] + muy * c1[2];\n        var cz1 = [0, 0, 0];\n        cz1[0] = (1 - muy) * c2[0] + muy * c3[0];\n        cz1[1] = (1 - muy) * c2[1] + muy * c3[1];\n        cz1[2] = (1 - muy) * c2[2] + muy * c3[2];\n        colors[ind] = (1 - muz) * cz0[0] + muz * cz1[0];\n        colors[ind + 1] = (1 - muz) * cz0[1] + muz * cz1[1];\n        colors[ind + 2] = (1 - muz) * cz0[2] + muz * cz1[2];\n      }\n      this._colors = colors;\n      if (visibilitySelector != null) {\n        for (i = 0; i < numVerts; ++i) {\n          var j = vMap[i];\n          if (j < 0) {\n            continue;\n          }\n          this._position[j * 3] = this._position[i * 3];\n          this._position[j * 3 + 1] = this._position[i * 3 + 1];\n          this._position[j * 3 + 2] = this._position[i * 3 + 2];\n          this._normals[j * 3] = this._normals[i * 3];\n          this._normals[j * 3 + 1] = this._normals[i * 3 + 1];\n          this._normals[j * 3 + 2] = this._normals[i * 3 + 2];\n          this._colors[j * 3] = this._colors[i * 3];\n          this._colors[j * 3 + 1] = this._colors[i * 3 + 1];\n          this._colors[j * 3 + 2] = this._colors[i * 3 + 2];\n        }\n        var numTriangles = this._indices.length / 3;\n        var newTriCount = 0;\n        for (i = 0; i < numTriangles; ++i) {\n          var i0 = vMap[this._indices[3 * i]];\n          var i1 = vMap[this._indices[3 * i + 1]];\n          var i2 = vMap[this._indices[3 * i + 2]];\n          if (i0 >= 0 && i1 >= 0 && i2 >= 0) {\n            this._indices[3 * newTriCount] = i0;\n            this._indices[3 * newTriCount + 1] = i1;\n            this._indices[3 * newTriCount + 2] = i2;\n            ++newTriCount;\n          }\n        }\n        this._position = new Float32Array(this._position.buffer.slice(0, newVerCount * 3 * 4));\n        this._normals = new Float32Array(this._normals.buffer.slice(0, newVerCount * 3 * 4));\n        this._colors = new Float32Array(this._colors.buffer.slice(0, newVerCount * 3 * 4));\n        this._indices = new Uint32Array(this._indices.buffer.slice(0, newTriCount * 3 * 4));\n      }\n    }\n  }, {\n    key: \"toMesh\",\n    value: function toMesh() {\n      var geo = new BufferGeometry();\n      geo.setIndex(new BufferAttribute(this._indices, 1));\n      geo.setAttribute('position', new BufferAttribute(this._position, 3));\n      geo.setAttribute('normal', new BufferAttribute(this._normals, 3));\n      geo.setAttribute('color', new BufferAttribute(this._colors, 3));\n      geo.computeBoundingSphere();\n      return geo;\n    }\n  }]);\n  return IsoSurface;\n}();\n_defineProperty(IsoSurface, \"_triTable\", IsoSurfaceMarchCube.prototype.striIndicesMarchCube);\n_defineProperty(IsoSurface, \"_arrSize\", 12);\n_defineProperty(IsoSurface, \"_firstIndices\", [0, 1, 2, 3, 4, 5, 6, 7, 0, 1, 2, 3]);\n_defineProperty(IsoSurface, \"_secondIndices\", [1, 2, 3, 0, 5, 6, 7, 4, 4, 5, 6, 7]);\n_defineProperty(IsoSurface, \"_vertexList\", createArray(IsoSurface._arrSize));\n_defineProperty(IsoSurface, \"_normalList\", createArray(IsoSurface._arrSize));\n\nfunction _createSuper$1C(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1C(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1C() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VolumeSurfaceGeometry = function (_IsoSurfaceGeometry) {\n  _inherits(VolumeSurfaceGeometry, _IsoSurfaceGeometry);\n  var _super = _createSuper$1C(VolumeSurfaceGeometry);\n  function VolumeSurfaceGeometry() {\n    _classCallCheck(this, VolumeSurfaceGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(VolumeSurfaceGeometry, [{\n    key: \"_build\",\n    value: function _build() {\n      var params = this._opts;\n      this.numVoxels = [128, 128, 128];\n      this.xAxis = new Vector3(1.0, 0.0, 0.0);\n      this.yAxis = new Vector3(0.0, 1.0, 0.0);\n      this.zAxis = new Vector3(0.0, 0.0, 1.0);\n      this.origin = new Vector3(0.0, 0.0, 0.0);\n      this._visibilitySelector = params.visibilitySelector;\n      this._calcSurface(params);\n    }\n  }, {\n    key: \"_findMinMax\",\n    value: function _findMinMax(posRadArray) {\n      var itemSize = 4;\n      var itemsCount = posRadArray.length / itemSize;\n      var maxPosRad = [posRadArray[0], posRadArray[1], posRadArray[2], posRadArray[3]];\n      var minPosRad = [posRadArray[0], posRadArray[1], posRadArray[2], posRadArray[3]];\n      for (var i = 1; i < itemsCount; ++i) {\n        var ind = i * itemSize;\n        for (var itemIdx = 0; itemIdx < itemSize; ++itemIdx) {\n          var tmpVal = posRadArray[ind + itemIdx];\n          maxPosRad[itemIdx] = Math.max(tmpVal, maxPosRad[itemIdx]);\n          minPosRad[itemIdx] = Math.min(tmpVal, minPosRad[itemIdx]);\n        }\n      }\n      return {\n        maxPosRad: maxPosRad,\n        minPosRad: minPosRad\n      };\n    }\n  }, {\n    key: \"_findNumVoxels\",\n    value: function _findNumVoxels(posRadArray, params) {\n      var numVoxels = this.numVoxels;\n      var minMaxValues = this._findMinMax(posRadArray);\n      var minCoordRad = minMaxValues.minPosRad;\n      var maxCoordRad = minMaxValues.maxPosRad;\n      if (minCoordRad[3] > 4.0) {\n        params.gridSpacing *= minCoordRad[3];\n      }\n      var gridPadding = params.radScale * maxCoordRad[3] * 1.7;\n      var padRad = gridPadding;\n      padRad = 0.65 * Math.sqrt(4.0 / 3.0 * Math.PI * padRad * padRad * padRad);\n      gridPadding = Math.max(gridPadding, padRad);\n      var i = 0;\n      for (; i < 3; ++i) {\n        minCoordRad[i] -= gridPadding;\n        maxCoordRad[i] += gridPadding;\n      }\n      for (i = 0; i < 3; ++i) {\n        numVoxels[i] = Math.ceil((maxCoordRad[i] - minCoordRad[i]) / params.gridSpacing);\n      }\n      this.xAxis.x = (numVoxels[0] - 1) * params.gridSpacing;\n      this.yAxis.y = (numVoxels[1] - 1) * params.gridSpacing;\n      this.zAxis.z = (numVoxels[2] - 1) * params.gridSpacing;\n      var _minCoordRad = _slicedToArray(minCoordRad, 3);\n      this.origin.x = _minCoordRad[0];\n      this.origin.y = _minCoordRad[1];\n      this.origin.z = _minCoordRad[2];\n      return {\n        bbox: minMaxValues,\n        dim: numVoxels\n      };\n    }\n  }, {\n    key: \"_makeSurface\",\n    value: function _makeSurface(surface, params) {\n      var isoSurf = new IsoSurface();\n      isoSurf.compute(surface.volMap, this.origin, params.isoValue, 1);\n      isoSurf.vertexFusion(9, 9);\n      if (isoSurf._numTriangles > 0) {\n        isoSurf.setColorVolTex(surface.volTexMap, surface.atomMap, surface.atomWeightMap, this._visibilitySelector);\n        this.setIndex(new BufferAttribute(isoSurf._indices, 1));\n        this.setAttribute('position', new BufferAttribute(isoSurf._position, 3));\n        this.setAttribute('normal', new BufferAttribute(isoSurf._normals, 3));\n        this.setAttribute('color', new BufferAttribute(isoSurf._colors, 3));\n      } else {\n        this.setAttribute('position', new BufferAttribute(utils.allocateTyped(Float32Array, 0), 3));\n      }\n    }\n  }, {\n    key: \"_calcSurface\",\n    value: function _calcSurface(params) {\n      var packedArrays = {\n        posRad: this._posRad,\n        colors: this._colors,\n        atoms: this._opts.atoms\n      };\n      if (packedArrays.posRad.length === 0) {\n        return;\n      }\n      var boundaries = this._findNumVoxels(packedArrays.posRad, params);\n      var box = new Box3(this.origin, new Vector3(this.xAxis.x, this.yAxis.y, this.zAxis.z).add(this.origin));\n      var surface = this._computeSurface(packedArrays, box, boundaries, params);\n      this._makeSurface(surface, params);\n    }\n  }]);\n  return VolumeSurfaceGeometry;\n}(IsoSurfaceGeometry);\n\nfunction _createSuper$1B(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1B(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1B() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Volume$1 = chem.Volume;\nvar QuickSurfGeometry = function (_VolumeSurfaceGeometr) {\n  _inherits(QuickSurfGeometry, _VolumeSurfaceGeometr);\n  var _super = _createSuper$1B(QuickSurfGeometry);\n  function QuickSurfGeometry() {\n    _classCallCheck(this, QuickSurfGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(QuickSurfGeometry, [{\n    key: \"_computeSurface\",\n    value: function _computeSurface(packedArrays, box, boundaries, params) {\n      this._shiftByOrigin(packedArrays.posRad);\n      var surface = {\n        volMap: new Volume$1(Float32Array, this.numVoxels, box),\n        volTexMap: new Volume$1(Float32Array, this.numVoxels, box, 3)\n      };\n      if (this._visibilitySelector != null) {\n        surface.atomMap = [];\n        surface.atomWeightMap = new Volume$1(Float32Array, this.numVoxels, box);\n      }\n      this.gaussdensity(surface, packedArrays, null, params);\n      return surface;\n    }\n  }, {\n    key: \"gaussdensity\",\n    value: function gaussdensity(surface, packedArrays, atomicNum, params) {\n      var numAtoms = packedArrays.posRad.length / 4;\n      var posRad = packedArrays.posRad,\n          colors = packedArrays.colors;\n      var numVoxels = this.numVoxels;\n      var radScale = params.radScale,\n          gaussLim = params.gaussLim,\n          gridSpacing = params.gridSpacing;\n      var invIsoValue = 1.0 / params.isoValue;\n      var invGridSpacing = 1.0 / gridSpacing;\n      var maxVoxelX = numVoxels[0] - 1;\n      var maxVoxelY = numVoxels[1] - 1;\n      var maxVoxelZ = numVoxels[2] - 1;\n      var volMap = surface.volMap,\n          volTexMap = surface.volTexMap;\n      var volData = volMap.getData();\n      var strideX = volMap.getStrideX();\n      var volTexData = volTexMap.getData();\n      var texStrideX = volTexMap.getStrideX();\n      var atomWeightData;\n      if (this._visibilitySelector != null) {\n        atomWeightData = surface.atomWeightMap.getData();\n      }\n      var atomMap = surface.atomMap;\n      for (var i = 0; i < numAtoms; ++i) {\n        var ind = i * 4;\n        var scaledRad = posRad[ind + 3] * radScale;\n        var atomicNumFactor = atomicNum === null ? 1.0 : atomicNum[i];\n        var radInv = 1 / (2 * scaledRad * scaledRad);\n        var radLim = gaussLim * scaledRad;\n        var radLim2 = radLim * radLim;\n        radLim *= invGridSpacing;\n        var tmp = posRad[ind] * invGridSpacing;\n        var xMin = Math.max(tmp - radLim | 0, 0);\n        var xMax = Math.min(tmp + radLim | 0, maxVoxelX);\n        tmp = posRad[ind + 1] * invGridSpacing;\n        var yMin = Math.max(tmp - radLim | 0, 0);\n        var yMax = Math.min(tmp + radLim | 0, maxVoxelY);\n        tmp = posRad[ind + 2] * invGridSpacing;\n        var zMin = Math.max(tmp - radLim | 0, 0);\n        var zMax = Math.min(tmp + radLim | 0, maxVoxelZ);\n        var dz = zMin * gridSpacing - posRad[ind + 2];\n        for (var z = zMin; z <= zMax; ++z, dz += gridSpacing) {\n          var dy = yMin * gridSpacing - posRad[ind + 1];\n          for (var y = yMin; y <= yMax; ++y, dy += gridSpacing) {\n            var dy2dz2 = dy * dy + dz * dz;\n            if (dy2dz2 >= radLim2) {\n              continue;\n            }\n            var addr = volMap.getDirectIdx(xMin, y, z);\n            var texAddr = volTexMap.getDirectIdx(xMin, y, z);\n            var dx = xMin * gridSpacing - posRad[ind];\n            for (var x = xMin; x <= xMax; ++x, dx += gridSpacing, addr += strideX, texAddr += texStrideX) {\n              var r2 = dx * dx + dy2dz2;\n              var expVal = -r2 * radInv;\n              var density = Math.exp(expVal) * atomicNumFactor;\n              if (this._visibilitySelector != null && density > atomWeightData[addr]) {\n                atomWeightData[addr] = density;\n                atomMap[addr] = packedArrays.atoms[i];\n              }\n              volData[addr] += density;\n              density *= invIsoValue;\n              var colInd = i * 3;\n              volTexData[texAddr] += density * colors[colInd];\n              volTexData[texAddr + 1] += density * colors[colInd + 1];\n              volTexData[texAddr + 2] += density * colors[colInd + 2];\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_shiftByOrigin\",\n    value: function _shiftByOrigin(posRadArray) {\n      var originX = this.origin.x;\n      var originY = this.origin.y;\n      var originZ = this.origin.z;\n      var itemSize = 4;\n      var itemsCount = posRadArray.length / itemSize;\n      for (var i = 0; i < itemsCount; ++i) {\n        var ind = i * itemSize;\n        posRadArray[ind] -= originX;\n        posRadArray[ind + 1] -= originY;\n        posRadArray[ind + 2] -= originZ;\n      }\n    }\n  }]);\n  return QuickSurfGeometry;\n}(VolumeSurfaceGeometry);\n\nfunction AVHash(posRad, min, max, maxDistance) {\n  var itemSize = 4;\n  var nAtoms = posRad.length / itemSize;\n  var minX = min[0];\n  var minY = min[1];\n  var minZ = min[2];\n  var maxX = max[0];\n  var maxY = max[1];\n  var maxZ = max[2];\n  function hashFunc(w, minW) {\n    return Math.floor((w - minW) / maxDistance);\n  }\n  var iDim = hashFunc(maxX, minX) + 1;\n  var jDim = hashFunc(maxY, minY) + 1;\n  var kDim = hashFunc(maxZ, minZ) + 1;\n  var nCells = iDim * jDim * kDim;\n  var jkDim = jDim * kDim;\n  var cellID = function cellID(x, y, z) {\n    return (hashFunc(x, minX) * jDim + hashFunc(y, minY)) * kDim + hashFunc(z, minZ);\n  };\n  var preHash = [];\n  var i;\n  var cid;\n  for (i = 0; i < nAtoms; i++) {\n    var iIdx = itemSize * i;\n    cid = cellID(posRad[iIdx], posRad[iIdx + 1], posRad[iIdx + 2]);\n    if (preHash[cid] === undefined) {\n      preHash[cid] = [i];\n    } else {\n      preHash[cid].push(i);\n    }\n  }\n  var cellOffsets = utils.allocateTyped(Uint32Array, nCells);\n  var cellLengths = utils.allocateTyped(Uint16Array, nCells);\n  var data = utils.allocateTyped(Uint32Array, nAtoms);\n  var offset = 0;\n  var maxCellLength = 0;\n  var j;\n  for (i = 0; i < nCells; i++) {\n    var start = cellOffsets[i] = offset;\n    var subArray = preHash[i];\n    if (subArray !== undefined) {\n      for (j = 0; j < subArray.length; j++) {\n        data[offset] = subArray[j];\n        offset++;\n      }\n    }\n    var cellLength = offset - start;\n    cellLengths[i] = cellLength;\n    if (cellLength > maxCellLength) {\n      maxCellLength = cellLength;\n    }\n  }\n  this.neighbourListLength = 27 * maxCellLength + 1;\n  this.withinRadii = function (x, y, z, rExtra, out) {\n    var outIdx = 0;\n    var nearI = hashFunc(x, minX);\n    var nearJ = hashFunc(y, minY);\n    var nearK = hashFunc(z, minZ);\n    var loI = Math.max(0, nearI - 1);\n    var loJ = Math.max(0, nearJ - 1);\n    var loK = Math.max(0, nearK - 1);\n    var hiI = Math.min(iDim - 1, nearI + 1);\n    var hiJ = Math.min(jDim - 1, nearJ + 1);\n    var hiK = Math.min(kDim - 1, nearK + 1);\n    for (i = loI; i <= hiI; ++i) {\n      var iOffset = i * jkDim;\n      for (j = loJ; j <= hiJ; ++j) {\n        var jOffset = j * kDim;\n        for (var k = loK; k <= hiK; ++k) {\n          cid = iOffset + jOffset + k;\n          var cellStart = cellOffsets[cid];\n          var cellEnd = cellStart + cellLengths[cid];\n          for (var dataIndex = cellStart; dataIndex < cellEnd; dataIndex++) {\n            var atomIndex = data[dataIndex];\n            var baseIndex = itemSize * atomIndex;\n            var dx = posRad[baseIndex] - x;\n            var dy = posRad[baseIndex + 1] - y;\n            var dz = posRad[baseIndex + 2] - z;\n            var rSum = posRad[baseIndex + 3] + rExtra;\n            if (dx * dx + dy * dy + dz * dz <= rSum * rSum) {\n              out[outIdx++] = data[dataIndex];\n            }\n          }\n        }\n      }\n    }\n    out[outIdx] = -1;\n  };\n}\nfunction ContactSurface(packedArrays, boundaries, params, _indexList) {\n  var itemSize = 4;\n  var posRad = packedArrays.posRad,\n      colors = packedArrays.colors,\n      atoms = packedArrays.atoms;\n  var nAtoms = posRad.length / itemSize;\n  var bbox = boundaries.bbox;\n  var min = bbox.minPosRad;\n  var max = bbox.maxPosRad;\n  var r2;\n  var maxRadius;\n  var probeRadius;\n  var scaleFactor;\n  var probePositions;\n  var lastClip = -1;\n  var dim;\n  var grid;\n  var volTex;\n  var weights;\n  var weightsMap = null;\n  var atomMap = null;\n  var visibilitySelector = null;\n  var gridx;\n  var gridy;\n  var gridz;\n  var sinTable;\n  var cosTable;\n  var hash;\n  var neighbours;\n  var mid = new Vector3(0.0, 0.0, 0.0);\n  var n1 = new Vector3(0.0, 0.0, 0.0);\n  var n2 = new Vector3(0.0, 0.0, 0.0);\n  var ngTorus;\n  function uniformArray(TypeName, n, a) {\n    var array = utils.allocateTyped(TypeName, n);\n    for (var innI = 0; innI < n; ++innI) {\n      array[innI] = a;\n    }\n    return array;\n  }\n  function fillGridDim(a, start, step) {\n    for (var innI = 0; innI < a.length; innI++) {\n      a[innI] = start + step * innI;\n    }\n  }\n  function initializeGrid() {\n    scaleFactor = params.scaleFactor;\n    dim = boundaries.dim;\n    ngTorus = Math.min(5, 2 + Math.floor(probeRadius * scaleFactor));\n    var gridSize = dim[0] * dim[1] * dim[2];\n    grid = uniformArray(Float32Array, gridSize, -1001.0);\n    volTex = utils.allocateTyped(Float32Array, gridSize * 3);\n    weights = utils.allocateTyped(Float32Array, gridSize);\n    if (visibilitySelector) {\n      weightsMap = utils.allocateTyped(Float32Array, gridSize);\n      atomMap = [];\n    }\n    gridx = utils.allocateTyped(Float32Array, dim[0]);\n    gridy = utils.allocateTyped(Float32Array, dim[1]);\n    gridz = utils.allocateTyped(Float32Array, dim[2]);\n    fillGridDim(gridx, min[0], 1 / scaleFactor);\n    fillGridDim(gridy, min[1], 1 / scaleFactor);\n    fillGridDim(gridz, min[2], 1 / scaleFactor);\n  }\n  function initializeAngleTables() {\n    var theta = 0.0;\n    var step = 2 * Math.PI / probePositions;\n    cosTable = utils.allocateTyped(Float32Array, probePositions);\n    sinTable = utils.allocateTyped(Float32Array, probePositions);\n    for (var innI = 0; innI < probePositions; innI++) {\n      cosTable[innI] = Math.cos(theta);\n      sinTable[innI] = Math.sin(theta);\n      theta += step;\n    }\n  }\n  function initializeHash() {\n    hash = new AVHash(posRad, min, max, 2.01 * maxRadius);\n    neighbours = new Int32Array(hash.neighbourListLength);\n  }\n  function init() {\n    probeRadius = params.probeRadius;\n    scaleFactor = params.scaleFactor;\n    probePositions = params.probePositions;\n    visibilitySelector = params.visibilitySelector;\n    r2 = utils.allocateTyped(Float32Array, nAtoms);\n    maxRadius = 0;\n    for (var innI = 0; innI < nAtoms; ++innI) {\n      var rExt = posRad[innI * itemSize + 3] += probeRadius;\n      if (rExt > maxRadius) {\n        maxRadius = rExt;\n      }\n      r2[innI] = rExt * rExt;\n    }\n    initializeGrid();\n    initializeAngleTables();\n    initializeHash();\n    lastClip = -1;\n  }\n  function singleAtomObscures(ai, innX, innY, innZ) {\n    var innCI = itemSize * ai;\n    var ra2 = r2[ai];\n    var dx = posRad[innCI] - innX;\n    var dy = posRad[innCI + 1] - innY;\n    var dz = posRad[innCI + 2] - innZ;\n    var d2 = dx * dx + dy * dy + dz * dz;\n    return d2 < ra2;\n  }\n  function obscured(innX, innY, innZ, a, b) {\n    var ai;\n    if (lastClip !== -1) {\n      ai = lastClip;\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        return ai;\n      }\n      lastClip = -1;\n    }\n    var ni = 0;\n    ai = neighbours[ni];\n    while (ai >= 0) {\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        lastClip = ai;\n        return ai;\n      }\n      ai = neighbours[++ni];\n    }\n    lastClip = -1;\n    return -1;\n  }\n  function projectPoints() {\n    var maxRad = 4.0;\n    var sigma = maxRad / 3;\n    var sigma2Inv = 1 / (2 * sigma * sigma);\n    for (var innI = 0; innI < nAtoms; innI++) {\n      var innCI = itemSize * innI;\n      var ax = posRad[innCI];\n      var ay = posRad[innCI + 1];\n      var az = posRad[innCI + 2];\n      var ar = posRad[innCI + 3];\n      var ar2 = r2[innI];\n      hash.withinRadii(ax, ay, az, ar, neighbours);\n      var ng = Math.ceil(ar * scaleFactor);\n      var iax = Math.floor(scaleFactor * (ax - min[0]));\n      var iay = Math.floor(scaleFactor * (ay - min[1]));\n      var iaz = Math.floor(scaleFactor * (az - min[2]));\n      var minx = Math.max(0, iax - ng);\n      var miny = Math.max(0, iay - ng);\n      var minz = Math.max(0, iaz - ng);\n      var maxx = Math.min(dim[0], iax + ng + 2);\n      var maxy = Math.min(dim[1], iay + ng + 2);\n      var maxz = Math.min(dim[2], iaz + ng + 2);\n      var colIdx = innI * 3;\n      var cr = colors[colIdx];\n      var cg = colors[colIdx + 1];\n      var cb = colors[colIdx + 2];\n      for (var iz = minz; iz < maxz; iz++) {\n        var dz = gridz[iz] - az;\n        var zOffset = dim[1] * dim[0] * iz;\n        for (var iy = miny; iy < maxy; iy++) {\n          var dy = gridy[iy] - ay;\n          var dzy2 = dz * dz + dy * dy;\n          var zyOffset = zOffset + dim[0] * iy;\n          for (var ix = minx; ix < maxx; ix++) {\n            var idx = ix + zyOffset;\n            var dx = gridx[ix] - ax;\n            var d2 = dzy2 + dx * dx;\n            if (d2 < ar2) {\n              var w = Math.exp(-d2 * sigma2Inv);\n              var cIdx = idx * 3;\n              volTex[cIdx] += cr * w;\n              volTex[cIdx + 1] += cg * w;\n              volTex[cIdx + 2] += cb * w;\n              weights[idx] += w;\n              if (visibilitySelector !== null && w > weightsMap[idx]) {\n                weightsMap[idx] = w;\n                atomMap[idx] = atoms[innI];\n              }\n              if (grid[idx] < 0.0) {\n                grid[idx] = -grid[idx];\n              }\n              var d = Math.sqrt(d2);\n              var ap = ar / d;\n              var spx = dx * ap;\n              var spy = dy * ap;\n              var spz = dz * ap;\n              spx += ax;\n              spy += ay;\n              spz += az;\n              if (obscured(spx, spy, spz, innI, -1) === -1) {\n                var dd = ar - d;\n                if (dd < grid[idx]) {\n                  grid[idx] = dd;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  function normalToLine(out, p) {\n    out.x = out.y = out.z = 1.0;\n    if (p.x !== 0) {\n      out.x = (p.y + p.z) / -p.x;\n    } else if (p.y !== 0) {\n      out.y = (p.x + p.z) / -p.y;\n    } else if (p.z !== 0) {\n      out.z = (p.x + p.y) / -p.z;\n    }\n    return out;\n  }\n  function projectTorus(a, b) {\n    var aIdx = itemSize * a;\n    var bIdx = itemSize * b;\n    var xa = posRad[aIdx];\n    var ya = posRad[aIdx + 1];\n    var za = posRad[aIdx + 2];\n    var r1 = posRad[aIdx + 3];\n    var dx = mid.x = posRad[bIdx] - xa;\n    var dy = mid.y = posRad[bIdx + 1] - ya;\n    var dz = mid.z = posRad[bIdx + 2] - za;\n    var innR2 = posRad[bIdx + 3];\n    var d2 = dx * dx + dy * dy + dz * dz;\n    var d = Math.sqrt(d2);\n    var cosA = (r1 * r1 + d * d - innR2 * innR2) / (2.0 * r1 * d);\n    var dmp = r1 * cosA;\n    mid.normalize();\n    normalToLine(n1, mid);\n    n1.normalize();\n    n2.crossVectors(mid, n1);\n    n2.normalize();\n    var rInt = Math.sqrt(r1 * r1 - dmp * dmp);\n    n1.multiplyScalar(rInt);\n    n2.multiplyScalar(rInt);\n    mid.multiplyScalar(dmp);\n    mid.x += xa;\n    mid.y += ya;\n    mid.z += za;\n    lastClip = -1;\n    var ng = ngTorus;\n    for (var innI = 0; innI < probePositions; innI++) {\n      var cost = cosTable[innI];\n      var sint = sinTable[innI];\n      var px = mid.x + cost * n1.x + sint * n2.x;\n      var py = mid.y + cost * n1.y + sint * n2.y;\n      var pz = mid.z + cost * n1.z + sint * n2.z;\n      if (obscured(px, py, pz, a, b) === -1) {\n        var iax = Math.floor(scaleFactor * (px - min[0]));\n        var iay = Math.floor(scaleFactor * (py - min[1]));\n        var iaz = Math.floor(scaleFactor * (pz - min[2]));\n        var minx = Math.max(0, iax - ng);\n        var miny = Math.max(0, iay - ng);\n        var minz = Math.max(0, iaz - ng);\n        var maxx = Math.min(dim[0], iax + ng + 2);\n        var maxy = Math.min(dim[1], iay + ng + 2);\n        var maxz = Math.min(dim[2], iaz + ng + 2);\n        for (var iz = minz; iz < maxz; iz++) {\n          dz = pz - gridz[iz];\n          var zOffset = dim[1] * dim[0] * iz;\n          for (var iy = miny; iy < maxy; iy++) {\n            dy = py - gridy[iy];\n            var dzy2 = dz * dz + dy * dy;\n            var zyOffset = zOffset + dim[0] * iy;\n            for (var ix = minx; ix < maxx; ix++) {\n              dx = px - gridx[ix];\n              d2 = dzy2 + dx * dx;\n              var idx = ix + zyOffset;\n              var current = grid[idx];\n              if (current > 0.0 && d2 < current * current) {\n                grid[idx] = Math.sqrt(d2);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  function projectTorii() {\n    for (var innI = 0; innI < nAtoms; innI++) {\n      var innIdx = itemSize * innI;\n      hash.withinRadii(posRad[innIdx], posRad[innIdx + 1], posRad[innIdx + 2], posRad[innIdx + 3], neighbours);\n      var ia = 0;\n      var ni = neighbours[ia];\n      while (ni >= 0) {\n        if (innI < ni) {\n          projectTorus(innI, ni);\n        }\n        ni = neighbours[++ia];\n      }\n    }\n  }\n  function fixNegatives() {\n    for (var innI = 0, n = grid.length; innI < n; innI++) {\n      if (grid[innI] < 0) grid[innI] = 0;\n      var w = weights[innI];\n      if (w > 0) {\n        w = 1 / w;\n        var innInnI = innI * 3;\n        volTex[innInnI] *= w;\n        volTex[innInnI + 1] *= w;\n        volTex[innInnI + 2] *= w;\n      }\n    }\n  }\n  function getVolume() {\n    console.time('ContactSurface.getVolume');\n    console.time('ContactSurface.init');\n    init();\n    console.timeEnd('ContactSurface.init');\n    console.time('ContactSurface.projectPoints');\n    projectPoints();\n    console.timeEnd('ContactSurface.projectPoints');\n    console.time('ContactSurface.projectTorii');\n    projectTorii();\n    console.timeEnd('ContactSurface.projectTorii');\n    fixNegatives();\n    console.timeEnd('ContactSurface.getVolume');\n  }\n  this.build = function () {\n    getVolume();\n    this.volTexMap = volTex;\n    this.weightsMap = weightsMap;\n    this.atomMap = atomMap;\n    this.volMap = grid;\n  };\n}\n\nfunction _createSuper$1A(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1A(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1A() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Volume = chem.Volume;\nvar ContactSurfaceGeometry = function (_VolumeSurfaceGeometr) {\n  _inherits(ContactSurfaceGeometry, _VolumeSurfaceGeometr);\n  var _super = _createSuper$1A(ContactSurfaceGeometry);\n  function ContactSurfaceGeometry() {\n    _classCallCheck(this, ContactSurfaceGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ContactSurfaceGeometry, [{\n    key: \"_computeSurface\",\n    value: function _computeSurface(packedArrays, box, boundaries, params) {\n      var contactSurface = new ContactSurface(packedArrays, boundaries, params);\n      contactSurface.build();\n      var surface = {\n        volMap: new Volume(Float32Array, this.numVoxels, box, 1, contactSurface.volMap),\n        volTexMap: new Volume(Float32Array, this.numVoxels, box, 3, contactSurface.volTexMap),\n        atomMap: contactSurface.atomMap,\n        atomWeightMap: new Volume(Float32Array, this.numVoxels, box, 1, contactSurface.weightsMap)\n      };\n      return surface;\n    }\n  }]);\n  return ContactSurfaceGeometry;\n}(VolumeSurfaceGeometry);\n\nvar IsoSurfaceAtomColored = _createClass(function IsoSurfaceAtomColored(vCenter, radiusAt) {\n  _classCallCheck(this, IsoSurfaceAtomColored);\n  this.coord = new Vector3();\n  this.coord.copy(vCenter);\n  this.radius = radiusAt;\n  this.colorX = 0.99999;\n  this.colorY = 0.0;\n  this.colorZ = 0.0;\n  this.atomType = 0;\n  this.srcAtom = null;\n});\n\nvar IsosurfaceBuildNormals = function () {\n  function IsosurfaceBuildNormals(numAtoms, atoms, vBoxMin, vBoxMax, probeRadius) {\n    _classCallCheck(this, IsosurfaceBuildNormals);\n    this._numAtoms = numAtoms;\n    this._atoms = atoms;\n    this._vBoxMin = new Vector3();\n    this._vBoxMax = new Vector3();\n    this._vBoxMin.copy(vBoxMin);\n    this._vBoxMax.copy(vBoxMax);\n    this._probeRadius = probeRadius;\n    this._atomsList = null;\n    this._voxelList = null;\n  }\n  _createClass(IsosurfaceBuildNormals, [{\n    key: \"createVoxels\",\n    value: function createVoxels() {\n      var numAtomsRefs;\n      var rad;\n      var ATOM_VOXEL_REF_SCALE = 4.5;\n      var numAtoms = this._numAtoms | 0;\n      var atoms = this._atoms;\n      var dx = this._vBoxMax.x - this._vBoxMin.x;\n      var dy = this._vBoxMax.y - this._vBoxMin.y;\n      var dz = this._vBoxMax.z - this._vBoxMin.z;\n      var w = dx < dy ? dx : dy;\n      w = dz < w ? dz : w;\n      var maxRad = 0.0;\n      var aveRad = 0.0;\n      var i;\n      for (i = 0; i < numAtoms; i++) {\n        rad = (atoms[i].radius + this._probeRadius) * 2.0;\n        maxRad = rad > maxRad ? rad : maxRad;\n        aveRad += rad;\n      }\n      var numCells = Math.floor(w / maxRad);\n      if (numCells < 2) {\n        numCells = 2;\n      }\n      aveRad /= numAtoms;\n      this._numCells = numCells;\n      this._aveRad = aveRad;\n      this._maxRad = maxRad;\n      var side = numCells;\n      var side2 = numCells * numCells;\n      var side3 = numCells * numCells * numCells;\n      var xScale = this._xScale = 1.0 / (this._vBoxMax.x - this._vBoxMin.x);\n      var yScale = this._yScale = 1.0 / (this._vBoxMax.y - this._vBoxMin.y);\n      var zScale = this._zScale = 1.0 / (this._vBoxMax.z - this._vBoxMin.z);\n      var maxAtomsRefs = 0;\n      var xNumVoxMult = xScale * numCells;\n      var yNumVoxMult = yScale * numCells;\n      var zNumVoxMult = zScale * numCells;\n      for (i = 0; i < numAtoms; i++) {\n        var radAffect = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE;\n        var diaAffect = radAffect * 2.0;\n        var numVoxX = Math.floor(xNumVoxMult * diaAffect + 0.8);\n        var numVoxY = Math.floor(yNumVoxMult * diaAffect + 0.8);\n        var numVoxZ = Math.floor(zNumVoxMult * diaAffect + 0.8);\n        numVoxX++;\n        numVoxY++;\n        numVoxZ++;\n        maxAtomsRefs += numVoxX * numVoxY * numVoxZ;\n      }\n      this._voxelList = utils.allocateTyped(Int32Array, side3);\n      var atomsList = [];\n      atomsList.length = maxAtomsRefs;\n      if (this._voxelList === null || atomsList === null) {\n        return 0 - 1;\n      }\n      for (i = 0; i < side3; i++) {\n        this._voxelList[i] = -1;\n      }\n      numAtomsRefs = 0;\n      for (i = 0; i < numAtoms; i++) {\n        rad = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE;\n        var xIndMin = Math.floor((atoms[i].coord.x - this._vBoxMin.x - rad) * numCells * xScale);\n        var yIndMin = Math.floor((atoms[i].coord.y - this._vBoxMin.y - rad) * numCells * yScale);\n        var zIndMin = Math.floor((atoms[i].coord.z - this._vBoxMin.z - rad) * numCells * zScale);\n        var xIndMax = Math.floor((atoms[i].coord.x - this._vBoxMin.x + rad) * numCells * xScale);\n        var yIndMax = Math.floor((atoms[i].coord.y - this._vBoxMin.y + rad) * numCells * yScale);\n        var zIndMax = Math.floor((atoms[i].coord.z - this._vBoxMin.z + rad) * numCells * zScale);\n        xIndMin = xIndMin >= 0 ? xIndMin : 0;\n        yIndMin = yIndMin >= 0 ? yIndMin : 0;\n        zIndMin = zIndMin >= 0 ? zIndMin : 0;\n        xIndMax = xIndMax < numCells ? xIndMax : numCells - 1;\n        yIndMax = yIndMax < numCells ? yIndMax : numCells - 1;\n        zIndMax = zIndMax < numCells ? zIndMax : numCells - 1;\n        for (var z = zIndMin; z <= zIndMax; z++) {\n          for (var y = yIndMin; y <= yIndMax; y++) {\n            for (var x = xIndMin; x <= xIndMax; x++) {\n              var indVoxel = x + y * side + z * side2;\n              if (this._voxelList[indVoxel] < 0) {\n                atomsList[numAtomsRefs * 2 + 0] = i;\n                atomsList[numAtomsRefs * 2 + 1] = 0 - 1;\n                this._voxelList[indVoxel] = numAtomsRefs;\n                numAtomsRefs++;\n                continue;\n              }\n              var indexNext = this._voxelList[indVoxel];\n              this._voxelList[indVoxel] = numAtomsRefs;\n              atomsList[numAtomsRefs * 2 + 0] = i;\n              atomsList[numAtomsRefs * 2 + 1] = indexNext;\n              numAtomsRefs++;\n            }\n          }\n        }\n      }\n      this._atomsList = Int32Array.from(atomsList);\n      return 0;\n    }\n  }, {\n    key: \"destroyVoxels\",\n    value: function destroyVoxels() {\n      this._atomsList = null;\n      this._voxelList = null;\n      this._atoms = null;\n      this._vertices = null;\n      this._vBoxMin = null;\n      this._vBoxMax = null;\n    }\n  }, {\n    key: \"forEachRelatedAtom\",\n    value: function forEachRelatedAtom(point, process) {\n      var xInd = Math.floor((point.x - this._vBoxMin.x) * this._numCells * this._xScale);\n      var yInd = Math.floor((point.y - this._vBoxMin.y) * this._numCells * this._yScale);\n      var zInd = Math.floor((point.z - this._vBoxMin.z) * this._numCells * this._zScale);\n      var indVoxel = xInd + yInd * this._numCells + zInd * this._numCells * this._numCells;\n      var atoms = this._atoms;\n      for (var ref = this._voxelList[indVoxel]; ref >= 0; ref = this._atomsList[ref * 2 + 1]) {\n        var indexAtom = this._atomsList[ref * 2];\n        process(atoms[indexAtom]);\n      }\n    }\n  }, {\n    key: \"getClosestAtom\",\n    value: function getClosestAtom(point) {\n      var closest = null;\n      var minDist2 = Number.MAX_VALUE;\n      this.forEachRelatedAtom(point, function (atom) {\n        var dist2 = point.distanceToSquared(atom.coord);\n        if (dist2 < minDist2) {\n          minDist2 = dist2;\n          closest = atom;\n        }\n      });\n      return closest;\n    }\n  }, {\n    key: \"buildNormals\",\n    value: function buildNormals(numVertices, vertices, normals) {\n      var self = this;\n      var numCloseAtoms = 0;\n      var vx = 0;\n      var vy = 0;\n      var vz = 0;\n      var dist2;\n      var vNormalX = 0;\n      var vNormalY = 0;\n      var vNormalZ = 0;\n      var koef = 0;\n      var w = 0;\n      var r25 = 2.5;\n      var r01 = 0.1;\n      var maxRadAffect = this._aveRad * r25;\n      var maxRadAffect2 = maxRadAffect * maxRadAffect;\n      var expScale = -this._aveRad * r01;\n      var gatherNormals = function gatherNormals(atom) {\n        var dx = vx - atom.coord.x;\n        var dy = vy - atom.coord.y;\n        var dz = vz - atom.coord.z;\n        dist2 = dx * dx + dy * dy + dz * dz;\n        if (dist2 > maxRadAffect2) {\n          return;\n        }\n        var rad = atom.radius + self._probeRadius;\n        koef = dist2 - rad * rad;\n        if (koef < 0.0) {\n          koef = -koef;\n        }\n        w = Math.exp(expScale * koef);\n        vNormalX += dx * w;\n        vNormalY += dy * w;\n        vNormalZ += dz * w;\n        numCloseAtoms++;\n      };\n      for (var i = 0; i < numVertices; i++) {\n        vx = vertices[i].x;\n        vy = vertices[i].y;\n        vz = vertices[i].z;\n        numCloseAtoms = 0;\n        vNormalX = vNormalY = vNormalZ = 0.0;\n        this.forEachRelatedAtom(vertices[i], gatherNormals);\n        dist2 = vNormalX * vNormalX + vNormalY * vNormalY + vNormalZ * vNormalZ;\n        if (numCloseAtoms > 0) {\n          koef = 1.0 / Math.sqrt(dist2);\n          vNormalX *= koef;\n          vNormalY *= koef;\n          vNormalZ *= koef;\n        }\n        normals[i].x = vNormalX;\n        normals[i].y = vNormalY;\n        normals[i].z = vNormalZ;\n      }\n      return 0;\n    }\n  }, {\n    key: \"buildColors\",\n    value: function buildColors(numVertices, vertices, colors, radiusColorSmoothness) {\n      var self = this;\n      var vx = 0.0;\n      var vy = 0.0;\n      var vz = 0.0;\n      var koef = 0.0;\n      var w = 0.0;\n      var KOEF_ADD = 0.8;\n      var maxRadAffect = radiusColorSmoothness;\n      var maxRadAffect2 = maxRadAffect * maxRadAffect;\n      var colorsClose = [];\n      var weights = [];\n      var weightsSum = 0;\n      var gatherColors = function gatherColors(atom) {\n        var dx = vx - atom.coord.x;\n        var dy = vy - atom.coord.y;\n        var dz = vz - atom.coord.z;\n        var dist2 = dx * dx + dy * dy + dz * dz;\n        if (dist2 > maxRadAffect2) {\n          return;\n        }\n        var rad = atom.radius + self._probeRadius;\n        koef = dist2 - rad * rad;\n        if (koef < 0.0) {\n          koef = -koef;\n        }\n        w = 1.0 / (KOEF_ADD + koef);\n        colorsClose.push([atom.colorX, atom.colorY, atom.colorZ]);\n        weights.push(w);\n        weightsSum += w;\n      };\n      for (var i = 0; i < numVertices; i++) {\n        vx = vertices[i].x;\n        vy = vertices[i].y;\n        vz = vertices[i].z;\n        colorsClose = [];\n        weights = [];\n        weightsSum = 0;\n        this.forEachRelatedAtom(vertices[i], gatherColors);\n        for (var j = 0; j < colorsClose.length; ++j) {\n          var weightNormalized = weights[j] / weightsSum;\n          colors[i].x += colorsClose[j][0] * weightNormalized;\n          colors[i].y += colorsClose[j][1] * weightNormalized;\n          colors[i].z += colorsClose[j][2] * weightNormalized;\n        }\n      }\n      return 0;\n    }\n  }]);\n  return IsosurfaceBuildNormals;\n}();\n\nvar IsoSurfaceGeo = function () {\n  function IsoSurfaceGeo(maxNumVertices, maxNumTriangles, needVertexColors) {\n    _classCallCheck(this, IsoSurfaceGeo);\n    this._maxNumVertices = maxNumVertices;\n    this._maxNumTriangles = maxNumTriangles;\n    this._vertices = new Array(maxNumVertices);\n    this._normals = new Array(maxNumVertices);\n    this._colors = null;\n    if (needVertexColors) {\n      this._colors = new Array(maxNumVertices);\n    }\n    this._indices = new Array(maxNumTriangles * (1 + 2));\n    this._numVertices = 0;\n    this._numTriangles = 0;\n    var i;\n    for (i = 0; i < maxNumVertices; i++) {\n      this._vertices[i] = new Vector3();\n      this._normals[i] = new Vector3();\n    }\n    for (i = 0; i < maxNumTriangles * (1 + 2); i++) {\n      this._indices[i] = -1;\n    }\n    if (needVertexColors) {\n      for (i = 0; i < maxNumVertices; i++) {\n        this._colors[i] = new Vector3();\n      }\n    }\n  }\n  _createClass(IsoSurfaceGeo, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this._vertices = null;\n      this._normals = null;\n      this._indices = null;\n    }\n  }]);\n  return IsoSurfaceGeo;\n}();\n\nfunction _createSuper$1z(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1z(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1z() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar COLOR_SIZE = 3;\nvar HASH_SIZE = 32768;\nvar Element$9 = chem.Element;\nvar SSIsosurfaceGeometry = function (_IsoSurfaceGeometry) {\n  _inherits(SSIsosurfaceGeometry, _IsoSurfaceGeometry);\n  var _super = _createSuper$1z(SSIsosurfaceGeometry);\n  function SSIsosurfaceGeometry() {\n    _classCallCheck(this, SSIsosurfaceGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SSIsosurfaceGeometry, [{\n    key: \"_build\",\n    value: function _build() {\n      this._innerBuild();\n      var geoOut = this.getGeo();\n      this.destroy();\n      this._fromGeo(geoOut);\n    }\n  }, {\n    key: \"_fromGeo\",\n    value: function _fromGeo(geoOut) {\n      var colors = null;\n      var positions = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n      var normals = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n      if (geoOut._colors !== null) {\n        colors = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n      }\n      var indices = utils.allocateTyped(Uint32Array, (1 + 2) * geoOut._numTriangles);\n      for (var i = 0, j = 0; i < geoOut._numVertices; i++) {\n        positions[j + 0] = geoOut._vertices[i].x;\n        positions[j + 1] = geoOut._vertices[i].y;\n        positions[j + 2] = geoOut._vertices[i].z;\n        normals[j + 0] = geoOut._normals[i].x;\n        normals[j + 1] = geoOut._normals[i].y;\n        normals[j + 2] = geoOut._normals[i].z;\n        j += 3;\n      }\n      if (colors !== null) {\n        for (var _i = 0, _j = 0; _i < geoOut._numVertices; _i++, _j += 3) {\n          colors[_j + 0] = geoOut._colors[_i].x;\n          colors[_j + 1] = geoOut._colors[_i].y;\n          colors[_j + 2] = geoOut._colors[_i].z;\n        }\n      }\n      var numTri3 = geoOut._numTriangles * (1 + 2);\n      for (var _i2 = 0; _i2 < numTri3; _i2++) {\n        indices[_i2] = geoOut._indices[_i2];\n      }\n      this.setIndex(new BufferAttribute(indices, 1));\n      this.setAttribute('position', new BufferAttribute(positions, 3));\n      this.setAttribute('normal', new BufferAttribute(normals, 3));\n      this.setAttribute('color', new BufferAttribute(colors, 3));\n      this.computeBoundingBox();\n      this.computeBoundingSphere();\n      geoOut.destroy();\n    }\n  }, {\n    key: \"convertToAtomsColored\",\n    value: function convertToAtomsColored(packedArrays, atomsColored) {\n      var atoms = packedArrays.atoms,\n          colors = packedArrays.colors;\n      for (var i = 0, numAtoms = atoms.length; i < numAtoms; i++) {\n        var vCenter = atoms[i].position;\n        var radius = atoms[i].element.radius;\n        atomsColored[i] = new IsoSurfaceAtomColored(vCenter, radius);\n        var nm = atoms[i].element.number;\n        atomsColored[i].atomType = this.getType(nm);\n        var cIdx = COLOR_SIZE * i;\n        atomsColored[i].colorX = colors[cIdx++];\n        atomsColored[i].colorY = colors[cIdx++];\n        atomsColored[i].colorZ = colors[cIdx];\n        atomsColored[i].srcAtom = atoms[i];\n      }\n    }\n  }, {\n    key: \"getGeo\",\n    value: function getGeo() {\n      return this.geoOut;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.atoms = null;\n      this.hashLines = null;\n      this.hashEntries = null;\n    }\n  }, {\n    key: \"getBoundingBox\",\n    value: function getBoundingBox(atoms, vBoxMin, vBoxMax) {\n      var bigNum = 10000000.0;\n      vBoxMin.x = vBoxMin.y = vBoxMin.z = bigNum;\n      vBoxMax.x = vBoxMax.y = vBoxMax.z = 0 - bigNum;\n      var probeRadius2 = this.probeRadius * this.atomRadiusScale;\n      var radMax = 0.0;\n      for (var i = 0, num = atoms.length; i < num; i++) {\n        var vCenter = atoms[i].coord;\n        var rad = atoms[i].radius + probeRadius2;\n        radMax = rad > radMax ? rad : radMax;\n        if (vCenter.x - rad < vBoxMin.x) {\n          vBoxMin.x = vCenter.x - rad;\n        }\n        if (vCenter.y - rad < vBoxMin.y) {\n          vBoxMin.y = vCenter.y - rad;\n        }\n        if (vCenter.z - rad < vBoxMin.z) {\n          vBoxMin.z = vCenter.z - rad;\n        }\n        if (vCenter.x + rad > vBoxMax.x) {\n          vBoxMax.x = vCenter.x + rad;\n        }\n        if (vCenter.y + rad > vBoxMax.y) {\n          vBoxMax.y = vCenter.y + rad;\n        }\n        if (vCenter.z + rad > vBoxMax.z) {\n          vBoxMax.z = vCenter.z + rad;\n        }\n      }\n      vBoxMin.x -= radMax;\n      vBoxMin.y -= radMax;\n      vBoxMin.z -= radMax;\n      vBoxMax.x += radMax;\n      vBoxMax.y += radMax;\n      vBoxMax.z += radMax;\n    }\n  }, {\n    key: \"getCornerCoord\",\n    value: function getCornerCoord(vBoxMin, vBoxMax, x, y, z, numPoints, vOut) {\n      var invNP = 1.0 / (numPoints - 1.0);\n      var tx = x * invNP;\n      var ty = y * invNP;\n      var tz = z * invNP;\n      vOut.x = vBoxMin.x * (1.0 - tx) + vBoxMax.x * tx;\n      vOut.y = vBoxMin.y * (1.0 - ty) + vBoxMax.y * ty;\n      vOut.z = vBoxMin.z * (1.0 - tz) + vBoxMax.z * tz;\n    }\n  }, {\n    key: \"buildEdgePoint\",\n    value: function buildEdgePoint(indexA, indexB, sign, cube, indexPointValue, vOut) {\n      if (sign[indexA] ^ sign[indexB]) {\n        var cTwentyFour = 24;\n        var a = 0 - cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA];\n        var b = cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexB];\n        var c = cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA];\n        var t = a / (b - c);\n        var xa = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 0];\n        var ya = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 1];\n        var za = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 2];\n        var xb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 0];\n        var yb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 1];\n        var zb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 2];\n        vOut.x = xa * (1.0 - t) + xb * t;\n        vOut.y = ya * (1.0 - t) + yb * t;\n        vOut.z = za * (1.0 - t) + zb * t;\n      }\n    }\n  }, {\n    key: \"isTriangleVisible\",\n    value: function isTriangleVisible(v0, v1, v2) {\n      var a0 = this.voxelWorld.getClosestAtom(v0);\n      var a1 = this.voxelWorld.getClosestAtom(v1);\n      var a2 = this.voxelWorld.getClosestAtom(v2);\n      if (a0 === null || a1 === null || a2 === null || a0.srcAtom === null || a1.srcAtom === null || a2.srcAtom === null) {\n        return false;\n      }\n      return this.visibilitySelector.includesAtom(a0.srcAtom) && this.visibilitySelector.includesAtom(a1.srcAtom) && this.visibilitySelector.includesAtom(a2.srcAtom);\n    }\n  }, {\n    key: \"addTriangle\",\n    value: function addTriangle(v0, v1, v2) {\n      if (this.visibilitySelector && !this.isTriangleVisible(v0, v1, v2)) {\n        return true;\n      }\n      var geo = this.geoOut;\n      if (geo._numTriangles >= this.maxNumTriangles) {\n        return false;\n      }\n      var indInGeo0 = this.addVertexToGeo(geo, v0);\n      var indInGeo1 = this.addVertexToGeo(geo, v1);\n      var indInGeo2 = this.addVertexToGeo(geo, v2);\n      if ((indInGeo0 | indInGeo1 | indInGeo2) < 0) {\n        return false;\n      }\n      var itr = 3 * geo._numTriangles;\n      geo._indices[itr + 0] = indInGeo0;\n      geo._indices[itr + 1] = indInGeo1;\n      geo._indices[itr + 2] = indInGeo2;\n      geo._numTriangles++;\n      return true;\n    }\n  }, {\n    key: \"buildGeoFromCorners\",\n    value: function buildGeoFromCorners(meshRes, vBoxMin, vBoxMax, corners, vCellStep, cube) {\n      var arrSize = 12;\n      var cNumVerts = 8;\n      var numCells = meshRes - 1;\n      var side = meshRes;\n      var side2 = meshRes * meshRes;\n      var vaEdges = new Array(arrSize);\n      for (var i = 0; i < arrSize; i++) {\n        vaEdges[i] = new Vector3();\n      }\n      var sign = [];\n      for (var _i3 = 0; _i3 < cNumVerts; _i3++) {\n        sign[_i3] = 1.0;\n      }\n      var vCorner = new Vector3();\n      var indCell = 0;\n      var indY = 0;\n      for (var y = 0; y < numCells; y++, indY += side2) {\n        var indZ = 0;\n        for (var z = 0; z < numCells; z++, indZ += side) {\n          for (var x = 0; x < numCells; x++) {\n            if (!cube.hasIntersection[indCell]) {\n              indCell++;\n              continue;\n            }\n            var bitsInside = cube.bitsInside[indCell];\n            this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, meshRes, vCorner);\n            var indPointValues = indCell * (2 << 2 + 2);\n            for (var _i4 = 0, j = 0; _i4 < cNumVerts; _i4++) {\n              cube.pointsValuesLinear[indPointValues + j++] = vCorner.x;\n              cube.pointsValuesLinear[indPointValues + j++] = vCorner.y;\n              cube.pointsValuesLinear[indPointValues + j++] = vCorner.z;\n            }\n            cube.pointsValuesLinear[indPointValues + 3] += vCellStep.x;\n            cube.pointsValuesLinear[indPointValues + 2 * 3] += vCellStep.x;\n            cube.pointsValuesLinear[indPointValues + 5 * 3] += vCellStep.x;\n            cube.pointsValuesLinear[indPointValues + 6 * 3] += vCellStep.x;\n            cube.pointsValuesLinear[indPointValues + 2 * 3 + 2] += vCellStep.z;\n            cube.pointsValuesLinear[indPointValues + 3 * 3 + 2] += vCellStep.z;\n            cube.pointsValuesLinear[indPointValues + 6 * 3 + 2] += vCellStep.z;\n            cube.pointsValuesLinear[indPointValues + 7 * 3 + 2] += vCellStep.z;\n            cube.pointsValuesLinear[indPointValues + 4 * 3 + 1] += vCellStep.y;\n            cube.pointsValuesLinear[indPointValues + 5 * 3 + 1] += vCellStep.y;\n            cube.pointsValuesLinear[indPointValues + 6 * 3 + 1] += vCellStep.y;\n            cube.pointsValuesLinear[indPointValues + 7 * 3 + 1] += vCellStep.y;\n            var indValues = indPointValues + 24;\n            for (var _i5 = 0; _i5 < cNumVerts; ++_i5) {\n              sign[_i5] = cube.pointsValuesLinear[indValues + _i5] < 0.0 ? 1 : 0;\n            }\n            this.buildEdgePoint(0, 1, sign, cube, indPointValues, vaEdges[0]);\n            this.buildEdgePoint(1, 2, sign, cube, indPointValues, vaEdges[1]);\n            this.buildEdgePoint(2, 3, sign, cube, indPointValues, vaEdges[2]);\n            this.buildEdgePoint(3, 0, sign, cube, indPointValues, vaEdges[3]);\n            this.buildEdgePoint(4, 5, sign, cube, indPointValues, vaEdges[4]);\n            this.buildEdgePoint(5, 6, sign, cube, indPointValues, vaEdges[5]);\n            this.buildEdgePoint(6, 7, sign, cube, indPointValues, vaEdges[6]);\n            this.buildEdgePoint(7, 4, sign, cube, indPointValues, vaEdges[7]);\n            this.buildEdgePoint(0, 4, sign, cube, indPointValues, vaEdges[8]);\n            this.buildEdgePoint(1, 5, sign, cube, indPointValues, vaEdges[9]);\n            this.buildEdgePoint(2, 6, sign, cube, indPointValues, vaEdges[10]);\n            this.buildEdgePoint(3, 7, sign, cube, indPointValues, vaEdges[11]);\n            var offs = bitsInside * (2 << 1 + 2);\n            for (var numTri = 0, indTri = 0; numTri < 2 + 2 + 2; numTri++, indTri += 3) {\n              var i0 = cube.striIndicesMarchCube[offs + indTri];\n              if (i0 < 0) {\n                break;\n              }\n              var i1 = cube.striIndicesMarchCube[offs + indTri + 1];\n              var i2 = cube.striIndicesMarchCube[offs + indTri + 2];\n              if (!this.addTriangle(vaEdges[i0], vaEdges[i1], vaEdges[i2])) {\n                return 0 - 2;\n              }\n            }\n            indCell++;\n          }\n        }\n      }\n      return 0;\n    }\n  }, {\n    key: \"getNumIntersectedCells\",\n    value: function getNumIntersectedCells(side, numCells, corners, cube) {\n      var side2 = side * side;\n      var cNumVerts = 8;\n      var numIntersectedCells = 0;\n      var indCell = 0;\n      var indY = 0;\n      for (var y = 0; y < numCells; y++, indY += side2) {\n        var indZ = 0;\n        for (var z = 0; z < numCells; z++, indZ += side) {\n          for (var x = 0; x < numCells; x++) {\n            var cubeValuesIndex = indCell * (2 << 2 + 2) + 24;\n            var indCorner = x + indZ + indY;\n            cube.pointsValuesLinear[cubeValuesIndex] = corners[indCorner];\n            cube.pointsValuesLinear[cubeValuesIndex + 1] = corners[indCorner + 1];\n            cube.pointsValuesLinear[cubeValuesIndex + 2] = corners[indCorner + side + 1];\n            cube.pointsValuesLinear[cubeValuesIndex + 3] = corners[indCorner + side];\n            cube.pointsValuesLinear[cubeValuesIndex + 4] = corners[side2 + indCorner];\n            cube.pointsValuesLinear[cubeValuesIndex + 5] = corners[side2 + indCorner + 1];\n            cube.pointsValuesLinear[cubeValuesIndex + 6] = corners[side2 + indCorner + side + 1];\n            cube.pointsValuesLinear[cubeValuesIndex + 7] = corners[side2 + indCorner + side];\n            var bitsInside = 0;\n            for (var i = 0; i < cNumVerts; ++i) {\n              if (cube.pointsValuesLinear[cubeValuesIndex + i] < 0.0) {\n                bitsInside |= 1 << i;\n              }\n            }\n            if (bitsInside === 0 || bitsInside === (1 << cNumVerts) - 1) {\n              cube.hasIntersection[indCell] = false;\n            } else {\n              cube.hasIntersection[indCell] = true;\n              numIntersectedCells++;\n            }\n            cube.bitsInside[indCell] = bitsInside;\n            indCell++;\n          }\n        }\n      }\n      return numIntersectedCells;\n    }\n  }, {\n    key: \"getType\",\n    value: function getType(letter) {\n      var atomT = [0, 0, 1, 1, 2, 6, 3, 6, 4, 6, 5, 6, 6, 0, 7, 3, 8, 2, 9, 6, 10, 6, 11, 6, 12, 6, 13, 6, 14, 6, 15, 4, 16, 5, 17, 6, 18, 6, 19, 6, 20, 6, 21, 6, 22, 6, 23, 6, 24, 6, 25, 6, 26, 6, 27, 6, 28, 6, 29, 6, 30, 6, 31, 6, 32, 6, 33, 6, 34, 6, 35, 6, 36, 6, 37, 6, 38, 6, 39, 6, 40, 6, 41, 6, 42, 6, 43, 6, 44, 6, 45, 6, 46, 6, 47, 6, 48, 6, 49, 6, 50, 6, 51, 6, 52, 6, 53, 6, 54, 6, 55, 6, 56, 6, 57, 6, 58, 6, 59, 6, 60, 6, 61, 6, 62, 6, 63, 6, 64, 6, 65, 6, 66, 6, 67, 6, 68, 6, 69, 6, 70, 6, 71, 6, 72, 6, 73, 6, 74, 6, 75, 6, 76, 6, 77, 6, 78, 6, 79, 6, 80, 6, 81, 6, 82, 6, 83, 6, 84, 6, 85, 6, 86, 6, 87, 6, 88, 6, 89, 6, 90, 6, 91, 6, 92, 6, 93, 6, 94, 6, 95, 6, 96, 6, 97, 6, 98, 6, 99, 6, 100, 6, 101, 6, 102, 6, 103, 6, 104, 6, 105, 6, 106, 6, 107, 6, 108, 6, 109, 6];\n      if (letter < 1 || letter > atomT.length / 2 || Object.keys(Element$9.ByAtomicNumber).length * 2 !== atomT.length) {\n        throw new Error('atomT.length  should be equal Element.ByAtomicNumber.length * 2');\n      }\n      return atomT[letter * 2];\n    }\n  }, {\n    key: \"calculateGridCorners\",\n    value: function calculateGridCorners(corners, side, vBoxMin, vBoxMax, atoms, probeRad) {\n      var side2 = side * side;\n      var side3 = side2 * side;\n      var vCorner = new Vector3();\n      var vDif = new Vector3();\n      var aLot = +1.0e12;\n      for (var i = 0; i < side3; i++) {\n        corners[i] = aLot;\n      }\n      var xScale = (side - 1) / (vBoxMax.x - vBoxMin.x);\n      var yScale = (side - 1) / (vBoxMax.y - vBoxMin.y);\n      var zScale = (side - 1) / (vBoxMax.z - vBoxMin.z);\n      for (var s = 0, numAtoms = atoms.length; s < numAtoms; s++) {\n        var atom = atoms[s];\n        var radius = atom.radius + probeRad;\n        var fx = (atom.coord.x - radius - vBoxMin.x) * xScale;\n        var fy = (atom.coord.y - radius - vBoxMin.y) * yScale;\n        var fz = (atom.coord.z - radius - vBoxMin.z) * zScale;\n        var indXMin = Math.floor(fx);\n        var indYMin = Math.floor(fy);\n        var indZMin = Math.floor(fz);\n        var indXMax = Math.floor((atom.coord.x + radius - vBoxMin.x) * xScale);\n        var indYMax = Math.floor((atom.coord.y + radius - vBoxMin.y) * yScale);\n        var indZMax = Math.floor((atom.coord.z + radius - vBoxMin.z) * zScale);\n        indXMax++;\n        indYMax++;\n        indZMax++;\n        indXMax = indXMax <= side - 1 ? indXMax : side - 1;\n        indYMax = indYMax <= side - 1 ? indYMax : side - 1;\n        indZMax = indZMax <= side - 1 ? indZMax : side - 1;\n        for (var y = indYMin; y <= indYMax; y++) {\n          var indY = y * side2;\n          for (var z = indZMin; z <= indZMax; z++) {\n            var indZ = z * side;\n            for (var x = indXMin; x <= indXMax; x++) {\n              var ind = indY + indZ + x;\n              this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, side, vCorner);\n              vDif.x = vCorner.x - atom.coord.x;\n              vDif.y = vCorner.y - atom.coord.y;\n              vDif.z = vCorner.z - atom.coord.z;\n              var distToSphere = Math.sqrt(vDif.x * vDif.x + vDif.y * vDif.y + vDif.z * vDif.z);\n              var val = distToSphere - radius;\n              if (val < corners[ind]) {\n                corners[ind] = val;\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"createVertexHash\",\n    value: function createVertexHash(maxNumVertices, maxNumTriangles) {\n      this.hashLines = utils.allocateTyped(Int32Array, HASH_SIZE * 2);\n      if (this.hashLines === null) {\n        return 0 - 1;\n      }\n      for (var i = 0, j = 0; i < HASH_SIZE; i++) {\n        this.hashLines[j++] = 0;\n        this.hashLines[j++] = 0 - 1;\n      }\n      this.maxNumVertices = maxNumVertices;\n      this.maxNumTriangles = maxNumTriangles;\n      this.numHashEtriesAllocated = maxNumVertices;\n      this.hashEntries = utils.allocateTyped(Int32Array, 2 * this.numHashEtriesAllocated);\n      if (this.hashEntries === null) {\n        return 0 - 1;\n      }\n      for (var _i6 = 0, _j2 = 0; _i6 < this.numHashEtriesAllocated; _i6++) {\n        this.hashEntries[_j2++] = 0 - 1;\n        this.hashEntries[_j2++] = 0 - 1;\n      }\n      this.numHashEntryIndex = 0;\n      return 0;\n    }\n  }, {\n    key: \"getNewHashEntry\",\n    value: function getNewHashEntry() {\n      if (this.numHashEntryIndex < this.numHashEtriesAllocated) {\n        var i = this.numHashEntryIndex;\n        this.numHashEntryIndex++;\n        return i;\n      }\n      return 0 - 1;\n    }\n  }, {\n    key: \"addVertexToGeo\",\n    value: function addVertexToGeo(geoOut, vAdd) {\n      var entry;\n      var oneHynberes = 0.01;\n      var n815851 = 815851;\n      var n37633 = 37633;\n      var n2453543 = 2453543;\n      var r106 = 1.0e-6;\n      var hashResolution = this.marCubeResoultion << 2;\n      var v = new Vector3();\n      var ix = Math.floor(hashResolution * (vAdd.x - this.vBoxMin.x) / (this.vBoxMax.x + oneHynberes - this.vBoxMin.x));\n      var iy = Math.floor(hashResolution * (vAdd.y - this.vBoxMin.y) / (this.vBoxMax.y + oneHynberes - this.vBoxMin.y));\n      var iz = Math.floor(hashResolution * (vAdd.z - this.vBoxMin.z) / (this.vBoxMax.z + oneHynberes - this.vBoxMin.z));\n      var iHash = ix * n815851 + iz * n37633 + iy * n2453543;\n      iHash &= HASH_SIZE - 1;\n      var hLineIndex = iHash + iHash;\n      if (this.vBoxMin !== null && this.vBoxMax !== null) {\n        for (entry = this.hashLines[hLineIndex + 1]; entry >= 0; entry = this.hashEntries[entry * 2 + 1]) {\n          var ind = this.hashEntries[entry * 2 + 0];\n          v.copy(geoOut._vertices[ind]);\n          v.x -= vAdd.x;\n          v.y -= vAdd.y;\n          v.z -= vAdd.z;\n          var dot2 = v.x * v.x + v.y * v.y + v.z * v.z;\n          if (dot2 < r106) {\n            return ind;\n          }\n        }\n      }\n      if (geoOut._numVertices >= this.maxNumVertices) {\n        return 0 - 1;\n      }\n      var iVertAdd = geoOut._numVertices;\n      geoOut._vertices[iVertAdd].copy(vAdd);\n      if (this.vBoxMin !== null && this.vBoxMax !== null) {\n        entry = this.getNewHashEntry();\n        if (entry < 0) {\n          return 0 - 1;\n        }\n        var entryFirst = this.hashLines[hLineIndex + 1];\n        this.hashLines[hLineIndex + 1] = entry;\n        this.hashEntries[entry * 2 + 0] = iVertAdd;\n        this.hashEntries[entry * 2 + 1] = entryFirst;\n        this.hashLines[hLineIndex + 0]++;\n      }\n      geoOut._numVertices++;\n      return iVertAdd;\n    }\n  }, {\n    key: \"modifyExcludedFromGeo\",\n    value: function modifyExcludedFromGeo(side, probeSphereRadius, vBoxMin, vBoxMax, geoOut, corners) {\n      var ind;\n      var distToSphere;\n      var distToBorder;\n      var r11 = 1.1;\n      function innerBlockWorkAround() {\n        if (distToBorder > 0.0) {\n          if (corners[ind] < 0.0) {\n            corners[ind] = distToBorder;\n          }\n          if (distToBorder > corners[ind]) {\n            corners[ind] = distToBorder;\n          }\n        } else if (distToBorder > corners[ind]) {\n          corners[ind] = distToBorder;\n        }\n      }\n      var side2 = side * side;\n      var xScale = (side - 1) / (vBoxMax.x - vBoxMin.x);\n      var yScale = (side - 1) / (vBoxMax.y - vBoxMin.y);\n      var zScale = (side - 1) / (vBoxMax.z - vBoxMin.z);\n      var probeSpRad2 = probeSphereRadius * 2 * (probeSphereRadius * 2);\n      var sideInv = 1.0 / (side - 1);\n      for (var i = 0; i < geoOut._numVertices; i++) {\n        var vCenter = geoOut._vertices[i];\n        var radEst = probeSphereRadius * r11;\n        var indXMin = Math.floor((vCenter.x - radEst - vBoxMin.x) * xScale);\n        var indYMin = Math.floor((vCenter.y - radEst - vBoxMin.y) * yScale);\n        var indZMin = Math.floor((vCenter.z - radEst - vBoxMin.z) * zScale);\n        var indXMax = Math.floor((vCenter.x + radEst - vBoxMin.x) * xScale);\n        var indYMax = Math.floor((vCenter.y + radEst - vBoxMin.y) * yScale);\n        var indZMax = Math.floor((vCenter.z + radEst - vBoxMin.z) * zScale);\n        indXMin = indXMin >= 0 ? indXMin : 0;\n        indYMin = indYMin >= 0 ? indYMin : 0;\n        indZMin = indZMin >= 0 ? indZMin : 0;\n        indXMax = indXMax <= side - 1 ? indXMax : side - 1;\n        indYMax = indYMax <= side - 1 ? indYMax : side - 1;\n        indZMax = indZMax <= side - 1 ? indZMax : side - 1;\n        for (var iy = indYMin; iy <= indYMax; iy++) {\n          var indY = iy * side2;\n          for (var iz = indZMin; iz <= indZMax; iz++) {\n            var indZ = iz * side;\n            for (var ix = indXMin; ix <= indXMax; ix++) {\n              ind = indY + indZ + ix;\n              var t = ix * sideInv;\n              var xCorner = vBoxMin.x * (1.0 - t) + vBoxMax.x * t;\n              t = iy * sideInv;\n              var yCorner = vBoxMin.y * (1.0 - t) + vBoxMax.y * t;\n              t = iz * sideInv;\n              var zCorner = vBoxMin.z * (1.0 - t) + vBoxMax.z * t;\n              var dx = xCorner - vCenter.x;\n              var dy = yCorner - vCenter.y;\n              var dz = zCorner - vCenter.z;\n              var dist2 = dx * dx + dy * dy + dz * dz;\n              if (dist2 < probeSpRad2) {\n                distToSphere = Math.sqrt(dist2);\n                distToBorder = -(distToSphere - probeSphereRadius);\n                innerBlockWorkAround();\n              }\n            }\n          }\n        }\n      }\n      return 0;\n    }\n  }, {\n    key: \"_innerBuild\",\n    value: function _innerBuild() {\n      var ok;\n      var expandFactor = 1.2;\n      var packedArrays = {\n        posRad: this._posRad,\n        colors: this._colors,\n        atoms: this._opts.atoms\n      };\n      this.complex = this._opts.parent;\n      this.atoms = packedArrays.atoms;\n      this.meshResolution = this._opts.gridSpacing;\n      this.atomRadiusScale = this._opts.radScale;\n      this.colorMode = this._opts.colorMode;\n      this.probeRadius = this._opts.probeRadius;\n      this.useVertexColors = true;\n      this.excludeProbe = this._opts.excludeProbe;\n      this.visibilitySelector = this._opts.visibilitySelector;\n      this.geoOut = null;\n      this.hashLines = null;\n      this.hashEntries = null;\n      this.numHashEtriesAllocated = 0;\n      this.numHashEntryIndex = 0;\n      this.maxNumVertices = 0;\n      this.maxNumTriangles = 0;\n      var atomsColored = new Array(this.atoms.length);\n      this.convertToAtomsColored(packedArrays, atomsColored);\n      var vBoxMin = this.vBoxMin = new Vector3();\n      var vBoxMax = this.vBoxMax = new Vector3();\n      this.getBoundingBox(atomsColored, vBoxMin, vBoxMax);\n      var marCubeResoultion = this.marCubeResoultion = this.meshResolution * (2 + 2);\n      var side = marCubeResoultion;\n      var side2 = side * side;\n      var side3 = side2 * side;\n      var corners = utils.allocateTyped(Float32Array, side3);\n      var rProbeRadius = this.probeRadius * this.atomRadiusScale;\n      this.calculateGridCorners(corners, side, vBoxMin, vBoxMax, atomsColored, rProbeRadius);\n      var numCells = marCubeResoultion - 1;\n      var cube = new IsoSurfaceMarchCube();\n      ok = cube.create(numCells);\n      if (ok < 0) {\n        return ok;\n      }\n      var vCellStep = new Vector3();\n      vCellStep.x = (vBoxMax.x - vBoxMin.x) / numCells;\n      vCellStep.y = (vBoxMax.y - vBoxMin.y) / numCells;\n      vCellStep.z = (vBoxMax.z - vBoxMin.z) / numCells;\n      var numIntersectedCellsEstim = this.getNumIntersectedCells(side, numCells, corners, cube);\n      var maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor);\n      var maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2);\n      this.geoOut = new IsoSurfaceGeo(maxNumVertices, maxNumTriangles, this.useVertexColors);\n      ok = this.createVertexHash(maxNumVertices, maxNumTriangles);\n      if (ok < 0) {\n        return ok;\n      }\n      var probeRadForNormalsColors = rProbeRadius;\n      if (this.excludeProbe) {\n        probeRadForNormalsColors = 0.01;\n      }\n      this.voxelWorld = new IsosurfaceBuildNormals(atomsColored.length, atomsColored, vBoxMin, vBoxMax, probeRadForNormalsColors);\n      this.voxelWorld.createVoxels();\n      ok = this.buildGeoFromCorners(marCubeResoultion, vBoxMin, vBoxMax, corners, vCellStep, cube);\n      if (this.excludeProbe) {\n        this.modifyExcludedFromGeo(side, rProbeRadius, vBoxMin, vBoxMax, this.geoOut, corners);\n        this.geoOut._vertices = null;\n        this.geoOut._colors = null;\n        this.geoOut._indices = null;\n        this.geoOut._normals = null;\n        this.geoOut._numVertices = 0;\n        this.geoOut._numTriangles = 0;\n        this.geoOut = null;\n        numIntersectedCellsEstim = this.getNumIntersectedCells(side, numCells, corners, cube);\n        maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor);\n        maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2);\n        this.geoOut = new IsoSurfaceGeo(maxNumVertices, maxNumTriangles, this.useVertexColors);\n        ok = this.createVertexHash(maxNumVertices, maxNumTriangles);\n        if (ok < 0) {\n          return ok;\n        }\n        ok = this.buildGeoFromCorners(side, vBoxMin, vBoxMax, corners, vCellStep, cube);\n      }\n      this.voxelWorld.buildNormals(this.geoOut._vertices.length, this.geoOut._vertices, this.geoOut._normals);\n      var radiusColorSmoothness = 6.5;\n      if (this.excludeProbe) {\n        radiusColorSmoothness -= 1.5;\n      }\n      if (this.useVertexColors) {\n        this.voxelWorld.buildColors(this.geoOut._vertices.length, this.geoOut._vertices, this.geoOut._colors, radiusColorSmoothness);\n      }\n      this.voxelWorld.destroyVoxels();\n      this.voxelWorld = null;\n      cube.destroy();\n      return ok;\n    }\n  }]);\n  return SSIsosurfaceGeometry;\n}(IsoSurfaceGeometry);\n\nfunction _createSuper$1y(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1y(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1y() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction createLabel(fieldTxt, className) {\n  var text = document.createElement('div');\n  text.className = className;\n  if (typeof fieldTxt === 'string') {\n    var spanText = document.createElement('span');\n    spanText.style.fontSize = '150%';\n    var strings = fieldTxt.split('\\n');\n    for (var i = 0, n = strings.length; i < n; ++i) {\n      var spanNodeP = document.createElement('span');\n      var spanNodeText = document.createTextNode(strings[i]);\n      spanNodeP.appendChild(spanNodeText);\n      spanText.appendChild(spanNodeP);\n      if (i < n - 1) {\n        spanText.appendChild(document.createElement('br'));\n      }\n    }\n    text.appendChild(spanText);\n  } else {\n    text.appendChild(fieldTxt);\n  }\n  text.worldPos = new Vector3();\n  return text;\n}\nvar LabelsGeometry = function (_EventDispatcher) {\n  _inherits(LabelsGeometry, _EventDispatcher);\n  var _super = _createSuper$1y(LabelsGeometry);\n  function LabelsGeometry(instanceCount, opts) {\n    var _this;\n    _classCallCheck(this, LabelsGeometry);\n    _this = _super.call(this);\n    _this._opts = opts;\n    _this.items = [];\n    _this.needsUpdate = false;\n    var xTranslation = -50;\n    var yTranslation = -50;\n    switch (opts.horizontalAlign) {\n      case 'left':\n        xTranslation = 0;\n        break;\n      case 'right':\n        xTranslation = -100;\n        break;\n    }\n    switch (opts.verticalAlign) {\n      case 'top':\n        yTranslation = -100;\n        break;\n      case 'bottom':\n        yTranslation = 0;\n        break;\n    }\n    var deltaPos = new Vector3(opts.dx || 0, opts.dy || 0, opts.dz || 0);\n    _this.userData = {\n      translation: \"translate(\".concat(xTranslation, \"%, \").concat(yTranslation, \"%)\"),\n      offset: deltaPos\n    };\n    return _this;\n  }\n  _createClass(LabelsGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, itemPos, fieldTxt) {\n      var opts = this._opts;\n      var text = this.items[itemIdx] || createLabel(fieldTxt, 'label');\n      text.worldPos.copy(itemPos);\n      text.style.textAlign = opts.horizontalAlign;\n      text.style.verticalAlign = opts.verticalAlign;\n      this.items[itemIdx] = text;\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, fColor, bColor) {\n      var text = this.items[itemIdx];\n      text.opts = {\n        color: fColor,\n        background: bColor\n      };\n    }\n  }, {\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.needsUpdate = true;\n      this.dispatchEvent({\n        type: 'update'\n      });\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast() {}\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity() {}\n  }, {\n    key: \"getSubset\",\n    value: function getSubset() {\n      return [];\n    }\n  }]);\n  return LabelsGeometry;\n}(EventDispatcher);\n\nvar geometries = {\n  InstancedSpheresGeometry: InstancedSpheresGeometry,\n  SimpleSpheresGeometry: SimpleSpheresGeometry,\n  Simple2CCylindersGeometry: Simple2CCylindersGeometry,\n  Instanced2CCylindersGeometry: Instanced2CCylindersGeometry,\n  ExtrudedObjectsGeometry: ExtrudedObjectsGeometry,\n  ChunkedLinesGeometry: ChunkedLinesGeometry,\n  TwoColorLinesGeometry: TwoColorLinesGeometry,\n  CrossGeometry: CrossGeometry,\n  QuickSurfGeometry: QuickSurfGeometry,\n  ContactSurfaceGeometry: ContactSurfaceGeometry,\n  SSIsosurfaceGeometry: SSIsosurfaceGeometry,\n  LabelsGeometry: LabelsGeometry\n};\n\nvar vertexShader = \"float INSTANCED_SPRITE_OVERSCALE = 1.3;\\r\\n\\r\\nattribute vec3 normal;\\r\\n\\r\\n#ifdef NORMALS_TO_G_BUFFER\\r\\n  varying vec3 viewNormal;\\r\\n#endif\\r\\n#if !defined (SPHERE_SPRITE) && !defined (CYLINDER_SPRITE)\\r\\n  varying vec3 vNormal;\\r\\n#endif\\r\\n\\r\\n#ifdef THICK_LINE\\r\\n  attribute vec4 position; // W contains vert pos or neg offset\\r\\n#else\\r\\n  attribute vec3 position;\\r\\n#endif\\r\\n\\r\\nvarying vec3 vWorldPosition;\\r\\nvarying vec3 vViewPosition;\\r\\n\\r\\n#ifdef ATTR_ALPHA_COLOR\\r\\n  attribute float alphaColor;\\r\\n  varying float alphaCol;\\r\\n#endif\\r\\n\\r\\n#if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n\\t#if NUM_DIR_LIGHTS > 0\\r\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\r\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\r\\n\\t\\tvarying vec3 vDirectionalShadowNormal[ NUM_DIR_LIGHTS ];\\r\\n\\t#endif\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR\\r\\n  attribute vec3 color;\\r\\n  varying vec3 vColor;\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR2\\r\\n  attribute vec3 color2;\\r\\n  varying vec3 vColor2;\\r\\n  attribute vec2 uv;\\r\\n  #ifndef CYLINDER_SPRITE\\r\\n    varying vec2 vUv;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n#ifdef INSTANCED_POS\\r\\n  attribute vec4 offset;\\r\\n  #ifdef SPHERE_SPRITE\\r\\n    varying vec4 instOffset;\\r\\n  varying vec4 spritePosEye;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n#ifdef INSTANCED_MATRIX\\r\\n  attribute vec4 matVector1;\\r\\n  attribute vec4 matVector2;\\r\\n  attribute vec4 matVector3;\\r\\n  attribute vec4 invmatVector1;\\r\\n  attribute vec4 invmatVector2;\\r\\n  attribute vec4 invmatVector3;\\r\\n\\r\\n  #ifdef CYLINDER_SPRITE\\r\\n    varying vec4 matVec1;\\r\\n    varying vec4 matVec2;\\r\\n    varying vec4 matVec3;\\r\\n    varying vec4 invmatVec1;\\r\\n    varying vec4 invmatVec2;\\r\\n    varying vec4 invmatVec3;\\r\\n    varying vec4 spritePosEye;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\nuniform mat4 modelViewMatrix; // optional\\r\\nuniform mat4 projectionMatrix; // optional\\r\\nuniform mat3 normalMatrix; // optional\\r\\nuniform mat4 modelMatrix; // optional\\r\\n\\r\\n#ifdef DASHED_LINE\\r\\n  attribute float lineDistance;\\r\\n  varying float vLineDistance;\\r\\n#endif\\r\\n\\r\\n#ifdef THICK_LINE\\r\\n  attribute vec3 direction;\\r\\n  uniform mat4 projMatrixInv;\\r\\n  uniform vec2 viewport;\\r\\n  uniform float lineWidth;\\r\\n\\r\\n  vec4 transform(vec4 coord){\\r\\n    return projectionMatrix * modelViewMatrix * coord;\\r\\n  }\\r\\n\\r\\n  vec2 project(vec4 device){\\r\\n    vec3 device_normal = device.xyz/device.w;\\r\\n    vec2 clip_pos = (device_normal*0.5+0.5).xy;\\r\\n    return clip_pos * viewport;\\r\\n  }\\r\\n\\r\\n  vec4 unproject(vec2 screen, float z, float w){\\r\\n    vec2 clip_pos = screen/viewport;\\r\\n    vec2 device_normal = clip_pos*2.0-1.0;\\r\\n    return vec4(device_normal*w, z, w);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n\\r\\n/////////////////////////////////////////// Main ///////////////////////////////////////////////\\r\\nvoid main() {\\r\\n\\r\\n#ifdef ATTR_ALPHA_COLOR\\r\\n  alphaCol = alphaColor;\\r\\n#endif\\r\\n\\r\\n#ifdef INSTANCED_MATRIX\\r\\n  vec3 objectNormal = vec3(\\r\\n    dot(normal, matVector1.xyz),\\r\\n    dot(normal, matVector2.xyz),\\r\\n    dot(normal, matVector3.xyz));\\r\\n#else\\r\\n  vec3 objectNormal = vec3( normal );\\r\\n#endif\\r\\n\\r\\nvec3 transformedNormal = normalMatrix * objectNormal;\\r\\n\\r\\n#if !defined (SPHERE_SPRITE) && !defined (CYLINDER_SPRITE)\\r\\n  vNormal = normalize(transformedNormal);\\r\\n#endif\\r\\n\\r\\n#ifdef NORMALS_TO_G_BUFFER\\r\\n  viewNormal = normalize(mat3(modelViewMatrix)*objectNormal);\\r\\n#endif\\r\\n\\r\\n  vec4 localPos = vec4(position.xyz, 1.0);\\r\\n  vec4 worldPos = modelMatrix * localPos;\\r\\n  vec4 mvPosition = modelViewMatrix * localPos;\\r\\n\\r\\n// make thick line offset\\r\\n#ifdef THICK_LINE\\r\\n   // get screen pos\\r\\n   vec4 dPos = transform(vec4(position.xyz, 1.0));\\r\\n   vec2 sPos = project(dPos);\\r\\n   // move pos forward\\r\\n   vec3 position2 = position.xyz + direction.xyz * 0.5;\\r\\n   // get screen offset pos\\r\\n   vec4 dPos2 = transform(vec4(position2.xyz, 1.0));\\r\\n   vec2 sPos2 = project(dPos2);\\r\\n   // screen line direction\\r\\n   vec2 sDir = normalize(sPos2 - sPos);\\r\\n   // vertex offset (orthogonal to line direction)\\r\\n   vec2 offset1 = vec2(-sDir.y, sDir.x);\\r\\n   // move screen vertex\\r\\n   vec2 newPos = sPos + offset1 * position.w * lineWidth;\\r\\n   // get moved pos in view space\\r\\n   vec4 dNewPos =  unproject(newPos, dPos.z, dPos.w);\\r\\n   mvPosition.xyz = (projMatrixInv * dNewPos).xyz;\\r\\n#endif // THICK_LINE\\r\\n\\r\\n#ifdef INSTANCED_POS\\r\\n  #ifdef SPHERE_SPRITE\\r\\n    instOffset = offset;\\r\\n\\r\\n    vec4 posEye = modelViewMatrix * vec4( offset.xyz, 1.0 );\\r\\n    float scale = length(modelViewMatrix[0]);\\r\\n    mvPosition = posEye + vec4( position.xyz * offset.w * scale * INSTANCED_SPRITE_OVERSCALE, 0.0 );\\r\\n    posEye.w = offset.w * scale;\\r\\n\\r\\n    spritePosEye = posEye;\\r\\n #else\\r\\n    localPos = vec4( offset.xyz + position.xyz * offset.w, 1.0 );\\r\\n    worldPos = modelMatrix * localPos;\\r\\n    mvPosition = modelViewMatrix * localPos;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n#ifdef INSTANCED_MATRIX\\r\\n  #ifdef CYLINDER_SPRITE\\r\\n    matVec1 = matVector1;\\r\\n    matVec2 = matVector2;\\r\\n    matVec3 = matVector3;\\r\\n    invmatVec1 = invmatVector1;\\r\\n    invmatVec2 = invmatVector2;\\r\\n    invmatVec3 = invmatVector3;\\r\\n\\r\\n    // calculate eye coords of cylinder endpoints\\r\\n    vec4 v = vec4(0, -0.5, 0, 1);\\r\\n    vec4 p1 = modelViewMatrix * vec4(dot(v, matVector1), dot(v, matVector2), dot(v, matVector3), 1.0);\\r\\n    v.y = 0.5;\\r\\n    vec4 p2 = modelViewMatrix * vec4(dot(v, matVector1), dot(v, matVector2), dot(v, matVector3), 1.0);\\r\\n\\r\\n    // sprite is placed at the center of cylinder\\r\\n    vec4 posEye;\\r\\n    posEye.xyz = mix(p1.xyz, p2.xyz, 0.5);\\r\\n    posEye.w = 1.0;\\r\\n    spritePosEye = posEye;\\r\\n\\r\\n    // cylinder radius in eye space\\r\\n    float rad = length(modelViewMatrix[0]) * length(vec3(matVector1.x, matVector2.x, matVector3.x));\\r\\n    vec2 spriteSize;\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // In ortho projection we skip z coordinate\\r\\n      // basic sprite size at screen plane (covers only cylinder axis)\\r\\n      vec2 spriteSizeScreen = abs(p2.xy - p1.xy);\\r\\n\\r\\n      spriteSize = vec2(1.0, 1.0) * INSTANCED_SPRITE_OVERSCALE * (spriteSizeScreen + 2.0 * rad);\\r\\n    #else\\r\\n      // basic sprite size at screen plane (covers only cylinder axis)\\r\\n      vec2 spriteSizeScreen = abs(p2.xy / p2.z - p1.xy / p1.z);\\r\\n\\r\\n      // full sprite size in eye coords\\r\\n      float minZ = min(abs(p1.z), abs(p2.z));\\r\\n      spriteSize = vec2(1.0, 1.0) * INSTANCED_SPRITE_OVERSCALE * abs(posEye.z) * (spriteSizeScreen + 2.0 * rad / minZ);\\r\\n    #endif\\r\\n\\r\\n    mvPosition = posEye + vec4( position.xy * 0.5 * spriteSize, 0, 0 );\\r\\n  #else\\r\\n    localPos = vec4(dot(localPos, matVector1), dot(localPos, matVector2), dot(localPos, matVector3), 1.0);\\r\\n    worldPos = modelMatrix * localPos;\\r\\n    mvPosition = modelViewMatrix * localPos;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n  gl_Position = projectionMatrix * mvPosition;\\r\\n\\r\\n  vWorldPosition = worldPos.xyz;\\r\\n  vViewPosition = - mvPosition.xyz;\\r\\n\\r\\n#if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n\\t#if NUM_DIR_LIGHTS > 0\\r\\n\\t  vec4 worldPosition;\\r\\n\\t  // see THREE.WebGLProgram.unrollLoops\\r\\n\\t  #pragma unroll_loop_start\\r\\n\\t  for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n      vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * vec4(vWorldPosition, 1.0);\\r\\n      vDirectionalShadowNormal[ i ] = (directionalShadowMatrix[ i ] * (modelMatrix * vec4(objectNormal, 0.0))).xyz;\\r\\n\\t  }\\r\\n\\t  #pragma unroll_loop_end\\r\\n\\t#endif\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR\\r\\n  vColor = color.xyz;\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR2\\r\\n  vColor2 = color2;\\r\\n  #ifndef CYLINDER_SPRITE\\r\\n    vUv = uv;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n#ifdef DASHED_LINE\\r\\n  vLineDistance = lineDistance;\\r\\n#endif\\r\\n}\\r\\n\";\n\nvar fragmentShader$6 = \"#if defined (NORMALS_TO_G_BUFFER)\\r\\n  #define fragColor gl_FragData[0]\\r\\n#else\\r\\n  #define fragColor gl_FragColor\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_ALPHA_COLOR\\r\\n  varying float alphaCol;\\r\\n#endif\\r\\n\\r\\n#ifdef COLOR_FROM_POS\\r\\n  uniform mat4 world2colorMatrix;\\r\\n#endif\\r\\n\\r\\n#if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n\\t#if NUM_DIR_LIGHTS > 0\\r\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\r\\n    uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ]; //only for sprites\\r\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\r\\n\\t\\tvarying vec3 vDirectionalShadowNormal[ NUM_DIR_LIGHTS ];\\r\\n    vec4 vDirLightWorldCoord[ NUM_DIR_LIGHTS ];\\r\\n    vec3 vDirLightWorldNormal[ NUM_DIR_LIGHTS ];\\r\\n\\r\\n    #ifdef SHADOWMAP_PCF_RAND\\r\\n      // We use 4 instead uniform variable or define because this value is used in for(... i < value; ...) with\\r\\n      // unroll_loop and unroll_loop has pattern:\\r\\n      // /#pragma unroll_loop[\\\\s]+?for \\\\( int i \\\\= (\\\\d+)\\\\; i < (\\\\d+)\\\\; i \\\\+\\\\+ \\\\) \\\\{([\\\\s\\\\S]+?)(?=\\\\})\\\\}/g\\r\\n      uniform vec2 samplesKernel[4]; // 4 is length of _samplesKernel which is defined in UberMaterial.js\\r\\n      uniform sampler2D noiseTex;\\r\\n      uniform vec2 noiseTexelSize;\\r\\n      uniform vec2 srcTexelSize;\\r\\n      uniform mat4 projectionMatrix;\\r\\n    #endif\\r\\n\\t#endif\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR\\r\\n  varying vec3 vColor;\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR2\\r\\n  varying vec3 vColor2;\\r\\n  #ifndef CYLINDER_SPRITE\\r\\n    varying vec2 vUv;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\nuniform vec3 diffuse;\\r\\nuniform vec3 emissive;\\r\\nuniform vec3 specular;\\r\\nuniform float shininess;\\r\\nuniform vec3 fixedColor;\\r\\nuniform float opacity;\\r\\nuniform float zClipValue;\\r\\nuniform float clipPlaneValue;\\r\\n\\r\\n#ifdef NORMALS_TO_G_BUFFER\\r\\n  varying vec3 viewNormal;\\r\\n#endif\\r\\n\\r\\n#define PI 3.14159265359\\r\\n#define RECIPROCAL_PI 0.31830988618\\r\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\r\\n\\r\\n#ifdef USE_FOG\\r\\n  uniform vec3 fogColor;\\r\\n  uniform float fogAlpha;\\r\\n  uniform float fogNear;\\r\\n  uniform float fogFar;\\r\\n#endif\\r\\n\\r\\nvarying vec3 vWorldPosition; // world position of the pixel (invalid when INSTANCED_SPRITE is defined)\\r\\nvarying vec3 vViewPosition;\\r\\n\\r\\n#if !defined (SPHERE_SPRITE) && !defined (CYLINDER_SPRITE)\\r\\n  varying vec3 vNormal;\\r\\n#endif\\r\\n\\r\\n/////////////////////////////////////////// ZSprites ////////////////////////////////////////////////\\r\\n#if defined (SPHERE_SPRITE) || defined (CYLINDER_SPRITE)\\r\\n  uniform float nearPlaneValue;\\r\\n#endif\\r\\n\\r\\n#ifdef SPHERE_SPRITE\\r\\n  varying vec4 spritePosEye;\\r\\n#endif\\r\\n\\r\\n#if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n  uniform float zOffset;\\r\\n\\r\\n  #if !defined(USE_LIGHTS) || !defined(SHADOWMAP) || !defined(SHADOWMAP_PCF_RAND) || !(NUM_DIR_LIGHTS > 0)\\r\\n    uniform mat4 projectionMatrix;\\r\\n  #endif\\r\\n\\r\\n  float calcDepthForSprites(vec4 pixelPosEye, float zOffset, mat4 projMatrix) {\\r\\n    vec4 pixelPosScreen = projMatrix * pixelPosEye;\\r\\n    return 0.5 * (pixelPosScreen.z / pixelPosScreen.w + 1.0) + zOffset;\\r\\n  }\\r\\n#endif\\r\\n\\r\\n#ifdef SPHERE_SPRITE\\r\\n  varying vec4 instOffset;\\r\\n  uniform mat4 modelMatrix;\\r\\n  uniform mat4 modelViewMatrix;\\r\\n  uniform mat4 invModelViewMatrix;\\r\\n  uniform mat3 normalMatrix;\\r\\n\\r\\n\\r\\n  bool intersect_ray_sphere(in vec3 origin, in vec3 ray, out vec3 point, out float frontFaced) {\\r\\n\\r\\n    // intersect XZ-projected ray with circle\\r\\n    float a = dot(ray, ray);\\r\\n    float b = dot(ray, origin);\\r\\n    float c = dot(origin, origin) - 1.0;\\r\\n    float det = b * b - a * c;\\r\\n    if (det < 0.0) return false;\\r\\n    float t1 = (-b - sqrt(det)) / a;\\r\\n    float t2 = (-b + sqrt(det)) / a;\\r\\n\\r\\n    // calculate both intersection points\\r\\n    vec3 p1 = origin + ray * t1;\\r\\n    vec3 p2 = origin + ray * t2;\\r\\n\\r\\n    // choose nearest point inside frustum\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // orthografic camera is used for dirLight sources. So in it for all spheres the point with smaller 't' is visible\\r\\n      // t1 is always smaller than t2 (from calculations)\\r\\n      point = p1;\\r\\n      frontFaced = 1.0;\\r\\n      return true;\\r\\n    #else\\r\\n      // for perspective camera first intersection can be in front of near plane. If not intersection is p1 else - p2\\r\\n      // t* = 0.0 corresponds to point of intersection near plane by the ray from camera to curPixel\\r\\n      if (t1 >= 0.0) {\\r\\n        point = p1;\\r\\n        frontFaced = 1.0;\\r\\n        return true;\\r\\n      }\\r\\n      if (t2 >= 0.0) {\\r\\n        point = p2;\\r\\n        frontFaced = -1.0;\\r\\n        return true;\\r\\n      }\\r\\n    #endif\\r\\n\\r\\n    return false;\\r\\n  }\\r\\n\\r\\n  bool get_sphere_point(in vec3 pixelPosEye, out vec3 point, out float frontFaced) {\\r\\n    vec3 origin, ray;\\r\\n\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // transform vector from sprite center to curPixel into sphere local coords\\r\\n      origin = pixelPosEye.xyz - spritePosEye.xyz;\\r\\n      origin = (invModelViewMatrix * vec4(origin, 0.0)).xyz / instOffset.w;\\r\\n\\r\\n      // transform camera orientation vector into sphere local coords\\r\\n      ray = (invModelViewMatrix * vec4(0.0, 0.0, -1.0, 0.0)).xyz;\\r\\n    #else\\r\\n      // find point of intersection near plane by the ray from camera to curPixel\\r\\n      vec4 v = vec4(-(nearPlaneValue / pixelPosEye.z) * pixelPosEye, 1.0);\\r\\n\\r\\n      // transform intersection point into sphere local coords\\r\\n      v = invModelViewMatrix * v;\\r\\n      origin = (v.xyz - instOffset.xyz) / instOffset.w;\\r\\n\\r\\n      // transform vector from camera pos to curPixel into sphere local coords\\r\\n      ray = (invModelViewMatrix * vec4(pixelPosEye, 0.0)).xyz;\\r\\n    #endif\\r\\n    ray = normalize(ray);\\r\\n\\r\\n    return intersect_ray_sphere(origin, ray, point, frontFaced);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n#ifdef CYLINDER_SPRITE\\r\\n  varying vec4 matVec1;\\r\\n  varying vec4 matVec2;\\r\\n  varying vec4 matVec3;\\r\\n  varying vec4 invmatVec1;\\r\\n  varying vec4 invmatVec2;\\r\\n  varying vec4 invmatVec3;\\r\\n\\r\\n  uniform mat4 modelMatrix;\\r\\n  uniform mat4 modelViewMatrix;\\r\\n  uniform mat4 invModelViewMatrix;\\r\\n  uniform mat3 normalMatrix;\\r\\n\\r\\n  varying vec4 spritePosEye;\\r\\n\\r\\n  bool intersect_ray_cylinder(in vec3 origin, in vec3 ray, out vec3 point, out float frontFaced) {\\r\\n\\r\\n    // intersect XZ-projected ray with circle\\r\\n    float a = dot(ray.xz, ray.xz);\\r\\n    float b = dot(ray.xz, origin.xz);\\r\\n    float c = dot(origin.xz, origin.xz) - 1.0;\\r\\n    float det = b * b - a * c;\\r\\n    if (det < 0.0) return false;\\r\\n    float t1 = (-b - sqrt(det)) / a;\\r\\n    float t2 = (-b + sqrt(det)) / a;\\r\\n\\r\\n    // calculate both intersection points\\r\\n    vec3 p1 = origin + ray * t1;\\r\\n    vec3 p2 = origin + ray * t2;\\r\\n\\r\\n    float halfHeight = 0.5;\\r\\n\\r\\n    // choose nearest point\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // orthografic camera is used for dirLight sources. So in it for all cylinders the point with smaller 't' is visible\\r\\n      // if it is not outside of cylinnder (t1 is always smaller than t2).\\r\\n      if (p1.y >= -halfHeight && p1.y <= halfHeight) {\\r\\n        point = p1;\\r\\n        frontFaced = 1.0;\\r\\n        return true;\\r\\n      }\\r\\n      if (p2.y >= -halfHeight && p2.y <= halfHeight) {\\r\\n        point = p2;\\r\\n        frontFaced = -1.0;\\r\\n        return true;\\r\\n      }\\r\\n    #else\\r\\n      // for perspective camera first intersection can be in front of near plane. If not intersection is p1 else - p2\\r\\n      // t* = 0.0 corresponds to point of intersection near plane by the ray from camera to curPixel\\r\\n      if (t1 >= 0.0 && p1.y >= -halfHeight && p1.y <= halfHeight) {\\r\\n        point = p1;\\r\\n        frontFaced = 1.0;\\r\\n        return true;\\r\\n      }\\r\\n      if (t2 >= 0.0 && p2.y >= -halfHeight && p2.y <= halfHeight) {\\r\\n        point = p2;\\r\\n        frontFaced = -1.0;\\r\\n        return true;\\r\\n      }\\r\\n    #endif\\r\\n\\r\\n    return false;\\r\\n  }\\r\\n\\r\\n  bool get_cylinder_point(in vec3 pixelPosEye, out vec3 point, out float frontFaced) {\\r\\n    vec3 origin, ray;\\r\\n    vec4 v;\\r\\n\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // transform vector from sprite center to curPixel into cylinder local coords\\r\\n      v = invModelViewMatrix * vec4(pixelPosEye.xyz - spritePosEye.xyz, 0.0);\\r\\n      origin = vec3(dot(v, invmatVec1), dot(v, invmatVec2), dot(v, invmatVec3));\\r\\n\\r\\n      // transform camera orientation vector into cylinder local coords\\r\\n      v = invModelViewMatrix * vec4(0.0, 0.0, -1.0, 0.0);\\r\\n      ray = vec3(dot(v, invmatVec1), dot(v, invmatVec2), dot(v, invmatVec3));\\r\\n    #else\\r\\n      // find point of intersection near plane by the ray from camera to curPixel\\r\\n      v = vec4(-(nearPlaneValue / pixelPosEye.z) * pixelPosEye, 1.0);\\r\\n\\r\\n      // transform intersection point into cylinder local coords\\r\\n      v = invModelViewMatrix * v;\\r\\n      origin = vec3(dot(v, invmatVec1), dot(v, invmatVec2), dot(v, invmatVec3));\\r\\n\\r\\n      // transform vector from camera pos to curPixel into cylinder local coords\\r\\n      v = invModelViewMatrix * vec4(pixelPosEye, 0.0);\\r\\n      ray = vec3(dot(v, invmatVec1), dot(v, invmatVec2), dot(v, invmatVec3));\\r\\n    #endif\\r\\n    ray = normalize(ray);\\r\\n\\r\\n    return intersect_ray_cylinder(origin, ray, point, frontFaced);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n///////////////////////////////////// Pack and unpack ///////////////////////////////////////////////\\r\\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\\r\\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\\r\\n\\r\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\r\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\r\\n\\r\\n\\r\\nconst float ShiftRight8 = 1. / 256.;\\r\\n\\r\\nvec4 packDepthToRGBA( const in float v ) {\\r\\n  vec4 r = vec4( fract( v * PackFactors ), v );\\r\\n  r.yzw -= r.xyz * ShiftRight8; // tidy overflow\\r\\n  return r * PackUpscale;\\r\\n}\\r\\n\\r\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\r\\n  return dot( v, UnpackFactors );\\r\\n}\\r\\n\\r\\n////////////////////////////////////////// All Lighting /////////////////////////////////////////////////\\r\\n#ifdef TOON_SHADING\\r\\n  #define LOW_TOON_BORDER 0.0\\r\\n  #define MEDIUM_TOON_BORDER 0.7\\r\\n  #define HIGH_TOON_BORDER 1.0\\r\\n\\r\\n  #define MEDIUM_TOON_RANGE 0.5\\r\\n  #define HIGH_TOON_RANGE 0.95\\r\\n#endif\\r\\n#if defined(USE_LIGHTS) && NUM_DIR_LIGHTS > 0\\r\\n  struct ReflectedLight {\\r\\n    vec3 directDiffuse;\\r\\n    vec3 directSpecular;\\r\\n    vec3 indirectDiffuse;\\r\\n  };\\r\\n\\r\\n  struct BlinnPhongMaterial {\\r\\n    vec3  diffuseColor;\\r\\n    vec3  specularColor;\\r\\n    float specularShininess;\\r\\n  };\\r\\n\\r\\n  struct GeometricContext {\\r\\n    vec3 normal;\\r\\n    vec3 viewDir;\\r\\n  };\\r\\n\\r\\n  struct DirectionalLight {\\r\\n    vec3 direction;\\r\\n    vec3 color;\\r\\n  };\\r\\n  uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\r\\n\\r\\n  struct DirectionalLightShadow {\\r\\n     vec2 shadowMapSize;\\r\\n     float shadowBias;\\r\\n     float shadowRadius;\\r\\n   };\\r\\n  uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHTS ];\\r\\n\\r\\n  uniform vec3 ambientLightColor;\\r\\n\\r\\n  /////////////////////////////////////////// Shadowmap ////////////////////////////////////////////////\\r\\n\\r\\n  #if defined(SHADOWMAP)\\r\\n  \\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\r\\n  \\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\r\\n  \\t}\\r\\n\\r\\n    float getShadow( sampler2D shadowMap, DirectionalLightShadow dirLight, vec4 shadowCoord, vec3 vViewPosition, vec3 vNormal ) {\\r\\n   \\t  float shadow = 0.0;\\r\\n\\r\\n      // When shadows for sprites will appear use here for them normals as it done for G-buffer\\r\\n      shadowCoord.xyz += dirLight.shadowBias * vNormal;\\r\\n      shadowCoord.xyz /= shadowCoord.w;\\r\\n\\r\\n      bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\r\\n      bool inFrustum = all( inFrustumVec );\\r\\n      bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\r\\n      bool frustumTest = all( frustumTestVec );\\r\\n\\r\\n      if ( frustumTest ) {\\r\\n        #ifdef SHADOWMAP_BASIC\\r\\n      \\t  shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\r\\n      \\t#endif\\r\\n\\r\\n      \\t#ifdef SHADOWMAP_PCF_SHARP\\r\\n      \\t  vec2 texelSize = vec2( 1.0 ) / dirLight.shadowMapSize;\\r\\n\\r\\n            float dx0 = - texelSize.x * dirLight.shadowRadius;\\r\\n            float dy0 = - texelSize.y * dirLight.shadowRadius;\\r\\n            float dx1 = + texelSize.x * dirLight.shadowRadius;\\r\\n            float dy1 = + texelSize.y * dirLight.shadowRadius;\\r\\n\\r\\n            shadow = (\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\r\\n            ) * ( 1.0 / 9.0 );\\r\\n        #endif\\r\\n\\r\\n        #ifdef SHADOWMAP_PCF_RAND\\r\\n          vec2 texelSize = vec2( 1.0 ) / dirLight.shadowMapSize;\\r\\n\\r\\n          vec4 vUv = ((projectionMatrix * vec4(vViewPosition, 1.0)) + 1.0) / 2.0;\\r\\n          vec2 vUvNoise = vUv.xy / srcTexelSize * noiseTexelSize;\\r\\n\\r\\n          vec2 noiseVec = normalize(texture2D(noiseTex, vUvNoise).rg);\\r\\n          mat2 mNoise = mat2(noiseVec.x, noiseVec.y, -noiseVec.y, noiseVec.x);\\r\\n\\r\\n          vec2 offset;\\r\\n          #pragma unroll_loop_start\\r\\n          for ( int i = 0; i < 4; i ++ ) { // 4 is length of _samplesKernel which is defined in UberMaterial.js\\r\\n            offset = mNoise * ( normalize( samplesKernel[ i ]) * texelSize * dirLight.shadowRadius );\\r\\n            shadow +=  texture2DCompare( shadowMap, shadowCoord.xy + offset, shadowCoord.z );\\r\\n          }\\r\\n          #pragma unroll_loop_end\\r\\n          shadow /= float( 4 ); // 4 is length of _samplesKernel which is defined in UberMaterial.js\\r\\n        #endif\\r\\n      }\\r\\n      return shadow;//(shadow != 1.0) ? 0.5 : 1.0;//vec4(shadow, shadow, shadow, 1.0);\\r\\n   }\\r\\n  #endif\\r\\n\\r\\n  /////////////////////////////////////////// Lighting /////////////////////////////////////////////////\\r\\n\\r\\n  vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\r\\n    return RECIPROCAL_PI * diffuseColor;\\r\\n  } // validated\\r\\n\\r\\n  vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\r\\n    // Original approximation by Christophe Schlick '94\\r\\n    //;float fresnel = pow( 1.0 - dotLH, 5.0 );\\r\\n    // Optimized variant (presented by Epic at SIGGRAPH '13)\\r\\n    float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\r\\n    return ( 1.0 - specularColor ) * fresnel + specularColor;\\r\\n  } // validated\\r\\n\\r\\n  float G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\\r\\n    // geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\\r\\n    return 0.25;\\r\\n  }\\r\\n\\r\\n  float D_BlinnPhong( const in float shininess, const in float dotNH ) {\\r\\n    return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\r\\n  }\\r\\n\\r\\n  vec3 BRDF_Specular_BlinnPhong( const in DirectionalLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\r\\n    vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\r\\n    float dotNH = saturate(dot( geometry.normal, halfDir ));\\r\\n    float dotLH = saturate(dot( incidentLight.direction, halfDir ));\\r\\n\\r\\n    vec3 F = F_Schlick( specularColor, dotLH );\\r\\n    float G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\\r\\n    float D = D_BlinnPhong( shininess, dotNH );\\r\\n\\r\\n    return F * ( G * D );\\r\\n  } // validated\\r\\n\\r\\n  void RE_Direct_BlinnPhong( const in DirectionalLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight, float penumbra ) {\\r\\n\\r\\n    float dotNL = saturate( dot( geometry.normal, directLight.direction ));\\r\\n    #ifdef TOON_SHADING\\r\\n      if(dotNL < MEDIUM_TOON_RANGE){\\r\\n        dotNL = LOW_TOON_BORDER;\\r\\n      }\\r\\n      else if(dotNL < HIGH_TOON_RANGE){\\r\\n        dotNL = MEDIUM_TOON_BORDER;\\r\\n      }\\r\\n      else{\\r\\n        dotNL = HIGH_TOON_BORDER;\\r\\n      }\\r\\n    #endif\\r\\n\\r\\n    vec3 irradiance = dotNL * directLight.color * PI;\\r\\n    reflectedLight.directDiffuse += penumbra * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\r\\n    reflectedLight.directSpecular += penumbra * irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess );\\r\\n  }\\r\\n\\r\\n  void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\r\\n    reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\r\\n  }\\r\\n\\r\\n  vec3 calcLighting(const in GeometricContext geometry, const in BlinnPhongMaterial material, vec3 vViewPosition) {\\r\\n    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ));\\r\\n    vec3 irradiance = ambientLightColor * PI;\\r\\n\\r\\n    float shadowMask = 1.0;\\r\\n    // see THREE.WebGLProgram.unrollLoops\\r\\n  \\t#pragma unroll_loop_start\\r\\n  \\t  for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n  \\t    #ifdef SHADOWMAP\\r\\n  \\t      shadowMask = getShadow( directionalShadowMap[ i ], directionalLightShadows[ i ], vDirLightWorldCoord[ i ], vViewPosition, vDirLightWorldNormal[ i ] );\\r\\n        #endif\\r\\n\\r\\n  \\t\\t  if ( shadowMask > 0.0 ) RE_Direct_BlinnPhong( directionalLights[ i ], geometry, material, reflectedLight, shadowMask );\\r\\n  \\t\\t}\\r\\n  \\t\\t#pragma unroll_loop_end\\r\\n\\r\\n    RE_IndirectDiffuse_BlinnPhong(irradiance, material, reflectedLight);\\r\\n\\r\\n    return saturate(reflectedLight.indirectDiffuse + reflectedLight.directDiffuse + reflectedLight.directSpecular);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n/////////////////////////////////////////// Dashed Line ///////////////////////////////////////////////\\r\\n#ifdef DASHED_LINE\\r\\n  uniform float dashedLineSize;\\r\\n  uniform float dashedLinePeriod;\\r\\n  varying float vLineDistance;\\r\\n#endif\\r\\n\\r\\n/////////////////////////////////////////// Main ///////////////////////////////////////////////\\r\\nvoid main() {\\r\\n\\r\\n#ifdef CLIP_PLANE\\r\\n  if (vViewPosition.z < clipPlaneValue) discard;\\r\\n#endif\\r\\n\\r\\n#ifdef ZCLIP\\r\\n  if (vViewPosition.z < zClipValue) discard;\\r\\n#endif\\r\\n\\r\\n#if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n  #if NUM_DIR_LIGHTS > 0\\r\\n    // see THREE.WebGLProgram.unrollLoops\\r\\n    #pragma unroll_loop_start\\r\\n    for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n      vDirLightWorldCoord[ i ] = vDirectionalShadowCoord[ i ];\\r\\n      vDirLightWorldNormal[ i ] = vDirectionalShadowNormal[ i ];\\r\\n    }\\r\\n    #pragma unroll_loop_end\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n  vec4 pixelPosWorld = vec4(vWorldPosition, 1.0);\\r\\n  vec4 pixelPosEye;\\r\\n\\r\\n#ifdef SPHERE_SPRITE\\r\\n\\r\\n  vec3 viewNormalSprites;\\r\\n  float frontFaced = 1.0;\\r\\n  vec3 normal;\\r\\n\\r\\n/* quick-and-dirty method\\r\\n  normal.xy = ' + INSTANCED_SPRITE_OVERSCALE + ' * (2.0 * vUv - 1.0);\\r\\n  float r2 = dot(normal.xy, normal.xy);\\r\\n  if (r2 > 1.0) discard;\\r\\n  float normalZ = sqrt(1.0 - r2);\\r\\n  normal.z = normalZ;\\r\\n  normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\\r\\n  pixelPosEye = vec4(spritePosEye.xyz, 1.0);\\r\\n  pixelPosEye.z += spritePosEye.w * normalZ;\\r\\n*/\\r\\n\\r\\n  // ray-trace sphere surface\\r\\n  {\\r\\n    vec3 p;\\r\\n    if (!get_sphere_point(-vViewPosition, p, frontFaced)) discard;\\r\\n    vec4 v = vec4(instOffset.xyz + p * instOffset.w, 1.0);\\r\\n    pixelPosWorld = modelMatrix * v;\\r\\n    pixelPosEye = modelViewMatrix * v;\\r\\n    normal = normalize(normalMatrix * p);\\r\\n    #ifdef NORMALS_TO_G_BUFFER\\r\\n      viewNormalSprites = normalize(mat3(modelViewMatrix)*p);\\r\\n    #endif\\r\\n\\r\\n    #if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n      #if NUM_DIR_LIGHTS > 0\\r\\n        // see THREE.WebGLProgram.unrollLoops\\r\\n        #pragma unroll_loop_start\\r\\n          for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n            vDirLightWorldCoord[ i ] = directionalShadowMatrix[ i ] * pixelPosWorld;\\r\\n            vDirLightWorldNormal[ i ] = (directionalShadowMatrix[ i ] * (modelMatrix * vec4(p, 0.0))).xyz;\\r\\n          }\\r\\n        #pragma unroll_loop_end\\r\\n      #endif\\r\\n    #endif\\r\\n  }\\r\\n#endif\\r\\n\\r\\n#ifdef CYLINDER_SPRITE\\r\\n  vec3 normal;\\r\\n  vec3 viewNormalSprites;\\r\\n  float frontFaced = 1.0;\\r\\n  float cylinderY = 0.0;\\r\\n\\r\\n  // ray-trace cylinder surface\\r\\n  {\\r\\n    vec3 p;\\r\\n    if (!get_cylinder_point(-vViewPosition, p, frontFaced)) discard;\\r\\n\\r\\n    cylinderY = 0.5 * (p.y + 1.0);\\r\\n\\r\\n    vec4 v = vec4(p, 1.0);\\r\\n    v = vec4(dot(v, matVec1), dot(v, matVec2), dot(v, matVec3), 1.0);\\r\\n    pixelPosWorld = modelMatrix * v;\\r\\n    pixelPosEye = modelViewMatrix * v;\\r\\n\\r\\n    vec3 localNormal = normalize(vec3(p.x, 0.0, p.z));\\r\\n    normal = vec3(\\r\\n      dot(localNormal, matVec1.xyz),\\r\\n      dot(localNormal, matVec2.xyz),\\r\\n      dot(localNormal, matVec3.xyz));\\r\\n    #ifdef NORMALS_TO_G_BUFFER\\r\\n      viewNormalSprites = normalize(mat3(modelViewMatrix)*normal);\\r\\n    #endif\\r\\n\\r\\n    #if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n      #if NUM_DIR_LIGHTS > 0\\r\\n        // see THREE.WebGLProgram.unrollLoops\\r\\n        #pragma unroll_loop_start\\r\\n          for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n            vDirLightWorldCoord[ i ] = directionalShadowMatrix[ i ] * pixelPosWorld;\\r\\n            vDirLightWorldNormal[ i ] = (directionalShadowMatrix[ i ] * (modelMatrix * vec4(normal, 0.0))).xyz;\\r\\n          }\\r\\n        #pragma unroll_loop_end\\r\\n      #endif\\r\\n    #endif\\r\\n\\r\\n    normal = normalize(normalMatrix * normal);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n  #ifdef ATTR_COLOR\\r\\n    vec3 vertexColor = vColor;\\r\\n  #else\\r\\n    vec3 vertexColor = vec3(1.0, 1.0, 1.0);\\r\\n  #endif\\r\\n\\r\\n  #ifdef ATTR_COLOR2\\r\\n    #ifdef CYLINDER_SPRITE\\r\\n      float colorCoef = cylinderY; // cylinder parameter is calculated from ray-tracing\\r\\n    #else\\r\\n      float colorCoef = vUv.y; // cylinder parameter is interpolated as tex coord\\r\\n    #endif\\r\\n      // choose either color or color2\\r\\n    vertexColor = mix(vColor2, vColor, step(0.5, colorCoef));\\r\\n  #endif\\r\\n\\r\\n  // negative red component is a special condition\\r\\n  if (vertexColor.x < 0.0) discard;\\r\\n\\r\\n  #ifdef DASHED_LINE\\r\\n    if ( mod( vLineDistance, dashedLinePeriod ) > dashedLineSize ) discard;\\r\\n  #endif\\r\\n\\r\\n  // transparency prepass writes only z, so we don't need to calc the color\\r\\n  #ifdef PREPASS_TRANSP\\r\\n    fragColor = vec4(1.0, 1.0, 1.0, 1.0);\\r\\n    #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n      gl_FragDepthEXT = calcDepthForSprites(pixelPosEye, zOffset, projectionMatrix);\\r\\n    #endif\\r\\n    return;\\r\\n  #endif\\r\\n\\r\\n    float totalOpacity = opacity;\\r\\n\\r\\n  #ifdef ATTR_ALPHA_COLOR\\r\\n    totalOpacity *= alphaCol;\\r\\n  #endif\\r\\n\\r\\n  // discard fully transparent pixels\\r\\n  if (totalOpacity == 0.0) discard;\\r\\n\\r\\n  #ifdef FAKE_OPACITY\\r\\n    // discard pixels in checker pattern\\r\\n    vec2 dm_coord = floor(gl_FragCoord.xy);\\r\\n    dm_coord = fract(dm_coord * 0.5);\\r\\n    if (totalOpacity < 1.0 && (dm_coord.x < 0.5 ^^ dm_coord.y < 0.5)) discard;\\r\\n    vec4 diffuseColor = vec4(diffuse, 1.0);\\r\\n  #else\\r\\n    vec4 diffuseColor = vec4(diffuse, totalOpacity);\\r\\n  #endif\\r\\n\\r\\n  float flipNormal;\\r\\n  #if !defined (SPHERE_SPRITE) && !defined (CYLINDER_SPRITE)\\r\\n    flipNormal = 1.0;\\r\\n    #ifdef DOUBLE_SIDED\\r\\n      flipNormal = float( gl_FrontFacing );\\r\\n    #endif\\r\\n    vec3 normal = normalize( vNormal ) * flipNormal;\\r\\n  #endif\\r\\n\\r\\n    diffuseColor.rgb *= vertexColor;\\r\\n\\r\\n  #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n    gl_FragDepthEXT = calcDepthForSprites(pixelPosEye, zOffset, projectionMatrix);\\r\\n  #endif\\r\\n\\r\\n  #ifdef NORMALS_TO_G_BUFFER\\r\\n    #if defined (SPHERE_SPRITE) || defined (CYLINDER_SPRITE)\\r\\n      vec3 viewNormaInColor = viewNormalSprites;\\r\\n    #else\\r\\n      vec3 viewNormaInColor = viewNormal;\\r\\n      float frontFaced = float( gl_FrontFacing );\\r\\n    #endif\\r\\n    // [-1, 1] -> [0, 1]\\r\\n    viewNormaInColor = 0.5 * viewNormaInColor + 0.5;\\r\\n    gl_FragData[1] = vec4(viewNormaInColor, frontFaced);\\r\\n  #endif\\r\\n\\r\\n  #if defined(USE_LIGHTS) && NUM_DIR_LIGHTS > 0\\r\\n    vec3 viewDir;\\r\\n    #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n      viewDir = -pixelPosEye.xyz;\\r\\n    #else\\r\\n      viewDir = vViewPosition;\\r\\n    #endif\\r\\n    GeometricContext geometry = GeometricContext(normal, normalize( viewDir ));\\r\\n    BlinnPhongMaterial material = BlinnPhongMaterial(diffuseColor.rgb, specular, shininess);\\r\\n    vec3 outgoingLight = calcLighting(geometry, material, viewDir);\\r\\n  #else\\r\\n    vec3 outgoingLight = diffuseColor.rgb;\\r\\n  #endif\\r\\n\\r\\n  #ifdef COLOR_FROM_DEPTH\\r\\n    float depth = 0.0;\\r\\n    #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n      gl_FragDepthEXT = calcDepthForSprites(pixelPosEye, zOffset, projectionMatrix);\\r\\n      depth = gl_FragDepthEXT;\\r\\n    #else\\r\\n      depth = gl_FragCoord.z;\\r\\n    #endif\\r\\n    fragColor = packDepthToRGBA(depth);\\r\\n    return;\\r\\n  #endif\\r\\n\\r\\n  #ifdef COLOR_FROM_POS\\r\\n    fragColor = world2colorMatrix * pixelPosWorld;\\r\\n  #else\\r\\n    #ifdef OVERRIDE_COLOR\\r\\n      fragColor = vec4(fixedColor, diffuseColor.a);\\r\\n    #else\\r\\n      fragColor = vec4(outgoingLight, diffuseColor.a);//vec4(vNormal, 1.0);\\r\\n    #endif\\r\\n\\r\\n    #ifdef USE_FOG\\r\\n      float viewDistance;\\r\\n      #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n        viewDistance = abs(pixelPosEye.z);\\r\\n      #else\\r\\n        viewDistance = vViewPosition.z;\\r\\n      #endif\\r\\n      float fogFactor = smoothstep( fogNear, fogFar, viewDistance) * fogAlpha;\\r\\n      #ifdef FOG_TRANSPARENT\\r\\n        fragColor.a = fragColor.a * (1.0 - fogFactor);\\r\\n      #else\\r\\n        fragColor.rgb = mix( fragColor.rgb, fogColor, fogFactor );\\r\\n      #endif\\r\\n    #endif\\r\\n\\r\\n  #endif\\r\\n}\\r\\n\";\n\nvar capabilities = {\n  precision: 'mediump',\n  init: function init(renderer) {\n    this.precision = renderer.capabilities.getMaxPrecision('highp');\n  }\n};\n\nvar noiseWidth = 4;\nvar noiseHeight = 4;\nvar _noiseData = new Uint8Array([24, 52, 0, 254, 145, 0, 122, 0, 0, 7, 170, 0, 34, 214, 0, 173, 8, 0, 86, 249, 0, 160, 4, 0, 226, 46, 0, 224, 211, 0, 3, 157, 0, 174, 247, 0, 12, 182, 0, 220, 216, 0, 1, 109, 0, 253, 154, 0]);\nvar _noiseWrapS = RepeatWrapping;\nvar _noiseWrapT = RepeatWrapping;\nvar _noiseMinFilter = NearestFilter;\nvar _noiseMagFilter = NearestFilter;\nvar _noiseMapping = UVMapping;\nvar noiseTexture = new DataTexture(_noiseData, noiseWidth, noiseHeight, RGBFormat, UnsignedByteType, _noiseMapping, _noiseWrapS, _noiseWrapT, _noiseMagFilter, _noiseMinFilter, 1);\nnoiseTexture.needsUpdate = true;\nvar noise = {\n  noiseWidth: noiseWidth,\n  noiseHeight: noiseHeight,\n  noiseTexture: noiseTexture\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper$1x(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1x(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1x() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _samplesKernel$1 = [new Vector2(-0.541978, 0.840393), new Vector2(0.125533, -0.992089), new Vector2(0.374329, 0.927296), new Vector2(-0.105475, 0.994422)];\nvar defaultUniforms = UniformsUtils.merge([UniformsLib.fog, UniformsLib.lights, {\n  diffuse: {\n    value: new Color(0xeeeeee)\n  },\n  opacity: {\n    value: 1.0\n  },\n  specular: {\n    type: 'c',\n    value: new Color(0x111111)\n  },\n  shininess: {\n    type: 'f',\n    value: 30\n  },\n  fixedColor: {\n    type: 'c',\n    value: new Color(0xffffff)\n  },\n  zOffset: {\n    type: 'f',\n    value: 0.0\n  },\n  zClipValue: {\n    type: 'f',\n    value: 0.0\n  },\n  clipPlaneValue: {\n    type: 'f',\n    value: 0.0\n  },\n  nearPlaneValue: {\n    type: 'f',\n    value: -0.5\n  },\n  invModelViewMatrix: {\n    type: '4fv',\n    value: new Matrix4()\n  },\n  world2colorMatrix: {\n    type: '4fv',\n    value: new Matrix4()\n  },\n  dashedLineSize: {\n    type: 'f',\n    value: 0.1\n  },\n  dashedLinePeriod: {\n    type: 'f',\n    value: 0.2\n  },\n  projMatrixInv: {\n    type: '4fv',\n    value: new Matrix4()\n  },\n  viewport: {\n    type: 'v2',\n    value: new Vector2()\n  },\n  lineWidth: {\n    type: 'f',\n    value: 2.0\n  },\n  fogAlpha: {\n    type: 'f',\n    value: 1.0\n  },\n  samplesKernel: {\n    type: 'v2v',\n    value: null\n  },\n  noiseTex: {\n    type: 't',\n    value: null\n  },\n  noiseTexelSize: {\n    type: 'v2',\n    value: null\n  },\n  srcTexelSize: {\n    type: 'v2',\n    value: null\n  }\n}]);\nvar uberOptionNames = ['shininess', 'opacity', 'zOffset', 'diffuse', 'specular', 'fixedColor', 'zClipCoef', 'zClipValue', 'clipPlaneValue', 'world2colorMatrix', 'dashedLineSize', 'dashedLinePeriod', 'projMatrixInv', 'viewport', 'lineWidth', 'fogAlpha', 'samplesKernel', 'noiseTex', 'noiseTexelSize', 'srcTexelSize'];\nvar uberOptions = {\n  diffuse: new Color(0xffffff),\n  specular: new Color(0x111111),\n  shininess: 30,\n  opacity: 1,\n  fixedColor: new Color(0xffffff),\n  zOffset: 0.0,\n  zClipCoef: 2.0,\n  zClipValue: 0.0,\n  clipPlaneValue: 0.0,\n  world2colorMatrix: new Matrix4(),\n  dashedLineSize: 0.1,\n  dashedLinePeriod: 0.3,\n  projMatrixInv: new Matrix4(),\n  viewport: new Vector2(800, 600),\n  lineWidth: 2.0,\n  fogAlpha: 1.0,\n  samplesKernel: _samplesKernel$1,\n  noiseTex: noise.noiseTexture,\n  noiseTexelSize: new Vector2(1.0 / noise.noiseWidth, 1.0 / noise.noiseHeight),\n  srcTexelSize: new Vector2(1.0 / 800.0, 1.0 / 600.0),\n  copy: function copy(source) {\n    this.diffuse.copy(source.diffuse);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n    this.opacity = source.opacity;\n    this.fixedColor.copy(source.fixedColor);\n    this.zOffset = source.zOffset;\n    this.zClipCoef = source.zClipCoef;\n    this.zClipValue = source.zClipValue;\n    this.clipPlaneValue = source.clipPlaneValue;\n    this.world2colorMatrix.copy(source.world2colorMatrix);\n    this.dashedLineSize = source.dashedLineSize;\n    this.dashedLinePeriod = source.dashedLinePeriod;\n    this.projMatrixInv = source.projMatrixInv;\n    this.viewport = source.viewport;\n    this.lineWidth = source.lineWidth;\n    this.toonShading = source.toonShading;\n    this.fogAlpha = source.fogAlpha;\n    this.samplesKernel = source.samplesKernel;\n    this.noiseTex = source.noiseTex;\n    this.noiseTexelSize = source.noiseTexelSize;\n    this.srcTexelSize = source.srcTexelSize;\n  }\n};\nvar UberMaterial = function (_RawShaderMaterial) {\n  _inherits(UberMaterial, _RawShaderMaterial);\n  var _super = _createSuper$1x(UberMaterial);\n  function UberMaterial(params) {\n    var _thisSuper, _this;\n    _classCallCheck(this, UberMaterial);\n    _this = _super.call(this);\n    _this.fog = true;\n    _this.instancedPos = false;\n    _this.instancedMatrix = false;\n    _this.attrColor = false;\n    _this.attrColor2 = false;\n    _this.attrAlphaColor = false;\n    _this.overrideColor = false;\n    _this.sphereSprite = false;\n    _this.cylinderSprite = false;\n    _this.zClip = false;\n    _this.clipPlane = false;\n    _this.fakeOpacity = false;\n    _this.prepassTransparancy = false;\n    _this.colorFromPos = false;\n    _this.shadowmap = false;\n    _this.shadowmapType = 'random';\n    _this.colorFromDepth = false;\n    _this.orthoCam = false;\n    _this.dashedLine = false;\n    _this.transparent = true;\n    _this.thickLine = false;\n    _this.fogTransparent = false;\n    _this.normalsToGBuffer = false;\n    _this.toonShading = false;\n    _this.uberOptions = Object.create(uberOptions);\n    _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(UberMaterial.prototype)), \"setValues\", _thisSuper).call(_thisSuper, {\n      uniforms: UniformsUtils.clone(defaultUniforms),\n      vertexShader: _this.precisionString() + vertexShader,\n      fragmentShader: _this.precisionString() + fragmentShader$6,\n      lights: true,\n      fog: true,\n      side: DoubleSide\n    });\n    _this.setValues(params);\n    return _this;\n  }\n  _createClass(UberMaterial, [{\n    key: \"precisionString\",\n    value: function precisionString() {\n      var precision = capabilities.precision;\n      var str = \"precision \".concat(precision, \" float;\\n\") + \"precision \".concat(precision, \" int;\\n\\n\");\n      return str;\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(source) {\n      _get(_getPrototypeOf(UberMaterial.prototype), \"copy\", this).call(this, source);\n      this.fragmentShader = source.fragmentShader;\n      this.vertexShader = source.vertexShader;\n      this.uniforms = UniformsUtils.clone(source.uniforms);\n      this.defines = _objectSpread({}, source.defines);\n      this.extensions = source.extensions;\n      this.fog = source.fog;\n      this.instancedPos = source.instancedPos;\n      this.instancedMatrix = source.instancedMatrix;\n      this.attrColor = source.attrColor;\n      this.attrColor2 = source.attrColor2;\n      this.attrAlphaColor = source.attrAlphaColor;\n      this.overrideColor = source.overrideColor;\n      this.sphereSprite = source.sphereSprite;\n      this.cylinderSprite = source.cylinderSprite;\n      this.zClip = source.zClip;\n      this.clipPlane = source.clipPlane;\n      this.fakeOpacity = source.fakeOpacity;\n      this.colorFromPos = source.colorFromPos;\n      this.shadowmap = source.shadowmap;\n      this.shadowmapType = source.shadowmapType;\n      this.colorFromDepth = source.colorFromDepth;\n      this.orthoCam = source.orthoCam;\n      this.prepassTransparancy = source.prepassTransparancy;\n      this.dashedLine = source.dashedLine;\n      this.thickLine = source.thickLine;\n      this.fogTransparent = source.fogTransparent;\n      this.normalsToGBuffer = source.normalsToGBuffer;\n      this.toonShading = source.toonShading;\n      this.uberOptions.copy(source.uberOptions);\n      return this;\n    }\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var inst = new UberMaterial();\n      inst.copy(this);\n      inst.uberOptions = Object.create(this.uberOptions);\n      return inst;\n    }\n  }, {\n    key: \"setValues\",\n    value: function setValues(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      _get(_getPrototypeOf(UberMaterial.prototype), \"setValues\", this).call(this, values);\n      var defines = {};\n      var extensions = {};\n      if (this.fog) {\n        defines.USE_FOG = 1;\n      }\n      if (this.instancedPos) {\n        defines.INSTANCED_POS = 1;\n      }\n      if (this.instancedMatrix) {\n        defines.INSTANCED_MATRIX = 1;\n      }\n      if (this.attrColor) {\n        defines.ATTR_COLOR = 1;\n      }\n      if (this.attrColor2) {\n        defines.ATTR_COLOR2 = 1;\n      }\n      if (this.attrAlphaColor) {\n        defines.ATTR_ALPHA_COLOR = 1;\n      }\n      if (this.overrideColor) {\n        defines.OVERRIDE_COLOR = 1;\n      }\n      if (this.sphereSprite) {\n        defines.SPHERE_SPRITE = 1;\n        extensions.fragDepth = 1;\n      }\n      if (this.cylinderSprite) {\n        defines.CYLINDER_SPRITE = 1;\n        extensions.fragDepth = 1;\n      }\n      if (this.zClip) {\n        defines.ZCLIP = 1;\n      }\n      if (this.clipPlane) {\n        defines.CLIP_PLANE = 1;\n      }\n      if (this.fakeOpacity) {\n        defines.FAKE_OPACITY = 1;\n      }\n      if (this.lights) {\n        defines.USE_LIGHTS = 1;\n      }\n      if (this.colorFromPos) {\n        defines.COLOR_FROM_POS = 1;\n      }\n      if (this.shadowmap) {\n        defines.SHADOWMAP = 1;\n        if (this.shadowmapType === 'pcf') {\n          defines.SHADOWMAP_PCF_SHARP = 1;\n        } else if (this.shadowmapType === 'random') {\n          defines.SHADOWMAP_PCF_RAND = 1;\n        } else {\n          defines.SHADOWMAP_BASIC = 1;\n        }\n      }\n      if (this.colorFromDepth) {\n        defines.COLOR_FROM_DEPTH = 1;\n      }\n      if (this.orthoCam) {\n        defines.ORTHOGRAPHIC_CAMERA = 1;\n      }\n      if (this.prepassTransparancy) {\n        defines.PREPASS_TRANSP = 1;\n      }\n      if (this.dashedLine) {\n        defines.DASHED_LINE = 1;\n      }\n      if (this.thickLine) {\n        defines.THICK_LINE = 1;\n      }\n      if (this.fogTransparent) {\n        defines.FOG_TRANSPARENT = 1;\n      }\n      if (this.normalsToGBuffer) {\n        extensions.drawBuffers = 1;\n        defines.NORMALS_TO_G_BUFFER = 1;\n      }\n      if (this.toonShading) {\n        defines.TOON_SHADING = 1;\n      }\n      this.defines = defines;\n      this.extensions = extensions;\n    }\n  }, {\n    key: \"setUberOptions\",\n    value: function setUberOptions(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      for (var key in values) {\n        if (!Object.hasOwn(values, key)) {\n          continue;\n        }\n        if (this.uberOptions[key] instanceof Color) {\n          this.uberOptions[key] = values[key].clone();\n        } else {\n          this.uberOptions[key] = values[key];\n        }\n      }\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(shallow) {\n      if (!shallow) {\n        return Material.prototype.clone.call(this);\n      }\n      return this.createInstance();\n    }\n  }, {\n    key: \"updateUniforms\",\n    value: function updateUniforms() {\n      var self = this;\n      uberOptionNames.forEach(function (p) {\n        if (Object.hasOwn(self.uniforms, p)) {\n          if (self.uberOptions[p] instanceof Color || self.uberOptions[p] instanceof Matrix4) {\n            self.uniforms[p].value = self.uberOptions[p].clone();\n          } else {\n            self.uniforms[p].value = self.uberOptions[p];\n          }\n        }\n      });\n    }\n  }]);\n  return UberMaterial;\n}(RawShaderMaterial);\nUberMaterial.prototype.uberOptions = uberOptions;\n\nfunction _createSuper$1w(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1w(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1w() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction UberObject (SuperClass) {\n  var NewObjectType = function (_SuperClass) {\n    _inherits(NewObjectType, _SuperClass);\n    var _super = _createSuper$1w(NewObjectType);\n    function NewObjectType() {\n      var _this;\n      _classCallCheck(this, NewObjectType);\n      for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n        rest[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(rest));\n      _this.onBeforeRender = NewObjectType.prototype.onBeforeRender;\n      return _this;\n    }\n    _createClass(NewObjectType, [{\n      key: \"onBeforeRender\",\n      value: function onBeforeRender(renderer, scene, camera, geometry, material, group) {\n        this._onBeforeRender(renderer, scene, camera, geometry, material, group);\n        this._update();\n      }\n    }, {\n      key: \"_onBeforeRender\",\n      value: function _onBeforeRender() {}\n    }, {\n      key: \"_update\",\n      value: function _update() {\n        var material = this.material;\n        if (!material) {\n          return;\n        }\n        if (material instanceof UberMaterial) {\n          material.updateUniforms();\n        }\n      }\n    }]);\n    return NewObjectType;\n  }(SuperClass);\n  return NewObjectType;\n}\n\nfunction _createSuper$1v(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1v(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1v() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh$4 = UberObject(Mesh);\nvar ZSpriteMesh = function (_OurMesh) {\n  _inherits(ZSpriteMesh, _OurMesh);\n  var _super = _createSuper$1v(ZSpriteMesh);\n  function ZSpriteMesh() {\n    var _this;\n    _classCallCheck(this, ZSpriteMesh);\n    for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n      rest[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(rest));\n    _this.castShadow = true;\n    _this.receiveShadow = true;\n    return _this;\n  }\n  _createClass(ZSpriteMesh, [{\n    key: \"_onBeforeRender\",\n    value: function _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n      OurMesh$4.prototype._onBeforeRender.call(this, renderer, scene, camera);\n      var material = this.material;\n      if (!material) {\n        return;\n      }\n      if (material.uniforms.invModelViewMatrix) {\n        this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n        material.uniforms.invModelViewMatrix.value.copy(this.modelViewMatrix).invert();\n        material.uniforms.nearPlaneValue.value = camera.near;\n        material.uniformsNeedUpdate = true;\n      }\n    }\n  }]);\n  return ZSpriteMesh;\n}(OurMesh$4);\n\nfunction _createSuper$1u(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1u(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1u() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh$3 = UberObject(Mesh);\nvar ZClippedMesh = function (_OurMesh) {\n  _inherits(ZClippedMesh, _OurMesh);\n  var _super = _createSuper$1u(ZClippedMesh);\n  function ZClippedMesh(geometry, material) {\n    var _this;\n    _classCallCheck(this, ZClippedMesh);\n    _this = _super.call(this, geometry, material);\n    _this.castShadow = true;\n    _this.receiveShadow = true;\n    return _this;\n  }\n  _createClass(ZClippedMesh, [{\n    key: \"_onBeforeRender\",\n    value: function _onBeforeRender(renderer, scene, camera) {\n      OurMesh$3.prototype._onBeforeRender.call(this, renderer, scene, camera);\n      var geo = this.geometry;\n      var material = this.material;\n      if (!geo.zClip || !material.uberOptions) {\n        return;\n      }\n      var zClipCoef = 0.5;\n      var modelView = ZClippedMesh._modelView;\n      var mvLength = ZClippedMesh._mvLength;\n      var center = ZClippedMesh._center;\n      modelView.multiplyMatrices(this.matrixWorld, camera.matrixWorldInverse);\n      var s = mvLength.setFromMatrixColumn(modelView, 0).length();\n      center.copy(geo.boundingSphere.center);\n      this.localToWorld(center);\n      material.uberOptions.zClipValue = camera.position.z - center.z - s * (zClipCoef * geo.boundingSphere.radius);\n    }\n  }]);\n  return ZClippedMesh;\n}(OurMesh$3);\n_defineProperty(ZClippedMesh, \"_mvLength\", new Vector3());\n_defineProperty(ZClippedMesh, \"_center\", new Vector3());\n_defineProperty(ZClippedMesh, \"_modelView\", new Matrix4());\n\nfunction _createSuper$1t(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1t(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1t() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TextMesh = function (_Group) {\n  _inherits(TextMesh, _Group);\n  var _super = _createSuper$1t(TextMesh);\n  function TextMesh(geometry, _material) {\n    var _this;\n    _classCallCheck(this, TextMesh);\n    _this = _super.call(this);\n    _this.geometry = geometry;\n    var self = _assertThisInitialized(_this);\n    self.initialized = false;\n    _this.geometry.addEventListener('update', function () {\n      self.update();\n    });\n    return _this;\n  }\n  _createClass(TextMesh, [{\n    key: \"init\",\n    value: function init() {\n      var children = this.children;\n      for (var i = children.length - 1; i >= 0; --i) {\n        this.remove(children[i]);\n      }\n      var _this$geometry = this.geometry,\n          items = _this$geometry.items,\n          userData = _this$geometry.userData;\n      for (var _i = 0, n = items.length; _i < n; ++_i) {\n        var srcItem = items[_i];\n        if (!srcItem) {\n          continue;\n        }\n        var item = utils.shallowCloneNode(srcItem);\n        var label = new CSS2DObject(item);\n        label.userData = clone(userData);\n        var el = label.getElement();\n        el.style.visibility = 'visible';\n        label.source = srcItem;\n        this.add(label);\n      }\n      this.initialized = true;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var geo = this.geometry;\n      if (!geo.needsUpdate) {\n        return;\n      }\n      var children = this.children;\n      if (!this.initialized) {\n        this.init();\n      }\n      for (var i = 0, n = children.length; i < n; ++i) {\n        var child = children[i];\n        var item = child.source;\n        child.position.copy(item.worldPos);\n        child.userData.color = item.opts.color;\n        child.userData.background = item.opts.background;\n      }\n    }\n  }]);\n  return TextMesh;\n}(Group);\n\nfunction _createSuper$1s(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1s(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1s() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh$2 = UberObject(Mesh);\nvar SimpleMesh = function (_OurMesh) {\n  _inherits(SimpleMesh, _OurMesh);\n  var _super = _createSuper$1s(SimpleMesh);\n  function SimpleMesh(geometry, material) {\n    var _this;\n    _classCallCheck(this, SimpleMesh);\n    _this = _super.call(this, geometry, material);\n    _this.castShadow = true;\n    _this.receiveShadow = true;\n    return _this;\n  }\n  return _createClass(SimpleMesh);\n}(OurMesh$2);\n\nfunction _createSuper$1r(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1r(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1r() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh$1 = UberObject(Mesh);\nvar _viewport = new Vector2();\nvar ThickLineMesh = function (_OurMesh) {\n  _inherits(ThickLineMesh, _OurMesh);\n  var _super = _createSuper$1r(ThickLineMesh);\n  function ThickLineMesh() {\n    _classCallCheck(this, ThickLineMesh);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ThickLineMesh, [{\n    key: \"_onBeforeRender\",\n    value: function _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n      var material = this.material;\n      if (!material.uberOptions) {\n        return;\n      }\n      material.uberOptions.projMatrixInv.copy(camera.projectionMatrix).invert();\n      renderer.getSize(_viewport);\n      material.uberOptions.viewport.set(_viewport.width, _viewport.height);\n    }\n  }]);\n  return ThickLineMesh;\n}(OurMesh$1);\n\nfunction _createSuper$1q(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1q(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1q() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh = UberObject(Mesh);\nvar InstancedMesh = function (_OurMesh) {\n  _inherits(InstancedMesh, _OurMesh);\n  var _super = _createSuper$1q(InstancedMesh);\n  function InstancedMesh() {\n    var _this;\n    _classCallCheck(this, InstancedMesh);\n    for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n      rest[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(rest));\n    _this.castShadow = true;\n    _this.receiveShadow = true;\n    return _this;\n  }\n  return _createClass(InstancedMesh);\n}(OurMesh);\n\nvar meshes = {\n  ZClipped: ZClippedMesh,\n  ZSprite: ZSpriteMesh,\n  Text: TextMesh,\n  Line: UberObject(Line),\n  LineSegments: UberObject(LineSegments),\n  Mesh: SimpleMesh,\n  ThickLineMesh: ThickLineMesh,\n  Instanced: InstancedMesh\n};\n\nfunction setMatParams(params, uniforms) {\n  return function (material) {\n    material.setValues(params);\n    material.setUberOptions(uniforms);\n  };\n}\nfunction _createInstancedCylinders(useZSprites, openEnded) {\n  return {\n    Geometry: function Geometry(a, b) {\n      return new geometries.Instanced2CCylindersGeometry(a, b, useZSprites, openEnded);\n    },\n    Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n    initMaterial: setMatParams({\n      instancedMatrix: true,\n      attrColor: true,\n      attrColor2: true,\n      attrAlphaColor: true,\n      cylinderSprite: useZSprites\n    })\n  };\n}\nfunction _createLineSegmentsGeoTriplet(geo, renderParams) {\n  var thickLines = geo.prototype instanceof ThickLinesGeometry;\n  var lineWidth = renderParams.lineWidth || 0;\n  return {\n    Geometry: geo,\n    Object: thickLines ? meshes.ThickLineMesh : meshes.LineSegments,\n    initMaterial: setMatParams({\n      lights: false,\n      attrColor: true,\n      attrAlphaColor: true,\n      thickLine: thickLines\n    }, {\n      lineWidth: lineWidth\n    })\n  };\n}\nfunction _createSimpleGeoTriplet(geoClass) {\n  return {\n    Geometry: geoClass,\n    Object: meshes.Mesh,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: true\n    })\n  };\n}\nfunction _createIsoSurfaceGeoTriplet(geoClass, caps, settings, renderParams) {\n  var surfaceOpts = {\n    wireframe: !!renderParams.wireframe,\n    fakeOpacity: settings.now.isoSurfaceFakeOpacity,\n    zClip: renderParams.zClip\n  };\n  return {\n    Geometry: geoClass,\n    Object: meshes.ZClipped,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: false,\n      wireframe: surfaceOpts.wireframe,\n      fakeOpacity: surfaceOpts.fakeOpacity,\n      zClip: surfaceOpts.zClip\n    })\n  };\n}\nvar MeshCreator = function () {\n  function MeshCreator() {\n    _classCallCheck(this, MeshCreator);\n  }\n  _createClass(MeshCreator, null, [{\n    key: \"createSpheres\",\n    value: function createSpheres(caps, settings) {\n      var useZSprites = settings.now.zSprites;\n      return {\n        Geometry: function Geometry(a, b) {\n          return new geometries.InstancedSpheresGeometry(a, b, useZSprites);\n        },\n        Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n        initMaterial: setMatParams({\n          instancedPos: true,\n          attrColor: true,\n          attrAlphaColor: true,\n          sphereSprite: useZSprites\n        })\n      };\n    }\n  }, {\n    key: \"create2CClosedCylinders\",\n    value: function create2CClosedCylinders(_caps, _settings) {\n      return _createInstancedCylinders(false, false);\n    }\n  }, {\n    key: \"create2CCylinders\",\n    value: function create2CCylinders(caps, settings) {\n      return _createInstancedCylinders(settings.now.zSprites, true);\n    }\n  }, {\n    key: \"create2CLines\",\n    value: function create2CLines(_caps, _settings, renderParams) {\n      return _createLineSegmentsGeoTriplet(geometries.TwoColorLinesGeometry, renderParams);\n    }\n  }, {\n    key: \"createCrosses\",\n    value: function createCrosses(_caps, _settings, renderParams) {\n      return _createLineSegmentsGeoTriplet(geometries.CrossGeometry, renderParams);\n    }\n  }, {\n    key: \"createExtrudedChains\",\n    value: function createExtrudedChains(_caps, _settings) {\n      return _createSimpleGeoTriplet(geometries.ExtrudedObjectsGeometry);\n    }\n  }, {\n    key: \"createChunkedLines\",\n    value: function createChunkedLines(_caps, _settings, renderParams) {\n      return _createLineSegmentsGeoTriplet(geometries.ChunkedLinesGeometry, renderParams);\n    }\n  }, {\n    key: \"createQuickSurface\",\n    value: function createQuickSurface(caps, settings, renderParams) {\n      return _createIsoSurfaceGeoTriplet(geometries.QuickSurfGeometry, caps, settings, renderParams);\n    }\n  }, {\n    key: \"createContactSurface\",\n    value: function createContactSurface(caps, settings, renderParams) {\n      return _createIsoSurfaceGeoTriplet(geometries.ContactSurfaceGeometry, caps, settings, renderParams);\n    }\n  }, {\n    key: \"createSASSES\",\n    value: function createSASSES(caps, settings, renderParams) {\n      return _createIsoSurfaceGeoTriplet(geometries.SSIsosurfaceGeometry, caps, settings, renderParams);\n    }\n  }, {\n    key: \"createLabels\",\n    value: function createLabels(_caps, _settings) {\n      return {\n        Geometry: geometries.LabelsGeometry,\n        Object: meshes.Text,\n        initMaterial: function initMaterial() {}\n      };\n    }\n  }]);\n  return MeshCreator;\n}();\n\nfunction _createSuper$1p(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1p(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1p() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TransformGroup = function (_Object3D) {\n  _inherits(TransformGroup, _Object3D);\n  var _super = _createSuper$1p(TransformGroup);\n  function TransformGroup(geometry, geoParams, material, transforms) {\n    var _this;\n    _classCallCheck(this, TransformGroup);\n    _this = _super.call(this);\n    _this._geometry = geometry;\n    _this._geoParams = geoParams;\n    var mat = material.createInstance();\n    geoParams.initMaterial(mat);\n    _this._material = mat;\n    _this._transforms = transforms.length > 0 ? transforms : [new Matrix4()];\n    var meshes = _this._createMeshes(geometry);\n    for (var i = 0, n = meshes.length; i < n; ++i) {\n      _this.add(meshes[i]);\n    }\n    return _this;\n  }\n  _createClass(TransformGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var ray = TransformGroup._ray;\n      var inverseMatrix = TransformGroup._inverseMatrix;\n      var children = this.children;\n      ray.copy(raycaster.ray);\n      for (var i = 0, n = children.length; i < n; ++i) {\n        var child = children[i];\n        if (!gfxutils.belongToSelectLayers(child)) {\n          continue;\n        }\n        child.updateMatrixWorld();\n        var mtx = child.matrixWorld;\n        inverseMatrix.copy(mtx).invert();\n        raycaster.ray.copy(ray).applyMatrix4(inverseMatrix);\n        var childIntersects = [];\n        this._geometry.raycast(raycaster, childIntersects);\n        for (var j = 0, ciCount = childIntersects.length; j < ciCount; ++j) {\n          var inters = childIntersects[j];\n          if (inters.point) {\n            inters.point.applyMatrix4(mtx);\n            inters.distance = ray.origin.distanceTo(inters.point);\n          }\n          inters.object = child;\n          intersects[intersects.length] = inters;\n        }\n      }\n      raycaster.ray.copy(ray);\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var geos = this._geometry.getSubset(chunkIndices);\n      var subset = [];\n      var subIdx = 0;\n      for (var i = 0, n = geos.length; i < n; ++i) {\n        var meshes = this._createMeshes(geos[i]);\n        for (var j = 0, meshCnt = meshes.length; j < meshCnt; ++j) {\n          subset[subIdx++] = meshes[j];\n        }\n      }\n      return subset;\n    }\n  }, {\n    key: \"_createMeshes\",\n    value: function _createMeshes(geometry) {\n      var transforms = this._transforms;\n      var Mesh = this._geoParams.Object;\n      var material = this._material;\n      var meshes = [];\n      for (var i = 0, n = transforms.length; i < n; ++i) {\n        var mesh = new Mesh(geometry, material);\n        mesh.applyMatrix4(transforms[i]);\n        meshes[i] = mesh;\n      }\n      return meshes;\n    }\n  }]);\n  return TransformGroup;\n}(Object3D);\n_defineProperty(TransformGroup, \"_inverseMatrix\", new Matrix4());\n_defineProperty(TransformGroup, \"_ray\", new Ray());\n\nfunction _createSuper$1o(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1o(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1o() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction wrapper(Name, args) {\n  var params = [Name].concat(args);\n  return Name.bind.apply(Name, _toConsumableArray(params));\n}\nvar ChemGroup = function (_RCGroup) {\n  _inherits(ChemGroup, _RCGroup);\n  var _super = _createSuper$1o(ChemGroup);\n  function ChemGroup(geoParams, selection, colorer, mode, transforms, polyComplexity, material) {\n    var _this;\n    _classCallCheck(this, ChemGroup);\n    _this = _super.call(this);\n    if (_this.constructor === ChemGroup) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    _this._selection = selection;\n    _this._mode = mode;\n    _this._colorer = colorer;\n    _this._chunksIdc = selection.chunks;\n    _this._polyComplexity = polyComplexity;\n    _this._geo = new (wrapper(geoParams.Geometry, _this._makeGeoArgs()))();\n    _this._mesh = new TransformGroup(_this._geo, geoParams, material, transforms);\n    _this.add(_this._mesh);\n    _this._build();\n    return _this;\n  }\n  _createClass(ChemGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      throw new Error('ChemGroup subclass must override _makeGeoArgs() method');\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      innerOnly = innerOnly !== undefined ? innerOnly : false;\n      var chunksList = this._calcChunksList(mask, innerOnly);\n      if (chunksList.length === 0) {\n        return [];\n      }\n      return this._mesh.getSubset(chunksList);\n    }\n  }, {\n    key: \"_changeSubsetOpacity\",\n    value: function _changeSubsetOpacity(mask, value, innerOnly) {\n      var chunksList = this._calcChunksList(mask, innerOnly);\n      if (chunksList.length === 0) {\n        return;\n      }\n      this._geo.setOpacity(chunksList, value);\n    }\n  }, {\n    key: \"enableSubset\",\n    value: function enableSubset(mask, innerOnly) {\n      innerOnly = innerOnly !== undefined ? innerOnly : true;\n      this._changeSubsetOpacity(mask, 1.0, innerOnly);\n    }\n  }, {\n    key: \"disableSubset\",\n    value: function disableSubset(mask, innerOnly) {\n      innerOnly = innerOnly !== undefined ? innerOnly : true;\n      this._changeSubsetOpacity(mask, 0.0, innerOnly);\n    }\n  }]);\n  return ChemGroup;\n}(RCGroup);\n\nfunction _createSuper$1n(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1n(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1n() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsGroup = function (_ChemGroup) {\n  _inherits(AtomsGroup, _ChemGroup);\n  var _super = _createSuper$1n(AtomsGroup);\n  function AtomsGroup() {\n    _classCallCheck(this, AtomsGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var atoms = this._selection.atoms;\n      var inters = [];\n      this._mesh.raycast(raycaster, inters);\n      var atomsIdc = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!Object.hasOwn(inters[i], 'chunkIdx')) {\n          continue;\n        }\n        var atomIdx = atomsIdc[inters[i].chunkIdx];\n        if (atomIdx < atoms.length) {\n          inters[i].atom = atoms[atomIdx];\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask) {\n      var chunksList = [];\n      var atoms = this._selection.atoms;\n      var atomsIdc = this._chunksIdc;\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        if ((atom.mask & mask) !== 0) {\n          chunksList.push(i);\n        }\n      }\n      return chunksList;\n    }\n  }]);\n  return AtomsGroup;\n}(ChemGroup);\n\nfunction _createSuper$1m(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1m(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1m() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsSphereGroup = function (_AtomsGroup) {\n  _inherits(AtomsSphereGroup, _AtomsGroup);\n  var _super = _createSuper$1m(AtomsSphereGroup);\n  function AtomsSphereGroup() {\n    _classCallCheck(this, AtomsSphereGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsSphereGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      return [this._selection.chunks.length, this._polyComplexity];\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var atomsIdc = this._selection.chunks;\n      var _this$_selection = this._selection,\n          atoms = _this$_selection.atoms,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        geo.setItem(i, atom.position, mode.calcAtomRadius(atom));\n        geo.setColor(i, colorer.getAtomColor(atom, parent));\n      }\n      geo.finalize();\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var atomsIdc = this._selection.chunks;\n      var atoms = this._selection.atoms;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      var geo = this._geo;\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), mode.calcAtomRadius(atom));\n        if (updateColor) {\n          geo.setColor(i, frameData.getAtomColor(colorer, atom));\n        }\n      }\n      geo.finalize();\n    }\n  }]);\n  return AtomsSphereGroup;\n}(AtomsGroup);\n\nfunction _createSuper$1l(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1l(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1l() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsSurfaceGroup = function (_AtomsSphereGroup) {\n  _inherits(AtomsSurfaceGroup, _AtomsSphereGroup);\n  var _super = _createSuper$1l(AtomsSurfaceGroup);\n  function AtomsSurfaceGroup() {\n    _classCallCheck(this, AtomsSurfaceGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsSurfaceGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var selectedAtoms = [];\n      var _this$_selection = this._selection,\n          atoms = _this$_selection.atoms,\n          chunks = _this$_selection.chunks;\n      var n = chunks.length;\n      for (var i = 0; i < n; ++i) {\n        selectedAtoms[i] = atoms[chunks[i]];\n      }\n      var opts = this._mode.getSurfaceOpts();\n      opts.atoms = selectedAtoms;\n      return [n, opts];\n    }\n  }]);\n  return AtomsSurfaceGroup;\n}(AtomsSphereGroup);\n\nfunction _createSuper$1k(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1k(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1k() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsSASSESGroupStub = function (_AtomsSphereGroup) {\n  _inherits(AtomsSASSESGroupStub, _AtomsSphereGroup);\n  var _super = _createSuper$1k(AtomsSASSESGroupStub);\n  function AtomsSASSESGroupStub() {\n    _classCallCheck(this, AtomsSASSESGroupStub);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsSASSESGroupStub, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var selectedAtoms = [];\n      var _this$_selection = this._selection,\n          atoms = _this$_selection.atoms,\n          chunks = _this$_selection.chunks;\n      var n = chunks.length;\n      for (var i = 0; i < n; ++i) {\n        selectedAtoms[i] = atoms[chunks[i]];\n      }\n      var opts = this._mode.getSurfaceOpts();\n      opts.atoms = selectedAtoms;\n      opts.selection = this._selection;\n      opts.colorMode = this._colorer;\n      return [n, opts];\n    }\n  }]);\n  return AtomsSASSESGroupStub;\n}(AtomsSphereGroup);\n\nfunction _createSuper$1j(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1j(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1j() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction adjustColor(color) {\n  var r = color >> 16 & 255;\n  var g = color >> 8 & 255;\n  var b = color & 255;\n  if (0.2126 * r + 0.7152 * g + 0.0722 * b > 127) {\n    r = r * 3 / 10;\n    g = g * 3 / 10;\n    b = b * 3 / 10;\n  } else {\n    r = 255 - (255 - r) * 3 / 10;\n    g = 255 - (255 - g) * 3 / 10;\n    b = 255 - (255 - b) * 3 / 10;\n  }\n  return r << 16 | g << 8 | b;\n}\nfunction inverseColor(color) {\n  var r = color >> 16 & 255;\n  var g = color >> 8 & 255;\n  var b = color & 255;\n  return 255 - r << 16 | 255 - g << 8 | 255 - b;\n}\nfunction getAtomText(atom) {\n  if (atom.name.getNode() !== null) {\n    return atom.name.getNode();\n  }\n  return atom.getVisualName();\n}\nvar colorMappings = {\n  none: function none(c) {\n    return c;\n  },\n  adjust: adjustColor,\n  inverse: inverseColor\n};\nfunction propagateColor(color, rule) {\n  var result;\n  if (Object.hasOwn(colorMappings, rule)) {\n    result = utils.hexColor(colorMappings[rule](color));\n  } else {\n    var val = parseInt(rule, 16);\n    if (!Number.isNaN(val) && rule.toLowerCase().startsWith('0x')) {\n      result = utils.hexColor(val);\n    } else {\n      result = '#000000';\n    }\n  }\n  return result;\n}\nvar templateMappings = {\n  serial: function serial(a) {\n    return a.serial;\n  },\n  name: function name(a) {\n    return a.getVisualName();\n  },\n  elem: function elem(a) {\n    return a.element.name;\n  },\n  residue: function residue(a) {\n    return a.residue.getType().getName();\n  },\n  sequence: function sequence(a) {\n    return a.residue.getSequence();\n  },\n  chain: function chain(a) {\n    return a.residue.getChain().getName();\n  },\n  hetatm: function hetatm(a) {\n    return a.isHet();\n  },\n  water: function water(a) {\n    return a.residue.getType().getName() === 'HOH' || a.residue.getType().getName() === 'WAT';\n  }\n};\nvar parseTemplate = function parseTemplate(atom, str) {\n  return str.replace(/\\{\\{(\\s*\\w+\\s*)\\}\\}/g, function (m) {\n    var key = m.replace(/\\s+/g, '');\n    key = key.substring(2, key.length - 2).toLowerCase();\n    if (Object.hasOwn(templateMappings, key)) {\n      return templateMappings[key](atom);\n    }\n    return 'null';\n  });\n};\nvar AtomsTextGroup = function (_AtomsGroup) {\n  _inherits(AtomsTextGroup, _AtomsGroup);\n  var _super = _createSuper$1j(AtomsTextGroup);\n  function AtomsTextGroup() {\n    _classCallCheck(this, AtomsTextGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsTextGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var opts = this._mode.getLabelOpts();\n      return [this._selection.chunks.length, opts];\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var opts = this._mode.getLabelOpts();\n      var atomsIdc = this._selection.chunks;\n      var _this$_selection = this._selection,\n          atoms = _this$_selection.atoms,\n          parent = _this$_selection.parent;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        var text = opts.template ? parseTemplate(atom, opts.template) : getAtomText(atom);\n        if (!text) {\n          continue;\n        }\n        var color = colorer.getAtomColor(atom, parent);\n        var fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16);\n        var bgColor = opts.showBg ? parseInt(propagateColor(color, opts.bg).substring(1), 16) : 'transparent';\n        geo.setItem(i, atom.position, text);\n        geo.setColor(i, fgColor, bgColor);\n      }\n      geo.finalize();\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var opts = this._mode.getLabelOpts();\n      var atomsIdc = this._selection.chunks;\n      var atoms = this._selection.atoms;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        var text = opts.template ? parseTemplate(atom, opts.template) : getAtomText(atom);\n        if (!text) {\n          continue;\n        }\n        var color = frameData.getAtomColor(colorer, atom);\n        var fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16);\n        var bgColor = opts.showBg ? parseInt(propagateColor(color, opts.bg).substring(1), 16) : 'transparent';\n        geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), text);\n        if (updateColor) {\n          geo.setColor(i, fgColor, bgColor);\n        }\n      }\n      geo.finalize();\n    }\n  }]);\n  return AtomsTextGroup;\n}(AtomsGroup);\n\nfunction _createSuper$1i(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1i(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1i() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _slerp(omega, v1, v2, t) {\n  var oSin = Math.sin(omega);\n  return v1.clone().multiplyScalar(Math.sin((1 - t) * omega) / oSin).addScaledVector(v2, Math.sin(t * omega) / oSin);\n}\nvar AromaticGroup = function (_AtomsGroup) {\n  _inherits(AromaticGroup, _AtomsGroup);\n  var _super = _createSuper$1i(AromaticGroup);\n  function AromaticGroup() {\n    _classCallCheck(this, AromaticGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AromaticGroup, [{\n    key: \"_buildInner\",\n    value: function _buildInner(radOffset, addChunk) {\n      var chunksToIdx = this._selection.chunks;\n      var prevVector = new Vector3();\n      var currVector = new Vector3();\n      var segmentsHeight = this._segmentsHeight;\n      var leprStep = 1.0 / segmentsHeight;\n      var colorer = this._colorer;\n      var _this$_selection = this._selection,\n          cycles = _this$_selection.cycles,\n          parent = _this$_selection.parent;\n      var chunkIdx = 0;\n      var currAtomIdx = chunksToIdx[chunkIdx];\n      for (var cIdx = 0, cCount = cycles.length; cIdx < cCount; ++cIdx) {\n        var cycle = cycles[cIdx];\n        var cycAtoms = cycle.atoms;\n        var chunkPoints = [];\n        var tmpDir = [];\n        var center = cycle.center;\n        var cycleRad = cycle.radius - radOffset;\n        var n = cycAtoms.length;\n        var i = 0;\n        var prevPos = cycAtoms[n - 1].position;\n        var currPos = cycAtoms[i].position;\n        prevVector.subVectors(prevPos, center);\n        currVector.subVectors(currPos, center);\n        var upDir = currVector.clone().cross(prevVector).normalize();\n        for (; i < n; ++i) {\n          var omega = prevVector.angleTo(currVector);\n          tmpDir[i] = _slerp(omega, prevVector, currVector, 0.5).normalize();\n          currPos = cycAtoms[(i + 1) % n].position;\n          prevVector.copy(currVector);\n          currVector.subVectors(currPos, center);\n        }\n        for (i = 0; i < n; ++i) {\n          if (cycAtoms[i].index !== currAtomIdx) {\n            continue;\n          }\n          var start = tmpDir[i];\n          var end = tmpDir[(i + 1) % n];\n          var color = colorer.getAtomColor(cycAtoms[i], parent);\n          var currAngle = start.angleTo(end);\n          for (var j = 0; j <= segmentsHeight; ++j) {\n            chunkPoints[j] = _slerp(currAngle, start, end, j * leprStep).multiplyScalar(cycleRad).add(center);\n          }\n          addChunk(chunkIdx++, color, chunkPoints, center, upDir);\n          currAtomIdx = chunksToIdx[chunkIdx];\n        }\n      }\n    }\n  }]);\n  return AromaticGroup;\n}(AtomsGroup);\n\nfunction _createSuper$1h(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1h(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1h() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _createShape$1(rad, parts) {\n  var pts = [];\n  for (var i = 0; i < parts; ++i) {\n    var a = -2 * i / parts * Math.PI;\n    pts.push(new Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0));\n  }\n  return pts;\n}\nvar calcChunkMatrix = gfxutils.calcChunkMatrix;\nvar AromaticTorusGroup = function (_AromaticGroup) {\n  _inherits(AromaticTorusGroup, _AromaticGroup);\n  var _super = _createSuper$1h(AromaticTorusGroup);\n  function AromaticTorusGroup() {\n    _classCallCheck(this, AromaticTorusGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AromaticTorusGroup, [{\n    key: \"_build\",\n    value: function _build() {\n      var segmentsHeight = this._segmentsHeight;\n      var torusRad = this._mode.getAromRadius();\n      var radiusV = new Vector2(torusRad, torusRad);\n      var radOffset = this._mode.calcStickRadius() + 2 * torusRad;\n      var lookAtVector = new Vector3();\n      var mtc = [];\n      var geo = this._geo;\n      this._buildInner(radOffset, function (chunkIdx, color, points, center, upDir) {\n        for (var j = 0; j <= segmentsHeight; ++j) {\n          var currPoint = points[j];\n          var currDir = currPoint.clone().sub(center).cross(upDir);\n          lookAtVector.addVectors(currPoint, currDir);\n          mtc[j] = calcChunkMatrix(currPoint, lookAtVector, upDir, radiusV);\n        }\n        geo.setItem(chunkIdx, mtc);\n        geo.setColor(chunkIdx, color);\n      });\n      geo.finalize();\n    }\n  }, {\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      this._segmentsHeight = this._polyComplexity;\n      return [_createShape$1(1.0, this._polyComplexity), this._segmentsHeight + 1, this._selection.chunks.length];\n    }\n  }]);\n  return AromaticTorusGroup;\n}(AromaticGroup);\n\nfunction _createSuper$1g(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1g(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1g() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AromaticLinesGroup = function (_AromaticGroup) {\n  _inherits(AromaticLinesGroup, _AromaticGroup);\n  var _super = _createSuper$1g(AromaticLinesGroup);\n  function AromaticLinesGroup() {\n    _classCallCheck(this, AromaticLinesGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AromaticLinesGroup, [{\n    key: \"_build\",\n    value: function _build() {\n      var _this = this;\n      var geo = this._geo;\n      var radOffset = this._mode.getAromaticOffset();\n      this._buildInner(radOffset, function (chunkIdx, color, points) {\n        var prevPt = points[0];\n        for (var j = 1; j <= _this._segmentsHeight; ++j) {\n          var currPoint = points[j];\n          geo.setSegment(chunkIdx, j - 1, prevPt, currPoint);\n          prevPt = currPoint;\n        }\n        geo.setColor(chunkIdx, color);\n      });\n      geo.finalize();\n    }\n  }, {\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      this._segmentsHeight = this._mode.getAromaticArcChunks();\n      return [this._selection.chunks.length, this._segmentsHeight, true];\n    }\n  }]);\n  return AromaticLinesGroup;\n}(AromaticGroup);\n\nfunction _createSuper$1f(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1f(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1f() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResiduesGroup = function (_ChemGroup) {\n  _inherits(ResiduesGroup, _ChemGroup);\n  var _super = _createSuper$1f(ResiduesGroup);\n  function ResiduesGroup() {\n    _classCallCheck(this, ResiduesGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResiduesGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var residues = this._selection.residues;\n      var inters = [];\n      this._mesh.raycast(raycaster, inters);\n      var chunksIdc = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!Object.hasOwn(inters[i], 'chunkIdx')) {\n          continue;\n        }\n        var resIdx = chunksIdc[inters[i].chunkIdx];\n        if (resIdx < residues.length) {\n          inters[i].residue = residues[resIdx];\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask) {\n      var chunksList = [];\n      var residues = this._selection.residues;\n      var resIdc = this._chunksIdc;\n      for (var i = 0, n = resIdc.length; i < n; ++i) {\n        var res = residues[resIdc[i]];\n        if ((res._mask & mask) !== 0) {\n          chunksList.push(i);\n        }\n      }\n      return chunksList;\n    }\n  }]);\n  return ResiduesGroup;\n}(ChemGroup);\n\nfunction _createSuper$1e(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1e(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1e() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar NucleicItemGroup = function (_ResiduesGroup) {\n  _inherits(NucleicItemGroup, _ResiduesGroup);\n  var _super = _createSuper$1e(NucleicItemGroup);\n  function NucleicItemGroup() {\n    _classCallCheck(this, NucleicItemGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(NucleicItemGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var residues = this._selection.residues;\n      var inters = [];\n      this._mesh.raycast(raycaster, inters);\n      var chunksIdc = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!Object.hasOwn(inters[i], 'chunkIdx')) {\n          continue;\n        }\n        var resIdx = chunksIdc[Math.floor(inters[i].chunkIdx / 2)];\n        if (resIdx < residues.length) {\n          inters[i].residue = residues[resIdx];\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var _this$_selection = this._selection,\n          residues = _this$_selection.residues,\n          parent = _this$_selection.parent;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var stickRad = this._mode.calcStickRadius();\n      var chunkIdx = 0;\n      var resIdc = this._selection.chunks;\n      for (var i = 0, n = resIdc.length; i < n; ++i) {\n        var res = residues[resIdc[i]];\n        var color = colorer.getResidueColor(res, parent);\n        this._processItem(chunkIdx++, res._cylinders[0], res._cylinders[1], stickRad, color);\n      }\n      geo.finalize();\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask) {\n      var chunksList = [];\n      var chunkIdx = 0;\n      var residues = this._selection.residues;\n      var resIdc = this._chunksIdc;\n      for (var i = 0, n = resIdc.length; i < n; ++i) {\n        var res = residues[resIdc[i]];\n        if ((res._mask & mask) !== 0) {\n          chunksList[chunkIdx++] = 2 * i;\n          chunksList[chunkIdx++] = 2 * i + 1;\n        }\n      }\n      return chunksList;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var residues = frameData.getResidues();\n      var parent = this._selection.parent;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var stickRad = this._mode.calcStickRadius();\n      var chunkIdx = 0;\n      var resIdc = this._selection.chunks;\n      for (var i = 0, n = resIdc.length; i < n; ++i) {\n        var res = residues[resIdc[i]];\n        var color = colorer.getResidueColor(res, parent);\n        this._processItem(chunkIdx++, res._cylinders[0], res._cylinders[1], stickRad, color);\n      }\n      geo.finishUpdate();\n    }\n  }]);\n  return NucleicItemGroup;\n}(ResiduesGroup);\n\nfunction _createSuper$1d(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1d(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1d() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar NucleicCylindersGroup = function (_NucleicItemGroup) {\n  _inherits(NucleicCylindersGroup, _NucleicItemGroup);\n  var _super = _createSuper$1d(NucleicCylindersGroup);\n  function NucleicCylindersGroup() {\n    _classCallCheck(this, NucleicCylindersGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(NucleicCylindersGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      return [this._selection.chunks.length, this._polyComplexity];\n    }\n  }, {\n    key: \"_processItem\",\n    value: function _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n      var geo = this._geo;\n      geo.setItem(chunkIdx, cyl1, cyl2, stickRad);\n      geo.setColor(chunkIdx, color, color);\n    }\n  }]);\n  return NucleicCylindersGroup;\n}(NucleicItemGroup);\n\nfunction _createSuper$1c(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1c(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1c() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar NucleicSpheresGroup = function (_NucleicItemGroup) {\n  _inherits(NucleicSpheresGroup, _NucleicItemGroup);\n  var _super = _createSuper$1c(NucleicSpheresGroup);\n  function NucleicSpheresGroup() {\n    _classCallCheck(this, NucleicSpheresGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(NucleicSpheresGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      return [this._selection.chunks.length * 2, this._polyComplexity];\n    }\n  }, {\n    key: \"_processItem\",\n    value: function _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n      var geo = this._geo;\n      var idx = chunkIdx * 2;\n      geo.setItem(idx, cyl1, stickRad);\n      geo.setColor(idx, color);\n      idx++;\n      geo.setItem(idx, cyl2, stickRad);\n      geo.setColor(idx, color);\n    }\n  }]);\n  return NucleicSpheresGroup;\n}(NucleicItemGroup);\n\nvar Smooth = {};\n\n(function (exports) {\n  (function () {\n    var AbstractInterpolator,\n        CubicInterpolator,\n        Enum,\n        LinearInterpolator,\n        NearestInterpolator,\n        PI,\n        SincFilterInterpolator,\n        _Smooth,\n        clipClamp,\n        clipMirror,\n        clipPeriodic,\n        defaultConfig,\n        getColumn,\n        getType,\n        isValidNumber,\n        k,\n        makeLanczosWindow,\n        makeScaledFunction,\n        makeSincKernel,\n        normalizeScaleTo,\n        shallowCopy,\n        sin,\n        sinc,\n        v,\n        validateNumber,\n        validateVector,\n        __hasProp = Object.prototype.hasOwnProperty,\n        __extends = function __extends(child, parent) {\n      for (var key in parent) {\n        if (__hasProp.call(parent, key)) child[key] = parent[key];\n      }\n      function ctor() {\n        this.constructor = child;\n      }\n      ctor.prototype = parent.prototype;\n      child.prototype = new ctor();\n      child.__super__ = parent.prototype;\n      return child;\n    };\n    Enum = {\n      METHOD_NEAREST: 'nearest',\n      METHOD_LINEAR: 'linear',\n      METHOD_CUBIC: 'cubic',\n      METHOD_LANCZOS: 'lanczos',\n      METHOD_SINC: 'sinc',\n      CLIP_CLAMP: 'clamp',\n      CLIP_ZERO: 'zero',\n      CLIP_PERIODIC: 'periodic',\n      CLIP_MIRROR: 'mirror',\n      CUBIC_TENSION_DEFAULT: 0,\n      CUBIC_TENSION_CATMULL_ROM: 0\n    };\n    defaultConfig = {\n      method: Enum.METHOD_CUBIC,\n      cubicTension: Enum.CUBIC_TENSION_DEFAULT,\n      clip: Enum.CLIP_CLAMP,\n      scaleTo: 0,\n      sincFilterSize: 2,\n      sincWindow: void 0\n    };\n    clipClamp = function clipClamp(i, n) {\n      return Math.max(0, Math.min(i, n - 1));\n    };\n    clipPeriodic = function clipPeriodic(i, n) {\n      i = i % n;\n      if (i < 0) i += n;\n      return i;\n    };\n    clipMirror = function clipMirror(i, n) {\n      var period;\n      period = 2 * (n - 1);\n      i = clipPeriodic(i, period);\n      if (i > n - 1) i = period - i;\n      return i;\n    };\n    AbstractInterpolator = function () {\n      function AbstractInterpolator(array, config) {\n        this.array = array.slice(0);\n        this.length = this.array.length;\n        if (!(this.clipHelper = {\n          clamp: this.clipHelperClamp,\n          zero: this.clipHelperZero,\n          periodic: this.clipHelperPeriodic,\n          mirror: this.clipHelperMirror\n        }[config.clip])) {\n          throw 'Invalid clip: ' + config.clip;\n        }\n      }\n      AbstractInterpolator.prototype.getClippedInput = function (i) {\n        if (0 <= i && i < this.length) {\n          return this.array[i];\n        } else {\n          return this.clipHelper(i);\n        }\n      };\n      AbstractInterpolator.prototype.clipHelperClamp = function (i) {\n        return this.array[clipClamp(i, this.length)];\n      };\n      AbstractInterpolator.prototype.clipHelperZero = function (i) {\n        return 0;\n      };\n      AbstractInterpolator.prototype.clipHelperPeriodic = function (i) {\n        return this.array[clipPeriodic(i, this.length)];\n      };\n      AbstractInterpolator.prototype.clipHelperMirror = function (i) {\n        return this.array[clipMirror(i, this.length)];\n      };\n      AbstractInterpolator.prototype.interpolate = function (t) {\n        throw 'Subclasses of AbstractInterpolator must override the interpolate() method.';\n      };\n      return AbstractInterpolator;\n    }();\n    NearestInterpolator = function (_super) {\n      __extends(NearestInterpolator, _super);\n      function NearestInterpolator() {\n        NearestInterpolator.__super__.constructor.apply(this, arguments);\n      }\n      NearestInterpolator.prototype.interpolate = function (t) {\n        return this.getClippedInput(Math.round(t));\n      };\n      return NearestInterpolator;\n    }(AbstractInterpolator);\n    LinearInterpolator = function (_super) {\n      __extends(LinearInterpolator, _super);\n      function LinearInterpolator() {\n        LinearInterpolator.__super__.constructor.apply(this, arguments);\n      }\n      LinearInterpolator.prototype.interpolate = function (t) {\n        var k;\n        k = Math.floor(t);\n        t -= k;\n        return (1 - t) * this.getClippedInput(k) + t * this.getClippedInput(k + 1);\n      };\n      return LinearInterpolator;\n    }(AbstractInterpolator);\n    CubicInterpolator = function (_super) {\n      __extends(CubicInterpolator, _super);\n      function CubicInterpolator(array, config) {\n        this.tangentFactor = 1 - Math.max(-1, Math.min(1, config.cubicTension));\n        CubicInterpolator.__super__.constructor.apply(this, arguments);\n      }\n      CubicInterpolator.prototype.getTangent = function (k) {\n        return this.tangentFactor * (this.getClippedInput(k + 1) - this.getClippedInput(k - 1)) / 2;\n      };\n      CubicInterpolator.prototype.interpolate = function (t) {\n        var k, m, p, t2, t3;\n        k = Math.floor(t);\n        m = [this.getTangent(k), this.getTangent(k + 1)];\n        p = [this.getClippedInput(k), this.getClippedInput(k + 1)];\n        t -= k;\n        t2 = t * t;\n        t3 = t * t2;\n        return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];\n      };\n      return CubicInterpolator;\n    }(AbstractInterpolator);\n    sin = Math.sin, PI = Math.PI;\n    sinc = function sinc(x) {\n      if (x === 0) {\n        return 1;\n      } else {\n        return sin(PI * x) / (PI * x);\n      }\n    };\n    makeLanczosWindow = function makeLanczosWindow(a) {\n      return function (x) {\n        return sinc(x / a);\n      };\n    };\n    makeSincKernel = function makeSincKernel(window) {\n      return function (x) {\n        return sinc(x) * window(x);\n      };\n    };\n    SincFilterInterpolator = function (_super) {\n      __extends(SincFilterInterpolator, _super);\n      function SincFilterInterpolator(array, config) {\n        SincFilterInterpolator.__super__.constructor.apply(this, arguments);\n        this.a = config.sincFilterSize;\n        if (!config.sincWindow) throw 'No sincWindow provided';\n        this.kernel = makeSincKernel(config.sincWindow);\n      }\n      SincFilterInterpolator.prototype.interpolate = function (t) {\n        var k, n, sum, _ref, _ref2;\n        k = Math.floor(t);\n        sum = 0;\n        for (n = _ref = k - this.a + 1, _ref2 = k + this.a; _ref <= _ref2 ? n <= _ref2 : n >= _ref2; _ref <= _ref2 ? n++ : n--) {\n          sum += this.kernel(t - n) * this.getClippedInput(n);\n        }\n        return sum;\n      };\n      return SincFilterInterpolator;\n    }(AbstractInterpolator);\n    getColumn = function getColumn(arr, i) {\n      var row, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = arr.length; _i < _len; _i++) {\n        row = arr[_i];\n        _results.push(row[i]);\n      }\n      return _results;\n    };\n    makeScaledFunction = function makeScaledFunction(f, baseScale, scaleRange) {\n      var scaleFactor, translation;\n      if (scaleRange.join === '0,1') {\n        return f;\n      } else {\n        scaleFactor = baseScale / (scaleRange[1] - scaleRange[0]);\n        translation = scaleRange[0];\n        return function (t) {\n          return f(scaleFactor * (t - translation));\n        };\n      }\n    };\n    getType = function getType(x) {\n      return Object.prototype.toString.call(x).slice('[object '.length, -1);\n    };\n    validateNumber = function validateNumber(n) {\n      if (isNaN(n)) throw 'NaN in Smooth() input';\n      if (getType(n) !== 'Number') throw 'Non-number in Smooth() input';\n      if (!isFinite(n)) throw 'Infinity in Smooth() input';\n    };\n    validateVector = function validateVector(v, dimension) {\n      var n, _i, _len;\n      if (getType(v) !== 'Array') throw 'Non-vector in Smooth() input';\n      if (v.length !== dimension) throw 'Inconsistent dimension in Smooth() input';\n      for (_i = 0, _len = v.length; _i < _len; _i++) {\n        n = v[_i];\n        validateNumber(n);\n      }\n    };\n    isValidNumber = function isValidNumber(n) {\n      return getType(n) === 'Number' && isFinite(n) && !isNaN(n);\n    };\n    normalizeScaleTo = function normalizeScaleTo(s) {\n      var invalidErr;\n      invalidErr = 'scaleTo param must be number or array of two numbers';\n      switch (getType(s)) {\n        case 'Number':\n          if (!isValidNumber(s)) throw invalidErr;\n          s = [0, s];\n          break;\n        case 'Array':\n          if (s.length !== 2) throw invalidErr;\n          if (!(isValidNumber(s[0]) && isValidNumber(s[1]))) throw invalidErr;\n          break;\n        default:\n          throw invalidErr;\n      }\n      return s;\n    };\n    shallowCopy = function shallowCopy(obj) {\n      var copy, k, v;\n      copy = {};\n      for (k in obj) {\n        if (!__hasProp.call(obj, k)) continue;\n        v = obj[k];\n        copy[k] = v;\n      }\n      return copy;\n    };\n    _Smooth = function Smooth(arr, config) {\n      var baseDomainEnd, dimension, i, interpolator, interpolatorClass, interpolators, k, n, properties, smoothFunc, v;\n      if (config == null) config = {};\n      properties = {};\n      config = shallowCopy(config);\n      properties.config = shallowCopy(config);\n      if (config.scaleTo == null) config.scaleTo = config.period;\n      if (config.sincFilterSize == null) {\n        config.sincFilterSize = config.lanczosFilterSize;\n      }\n      for (k in defaultConfig) {\n        if (!__hasProp.call(defaultConfig, k)) continue;\n        v = defaultConfig[k];\n        if (config[k] == null) config[k] = v;\n      }\n      if (!(interpolatorClass = {\n        nearest: NearestInterpolator,\n        linear: LinearInterpolator,\n        cubic: CubicInterpolator,\n        lanczos: SincFilterInterpolator,\n        sinc: SincFilterInterpolator\n      }[config.method])) {\n        throw 'Invalid method: ' + config.method;\n      }\n      if (config.method === 'lanczos') {\n        config.sincWindow = makeLanczosWindow(config.sincFilterSize);\n      }\n      if (arr.length < 2) throw 'Array must have at least two elements';\n      properties.count = arr.length;\n      smoothFunc = function () {\n        var _i, _j, _len, _len2;\n        switch (getType(arr[0])) {\n          case 'Number':\n            properties.dimension = 'scalar';\n            if (_Smooth.deepValidation) {\n              for (_i = 0, _len = arr.length; _i < _len; _i++) {\n                n = arr[_i];\n                validateNumber(n);\n              }\n            }\n            interpolator = new interpolatorClass(arr, config);\n            return function (t) {\n              return interpolator.interpolate(t);\n            };\n          case 'Array':\n            properties.dimension = dimension = arr[0].length;\n            if (!dimension) throw 'Vectors must be non-empty';\n            if (_Smooth.deepValidation) {\n              for (_j = 0, _len2 = arr.length; _j < _len2; _j++) {\n                v = arr[_j];\n                validateVector(v, dimension);\n              }\n            }\n            interpolators = function () {\n              var _results;\n              _results = [];\n              for (i = 0; 0 <= dimension ? i < dimension : i > dimension; 0 <= dimension ? i++ : i--) {\n                _results.push(new interpolatorClass(getColumn(arr, i), config));\n              }\n              return _results;\n            }();\n            return function (t) {\n              var interpolator, _k, _len3, _results;\n              _results = [];\n              for (_k = 0, _len3 = interpolators.length; _k < _len3; _k++) {\n                interpolator = interpolators[_k];\n                _results.push(interpolator.interpolate(t));\n              }\n              return _results;\n            };\n          default:\n            throw 'Invalid element type: ' + getType(arr[0]);\n        }\n      }();\n      if (config.clip === 'periodic') {\n        baseDomainEnd = arr.length;\n      } else {\n        baseDomainEnd = arr.length - 1;\n      }\n      config.scaleTo || (config.scaleTo = baseDomainEnd);\n      properties.domain = normalizeScaleTo(config.scaleTo);\n      smoothFunc = makeScaledFunction(smoothFunc, baseDomainEnd, properties.domain);\n      properties.domain.sort();\n      for (k in properties) {\n        if (!__hasProp.call(properties, k)) continue;\n        v = properties[k];\n        smoothFunc[k] = v;\n      }\n      return smoothFunc;\n    };\n    for (k in Enum) {\n      if (!__hasProp.call(Enum, k)) continue;\n      v = Enum[k];\n      _Smooth[k] = v;\n    }\n    _Smooth.deepValidation = true;\n    (exports !== null ? exports : window).Smooth = _Smooth;\n  }).call(commonjsGlobal);\n})(Smooth);\n\nvar ResidueType = chem.ResidueType;\nvar calcMatrix = gfxutils.calcChunkMatrix;\nfunction _buildStructureInterpolator(points, tension) {\n  var path = Smooth.Smooth(points, {\n    method: Smooth.Smooth.METHOD_CUBIC,\n    clip: Smooth.Smooth.CLIP_CLAMP,\n    cubicTension: tension,\n    scaleTo: 1\n  });\n  return function (t, argTrans) {\n    var transformT = argTrans;\n    if (transformT === null) {\n      transformT = function transformT(tt) {\n        return (tt * (points.length - 1 - 2) + 1) / (points.length - 1);\n      };\n    }\n    var newt = transformT(t);\n    var ans = path(newt);\n    return new Vector3(ans[0], ans[1], ans[2]);\n  };\n}\nfunction _addPoints(centerPoints, topPoints, idx, residue) {\n  if (!residue._isValid) {\n    centerPoints[idx] = centerPoints[idx - 1];\n    topPoints[idx] = topPoints[idx - 1];\n    return;\n  }\n  var cp = residue._controlPoint;\n  centerPoints[idx] = [cp.x, cp.y, cp.z];\n  var tp = cp.clone().add(residue._wingVector);\n  topPoints[idx] = [tp.x, tp.y, tp.z];\n}\nfunction _addPointsForLoneResidue(centerPoints, topPoints, idx, residue) {\n  var nucleic = (residue._type.flags & ResidueType.Flags.NUCLEIC) !== 0;\n  var nameFrom = nucleic ? \"C5'\" : 'N';\n  var nameTo = nucleic ? \"C3'\" : 'C';\n  var posFrom;\n  var posTo;\n  residue.forEachAtom(function (atom) {\n    var name = atom.getVisualName();\n    if (!posFrom && name === nameFrom) {\n      posFrom = atom.position;\n    } else if (!posTo && name === nameTo) {\n      posTo = atom.position;\n    }\n  });\n  if (!(posFrom && posTo)) {\n    posFrom = residue._firstAtom.position;\n    posTo = residue._lastAtom.position;\n  }\n  if (posFrom && posTo) {\n    var shift = posTo.clone().sub(posFrom);\n    var wing = residue._wingVector;\n    var cp = residue._controlPoint;\n    var tp = cp.clone().add(wing);\n    var cpPrev = cp.clone().sub(shift);\n    var tpPrev = cpPrev.clone().add(wing);\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z];\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z];\n    ++idx;\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z];\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z];\n    ++idx;\n    centerPoints[idx] = [cp.x, cp.y, cp.z];\n    topPoints[idx] = [tp.x, tp.y, tp.z];\n    ++idx;\n    var cpNext = cp.clone().add(shift);\n    var tpNext = cpNext.clone().add(wing);\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z];\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z];\n    ++idx;\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z];\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z];\n  }\n}\nfunction _calcPoints(residues, firstIdx, lastIdx, boundaries) {\n  var left = boundaries.start;\n  var right = boundaries.end;\n  function _prevIdx(idx) {\n    return idx > left && residues[idx - 1]._isValid ? idx - 1 : idx;\n  }\n  function _nextIdx(idx) {\n    return idx < right && residues[idx + 1]._isValid ? idx + 1 : idx;\n  }\n  var topPoints = [];\n  var centerPoints = [];\n  var arrIdx = 0;\n  function _extrapolate2(currIdx, otherIdx) {\n    var cp = residues[currIdx]._controlPoint.clone().lerp(residues[otherIdx]._controlPoint, -0.25);\n    var tp = cp.clone().add(residues[currIdx]._wingVector);\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z];\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z];\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z];\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z];\n  }\n  var prevIdx = _prevIdx(firstIdx);\n  var nextIdx = _nextIdx(lastIdx);\n  if (prevIdx === nextIdx) {\n    _addPointsForLoneResidue(centerPoints, topPoints, arrIdx, residues[firstIdx]);\n    return {\n      centerPoints: centerPoints,\n      topPoints: topPoints\n    };\n  }\n  if (firstIdx === prevIdx) {\n    _extrapolate2(firstIdx, _nextIdx(firstIdx));\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[_prevIdx(prevIdx)]);\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[prevIdx]);\n  }\n  for (var idx = firstIdx; idx <= lastIdx; ++idx) {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[idx]);\n  }\n  if (nextIdx === _nextIdx(nextIdx)) {\n    _extrapolate2(lastIdx, _prevIdx(lastIdx));\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[nextIdx]);\n    _addPoints(centerPoints, topPoints, arrIdx, residues[_nextIdx(nextIdx)]);\n  }\n  return {\n    centerPoints: centerPoints,\n    topPoints: topPoints\n  };\n}\nvar CartoonHelper = function () {\n  function CartoonHelper(residues, startIdx, endIdx, segmentsCount, tension, boundaries) {\n    _classCallCheck(this, CartoonHelper);\n    var pointsArrays = _calcPoints(residues, startIdx, endIdx, boundaries);\n    this._topInterp = _buildStructureInterpolator(pointsArrays.topPoints, tension);\n    this._centerInterp = _buildStructureInterpolator(pointsArrays.centerPoints, tension);\n    this._shift = 0.5 / (endIdx - startIdx + 2);\n    this._valueStep = (1.0 - 2 * this._shift) / (2 * (endIdx - startIdx + 1) * (segmentsCount - 1));\n    this._segmentsCount = segmentsCount;\n  }\n  _createClass(CartoonHelper, [{\n    key: \"prepareMatrices\",\n    value: function prepareMatrices(idx, firstRad, secondRad) {\n      var mtcCount = this._segmentsCount;\n      var outMtc = new Array(mtcCount);\n      var currRad = new Vector2(0, 0);\n      var topInterp = this._topInterp;\n      var cenInterp = this._centerInterp;\n      var currentValue = this._shift + this._valueStep * (mtcCount - 1) * idx;\n      for (var mtxIdx = 0; mtxIdx < mtcCount; ++mtxIdx) {\n        var lerpVal = Math.min(1.0, mtxIdx / (mtcCount - 1));\n        currRad.lerpVectors(firstRad, secondRad, lerpVal);\n        var currTop = topInterp(currentValue, null);\n        var currCenter = cenInterp(currentValue, null);\n        currentValue += this._valueStep;\n        var nextCenter = cenInterp(currentValue, null);\n        outMtc[mtxIdx] = calcMatrix(currCenter.clone(), nextCenter.clone(), currTop.clone().sub(currCenter), currRad);\n      }\n      return outMtc;\n    }\n  }]);\n  return CartoonHelper;\n}();\n\nfunction _createSuper$1b(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1b(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1b() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _createShape(rad, parts) {\n  var pts = [];\n  for (var i = 0; i < parts; ++i) {\n    var a = Math.PI / 2.0 - 2 * Math.PI * i / parts;\n    pts.push(new Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0));\n  }\n  return pts;\n}\nfunction _loopThrough(subDiv, residues, segmentsHeight, tension, mode, callback) {\n  for (var subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n    var subs = subDiv[subDivI].arr;\n    var boundaries = subDiv[subDivI].boundaries;\n    for (var i = 0, n = subs.length; i < n; ++i) {\n      var idc = [subs[i].start, subs[i].end];\n      var matrixHelper = new CartoonHelper(residues, idc[0], idc[1], segmentsHeight, tension, boundaries);\n      var prevLast = null;\n      var startIdx = subs[i].start * 2;\n      var endIdx = subs[i].end * 2 + 1;\n      var prevSecondRad = mode.getResidueRadius(residues[0], 0);\n      for (var idx = startIdx; idx <= endIdx; ++idx) {\n        var resIdx = idx / 2 | 0;\n        var currRes = residues[resIdx];\n        var firstRad = mode.getResidueRadius(currRes, idx % 2);\n        var secondRad = mode.getResidueRadius(currRes, 1 + idx % 2);\n        var mtc = matrixHelper.prepareMatrices(idx - idc[0] * 2, firstRad, secondRad);\n        mtc.unshift(prevLast === null ? mtc[0] : prevLast);\n        var hasSlope = firstRad.x !== secondRad.x || firstRad.y !== secondRad.y;\n        var hasCut = firstRad.x !== prevSecondRad.x || firstRad.y !== prevSecondRad.y;\n        callback(currRes, mtc, hasSlope, hasCut);\n        prevLast = mtc[segmentsHeight];\n        prevSecondRad = secondRad;\n      }\n    }\n  }\n}\nvar ResiduesSubseqGroup = function (_ResiduesGroup) {\n  _inherits(ResiduesSubseqGroup, _ResiduesGroup);\n  var _super = _createSuper$1b(ResiduesSubseqGroup);\n  function ResiduesSubseqGroup() {\n    _classCallCheck(this, ResiduesSubseqGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResiduesSubseqGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var cmpMultiplier = this._mode.getHeightSegmentsRatio();\n      this._segmentsHeight = this._polyComplexity * cmpMultiplier | 0;\n      return [_createShape(1.0, this._polyComplexity), this._segmentsHeight + 1, this._selection.chunks.length * 2];\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var _this$_selection = this._selection,\n          residues = _this$_selection.residues,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var tension = mode.getTension();\n      var geo = this._geo;\n      var chunkIdx = 0;\n      var chunkIdc = [];\n      _loopThrough(this._selection.subdivs, residues, this._segmentsHeight, tension, mode, function (currRes, mtc) {\n        var hasSlope = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var hasCut = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        var color = colorer.getResidueColor(currRes, parent);\n        chunkIdc[chunkIdx] = currRes._index;\n        geo.setItem(chunkIdx, mtc, hasSlope, hasCut);\n        geo.setColor(chunkIdx++, color);\n      });\n      this._chunksIdc = chunkIdc;\n      geo.finalize();\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var parent = this._selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var tension = mode.getTension();\n      var geo = this._geo;\n      var frameRes = frameData.getResidues();\n      var chunkIdx = 0;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      _loopThrough(this._selection.subdivs, frameRes, this._segmentsHeight, tension, mode, function (currRes, mtc) {\n        geo.setItem(chunkIdx, mtc);\n        if (updateColor) {\n          geo.setColor(chunkIdx, colorer.getResidueColor(currRes, parent));\n        }\n        chunkIdx++;\n      });\n      geo.finalize();\n    }\n  }]);\n  return ResiduesSubseqGroup;\n}(ResiduesGroup);\n\nfunction _createSuper$1a(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1a(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1a() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResiduesTraceGroup = function (_ChemGroup) {\n  _inherits(ResiduesTraceGroup, _ChemGroup);\n  var _super = _createSuper$1a(ResiduesTraceGroup);\n  function ResiduesTraceGroup() {\n    _classCallCheck(this, ResiduesTraceGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResiduesTraceGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var subDiv = this._selection.subdivs;\n      var chunksCount = 0;\n      for (var subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n        var subs = subDiv[subDivI].arr;\n        for (var i = 0, n = subs.length; i < n; ++i) {\n          chunksCount += subs[i].end - subs[i].start;\n        }\n      }\n      return [chunksCount, this._polyComplexity];\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var _this$_selection = this._selection,\n          residues = _this$_selection.residues,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var chunkIdx = 0;\n      var chunkIdc = [];\n      var subDiv = this._selection.subdivs;\n      var stickRad = mode.calcStickRadius();\n      for (var subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n        var subs = subDiv[subDivI].arr;\n        for (var i = 0, n = subs.length; i < n; ++i) {\n          var startIdx = subs[i].start;\n          var endIdx = subs[i].end;\n          var prevRes = residues[startIdx];\n          for (var idx = startIdx + 1; idx <= endIdx; ++idx) {\n            var currRes = residues[idx];\n            chunkIdc[chunkIdx] = {\n              first: prevRes._index,\n              second: currRes._index\n            };\n            geo.setItem(chunkIdx, prevRes._controlPoint, currRes._controlPoint, stickRad);\n            geo.setColor(chunkIdx, colorer.getResidueColor(prevRes, parent), colorer.getResidueColor(currRes, parent));\n            chunkIdx++;\n            prevRes = currRes;\n          }\n        }\n      }\n      this._chunksIdc = chunkIdc;\n      geo.finalize();\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var residues = frameData.getResidues();\n      var parent = this._selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var chunkIdx = 0;\n      var subDiv = this._selection.subdivs;\n      var stickRad = mode.calcStickRadius();\n      var updateColor = frameData.needsColorUpdate(colorer);\n      for (var subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n        var subs = subDiv[subDivI].arr;\n        for (var i = 0, n = subs.length; i < n; ++i) {\n          var startIdx = subs[i].start;\n          var endIdx = subs[i].end;\n          var prevRes = residues[startIdx];\n          for (var idx = startIdx + 1; idx <= endIdx; ++idx) {\n            var currRes = residues[idx];\n            geo.setItem(chunkIdx, prevRes._controlPoint, currRes._controlPoint, stickRad);\n            if (updateColor) {\n              geo.setColor(chunkIdx, colorer.getResidueColor(prevRes, parent), colorer.getResidueColor(currRes, parent));\n            }\n            chunkIdx++;\n            prevRes = currRes;\n          }\n        }\n      }\n      geo.finalize();\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var inters = [];\n      var residues = this._selection.residues;\n      this._mesh.raycast(raycaster, inters);\n      var chunksToIdx = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!Object.hasOwn(inters[i], 'chunkIdx')) {\n          continue;\n        }\n        var chunkIdx = inters[i].chunkIdx;\n        var chunk = chunksToIdx[Math.floor(chunkIdx / 2)];\n        var resIdx = chunkIdx % 2 === 0 ? chunk.first : chunk.second;\n        if (resIdx < residues.length) {\n          inters[i].residue = residues[resIdx];\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask) {\n      var chunksList = [];\n      var chunksToIdx = this._chunksIdc;\n      var residues = this._selection.residues;\n      for (var i = 0, n = chunksToIdx.length; i < n; ++i) {\n        var chunk = chunksToIdx[i];\n        if (residues[chunk.first]._mask & mask) {\n          chunksList.push(i * 2);\n        }\n        if (residues[chunk.second]._mask & mask) {\n          chunksList.push(i * 2 + 1);\n        }\n      }\n      return chunksList;\n    }\n  }]);\n  return ResiduesTraceGroup;\n}(ChemGroup);\n\nfunction _createSuper$19(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$19(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$19() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction getCylinderCount(bondOrder) {\n  return bondOrder < 2 ? 1 : bondOrder;\n}\nvar BondsGroup = function (_ChemGroup) {\n  _inherits(BondsGroup, _ChemGroup);\n  var _super = _createSuper$19(BondsGroup);\n  function BondsGroup() {\n    _classCallCheck(this, BondsGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(BondsGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var drawMultiple = this._mode.drawMultiorderBonds();\n      var showAromatic = this._mode.showAromaticLoops();\n      var bondsIdc = this._selection.chunks;\n      var bonds = this._selection.bonds;\n      var bondsCount = 0;\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        bondsCount += this.getBondOrder(bonds[bondsIdc[i]], drawMultiple, showAromatic);\n      }\n      return [bondsCount, this._polyComplexity];\n    }\n  }, {\n    key: \"getBondOrder\",\n    value: function getBondOrder(bond, drawMultiple, showAromatic) {\n      var bondOrder = 1;\n      if (drawMultiple && (!showAromatic || bond._type !== Bond$5.BondType.AROMATIC)) {\n        bondOrder = getCylinderCount(bond._order);\n      }\n      return bondOrder;\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var bonds = this._selection.bonds;\n      var inters = [];\n      this._mesh.raycast(raycaster, inters);\n      var bondsIdc = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!Object.hasOwn(inters[i], 'chunkIdx')) {\n          continue;\n        }\n        var chunkIdx = inters[i].chunkIdx;\n        var bondIdx = bondsIdc[Math.floor(chunkIdx / 2)];\n        if (bondIdx < bonds.length) {\n          var bond = bonds[bondIdx];\n          inters[i].atom = chunkIdx % 2 === 0 ? bond._left : bond._right;\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask, innerOnly) {\n      var chunksList = [];\n      var bonds = this._selection.bonds;\n      var chunksToIdx = this._chunksIdc;\n      for (var i = 0, n = chunksToIdx.length; i < n; ++i) {\n        var bond = bonds[chunksToIdx[i]];\n        if (bond._left.mask & mask && (!innerOnly || bond._right.mask & mask)) {\n          chunksList.push(2 * i);\n        }\n        if (bond._right.mask & mask && (!innerOnly || bond._left.mask & mask)) {\n          chunksList.push(2 * i + 1);\n        }\n      }\n      return chunksList;\n    }\n  }]);\n  return BondsGroup;\n}(ChemGroup);\n\nfunction _createSuper$18(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$18(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$18() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar BondsCylinderGroup = function (_BondsGroup) {\n  _inherits(BondsCylinderGroup, _BondsGroup);\n  var _super = _createSuper$18(BondsCylinderGroup);\n  function BondsCylinderGroup() {\n    _classCallCheck(this, BondsCylinderGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(BondsCylinderGroup, [{\n    key: \"_build\",\n    value: function _build() {\n      var bondsIdc = this._selection.chunks;\n      var _this$_selection = this._selection,\n          bonds = _this$_selection.bonds,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var drawMultiple = mode.drawMultiorderBonds();\n      var showAromatic = mode.showAromaticLoops();\n      var stickRad = mode.calcStickRadius();\n      var emptyOffset = mode.calcSpaceFraction();\n      var normDir;\n      var leftPos = new Vector3();\n      var rightPos = new Vector3();\n      var currBondIdx = 0;\n      var chunksToIdx = [];\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        var bond = bonds[bondsIdc[i]];\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        var a1Pos = atom1.position;\n        var a2Pos = atom2.position;\n        normDir = bond.calcNormalDir();\n        var order = this.getBondOrder(bond, drawMultiple, showAromatic);\n        var minRad = Math.min(mode.calcAtomRadius(atom1), mode.calcAtomRadius(atom2));\n        var dist = 2 * minRad / order;\n        var currStickRad = drawMultiple ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset)) : stickRad;\n        for (var j = 0; j < order; ++j) {\n          var scale = dist * (order % 2 === 0 ? ((j / 2 | 0) + 0.5) * (1 - 2 * (j % 2)) : ((j + 1) / 2 | 0) * (-1 + 2 * (j % 2)));\n          chunksToIdx[currBondIdx] = bond._index;\n          leftPos.copy(a1Pos);\n          leftPos.addScaledVector(normDir, scale);\n          rightPos.copy(a2Pos);\n          rightPos.addScaledVector(normDir, scale);\n          geo.setItem(currBondIdx, leftPos, rightPos, currStickRad);\n          geo.setColor(currBondIdx++, colorer.getAtomColor(atom1, parent), colorer.getAtomColor(atom2, parent));\n        }\n      }\n      geo.finalize();\n      this._chunksIdc = chunksToIdx;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var bondsIdc = this._selection.chunks;\n      var bonds = this._selection.bonds;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var drawMultiple = mode.drawMultiorderBonds();\n      var showAromatic = mode.showAromaticLoops();\n      var stickRad = mode.calcStickRadius();\n      var emptyOffset = mode.calcSpaceFraction();\n      var normDir;\n      var leftPos = new Vector3();\n      var rightPos = new Vector3();\n      var currBondIdx = 0;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        var bond = bonds[bondsIdc[i]];\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        var a1Pos = frameData.getAtomPos(atom1.index).clone();\n        var a2Pos = frameData.getAtomPos(atom2.index);\n        normDir = bond.calcNormalDir();\n        var order = this.getBondOrder(bond, drawMultiple, showAromatic);\n        var minRad = Math.min(mode.calcAtomRadius(atom1), mode.calcAtomRadius(atom2));\n        var dist = 2 * minRad / order;\n        var currStickRad = drawMultiple ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset)) : stickRad;\n        for (var j = 0; j < order; ++j) {\n          var scale = dist * (order % 2 === 0 ? ((j / 2 | 0) + 0.5) * (1 - 2 * (j % 2)) : ((j + 1) / 2 | 0) * (-1 + 2 * (j % 2)));\n          leftPos.copy(a1Pos);\n          leftPos.addScaledVector(normDir, scale);\n          rightPos.copy(a2Pos);\n          rightPos.addScaledVector(normDir, scale);\n          geo.setItem(currBondIdx, leftPos, rightPos, currStickRad);\n          if (updateColor) {\n            geo.setColor(currBondIdx, frameData.getAtomColor(colorer, atom1), frameData.getAtomColor(colorer, atom2));\n          }\n          currBondIdx++;\n        }\n      }\n      geo.finalize();\n    }\n  }]);\n  return BondsCylinderGroup;\n}(BondsGroup);\n\nfunction _createSuper$17(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$17(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$17() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar STEP_SIZE = 0.15;\nvar BondsLinesGroup = function (_BondsGroup) {\n  _inherits(BondsLinesGroup, _BondsGroup);\n  var _super = _createSuper$17(BondsLinesGroup);\n  function BondsLinesGroup() {\n    _classCallCheck(this, BondsLinesGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(BondsLinesGroup, [{\n    key: \"_build\",\n    value: function _build() {\n      var bondsIdc = this._selection.chunks;\n      var _this$_selection = this._selection,\n          bonds = _this$_selection.bonds,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var drawMultiple = mode.drawMultiorderBonds();\n      var showAromatic = mode.showAromaticLoops();\n      var bondDir = new Vector3();\n      var leftPos = new Vector3();\n      var rightPos = new Vector3();\n      var currBondIdx = 0;\n      var chunksToIdx = [];\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        var bond = bonds[bondsIdc[i]];\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        var a1Pos = atom1.position;\n        var a2Pos = atom2.position;\n        var a1Hangs = atom1.bonds.length === 1;\n        var a2Hangs = atom2.bonds.length === 1;\n        bondDir.subVectors(a2Pos, a1Pos);\n        var len = bondDir.length();\n        var normDir = bond.calcNormalDir();\n        var order = this.getBondOrder(bond, drawMultiple, showAromatic);\n        for (var j = 0; j < order; ++j) {\n          leftPos.copy(a1Pos);\n          rightPos.copy(a2Pos);\n          var scale = order % 2 === 0 ? ((j / 2 | 0) + 0.5) * (1 - 2 * (j % 2)) : ((j + 1) / 2 | 0) * (-1 + 2 * (j % 2));\n          chunksToIdx[currBondIdx] = bond._index;\n          if (order === 2 && !a1Hangs && !a2Hangs) {\n            scale -= 0.5;\n            scale *= -1;\n          }\n          if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n            leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / len);\n            rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / len);\n          }\n          scale *= STEP_SIZE;\n          leftPos.addScaledVector(normDir, scale);\n          rightPos.addScaledVector(normDir, scale);\n          geo.setItem(currBondIdx, leftPos, rightPos);\n          geo.setColor(currBondIdx++, colorer.getAtomColor(atom1, parent), colorer.getAtomColor(atom2, parent));\n        }\n      }\n      geo.finalize();\n      this._chunksIdc = chunksToIdx;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var bondsIdc = this._selection.chunks;\n      var bonds = this._selection.bonds;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var drawMultiple = mode.drawMultiorderBonds();\n      var showAromatic = mode.showAromaticLoops();\n      var bondDir = new Vector3();\n      var leftPos = new Vector3();\n      var rightPos = new Vector3();\n      var currBondIdx = 0;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        var bond = bonds[bondsIdc[i]];\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        var a1Pos = frameData.getAtomPos(atom1.index).clone();\n        var a2Pos = frameData.getAtomPos(atom2.index);\n        var a1Hangs = atom1.bonds.length === 1;\n        var a2Hangs = atom2.bonds.length === 1;\n        bondDir.subVectors(a2Pos, a1Pos);\n        var len = bondDir.length();\n        var normDir = bond.calcNormalDir();\n        var order = this.getBondOrder(bond, drawMultiple, showAromatic);\n        for (var j = 0; j < order; ++j) {\n          leftPos.copy(a1Pos);\n          rightPos.copy(a2Pos);\n          var scale = order % 2 === 0 ? ((j / 2 | 0) + 0.5) * (1 - 2 * (j % 2)) : ((j + 1) / 2 | 0) * (-1 + 2 * (j % 2));\n          if (order === 2 && !a1Hangs && !a2Hangs) {\n            scale -= 0.5;\n            scale *= -1;\n          }\n          if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n            leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / len);\n            rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / len);\n          }\n          scale *= STEP_SIZE;\n          leftPos.addScaledVector(normDir, scale);\n          rightPos.addScaledVector(normDir, scale);\n          geo.setItem(currBondIdx, leftPos, rightPos);\n          if (updateColor) {\n            geo.setColor(currBondIdx, frameData.getAtomColor(colorer, atom1), frameData.getAtomColor(colorer, atom2));\n          }\n          currBondIdx++;\n        }\n      }\n      geo.finalize();\n    }\n  }]);\n  return BondsLinesGroup;\n}(BondsGroup);\n\nvar groups = {\n  AtomsSphereGroup: AtomsSphereGroup,\n  AtomsSurfaceGroup: AtomsSurfaceGroup,\n  AtomsSASSESGroupStub: AtomsSASSESGroupStub,\n  AtomsTextGroup: AtomsTextGroup,\n  AromaticTorusGroup: AromaticTorusGroup,\n  AromaticLinesGroup: AromaticLinesGroup,\n  NucleicCylindersGroup: NucleicCylindersGroup,\n  NucleicSpheresGroup: NucleicSpheresGroup,\n  ResiduesSubseqGroup: ResiduesSubseqGroup,\n  ResiduesTraceGroup: ResiduesTraceGroup,\n  BondsCylinderGroup: BondsCylinderGroup,\n  BondsLinesGroup: BondsLinesGroup\n};\n\nfunction _createSuper$16(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$16(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$16() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsProcessor = function (_RCGroup) {\n  _inherits(AtomsProcessor, _RCGroup);\n  var _super = _createSuper$16(AtomsProcessor);\n  function AtomsProcessor(AtomsGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, AtomsProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    _this._mode = mode;\n    var atoms = complex.getAtoms();\n    var transforms = complex.getTransforms();\n    complex.forEachComponent(function (component) {\n      var atomsIdc = [];\n      var atomCount = 0;\n      component.forEachAtom(function (atom) {\n        if (!self._checkAtom(atom, mask)) {\n          return;\n        }\n        atomsIdc[atomCount++] = atom.index;\n      });\n      if (atomCount === 0) {\n        return;\n      }\n      var atomsGroup = new AtomsGroup(geoParams, {\n        atoms: atoms,\n        chunks: atomsIdc,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      atomsGroup._component = component;\n      self.add(atomsGroup);\n    });\n    return _this;\n  }\n  _createClass(AtomsProcessor, [{\n    key: \"_checkAtom\",\n    value: function _checkAtom(atom, mask) {\n      return atom.mask & mask;\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return AtomsProcessor;\n}(RCGroup);\n\nfunction _createSuper$15(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$15(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$15() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OrphanAtomsProcessor = function (_AtomsProcessor) {\n  _inherits(OrphanAtomsProcessor, _AtomsProcessor);\n  var _super = _createSuper$15(OrphanAtomsProcessor);\n  function OrphanAtomsProcessor() {\n    _classCallCheck(this, OrphanAtomsProcessor);\n    return _super.apply(this, arguments);\n  }\n  _createClass(OrphanAtomsProcessor, [{\n    key: \"_checkAtom\",\n    value: function _checkAtom(atom, mask) {\n      if (!(atom.mask & mask)) {\n        return false;\n      }\n      var bonds = atom.bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        if (bonds[i]._left.mask & mask && bonds[i]._right.mask & mask) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }]);\n  return OrphanAtomsProcessor;\n}(AtomsProcessor);\n\nfunction _createSuper$14(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$14(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$14() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResiduesProcessor = function (_RCGroup) {\n  _inherits(ResiduesProcessor, _RCGroup);\n  var _super = _createSuper$14(ResiduesProcessor);\n  function ResiduesProcessor(ResidueGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, ResiduesProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    var residues = complex.getResidues();\n    var transforms = complex.getTransforms();\n    complex.forEachComponent(function (component) {\n      var chunksCount = 0;\n      var resIdc = [];\n      component.forEachResidue(function (residue) {\n        if (self._checkResidue(residue, mask)) {\n          resIdc[chunksCount++] = residue._index;\n        }\n      });\n      if (chunksCount === 0) {\n        return;\n      }\n      var residuesGroup = new ResidueGroup(geoParams, {\n        residues: residues,\n        chunks: resIdc,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      residuesGroup._component = component;\n      self.add(residuesGroup);\n    });\n    return _this;\n  }\n  _createClass(ResiduesProcessor, [{\n    key: \"checkResidue\",\n    value: function checkResidue(residue, mask) {\n      return residue._mask & mask;\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return ResiduesProcessor;\n}(RCGroup);\n\nfunction _createSuper$13(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$13(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$13() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar NucleicProcessor = function (_ResidueProcessor) {\n  _inherits(NucleicProcessor, _ResidueProcessor);\n  var _super = _createSuper$13(NucleicProcessor);\n  function NucleicProcessor() {\n    _classCallCheck(this, NucleicProcessor);\n    return _super.apply(this, arguments);\n  }\n  _createClass(NucleicProcessor, [{\n    key: \"_checkResidue\",\n    value: function _checkResidue(residue, mask) {\n      return mask & residue._mask && residue._cylinders !== null;\n    }\n  }]);\n  return NucleicProcessor;\n}(ResiduesProcessor);\n\nfunction _createSuper$12(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$12(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$12() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar SubseqsProcessor = function (_RCGroup) {\n  _inherits(SubseqsProcessor, _RCGroup);\n  var _super = _createSuper$12(SubseqsProcessor);\n  function SubseqsProcessor(ResidueGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, SubseqsProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    var residues = complex.getResidues();\n    var transforms = complex.getTransforms();\n    complex.forEachComponent(function (component) {\n      var subDivs = component.getMaskedSubdivSequences(mask);\n      var chunksCount = 0;\n      var resIdc = [];\n      for (var subDivI = 0, subDivN = subDivs.length; subDivI < subDivN; ++subDivI) {\n        var subs = subDivs[subDivI].arr;\n        for (var i = 0, n = subs.length; i < n; ++i) {\n          for (var j = subs[i].start, jEnd = subs[i].end; j <= jEnd; ++j) {\n            resIdc[chunksCount++] = residues[j]._index;\n          }\n        }\n      }\n      if (chunksCount === 0) {\n        return;\n      }\n      var residuesGroup = new ResidueGroup(geoParams, {\n        residues: residues,\n        chunks: resIdc,\n        subdivs: subDivs,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      residuesGroup._component = component;\n      self.add(residuesGroup);\n    });\n    return _this;\n  }\n  _createClass(SubseqsProcessor, [{\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return SubseqsProcessor;\n}(RCGroup);\n\nfunction _createSuper$11(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$11(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$11() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar BondsProcessor = function (_RCGroup) {\n  _inherits(BondsProcessor, _RCGroup);\n  var _super = _createSuper$11(BondsProcessor);\n  function BondsProcessor(BondsGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, BondsProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    var bonds = complex.getBonds();\n    var transforms = complex.getTransforms();\n    complex.forEachComponent(function (component) {\n      var bondsIdc = [];\n      var bondsCount = 0;\n      component.forEachBond(function (bond) {\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        if (!(atom1.mask & mask) || !(atom2.mask & mask)) {\n          return;\n        }\n        bondsIdc[bondsCount++] = bond._index;\n      });\n      if (bondsCount === 0) {\n        return;\n      }\n      var bondsGroup = new BondsGroup(geoParams, {\n        bonds: bonds,\n        chunks: bondsIdc,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      bondsGroup._component = component;\n      self.add(bondsGroup);\n    });\n    return _this;\n  }\n  _createClass(BondsProcessor, [{\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return BondsProcessor;\n}(RCGroup);\n\nfunction _createSuper$10(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$10(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$10() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AromaticProcessor = function (_RCGroup) {\n  _inherits(AromaticProcessor, _RCGroup);\n  var _super = _createSuper$10(AromaticProcessor);\n  function AromaticProcessor(AromaticGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, AromaticProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    var atoms = complex.getAtoms();\n    var transforms = complex.getTransforms();\n    if (!mode.showAromaticLoops()) {\n      return _possibleConstructorReturn(_this);\n    }\n    complex.forEachComponent(function (component) {\n      var atomsIdc = [];\n      var chunksCount = 0;\n      var cycles = [];\n      var cycleIdx = 0;\n      component.forEachCycle(function (cycle) {\n        var cycAtoms = cycle.atoms;\n        var perCycle = 0;\n        for (var i = 0, n = cycAtoms.length; i < n; ++i) {\n          if ((cycAtoms[i].mask & mask) !== 0) {\n            ++perCycle;\n            atomsIdc[chunksCount++] = cycAtoms[i].index;\n          }\n        }\n        if (perCycle > 0) {\n          cycles[cycleIdx++] = cycle;\n        }\n      });\n      var atomsGroup = new AromaticGroup(geoParams, {\n        cycles: cycles,\n        atoms: atoms,\n        chunks: atomsIdc,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      atomsGroup._component = component;\n      self.add(atomsGroup);\n    });\n    return _this;\n  }\n  _createClass(AromaticProcessor, [{\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return AromaticProcessor;\n}(RCGroup);\n\nvar processors = {\n  Atoms: AtomsProcessor,\n  OrphanAtoms: OrphanAtomsProcessor,\n  Residues: ResiduesProcessor,\n  Nucleic: NucleicProcessor,\n  Subseqs: SubseqsProcessor,\n  Bonds: BondsProcessor,\n  Aromatic: AromaticProcessor\n};\n\nfunction _bakeGroup(triplet, Processor, Group) {\n  return function (complex, colorer, mode, polyComplexity, mask, material) {\n    return new Processor(Group, triplet, complex, colorer, mode, polyComplexity, mask, material);\n  };\n}\nvar GroupsFactory = function () {\n  function GroupsFactory() {\n    _classCallCheck(this, GroupsFactory);\n  }\n  _createClass(GroupsFactory, null, [{\n    key: \"AtomsSpheres\",\n    value: function AtomsSpheres(caps, settings) {\n      var gfxTriplet = MeshCreator.createSpheres(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSphereGroup);\n    }\n  }, {\n    key: \"OrphanedAtomsCrosses\",\n    value: function OrphanedAtomsCrosses(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createCrosses(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.OrphanAtoms, groups.AtomsSphereGroup);\n    }\n  }, {\n    key: \"BondsCylinders\",\n    value: function BondsCylinders(caps, settings) {\n      var gfxTriplet = MeshCreator.create2CCylinders(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsCylinderGroup);\n    }\n  }, {\n    key: \"BondsLines\",\n    value: function BondsLines(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.create2CLines(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsLinesGroup);\n    }\n  }, {\n    key: \"CartoonChains\",\n    value: function CartoonChains(caps, settings) {\n      var gfxTriplet = MeshCreator.createExtrudedChains(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesSubseqGroup);\n    }\n  }, {\n    key: \"TraceChains\",\n    value: function TraceChains(caps, settings) {\n      var gfxTriplet = MeshCreator.create2CClosedCylinders(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesTraceGroup);\n    }\n  }, {\n    key: \"NucleicSpheres\",\n    value: function NucleicSpheres(caps, settings) {\n      var gfxTriplet = MeshCreator.createSpheres(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Nucleic, groups.NucleicSpheresGroup);\n    }\n  }, {\n    key: \"NucleicCylinders\",\n    value: function NucleicCylinders(caps, settings) {\n      var gfxTriplet = MeshCreator.create2CCylinders(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Nucleic, groups.NucleicCylindersGroup);\n    }\n  }, {\n    key: \"ALoopsTorus\",\n    value: function ALoopsTorus(caps, settings) {\n      var gfxTriplet = MeshCreator.createExtrudedChains(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Aromatic, groups.AromaticTorusGroup);\n    }\n  }, {\n    key: \"ALoopsLines\",\n    value: function ALoopsLines(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createChunkedLines(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Aromatic, groups.AromaticLinesGroup);\n    }\n  }, {\n    key: \"QuickSurfGeo\",\n    value: function QuickSurfGeo(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createQuickSurface(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup);\n    }\n  }, {\n    key: \"ContactSurfaceGeo\",\n    value: function ContactSurfaceGeo(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createContactSurface(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup);\n    }\n  }, {\n    key: \"SASSESSurfaceGeo\",\n    value: function SASSESSurfaceGeo(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createSASSES(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSASSESGroupStub);\n    }\n  }, {\n    key: \"TextLabelsGeo\",\n    value: function TextLabelsGeo(caps, settings) {\n      var gfxTriplet = MeshCreator.createLabels(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsTextGroup);\n    }\n  }]);\n  return GroupsFactory;\n}();\n\nvar Mode = function () {\n  function Mode(opts) {\n    _classCallCheck(this, Mode);\n    if (this.constructor === Mode) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    this.opts = merge(utils.deriveDeep(this.settings.now.modes[this.id], true), opts);\n  }\n  _createClass(Mode, [{\n    key: \"identify\",\n    value: function identify() {\n      var diff = utils.objectsDiff(this.opts, this.settings.now.modes[this.id]);\n      if (!isEmpty(diff)) {\n        return [this.id, diff];\n      }\n      return this.id;\n    }\n  }, {\n    key: \"buildGeometry\",\n    value: function buildGeometry(complex, colorer, mask, material) {\n      var polyComplexity = this.opts.polyComplexity ? this.opts.polyComplexity[this.settings.now.resolution] : 0;\n      var groupList = this.depGroups;\n      var groupCount = groupList.length;\n      var group = new gfxutils.RCGroup();\n      var self = this;\n      for (var i = 0; i < groupCount; ++i) {\n        var currGroup = groupList[i];\n        var renderParams = {};\n        if (isArray(currGroup)) {\n          renderParams = currGroup[1].call(this);\n          var _currGroup = currGroup;\n          var _currGroup2 = _slicedToArray(_currGroup, 1);\n          currGroup = _currGroup2[0];\n        }\n        var Group = GroupsFactory[currGroup](null, this.settings, renderParams);\n        var newGroup = new Group(complex, colorer, self, polyComplexity, mask, material);\n        if (newGroup.children.length > 0) {\n          group.add(newGroup);\n        }\n      }\n      return group;\n    }\n  }]);\n  return Mode;\n}();\nmakeContextDependent(Mode.prototype);\nMode.prototype.id = '__';\nMode.prototype.depGroups = [];\n\nfunction _createSuper$$(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$$(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$$() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction getRenderParams$1() {\n  return {\n    lineWidth: this.opts.lineWidth\n  };\n}\nvar LinesMode = function (_Mode) {\n  _inherits(LinesMode, _Mode);\n  var _super = _createSuper$$(LinesMode);\n  function LinesMode(opts) {\n    var _this;\n    _classCallCheck(this, LinesMode);\n    _this = _super.call(this, opts);\n    _this.depGroups = _this.depGroups.slice(0);\n    var groups = _this.depGroups;\n    for (var i = 0, n = groups.length; i < n; ++i) {\n      groups[i] = [groups[i], getRenderParams$1];\n    }\n    return _this;\n  }\n  _createClass(LinesMode, [{\n    key: \"drawMultiorderBonds\",\n    value: function drawMultiorderBonds() {\n      return this.opts.multibond;\n    }\n  }, {\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius() {\n      return this.opts.atom;\n    }\n  }, {\n    key: \"getAromaticOffset\",\n    value: function getAromaticOffset() {\n      return this.opts.offsarom;\n    }\n  }, {\n    key: \"getAromaticArcChunks\",\n    value: function getAromaticArcChunks() {\n      return this.opts.chunkarom;\n    }\n  }, {\n    key: \"showAromaticLoops\",\n    value: function showAromaticLoops() {\n      return this.opts.showarom;\n    }\n  }]);\n  return LinesMode;\n}(Mode);\n_defineProperty(LinesMode, \"id\", 'LN');\nLinesMode.prototype.id = 'LN';\nLinesMode.prototype.name = 'Lines';\nLinesMode.prototype.shortName = 'Lines';\nLinesMode.prototype.depGroups = ['ALoopsLines', 'BondsLines', 'OrphanedAtomsCrosses'];\n\nfunction _createSuper$_(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$_(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$_() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LicoriceMode = function (_Mode) {\n  _inherits(LicoriceMode, _Mode);\n  var _super = _createSuper$_(LicoriceMode);\n  function LicoriceMode() {\n    _classCallCheck(this, LicoriceMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LicoriceMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(_atom) {\n      return this.opts.bond;\n    }\n  }, {\n    key: \"calcStickRadius\",\n    value: function calcStickRadius() {\n      return this.opts.bond;\n    }\n  }, {\n    key: \"calcSpaceFraction\",\n    value: function calcSpaceFraction() {\n      return this.opts.space;\n    }\n  }, {\n    key: \"getAromRadius\",\n    value: function getAromRadius() {\n      return this.opts.aromrad;\n    }\n  }, {\n    key: \"showAromaticLoops\",\n    value: function showAromaticLoops() {\n      return this.opts.showarom;\n    }\n  }, {\n    key: \"drawMultiorderBonds\",\n    value: function drawMultiorderBonds() {\n      return this.opts.multibond;\n    }\n  }]);\n  return LicoriceMode;\n}(Mode);\n_defineProperty(LicoriceMode, \"id\", 'LC');\nLicoriceMode.prototype.id = 'LC';\nLicoriceMode.prototype.name = 'Licorice';\nLicoriceMode.prototype.shortName = 'Licorice';\nLicoriceMode.prototype.depGroups = ['AtomsSpheres', 'BondsCylinders', 'ALoopsTorus'];\n\nfunction _createSuper$Z(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$Z(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$Z() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar BallsAndSticksMode = function (_Mode) {\n  _inherits(BallsAndSticksMode, _Mode);\n  var _super = _createSuper$Z(BallsAndSticksMode);\n  function BallsAndSticksMode() {\n    _classCallCheck(this, BallsAndSticksMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(BallsAndSticksMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(atom) {\n      return atom.element.radius * this.opts.atom;\n    }\n  }, {\n    key: \"calcStickRadius\",\n    value: function calcStickRadius() {\n      return this.opts.bond;\n    }\n  }, {\n    key: \"getAromRadius\",\n    value: function getAromRadius() {\n      return this.opts.aromrad;\n    }\n  }, {\n    key: \"showAromaticLoops\",\n    value: function showAromaticLoops() {\n      return this.opts.showarom;\n    }\n  }, {\n    key: \"calcSpaceFraction\",\n    value: function calcSpaceFraction() {\n      return this.opts.space;\n    }\n  }, {\n    key: \"drawMultiorderBonds\",\n    value: function drawMultiorderBonds() {\n      return this.opts.multibond;\n    }\n  }]);\n  return BallsAndSticksMode;\n}(Mode);\n_defineProperty(BallsAndSticksMode, \"id\", 'BS');\nBallsAndSticksMode.prototype.id = 'BS';\nBallsAndSticksMode.prototype.name = 'Balls and Sticks';\nBallsAndSticksMode.prototype.shortName = 'Balls';\nBallsAndSticksMode.prototype.depGroups = ['AtomsSpheres', 'BondsCylinders', 'ALoopsTorus'];\n\nfunction _createSuper$Y(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$Y(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$Y() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VanDerWaalsMode = function (_Mode) {\n  _inherits(VanDerWaalsMode, _Mode);\n  var _super = _createSuper$Y(VanDerWaalsMode);\n  function VanDerWaalsMode() {\n    _classCallCheck(this, VanDerWaalsMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(VanDerWaalsMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(atom) {\n      return atom.element.radius;\n    }\n  }]);\n  return VanDerWaalsMode;\n}(Mode);\n_defineProperty(VanDerWaalsMode, \"id\", 'VW');\nVanDerWaalsMode.prototype.id = 'VW';\nVanDerWaalsMode.prototype.name = 'Van der Waals';\nVanDerWaalsMode.prototype.shortName = 'VDW';\nVanDerWaalsMode.prototype.depGroups = ['AtomsSpheres'];\n\nfunction _createSuper$X(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$X(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$X() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TraceMode = function (_Mode) {\n  _inherits(TraceMode, _Mode);\n  var _super = _createSuper$X(TraceMode);\n  function TraceMode() {\n    _classCallCheck(this, TraceMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TraceMode, [{\n    key: \"calcStickRadius\",\n    value: function calcStickRadius() {\n      return this.opts.radius;\n    }\n  }]);\n  return TraceMode;\n}(Mode);\n_defineProperty(TraceMode, \"id\", 'TR');\nTraceMode.prototype.id = 'TR';\nTraceMode.prototype.name = 'Trace';\nTraceMode.prototype.shortName = 'Trace';\nTraceMode.prototype.depGroups = ['TraceChains'];\n\nfunction _createSuper$W(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$W(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$W() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TubeMode = function (_Mode) {\n  _inherits(TubeMode, _Mode);\n  var _super = _createSuper$W(TubeMode);\n  function TubeMode() {\n    _classCallCheck(this, TubeMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TubeMode, [{\n    key: \"getResidueRadius\",\n    value: function getResidueRadius(_residue) {\n      return this.TUBE_RADIUS;\n    }\n  }, {\n    key: \"getHeightSegmentsRatio\",\n    value: function getHeightSegmentsRatio() {\n      return this.opts.heightSegmentsRatio;\n    }\n  }, {\n    key: \"getTension\",\n    value: function getTension() {\n      return this.opts.tension;\n    }\n  }, {\n    key: \"buildGeometry\",\n    value: function buildGeometry(complex, colorer, mask, material) {\n      var rad = this.opts.radius;\n      this.TUBE_RADIUS = new Vector2(rad, rad);\n      return Mode.prototype.buildGeometry.call(this, complex, colorer, mask, material);\n    }\n  }]);\n  return TubeMode;\n}(Mode);\n_defineProperty(TubeMode, \"id\", 'TU');\nTubeMode.prototype.id = 'TU';\nTubeMode.prototype.name = 'Tube';\nTubeMode.prototype.shortName = 'Tube';\nTubeMode.prototype.depGroups = ['CartoonChains'];\n\nfunction _createSuper$V(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$V(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$V() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar CartoonMode = function (_Mode) {\n  _inherits(CartoonMode, _Mode);\n  var _super = _createSuper$V(CartoonMode);\n  function CartoonMode(opts) {\n    var _this;\n    _classCallCheck(this, CartoonMode);\n    _this = _super.call(this, opts);\n    _this.secCache = {};\n    return _this;\n  }\n  _createClass(CartoonMode, [{\n    key: \"getResidueStartRadius\",\n    value: function getResidueStartRadius(residue) {\n      var second = residue.getSecondary();\n      if (!second || !second.generic) {\n        return this.TUBE_RADIUS;\n      }\n      var secOpts = this.secCache[second.generic];\n      if (!secOpts) {\n        return this.TUBE_RADIUS;\n      }\n      if (second.term === residue) {\n        return secOpts.start;\n      }\n      return secOpts.center;\n    }\n  }, {\n    key: \"getResidueEndRadius\",\n    value: function getResidueEndRadius(residue) {\n      var second = residue.getSecondary();\n      if (second === null || !second.generic) {\n        return this.TUBE_RADIUS;\n      }\n      var secOpts = this.secCache[second.generic];\n      if (!secOpts) {\n        return this.TUBE_RADIUS;\n      }\n      if (second.term === residue) {\n        return this.ARROW_END;\n      }\n      return secOpts.center;\n    }\n  }, {\n    key: \"getResidueRadius\",\n    value: function getResidueRadius(residue, val) {\n      var startRad = this.getResidueStartRadius(residue);\n      if (val === 0) {\n        return startRad;\n      }\n      var endRad = this.getResidueEndRadius(residue);\n      if (val === 2) {\n        return endRad;\n      }\n      return startRad.clone().lerp(endRad, val / 2.0);\n    }\n  }, {\n    key: \"calcStickRadius\",\n    value: function calcStickRadius(_res) {\n      return this.opts.radius;\n    }\n  }, {\n    key: \"getHeightSegmentsRatio\",\n    value: function getHeightSegmentsRatio() {\n      return this.opts.heightSegmentsRatio;\n    }\n  }, {\n    key: \"getTension\",\n    value: function getTension() {\n      return this.opts.tension;\n    }\n  }, {\n    key: \"buildGeometry\",\n    value: function buildGeometry(complex, colorer, mask, material) {\n      var tubeRad = this.opts.radius;\n      var secHeight = this.opts.depth;\n      this.TUBE_RADIUS = new Vector2(tubeRad, tubeRad);\n      this.ARROW_END = new Vector2(secHeight, tubeRad);\n      var secCache = {};\n      var secData = this.opts.ss;\n      for (var prop in secData) {\n        secCache[prop] = {\n          center: new Vector2(secHeight, secData[prop].width),\n          start: new Vector2(secHeight, secData[prop].arrow)\n        };\n      }\n      this.secCache = secCache;\n      return Mode.prototype.buildGeometry.call(this, complex, colorer, mask, material);\n    }\n  }]);\n  return CartoonMode;\n}(Mode);\n_defineProperty(CartoonMode, \"id\", 'CA');\nCartoonMode.prototype.id = 'CA';\nCartoonMode.prototype.name = 'Cartoon';\nCartoonMode.prototype.shortName = 'Cartoon';\nCartoonMode.prototype.depGroups = ['CartoonChains', 'NucleicSpheres', 'NucleicCylinders'];\n\nfunction _createSuper$U(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$U(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$U() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar selectors$3 = chem.selectors;\nfunction getRenderParams() {\n  return {\n    wireframe: this.opts.wireframe,\n    zClip: this.opts.zClip\n  };\n}\nvar SurfaceMode = function (_Mode) {\n  _inherits(SurfaceMode, _Mode);\n  var _super = _createSuper$U(SurfaceMode);\n  function SurfaceMode(opts) {\n    var _this;\n    _classCallCheck(this, SurfaceMode);\n    _this = _super.call(this, opts);\n    _this.depGroups = _this.depGroups.slice(0);\n    var surfaces = _this.surfaceNames;\n    var groups = _this.depGroups;\n    for (var i = 0, n = surfaces.length; i < n; ++i) {\n      groups[groups.length] = [surfaces[i], getRenderParams];\n    }\n    return _this;\n  }\n  _createClass(SurfaceMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(atom) {\n      return atom.element.radius;\n    }\n  }, {\n    key: \"getVisibilitySelector\",\n    value: function getVisibilitySelector() {\n      var visibilitySelector = null;\n      if (this.opts.subset !== '') {\n        var res = selectors$3.parse(this.opts.subset);\n        if (!res.error) {\n          visibilitySelector = res.selector;\n        }\n      }\n      return visibilitySelector;\n    }\n  }]);\n  return SurfaceMode;\n}(Mode);\nSurfaceMode.prototype.isSurface = true;\nSurfaceMode.prototype.surfaceNames = [];\n\nfunction _createSuper$T(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$T(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$T() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar QuickSurfaceMode = function (_SurfaceMode) {\n  _inherits(QuickSurfaceMode, _SurfaceMode);\n  var _super = _createSuper$T(QuickSurfaceMode);\n  function QuickSurfaceMode() {\n    _classCallCheck(this, QuickSurfaceMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(QuickSurfaceMode, [{\n    key: \"getSurfaceOpts\",\n    value: function getSurfaceOpts() {\n      return {\n        useBeads: false,\n        isoValue: this.opts.isoValue,\n        gaussLim: this.opts.gaussLim[this.settings.now.resolution],\n        radScale: this.opts.scale,\n        gridSpacing: this.opts.gridSpacing[this.settings.now.resolution],\n        zClip: this.opts.zClip,\n        visibilitySelector: this.getVisibilitySelector()\n      };\n    }\n  }]);\n  return QuickSurfaceMode;\n}(SurfaceMode);\n_defineProperty(QuickSurfaceMode, \"id\", 'QS');\nQuickSurfaceMode.prototype.id = 'QS';\nQuickSurfaceMode.prototype.name = 'Quick Surface';\nQuickSurfaceMode.prototype.shortName = 'Quick Surf';\nQuickSurfaceMode.prototype.surfaceNames = ['QuickSurfGeo'];\n\nfunction _createSuper$S(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$S(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$S() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar IsoSurfaceMode = function (_SurfaceMode) {\n  _inherits(IsoSurfaceMode, _SurfaceMode);\n  var _super = _createSuper$S(IsoSurfaceMode);\n  function IsoSurfaceMode(excludeProbe, opts) {\n    var _this;\n    _classCallCheck(this, IsoSurfaceMode);\n    _this = _super.call(this, opts);\n    _this._excludeProbe = excludeProbe;\n    return _this;\n  }\n  _createClass(IsoSurfaceMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(atom) {\n      return atom.element.radius;\n    }\n  }, {\n    key: \"getSurfaceOpts\",\n    value: function getSurfaceOpts() {\n      return {\n        gridSpacing: this.opts.polyComplexity[this.settings.now.resolution],\n        radScale: this._radScale,\n        zClip: this.opts.zClip,\n        visibilitySelector: this.getVisibilitySelector(),\n        probeRadius: this.opts.probeRadius,\n        excludeProbe: this._excludeProbe\n      };\n    }\n  }]);\n  return IsoSurfaceMode;\n}(SurfaceMode);\nIsoSurfaceMode.prototype.id = 'SU';\nIsoSurfaceMode.prototype.name = 'Surface';\nIsoSurfaceMode.prototype.shortName = 'Surface';\nIsoSurfaceMode.prototype.surfaceNames = ['SASSESSurfaceGeo'];\nIsoSurfaceMode.prototype._radScale = 1;\nIsoSurfaceMode.prototype._excludeProbe = false;\n\nfunction _createSuper$R(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$R(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$R() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar IsoSurfaceSASMode = function (_IsoSurfaceMode) {\n  _inherits(IsoSurfaceSASMode, _IsoSurfaceMode);\n  var _super = _createSuper$R(IsoSurfaceSASMode);\n  function IsoSurfaceSASMode(opts) {\n    _classCallCheck(this, IsoSurfaceSASMode);\n    return _super.call(this, false, opts);\n  }\n  return _createClass(IsoSurfaceSASMode);\n}(IsoSurfaceMode);\n_defineProperty(IsoSurfaceSASMode, \"id\", 'SA');\nIsoSurfaceSASMode.prototype.id = 'SA';\nIsoSurfaceSASMode.prototype.name = 'Solvent Accessible Surface';\nIsoSurfaceSASMode.prototype.shortName = 'SAS';\n\nfunction _createSuper$Q(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$Q(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$Q() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar IsoSurfaceSESMode = function (_IsoSurfaceMode) {\n  _inherits(IsoSurfaceSESMode, _IsoSurfaceMode);\n  var _super = _createSuper$Q(IsoSurfaceSESMode);\n  function IsoSurfaceSESMode(opts) {\n    _classCallCheck(this, IsoSurfaceSESMode);\n    return _super.call(this, true, opts);\n  }\n  return _createClass(IsoSurfaceSESMode);\n}(IsoSurfaceMode);\n_defineProperty(IsoSurfaceSESMode, \"id\", 'SE');\nIsoSurfaceSESMode.prototype.id = 'SE';\nIsoSurfaceSESMode.prototype.name = 'Solvent Excluded Surface';\nIsoSurfaceSESMode.prototype.shortName = 'SES';\n\nfunction _createSuper$P(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$P(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$P() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ContactSurfaceMode = function (_SurfaceMode) {\n  _inherits(ContactSurfaceMode, _SurfaceMode);\n  var _super = _createSuper$P(ContactSurfaceMode);\n  function ContactSurfaceMode() {\n    _classCallCheck(this, ContactSurfaceMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ContactSurfaceMode, [{\n    key: \"getSurfaceOpts\",\n    value: function getSurfaceOpts() {\n      return {\n        probeRadius: this.opts.probeRadius,\n        radScale: this.opts.polyComplexity[this.settings.now.resolution],\n        scaleFactor: this.opts.polyComplexity[this.settings.now.resolution],\n        gridSpacing: 1.0 / this.opts.polyComplexity[this.settings.now.resolution],\n        isoValue: this.opts.isoValue,\n        probePositions: this.opts.probePositions,\n        zClip: this.opts.zClip,\n        visibilitySelector: this.getVisibilitySelector()\n      };\n    }\n  }]);\n  return ContactSurfaceMode;\n}(SurfaceMode);\n_defineProperty(ContactSurfaceMode, \"id\", 'CS');\nContactSurfaceMode.prototype.id = 'CS';\nContactSurfaceMode.prototype.name = 'Contact Surface';\nContactSurfaceMode.prototype.shortName = 'Contact Surf';\nContactSurfaceMode.prototype.isSurface = true;\nContactSurfaceMode.prototype.surfaceNames = ['ContactSurfaceGeo'];\n\nfunction _createSuper$O(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$O(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$O() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TextMode = function (_Mode) {\n  _inherits(TextMode, _Mode);\n  var _super = _createSuper$O(TextMode);\n  function TextMode() {\n    _classCallCheck(this, TextMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TextMode, [{\n    key: \"getTemplateOptions\",\n    value: function getTemplateOptions() {\n      return this.opts.template;\n    }\n  }, {\n    key: \"getLabelOpts\",\n    value: function getLabelOpts() {\n      return merge(this.opts, {\n        colors: true,\n        adjustColor: true,\n        transparent: true\n      });\n    }\n  }]);\n  return TextMode;\n}(Mode);\n_defineProperty(TextMode, \"id\", 'TX');\nTextMode.prototype.id = 'TX';\nTextMode.prototype.name = 'Text mode';\nTextMode.prototype.shortName = 'Text';\nTextMode.prototype.depGroups = ['TextLabelsGeo'];\n\nvar modes = new EntityList([LinesMode, LicoriceMode, BallsAndSticksMode, VanDerWaalsMode, TraceMode, TubeMode, CartoonMode, QuickSurfaceMode, IsoSurfaceSASMode, IsoSurfaceSESMode, ContactSurfaceMode, TextMode]);\n\nfunction clamp(x, a, b) {\n  return x <= b ? x < 0 ? 0 : x : b;\n}\nfunction lerpColor(c1, c2, alpha) {\n  var beta = 1 - alpha;\n  var r1 = c1 >> 16 & 0xff;\n  var g1 = c1 >> 8 & 0xff;\n  var b1 = c1 & 0xff;\n  var r2 = c2 >> 16 & 0xff;\n  var g2 = c2 >> 8 & 0xff;\n  var b2 = c2 & 0xff;\n  var r = beta * r1 + alpha * r2;\n  var g = beta * g1 + alpha * g2;\n  var b = beta * b1 + alpha * b2;\n  return r << 16 | g << 8 | b;\n}\nvar Palette = function () {\n  function Palette(name, id) {\n    _classCallCheck(this, Palette);\n    this.name = name || 'Custom';\n    this.id = id || 'CP';\n  }\n  _createClass(Palette, [{\n    key: \"getElementColor\",\n    value: function getElementColor(name) {\n      var asIs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var color = this.elementColors[name];\n      return color === undefined && !asIs ? this.defaultElementColor : color;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(name) {\n      var asIs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var color = this.residueColors[name];\n      return color === undefined && !asIs ? this.defaultResidueColor : color;\n    }\n  }, {\n    key: \"getChainColor\",\n    value: function getChainColor(name) {\n      var chain = name.charCodeAt(0);\n      chain = ((chain < 0 ? 0 : chain >= 256 ? chain - 256 : chain) & 0x1f) % this.chainColors.length;\n      return this.chainColors[chain];\n    }\n  }, {\n    key: \"getSecondaryColor\",\n    value: function getSecondaryColor(type) {\n      var asIs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var color = this.secondaryColors[type];\n      return color === undefined && !asIs ? this.defaultSecondaryColor : color;\n    }\n  }, {\n    key: \"getSequentialColor\",\n    value: function getSequentialColor(index) {\n      var colors = this.colors;\n      var len = colors.length;\n      return index < 0 ? colors[index % len + len] : colors[index % len];\n    }\n  }, {\n    key: \"getGradientColor\",\n    value: function getGradientColor(value, gradientName) {\n      var gradient = this.gradients[gradientName];\n      if (!gradient) {\n        return this.defaultNamedColor;\n      }\n      var count = gradient.length;\n      var index = value * (count - 1);\n      var left = Math.floor(index);\n      var right = clamp(left + 1, 0, count - 1);\n      left = clamp(left, 0, count - 1);\n      return lerpColor(gradient[left], gradient[right], index - left);\n    }\n  }, {\n    key: \"getNamedColor\",\n    value: function getNamedColor(name) {\n      var asIs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var color = this.namedColors[name];\n      return color === undefined && !asIs ? this.defaultNamedColor : color;\n    }\n  }]);\n  return Palette;\n}();\nassign(Palette.prototype, {\n  colors: [0xffffff, 0xff0000, 0x00ff00, 0x0000ff, 0x808080],\n  minRangeColor: 0x000000,\n  midRangeColor: 0x7f7f7f,\n  maxRangeColor: 0xffffff,\n  defaultElementColor: 0xffffff,\n  elementColors: {},\n  defaultResidueColor: 0xffffff,\n  residueColors: {},\n  chainColors: [0xffffff],\n  defaultSecondaryColor: 0xffffff,\n  secondaryColors: {},\n  defaultGradientColor: 0x000000,\n  defaultNamedColor: 0xffffff,\n  namedColorsArray: [\n  ['indianred', 0xcd5c5c], ['lightcoral', 0xf08080], ['salmon', 0xfa8072], ['darksalmon', 0xe9967a], ['lightsalmon', 0xffa07a], ['crimson', 0xdc143c], ['red', 0xff0000], ['firebrick', 0xb22222], ['darkred', 0x8b0000], ['pink', 0xffc0cb], ['lightpink', 0xffb6c1], ['hotpink', 0xff69b4], ['deeppink', 0xff1493], ['mediumvioletred', 0xc71585], ['palevioletred', 0xdb7093], ['coral', 0xff7f50], ['tomato', 0xff6347], ['orangered', 0xff4500], ['darkorange', 0xff8c00], ['orange', 0xffa500], ['gold', 0xffd700], ['yellow', 0xffff00], ['lightyellow', 0xffffe0], ['lemonchiffon', 0xfffacd], ['lightgoldenrodyellow', 0xfafad2], ['papayawhip', 0xffefd5], ['moccasin', 0xffe4b5], ['peachpuff', 0xffdab9], ['palegoldenrod', 0xeee8aa], ['khaki', 0xf0e68c], ['darkkhaki', 0xbdb76b], ['lavender', 0xe6e6fa], ['thistle', 0xd8bfd8], ['plum', 0xdda0dd], ['violet', 0xee82ee], ['orchid', 0xda70d6], ['fuchsia', 0xff00ff], ['magenta', 0xff00ff], ['mediumorchid', 0xba55d3], ['mediumpurple', 0x9370db], ['rebeccapurple', 0x663399], ['blueviolet', 0x8a2be2], ['darkviolet', 0x9400d3], ['darkorchid', 0x9932cc], ['darkmagenta', 0x8b008b], ['purple', 0x800080], ['indigo', 0x4b0082], ['slateblue', 0x6a5acd], ['mediumslateblue', 0x7b68ee], ['darkslateblue', 0x483d8b], ['greenyellow', 0xadff2f], ['chartreuse', 0x7fff00], ['lawngreen', 0x7cfc00], ['lime', 0x00ff00], ['limegreen', 0x32cd32], ['palegreen', 0x98fb98], ['lightgreen', 0x90ee90], ['mediumspringgreen', 0x00fa9a], ['springgreen', 0x00ff7f], ['mediumseagreen', 0x3cb371], ['seagreen', 0x2e8b57], ['forestgreen', 0x228b22], ['green', 0x008000], ['darkgreen', 0x006400], ['yellowgreen', 0x9acd32], ['olivedrab', 0x6b8e23], ['olive', 0x808000], ['darkolivegreen', 0x556b2f], ['mediumaquamarine', 0x66cdaa], ['darkseagreen', 0x8fbc8f], ['lightseagreen', 0x20b2aa], ['darkcyan', 0x008b8b], ['teal', 0x008080], ['aqua', 0x00ffff], ['cyan', 0x00ffff], ['lightcyan', 0xe0ffff], ['paleturquoise', 0xafeeee], ['aquamarine', 0x7fffd4], ['turquoise', 0x40e0d0], ['mediumturquoise', 0x48d1cc], ['darkturquoise', 0x00ced1], ['cadetblue', 0x5f9ea0], ['steelblue', 0x4682b4], ['lightsteelblue', 0xb0c4de], ['powderblue', 0xb0e0e6], ['lightblue', 0xadd8e6], ['skyblue', 0x87ceeb], ['lightskyblue', 0x87cefa], ['deepskyblue', 0x00bfff], ['dodgerblue', 0x1e90ff], ['cornflowerblue', 0x6495ed], ['royalblue', 0x4169e1], ['blue', 0x0000ff], ['mediumblue', 0x0000cd], ['darkblue', 0x00008b], ['navy', 0x000080], ['midnightblue', 0x191970], ['cornsilk', 0xfff8dc], ['blanchedalmond', 0xffebcd], ['bisque', 0xffe4c4], ['navajowhite', 0xffdead], ['wheat', 0xf5deb3], ['burlywood', 0xdeb887], ['tan', 0xd2b48c], ['rosybrown', 0xbc8f8f], ['sandybrown', 0xf4a460], ['goldenrod', 0xdaa520], ['darkgoldenrod', 0xb8860b], ['peru', 0xcd853f], ['chocolate', 0xd2691e], ['saddlebrown', 0x8b4513], ['sienna', 0xa0522d], ['brown', 0xa52a2a], ['maroon', 0x800000], ['white', 0xffffff], ['snow', 0xfffafa], ['honeydew', 0xf0fff0], ['mintcream', 0xf5fffa], ['azure', 0xf0ffff], ['aliceblue', 0xf0f8ff], ['ghostwhite', 0xf8f8ff], ['whitesmoke', 0xf5f5f5], ['seashell', 0xfff5ee], ['beige', 0xf5f5dc], ['oldlace', 0xfdf5e6], ['floralwhite', 0xfffaf0], ['ivory', 0xfffff0], ['antiquewhite', 0xfaebd7], ['linen', 0xfaf0e6], ['lavenderblush', 0xfff0f5], ['mistyrose', 0xffe4e1], ['gainsboro', 0xdcdcdc], ['lightgray', 0xd3d3d3], ['silver', 0xc0c0c0], ['darkgray', 0xa9a9a9], ['gray', 0x808080], ['dimgray', 0x696969], ['lightslategray', 0x778899], ['slategray', 0x708090], ['darkslategray', 0x2f4f4f], ['black', 0x000000]\n  ],\n  namedColors: {},\n  gradients: {\n    rainbow: [0x0000ff,\n    0x00ffff,\n    0x00ff00,\n    0xffff00,\n    0xff0000\n    ],\n    temp: [0x0000ff,\n    0x007fff,\n    0xffffff,\n    0xff7f00,\n    0xff0000\n    ],\n    hot: [0xffffff,\n    0xff7f00,\n    0xff0000\n    ],\n    cold: [0xffffff,\n    0x007fff,\n    0x0000ff\n    ],\n    'blue-red': [0x0000ff,\n    0xffffff,\n    0xff0000\n    ],\n    reds: [0xffffff,\n    0xff0000\n    ],\n    blues: [0xffffff,\n    0x0000ff\n    ]\n  }\n});\nvar _Palette$prototype = Palette.prototype,\n    namedColorsArray = _Palette$prototype.namedColorsArray,\n    namedColors = _Palette$prototype.namedColors;\nfor (var i = 0, length = namedColorsArray.length; i < length; ++i) {\n  var _namedColorsArray$i = _slicedToArray(namedColorsArray[i], 2),\n      name = _namedColorsArray$i[0],\n      value = _namedColorsArray$i[1];\n  namedColors[name] = value;\n}\n\nvar palette$2 = new Palette('CPK', 'CP');\npalette$2.elementColors = {\n  H: 0xffffff,\n  C: 0x202020,\n  N: 0x2060ff,\n  O: 0xee2010,\n  F: 0x00ff00,\n  P: 0x8020ff,\n  S: 0xffff00,\n  CL: 0x00bb00,\n  FE: 0xd0d0d0,\n  CO: 0xd0d0d0,\n  NI: 0xd0d0d0,\n  CU: 0xd0d0d0,\n  BR: 0x008800,\n  I: 0x005500\n};\n\nvar _palette$secondaryCol$1;\nvar palette$1 = new Palette('Jmol', 'JM');\npalette$1.colors = [\n0x0000ff,\n0x0055ff,\n0x00abff,\n0x00ffff,\n0x00ffab,\n0x00ff55,\n0x00ff00,\n0x55ff00,\n0xabff00,\n0xffff00,\n0xffab00,\n0xff5500,\n0xff0000,\n0xff0055,\n0xff00ab,\n0xff00ff,\n0xab00ff,\n0x5500ff\n];\npalette$1.elementColors = {\n  H: 0xffffff,\n  D: 0xffffc0,\n  T: 0xffffa0,\n  HE: 0xd9ffff,\n  LI: 0xcc80ff,\n  BE: 0xc2ff00,\n  B: 0xffb5b5,\n  C: 0x909090,\n  N: 0x3050f8,\n  O: 0xff0d0d,\n  F: 0x90e050,\n  NE: 0xb3e3f5,\n  NA: 0xab5cf2,\n  MG: 0x8aff00,\n  AL: 0xbfa6a6,\n  SI: 0xf0c8a0,\n  P: 0xff8000,\n  S: 0xffff30,\n  CL: 0x1ff01f,\n  AR: 0x80d1e3,\n  K: 0x8f40d4,\n  CA: 0x3dff00,\n  SC: 0xe6e6e6,\n  TI: 0xbfc2c7,\n  V: 0xa6a6ab,\n  CR: 0x8a99c7,\n  MN: 0x9c7ac7,\n  FE: 0xe06633,\n  CO: 0xf090a0,\n  NI: 0x50d050,\n  CU: 0xc88033,\n  ZN: 0x7d80b0,\n  GA: 0xc28f8f,\n  GE: 0x668f8f,\n  AS: 0xbd80e3,\n  SE: 0xffa100,\n  BR: 0xa62929,\n  KR: 0x5cb8d1,\n  RB: 0x702eb0,\n  SR: 0x00ff00,\n  Y: 0x94ffff,\n  ZR: 0x94e0e0,\n  NB: 0x73c2c9,\n  MO: 0x54b5b5,\n  TC: 0x3b9e9e,\n  RU: 0x248f8f,\n  RH: 0x0a7d8c,\n  PD: 0x006985,\n  AG: 0xc0c0c0,\n  CD: 0xffd98f,\n  IN: 0xa67573,\n  SN: 0x668080,\n  SB: 0x9e63b5,\n  TE: 0xd47a00,\n  I: 0x940094,\n  XE: 0x429eb0,\n  CS: 0x57178f,\n  BA: 0x00c900,\n  LA: 0x70d4ff,\n  CE: 0xffffc7,\n  PR: 0xd9ffc7,\n  ND: 0xc7ffc7,\n  PM: 0xa3ffc7,\n  SM: 0x8fffc7,\n  EU: 0x61ffc7,\n  GD: 0x45ffc7,\n  TB: 0x30ffc7,\n  DY: 0x1fffc7,\n  HO: 0x00ff9c,\n  ER: 0x00e675,\n  TM: 0x00d452,\n  YB: 0x00bf38,\n  LU: 0x00ab24,\n  HF: 0x4dc2ff,\n  TA: 0x4da6ff,\n  W: 0x2194d6,\n  RE: 0x267dab,\n  OS: 0x266696,\n  IR: 0x175487,\n  PT: 0xd0d0e0,\n  AU: 0xffd123,\n  HG: 0xb8b8d0,\n  TL: 0xa6544d,\n  PB: 0x575961,\n  BI: 0x9e4fb5,\n  PO: 0xab5c00,\n  AT: 0x754f45,\n  RN: 0x428296,\n  FR: 0x420066,\n  RA: 0x007d00,\n  AC: 0x70abfa,\n  TH: 0x00baff,\n  PA: 0x00a1ff,\n  U: 0x008fff,\n  NP: 0x0080ff,\n  PU: 0x006bff,\n  AM: 0x545cf2,\n  CM: 0x785ce3,\n  BK: 0x8a4fe3,\n  CF: 0xa136d4,\n  ES: 0xb31fd4,\n  FM: 0xb31fba,\n  MD: 0xb30da6,\n  NO: 0xbd0d87,\n  LR: 0xc70066,\n  RF: 0xcc0059,\n  DB: 0xd1004f,\n  SG: 0xd90045,\n  BH: 0xe00038,\n  HS: 0xe6002e,\n  MT: 0xeb0026\n};\npalette$1.defaultResidueColor = 0xbea06e;\npalette$1.residueColors = {\n  ALA: 0xc8c8c8,\n  ARG: 0x145aff,\n  ASN: 0x00dcdc,\n  ASP: 0xe60a0a,\n  CYS: 0xe6e600,\n  GLN: 0x00dcdc,\n  GLU: 0xe60a0a,\n  GLY: 0xebebeb,\n  HIS: 0x8282d2,\n  ILE: 0x0f820f,\n  LEU: 0x0f820f,\n  LYS: 0x145aff,\n  MET: 0xe6e600,\n  PHE: 0x3232aa,\n  PRO: 0xdc9682,\n  SER: 0xfa9600,\n  THR: 0xfa9600,\n  TRP: 0xb45ab4,\n  TYR: 0x3232aa,\n  VAL: 0x0f820f,\n  A: 0xa0a0ff,\n  C: 0xff8c4b,\n  G: 0xff7070,\n  I: 0x80ffff,\n  T: 0xa0ffa0,\n  U: 0xff8080,\n  DA: 0xa0a0ff,\n  DC: 0xff8c4b,\n  DG: 0xff7070,\n  DI: 0x80ffff,\n  DT: 0xa0ffa0,\n  DU: 0xff8080,\n  '+A': 0xa0a0ff,\n  '+C': 0xff8c4b,\n  '+G': 0xff7070,\n  '+I': 0x80ffff,\n  '+T': 0xa0ffa0,\n  '+U': 0xff8080\n};\npalette$1.chainColors = [\n0xffffffff,\n0xffc0d0ff,\n0xffb0ffb0,\n0xffffc0c8,\n0xffffff80,\n0xffffc0ff,\n0xffb0f0f0,\n0xffffd070,\n0xfff08080,\n0xfff5deb3,\n0xff00bfff,\n0xffcd5c5c,\n0xff66cdaa,\n0xff9acd32,\n0xffee82ee,\n0xff00ced1,\n0xff00ff7f,\n0xff3cb371,\n0xff00008b,\n0xffbdb76b,\n0xff006400,\n0xff800000,\n0xff808000,\n0xff800080,\n0xff008080,\n0xffb8860b,\n0xffb22222\n];\nvar StructuralElementType$2 = StructuralElement.Type;\npalette$1.secondaryColors = (_palette$secondaryCol$1 = {}, _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.HELIX_ALPHA, 0xff0080), _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.HELIX_PI, 0x600080), _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.HELIX_310, 0xa00080), _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.STRAND, 0xffc800), _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.TURN, 0x6080ff), _defineProperty(_palette$secondaryCol$1, \"dna\", 0xae00fe), _defineProperty(_palette$secondaryCol$1, \"rna\", 0xfd0162), _palette$secondaryCol$1);\n\nvar _palette$secondaryCol;\nvar palette = new Palette('VMD', 'VM');\npalette.colors = [\n0x0000ff,\n0xff0000,\n0x606060,\n0xff8000,\n0xffff00,\n0x808033,\n0x999999,\n0x00ff00,\n0xffffff,\n0xff9999,\n0x40c0c0,\n0xa600a6,\n0x80e666,\n0xe666b3,\n0x804d00,\n0x8080c0\n];\npalette.defaultElementColor = 0x804d00;\npalette.elementColors = {\n  H: 0xffffff,\n  C: 0x40bfbf,\n  N: 0x0000ff,\n  O: 0xff0000,\n  P: 0x808033,\n  S: 0xffff00\n};\npalette.defaultResidueColor = 0x40c0c0;\npalette.residueColors = {\n  ALA: 0x0000ff,\n  ARG: 0xffffff,\n  ASN: 0x808033,\n  ASP: 0xff0000,\n  CYS: 0xffff00,\n  GLN: 0xff8000,\n  GLU: 0xff9999,\n  GLY: 0xffffff,\n  HIS: 0x40c0c0,\n  ILE: 0x00ff00,\n  LEU: 0xff9999,\n  LYS: 0x40c0c0,\n  MET: 0xffff00,\n  PHE: 0xa600a6,\n  PRO: 0x804c00,\n  SER: 0xffff00,\n  THR: 0xe666b3,\n  TRP: 0x999999,\n  TYR: 0x00ff00,\n  VAL: 0x808033,\n  A: 0x0000ff,\n  C: 0xff8000,\n  G: 0xffff00,\n  T: 0xa600a6,\n  U: 0x00ff00,\n  DA: 0x0000ff,\n  DC: 0xff8000,\n  DG: 0xffff00,\n  DT: 0xa600a6,\n  DU: 0x00ff00,\n  '+A': 0x0000ff,\n  '+C': 0xff8000,\n  '+G': 0xffff00,\n  '+T': 0xa600a6,\n  '+U': 0x00ff00,\n  WAT: 0x40c0c0,\n  H2O: 0x40c0c0,\n  HOH: 0x40c0c0\n};\npalette.chainColors = [0xffffff].concat(palette.colors);\nvar StructuralElementType$1 = StructuralElement.Type;\npalette.secondaryColors = (_palette$secondaryCol = {}, _defineProperty(_palette$secondaryCol, StructuralElementType$1.HELIX_ALPHA, 0xa600a6), _defineProperty(_palette$secondaryCol, StructuralElementType$1.HELIX_310, 0x0000ff), _defineProperty(_palette$secondaryCol, StructuralElementType$1.HELIX_PI, 0xff0000), _defineProperty(_palette$secondaryCol, StructuralElementType$1.STRAND, 0xffff00), _defineProperty(_palette$secondaryCol, StructuralElementType$1.BRIDGE, 0x808033), _defineProperty(_palette$secondaryCol, StructuralElementType$1.TURN, 0x40c0c0), _palette$secondaryCol);\n\nvar palettes = new EntityList([palette$2, palette$1, palette]);\n\nvar Colorer = function () {\n  function Colorer(opts) {\n    _classCallCheck(this, Colorer);\n    if (this.constructor === Colorer) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    this.opts = merge(utils.deriveDeep(settings.now.colorers[this.id], true), opts);\n    this.palette = palettes.first;\n  }\n  _createClass(Colorer, [{\n    key: \"identify\",\n    value: function identify() {\n      var diff = utils.objectsDiff(this.opts, settings.now.colorers[this.id]);\n      if (!isEmpty(diff)) {\n        return [this.id, diff];\n      }\n      return this.id;\n    }\n  }]);\n  return Colorer;\n}();\nColorer.prototype.id = '__';\n\nfunction _createSuper$N(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$N(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$N() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ElementColorer = function (_Colorer) {\n  _inherits(ElementColorer, _Colorer);\n  var _super = _createSuper$N(ElementColorer);\n  function ElementColorer() {\n    _classCallCheck(this, ElementColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ElementColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      var type = atom.element.name;\n      if (type === 'C' && this.opts.carbon >= 0) {\n        return this.opts.carbon;\n      }\n      return this.palette.getElementColor(type);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(_residue, _complex) {\n      return this.palette.defaultResidueColor;\n    }\n  }]);\n  return ElementColorer;\n}(Colorer);\n_defineProperty(ElementColorer, \"id\", 'EL');\nElementColorer.prototype.id = 'EL';\nElementColorer.prototype.name = 'Element';\nElementColorer.prototype.shortName = 'Element';\n\nfunction _createSuper$M(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$M(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$M() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResidueTypeColorer = function (_Colorer) {\n  _inherits(ResidueTypeColorer, _Colorer);\n  var _super = _createSuper$M(ResidueTypeColorer);\n  function ResidueTypeColorer() {\n    _classCallCheck(this, ResidueTypeColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResidueTypeColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      return this.palette.getResidueColor(residue._type._name);\n    }\n  }]);\n  return ResidueTypeColorer;\n}(Colorer);\n_defineProperty(ResidueTypeColorer, \"id\", 'RT');\nResidueTypeColorer.prototype.id = 'RT';\nResidueTypeColorer.prototype.name = 'Residue Type';\nResidueTypeColorer.prototype.shortName = 'Residue';\n\nfunction _createSuper$L(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$L(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$L() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar SequenceColorer = function (_Colorer) {\n  _inherits(SequenceColorer, _Colorer);\n  var _super = _createSuper$L(SequenceColorer);\n  function SequenceColorer() {\n    _classCallCheck(this, SequenceColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SequenceColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var chain = residue._chain;\n      if (chain.minSequence === Number.POSITIVE_INFINITY && chain.maxSequence === Number.NEGATIVE_INFINITY) {\n        return this.palette.defaultNamedColor;\n      }\n      var min = chain.minSequence;\n      var max = chain.maxSequence > min ? chain.maxSequence : min + 1;\n      return this.palette.getGradientColor((residue._sequence - min) / (max - min), this.opts.gradient);\n    }\n  }]);\n  return SequenceColorer;\n}(Colorer);\n_defineProperty(SequenceColorer, \"id\", 'SQ');\nSequenceColorer.prototype.id = 'SQ';\nSequenceColorer.prototype.name = 'Sequence';\nSequenceColorer.prototype.shortName = 'Sequence';\n\nfunction _createSuper$K(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$K(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$K() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ChainColorer = function (_Colorer) {\n  _inherits(ChainColorer, _Colorer);\n  var _super = _createSuper$K(ChainColorer);\n  function ChainColorer() {\n    _classCallCheck(this, ChainColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ChainColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      return this.palette.getChainColor(residue.getChain()._name);\n    }\n  }]);\n  return ChainColorer;\n}(Colorer);\n_defineProperty(ChainColorer, \"id\", 'CH');\nChainColorer.prototype.id = 'CH';\nChainColorer.prototype.name = 'Chain';\nChainColorer.prototype.shortName = 'Chain';\n\nfunction _createSuper$J(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$J(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$J() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar SecondaryStructureColorer = function (_Colorer) {\n  _inherits(SecondaryStructureColorer, _Colorer);\n  var _super = _createSuper$J(SecondaryStructureColorer);\n  function SecondaryStructureColorer() {\n    _classCallCheck(this, SecondaryStructureColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SecondaryStructureColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      if (residue._type.flags & ResidueType$1.Flags.DNA) {\n        return this.palette.getSecondaryColor('dna');\n      }\n      if (residue._type.flags & ResidueType$1.Flags.RNA) {\n        return this.palette.getSecondaryColor('rna');\n      }\n      var secondary = residue.getSecondary();\n      if (secondary) {\n        var color = this.palette.getSecondaryColor(secondary.type, true);\n        if (color === undefined) {\n          color = this.palette.getSecondaryColor(secondary.generic);\n        }\n        return color;\n      }\n      return this.palette.defaultSecondaryColor;\n    }\n  }]);\n  return SecondaryStructureColorer;\n}(Colorer);\n_defineProperty(SecondaryStructureColorer, \"id\", 'SS');\nSecondaryStructureColorer.prototype.id = 'SS';\nSecondaryStructureColorer.prototype.name = 'Secondary Structure';\nSecondaryStructureColorer.prototype.shortName = 'Structure';\n\nfunction _createSuper$I(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$I(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$I() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar UniformColorer = function (_Colorer) {\n  _inherits(UniformColorer, _Colorer);\n  var _super = _createSuper$I(UniformColorer);\n  function UniformColorer() {\n    _classCallCheck(this, UniformColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(UniformColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(_atom, _complex) {\n      return this.opts.color;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(_residue, _complex) {\n      return this.opts.color;\n    }\n  }]);\n  return UniformColorer;\n}(Colorer);\n_defineProperty(UniformColorer, \"id\", 'UN');\nUniformColorer.prototype.id = 'UN';\nUniformColorer.prototype.name = 'Uniform';\nUniformColorer.prototype.shortName = 'Uniform';\n\nfunction _createSuper$H(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$H(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$H() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ConditionalColorer = function (_Colorer) {\n  _inherits(ConditionalColorer, _Colorer);\n  var _super = _createSuper$H(ConditionalColorer);\n  function ConditionalColorer(opts) {\n    var _this;\n    _classCallCheck(this, ConditionalColorer);\n    _this = _super.call(this, opts);\n    var parsed = selectors$4.parse(_this.opts.subset);\n    _this._subsetCached = parsed.error ? selectors$4.none() : parsed.selector;\n    return _this;\n  }\n  _createClass(ConditionalColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      return this._subsetCached.includesAtom(atom) ? this.opts.color : this.opts.baseColor;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var subset = this._subsetCached;\n      var atoms = residue._atoms;\n      for (var i = 0, n = atoms.length; i < n; ++i) {\n        if (!subset.includesAtom(atoms[i])) {\n          return this.opts.baseColor;\n        }\n      }\n      return this.opts.color;\n    }\n  }]);\n  return ConditionalColorer;\n}(Colorer);\n_defineProperty(ConditionalColorer, \"id\", 'CO');\nConditionalColorer.prototype.id = 'CO';\nConditionalColorer.prototype.name = 'Conditional';\nConditionalColorer.prototype.shortName = 'Conditional';\n\nfunction _createSuper$G(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$G(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$G() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ConformationColorer = function (_Colorer) {\n  _inherits(ConformationColorer, _Colorer);\n  var _super = _createSuper$G(ConformationColorer);\n  function ConformationColorer() {\n    _classCallCheck(this, ConformationColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ConformationColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      return this.palette.getChainColor(String.fromCharCode(atom.location));\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(_residue, _complex) {\n      return this.palette.defaultResidueColor;\n    }\n  }]);\n  return ConformationColorer;\n}(Colorer);\n_defineProperty(ConformationColorer, \"id\", 'CF');\nConformationColorer.prototype.id = 'CF';\nConformationColorer.prototype.name = 'Conformation';\nConformationColorer.prototype.shortName = 'Conformation';\n\nfunction _createSuper$F(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$F(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$F() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TemperatureColorer = function (_Colorer) {\n  _inherits(TemperatureColorer, _Colorer);\n  var _super = _createSuper$F(TemperatureColorer);\n  function TemperatureColorer() {\n    _classCallCheck(this, TemperatureColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TemperatureColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      var opts = this.opts;\n      var factor = 1;\n      if (atom.temperature && opts) {\n        if (opts.min === opts.max) {\n          factor = atom.temperature > opts.max ? 1 : 0;\n        } else {\n          factor = (atom.temperature - opts.min) / (opts.max - opts.min);\n        }\n        return this.palette.getGradientColor(factor, opts.gradient);\n      }\n      return this.palette.defaultGradientColor;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var opts = this.opts;\n      if (!opts) {\n        return this.palette.defaultGradientColor;\n      }\n      if (residue.temperature) {\n        var factor = 0;\n        if (opts.min === opts.max) {\n          factor = residue.temperature > opts.max ? 1 : 0;\n        } else {\n          factor = (residue.temperature - opts.min) / (opts.max - opts.min);\n        }\n        return this.palette.getGradientColor(factor, opts.gradient);\n      }\n      return this.palette.defaultGradientColor;\n    }\n  }]);\n  return TemperatureColorer;\n}(Colorer);\n_defineProperty(TemperatureColorer, \"id\", 'TM');\nTemperatureColorer.prototype.id = 'TM';\nTemperatureColorer.prototype.name = 'Temperature';\nTemperatureColorer.prototype.shortName = 'Temperature';\n\nfunction _createSuper$E(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$E(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$E() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OccupancyColorer = function (_Colorer) {\n  _inherits(OccupancyColorer, _Colorer);\n  var _super = _createSuper$E(OccupancyColorer);\n  function OccupancyColorer() {\n    _classCallCheck(this, OccupancyColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(OccupancyColorer, [{\n    key: \"_getColorByOccupancy\",\n    value: function _getColorByOccupancy(occupancy, opts) {\n      if (occupancy !== undefined) {\n        var factor = 1 - occupancy;\n        return this.palette.getGradientColor(factor, opts.gradient);\n      }\n      return this.palette.defaultGradientColor;\n    }\n  }, {\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      var opts = this.opts;\n      return this._getColorByOccupancy(atom.occupancy, opts);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var opts = this.opts;\n      return this._getColorByOccupancy(residue.occupancy, opts);\n    }\n  }]);\n  return OccupancyColorer;\n}(Colorer);\n_defineProperty(OccupancyColorer, \"id\", 'OC');\nOccupancyColorer.prototype.id = 'OC';\nOccupancyColorer.prototype.name = 'Occupancy';\nOccupancyColorer.prototype.shortName = 'Occupancy';\n\nfunction _createSuper$D(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$D(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$D() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar HydrophobicityColorer = function (_Colorer) {\n  _inherits(HydrophobicityColorer, _Colorer);\n  var _super = _createSuper$D(HydrophobicityColorer);\n  function HydrophobicityColorer() {\n    _classCallCheck(this, HydrophobicityColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(HydrophobicityColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var color = this.palette.defaultResidueColor;\n      if (residue._type.hydrophobicity !== undefined) {\n        var min = -4.5;\n        var max = 4.5;\n        color = this.palette.getGradientColor((residue._type.hydrophobicity - min) / (max - min), this.opts.gradient);\n      }\n      return color;\n    }\n  }]);\n  return HydrophobicityColorer;\n}(Colorer);\n_defineProperty(HydrophobicityColorer, \"id\", 'HY');\nHydrophobicityColorer.prototype.id = 'HY';\nHydrophobicityColorer.prototype.name = 'Hydrophobicity';\nHydrophobicityColorer.prototype.shortName = 'Hydrophobicity';\n\nfunction _createSuper$C(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$C(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$C() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MoleculeColorer = function (_Colorer) {\n  _inherits(MoleculeColorer, _Colorer);\n  var _super = _createSuper$C(MoleculeColorer);\n  function MoleculeColorer() {\n    _classCallCheck(this, MoleculeColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MoleculeColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var molecule = residue._molecule;\n      var count = _complex.getMoleculeCount();\n      if (count > 1) {\n        return this.palette.getGradientColor((molecule.index - 1) / (count - 1), this.opts.gradient);\n      }\n      return this.palette.getGradientColor(0, this.opts.gradient);\n    }\n  }]);\n  return MoleculeColorer;\n}(Colorer);\n_defineProperty(MoleculeColorer, \"id\", 'MO');\nMoleculeColorer.prototype.id = 'MO';\nMoleculeColorer.prototype.name = 'Molecule';\nMoleculeColorer.prototype.shortName = 'Molecule';\n\nfunction _createSuper$B(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$B(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$B() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction scaleColor(c, factor) {\n  var r1 = c >> 16 & 0xff;\n  var g1 = c >> 8 & 0xff;\n  var b1 = c & 0xff;\n  var r = factor * r1;\n  var g = factor * g1;\n  var b = factor * b1;\n  return r << 16 | g << 8 | b;\n}\nvar CarbonColorer = function (_Colorer) {\n  _inherits(CarbonColorer, _Colorer);\n  var _super = _createSuper$B(CarbonColorer);\n  function CarbonColorer() {\n    _classCallCheck(this, CarbonColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CarbonColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      var colorCarbon = this.opts.color;\n      var colorNotCarbon = scaleColor(colorCarbon, this.opts.factor);\n      return atom.flags & Atom$2.Flags.CARBON ? colorCarbon : colorNotCarbon;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(_residue, _complex) {\n      return this.opts.color;\n    }\n  }]);\n  return CarbonColorer;\n}(Colorer);\n_defineProperty(CarbonColorer, \"id\", 'CB');\nCarbonColorer.prototype.id = 'CB';\nCarbonColorer.prototype.name = 'Carbon';\nCarbonColorer.prototype.shortName = 'Carbon';\n\nvar colorers = new EntityList([ElementColorer, ResidueTypeColorer, SequenceColorer, ChainColorer, SecondaryStructureColorer, UniformColorer, ConditionalColorer, ConformationColorer, TemperatureColorer, OccupancyColorer, HydrophobicityColorer, MoleculeColorer, CarbonColorer]);\n\nfunction neutralColor(intensity) {\n  return new Color(intensity, intensity, intensity);\n}\nvar materialList = [{\n  id: 'DF',\n  name: 'Diffuse',\n  shortName: 'Diffuse',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 1,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'SF',\n  name: 'Soft Plastic',\n  shortName: 'Soft',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.1),\n    shininess: 30,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'PL',\n  name: 'Glossy Plastic',\n  shortName: 'Glossy',\n  uberOptions: {\n    diffuse: neutralColor(0.56),\n    specular: neutralColor(0.28),\n    shininess: 100,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'ME',\n  name: 'Metal',\n  shortName: 'Metal',\n  uberOptions: {\n    diffuse: neutralColor(0.56),\n    specular: neutralColor(0.55),\n    shininess: 30,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'TR',\n  name: 'Transparent',\n  shortName: 'Transparent',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 1,\n    opacity: 0.5\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: true,\n    toonShading: false\n  }\n}, {\n  id: 'GL',\n  name: 'Glass',\n  shortName: 'Glass',\n  uberOptions: {\n    diffuse: neutralColor(0.5),\n    specular: neutralColor(0.65),\n    shininess: 100,\n    opacity: 0.5\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: true,\n    toonShading: false\n  }\n}, {\n  id: 'BA',\n  name: 'Backdrop',\n  shortName: 'Backdrop',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 1,\n    opacity: 1.0\n  },\n  values: {\n    lights: false,\n    fog: false,\n    depthWrite: false,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'TN',\n  name: 'Toon',\n  shortName: 'Toon',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 1,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: true\n  }\n}, {\n  id: 'FL',\n  name: 'Flat',\n  shortName: 'Flat',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 0,\n    opacity: 1.0\n  },\n  values: {\n    lights: false,\n    fog: true,\n    depthWrite: true,\n    transparent: false\n  }\n}];\nvar materials = new EntityList(materialList);\n\nfunction _gatherObjects(root, meshTypes) {\n  var meshes = [];\n  root.traverse(function (object) {\n    for (var i = 0; i < meshTypes.length; i++) {\n      if (object instanceof meshTypes[i]) {\n        meshes[meshes.length] = object;\n        break;\n      }\n    }\n  });\n  return meshes;\n}\nfunction createDerivativeMesh(mesh, values, layer) {\n  var material = mesh.material.createInstance();\n  material.setValues(values);\n  var newMesh = new mesh.constructor(mesh.geometry, material);\n  newMesh.material.needsUpdate = true;\n  newMesh.applyMatrix4(mesh.matrix);\n  newMesh.layers.set(layer);\n  return newMesh;\n}\nfunction traverseMeshes(root, meshTypes, func) {\n  var meshes = _gatherObjects(root, meshTypes);\n  for (var i = 0, n = meshes.length; i < n; ++i) {\n    var mesh = meshes[i];\n    if (!mesh.parent) {\n      continue;\n    }\n    func(mesh);\n  }\n}\nfunction applyTransformsToMeshes(root, mtc) {\n  var mtcCount = mtc.length;\n  if (mtcCount < 1) {\n    return;\n  }\n  var meshTypes = [Mesh, LineSegments, Line];\n  traverseMeshes(root, meshTypes, function (mesh) {\n    mesh.applyMatrix4(mtc[0]);\n    for (var j = 1; j < mtcCount; ++j) {\n      var newMesh = new mesh.constructor(mesh.geometry, mesh.material);\n      mesh.parent.add(newMesh);\n      newMesh.applyMatrix4(mtc[j]);\n    }\n  });\n}\nvar processTransparentMaterial = function () {\n  var matValues = {\n    prepassTransparancy: true,\n    fakeOpacity: false,\n    transparent: false,\n    colorFromDepth: false,\n    lights: false,\n    shadowmap: false,\n    fog: false\n  };\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n    traverseMeshes(root, [Mesh, LineSegments], function (mesh) {\n      mesh.material.setValues({\n        prepassTransparancy: false,\n        fakeOpacity: false\n      });\n      mesh.material.needsUpdate = true;\n      mesh.layers.set(gfxutils.LAYERS.TRANSPARENT);\n      var prepassTranspMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.PREPASS_TRANSPARENT);\n      mesh.parent.add(prepassTranspMesh);\n    });\n  };\n}();\nvar processColFromPosMaterial = function () {\n  var matValues = {\n    colorFromPos: true,\n    transparent: false,\n    colorFromDepth: false,\n    lights: false,\n    shadowmap: false,\n    fog: false,\n    overrideColor: false,\n    fogTransparent: false,\n    attrColor: false,\n    attrColor2: false,\n    attrAlphaColor: false,\n    fakeOpacity: false\n  };\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n    traverseMeshes(root, [Mesh, LineSegments], function (mesh) {\n      var colFromPosMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.COLOR_FROM_POSITION);\n      mesh.parent.add(colFromPosMesh);\n    });\n  };\n}();\nvar createShadowmapMaterial = function () {\n  var matValues = {\n    colorFromDepth: true,\n    orthoCam: true,\n    lights: false,\n    shadowmap: false,\n    fog: false\n  };\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n    traverseMeshes(root, [Mesh, LineSegments], function (mesh) {\n      if (!mesh.receiveShadow && mesh.material.shadowmap) {\n        mesh.material.setValues({\n          shadowmap: false\n        });\n      }\n      if (!mesh.material.lights) {\n        return;\n      }\n      if (!mesh.castShadow) {\n        return;\n      }\n      if (!gfxutils.belongToSelectLayers(mesh)) {\n        return;\n      }\n      var shadowmapMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.SHADOWMAP);\n      shadowmapMesh.isShadowmapMesh = true;\n      mesh.parent.add(shadowmapMesh);\n    });\n  };\n}();\nfunction removeShadowmapMaterial(root, material) {\n  if (!(material instanceof UberMaterial)) {\n    return;\n  }\n  traverseMeshes(root, [Mesh, LineSegments], function (mesh) {\n    if (mesh.isShadowmapMesh) {\n      mesh.parent.remove(mesh);\n    }\n  });\n}\nfunction forEachMeshInGroup(group, process) {\n  function processObj(object) {\n    if (object instanceof Mesh) {\n      process(object);\n    }\n    for (var i = 0, l = object.children.length; i < l; i++) {\n      processObj(object.children[i]);\n    }\n  }\n  processObj(group);\n}\nfunction _countMeshTriangles(mesh) {\n  var geom = mesh.geometry;\n  if (geom instanceof InstancedBufferGeometry) {\n    var attribs = geom.attributes;\n    for (var property in attribs) {\n      if (Object.hasOwn(attribs, property) && attribs[property] instanceof InstancedBufferAttribute) {\n        var currAttr = attribs[property];\n        var indexSize = geom.index ? geom.index.array.length / 3 : 0;\n        return indexSize * currAttr.array.length / currAttr.itemSize;\n      }\n    }\n    return 0;\n  }\n  if (geom instanceof BufferGeometry) {\n    return geom.index ? geom.index.array.length / 3 : 0;\n  }\n  return geom.faces ? geom.faces.length : 0;\n}\nfunction countTriangles(group) {\n  var totalCount = 0;\n  forEachMeshInGroup(group, function (mesh) {\n    totalCount += _countMeshTriangles(mesh);\n  });\n  return totalCount;\n}\nvar meshutils = {\n  applyTransformsToMeshes: applyTransformsToMeshes,\n  processTransparentMaterial: processTransparentMaterial,\n  processColFromPosMaterial: processColFromPosMaterial,\n  createShadowmapMaterial: createShadowmapMaterial,\n  removeShadowmapMaterial: removeShadowmapMaterial,\n  forEachMeshInGroup: forEachMeshInGroup,\n  countTriangles: countTriangles\n};\n\nvar selectors$2 = chem.selectors;\nvar Representation = function () {\n  function Representation(index, mode, colorer, selector) {\n    _classCallCheck(this, Representation);\n    var startMaterialValues = {\n      clipPlane: settings.now.draft.clipPlane,\n      fogTransparent: settings.now.bg.transparent,\n      shadowmap: settings.now.shadow.on,\n      shadowmapType: settings.now.shadow.type\n    };\n    this.index = index;\n    this.mode = mode;\n    this.colorer = colorer;\n    this.selector = selector;\n    this.selectorString = '';\n    this.count = 0;\n    this.material = new UberMaterial();\n    this.material.setValues(startMaterialValues);\n    this.material.setUberOptions({\n      fogAlpha: settings.now.fogAlpha\n    });\n    this.materialPreset = materials.first;\n    this.needsRebuild = true;\n    this.visible = true;\n    this.setMode(mode);\n  }\n  _createClass(Representation, [{\n    key: \"markAtoms\",\n    value: function markAtoms(complex) {\n      this.count = complex.markAtoms(this.selector, 1 << this.index);\n      this.needsRebuild = true;\n      return this.count;\n    }\n  }, {\n    key: \"unmarkAtoms\",\n    value: function unmarkAtoms(complex) {\n      complex.clearAtomBits(1 << this.index);\n      this.count = 0;\n    }\n  }, {\n    key: \"setMode\",\n    value: function setMode(mode) {\n      this.mode = mode;\n    }\n  }, {\n    key: \"setMaterialPreset\",\n    value: function setMaterialPreset(preset) {\n      this.materialPreset = preset;\n      this.material.setUberOptions(preset.uberOptions);\n      this.material.setValues(preset.values);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.geo = null;\n      this.selectionGeo = null;\n    }\n  }, {\n    key: \"buildGeometry\",\n    value: function buildGeometry(complex) {\n      this.reset();\n      this.needsRebuild = false;\n      if (settings.now.ao) {\n        this.material.setValues({\n          normalsToGBuffer: settings.now.ao\n        });\n      }\n      this.geo = this.mode.buildGeometry(complex, this.colorer, 1 << this.index, this.material);\n      if (this.material.uberOptions.opacity < 0.99 && settings.now.transparency === 'prepass') {\n        meshutils.processTransparentMaterial(this.geo, this.material);\n      }\n      this.geo.visible = this.visible;\n      gfxutils.processObjRenderOrder(this.geo, this.materialPreset.id);\n      meshutils.processColFromPosMaterial(this.geo, this.material);\n      if (settings.now.shadow.on) {\n        meshutils.createShadowmapMaterial(this.geo, this.material);\n      }\n      return this.geo;\n    }\n  }, {\n    key: \"buildSelectionGeometry\",\n    value: function buildSelectionGeometry(mask) {\n      var sg = null;\n      if (this.geo && 'getSubset' in this.geo) {\n        var meshes = this.geo.getSubset(mask);\n        if (meshes && meshes.length > 0) {\n          sg = new Group();\n          sg.matrixAutoUpdate = false;\n          sg.matrix = this.geo.matrix;\n          for (var j = 0; j < meshes.length; j++) {\n            var m = meshes[j];\n            sg.add(m);\n          }\n        }\n      }\n      if (sg) {\n        sg.visible = this.visible;\n      }\n      this.selectionGeo = sg;\n      return this.selectionGeo;\n    }\n  }, {\n    key: \"compare\",\n    value: function compare(repSettings) {\n      var diff = {};\n      var selStr = String(this.selector);\n      if (!repSettings || selStr.valueOf() !== String(repSettings.selector).valueOf()) {\n        diff.selector = selStr;\n      }\n      var modeDiff = this.mode.identify();\n      if (!repSettings || Array.isArray(modeDiff) || modeDiff !== repSettings.mode) {\n        diff.mode = modeDiff;\n      }\n      var colorerDiff = this.colorer.identify();\n      if (!repSettings || Array.isArray(colorerDiff) || colorerDiff !== repSettings.colorer) {\n        diff.colorer = colorerDiff;\n      }\n      if (!repSettings || this.materialPreset.id !== repSettings.material) {\n        diff.material = this.materialPreset.id;\n      }\n      return diff;\n    }\n  }, {\n    key: \"change\",\n    value: function change(repSettings, complex, mode, color) {\n      var diff = {};\n      if (repSettings.selector) {\n        var newSelectorObject = selectors$2.parse(repSettings.selector).selector;\n        var newSelector = String(newSelectorObject);\n        if (this.selectorString !== newSelector) {\n          diff.selector = newSelector;\n          this.selectorString = newSelector;\n          this.selector = newSelectorObject;\n          this.markAtoms(complex);\n        }\n      }\n      if (repSettings.mode) {\n        var newMode = repSettings.mode;\n        if (!isEqual(this.mode.identify(), newMode)) {\n          diff.mode = newMode;\n          this.setMode(mode);\n        }\n      }\n      if (repSettings.colorer) {\n        var newColorer = repSettings.colorer;\n        if (!isEqual(this.colorer.identify(), newColorer)) {\n          diff.colorer = newColorer;\n          this.colorer = color;\n        }\n      }\n      if (repSettings.material) {\n        var newMaterial = repSettings.material;\n        if (!isEqual(this.materialPreset.id, newMaterial)) {\n          diff.material = newMaterial;\n          this.setMaterialPreset(materials.get(repSettings.material));\n        }\n      }\n      return diff;\n    }\n  }, {\n    key: \"show\",\n    value: function show(visible) {\n      this.visible = visible;\n      if (this.geo) {\n        this.geo.visible = visible;\n      }\n      if (this.selectionGeo) {\n        this.selectionGeo.visible = visible;\n      }\n    }\n  }]);\n  return Representation;\n}();\n\nfunction _createSuper$A(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$A(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$A() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _traverseComponentGroups(root, component, callback) {\n  var children = root.children;\n  if (!children) {\n    return;\n  }\n  for (var i = 0, n = children.length; i < n; ++i) {\n    var child = children[i];\n    if (child._component === component) {\n      callback(child);\n    }\n    if (child instanceof gfxutils.RCGroup) {\n      _traverseComponentGroups(child, component, callback);\n    }\n  }\n}\nfunction ComplexEditor() {}\nvar ComplexComponentEditor = function (_ComplexEditor) {\n  _inherits(ComplexComponentEditor, _ComplexEditor);\n  var _super = _createSuper$A(ComplexComponentEditor);\n  function ComplexComponentEditor(complexVisual) {\n    var _this;\n    _classCallCheck(this, ComplexComponentEditor);\n    _this = _super.call(this);\n    _this._complexVisual = complexVisual;\n    _this._inProgress = false;\n    return _this;\n  }\n  _createClass(ComplexComponentEditor, [{\n    key: \"begin\",\n    value: function begin() {\n      var complex = this._complexVisual.getComplex();\n      this._componentTransforms = [];\n      for (var i = 0; i < complex._components.length; ++i) {\n        var component = complex._components[i];\n        this._componentTransforms[component._index] = new Object3D();\n      }\n      this._inProgress = true;\n      return true;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      if (!this._inProgress) {\n        return;\n      }\n      var complex = this._complexVisual.getComplex();\n      for (var i = 0; i < complex._components.length; ++i) {\n        this._bakeComponentTransform(complex._components[i]);\n      }\n      complex.onAtomPositionChanged();\n      this._resetComponentTransform();\n      this._complexVisual.finalizeEdit();\n    }\n  }, {\n    key: \"discard\",\n    value: function discard() {\n      if (!this._inProgress) {\n        return;\n      }\n      this._resetComponentTransform();\n      this._complexVisual.finalizeEdit();\n    }\n  }, {\n    key: \"getAltObj\",\n    value: function getAltObj() {\n      var res = {\n        objects: [],\n        pivot: new Vector3(0, 0, 0)\n      };\n      var visual = this._complexVisual;\n      var component = visual.getSelectedComponent();\n      if (component === null) {\n        return res;\n      }\n      var selection = this._complexVisual.getSelectionGeo();\n      var selectionMask = 1 << visual.getSelectionBit();\n      var i;\n      var j;\n      var reprNode;\n      var geo;\n      _traverseComponentGroups(visual, component, function (child) {\n        res.objects.push(child);\n      });\n      for (i = 0; i < selection.children.length; ++i) {\n        reprNode = selection.children[i];\n        for (j = 0; j < reprNode.children.length; ++j) {\n          geo = reprNode.children[j];\n          if (Object.hasOwn(geo, '_component') && geo._component === component) {\n            res.objects.push(geo);\n          }\n        }\n      }\n      res.objects.push(this._componentTransforms[component._index]);\n      var bbmin = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n      var bbmax = new Vector3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n      component.forEachResidue(function (residue) {\n        var atoms = residue._atoms;\n        for (j = 0; j < atoms.length; ++j) {\n          if (atoms[j].mask & selectionMask) {\n            bbmin.min(atoms[j].position);\n            bbmax.max(atoms[j].position);\n          }\n        }\n      });\n      res.pivot.lerpVectors(bbmin, bbmax, 0.5);\n      return res;\n    }\n  }, {\n    key: \"_bakeComponentTransform\",\n    value: function _bakeComponentTransform(component) {\n      var t = this._componentTransforms[component._index];\n      if (t && (!(t.position.x === 0 && t.position.y === 0 && t.position.z === 0) || !(t.quaternion.x === 0 && t.quaternion.y === 0 && t.quaternion.z === 0 && t.quaternion.w === 1))) {\n        t.updateMatrix();\n        component.forEachResidue(function (residue) {\n          var atoms = residue._atoms;\n          for (var j = 0; j < atoms.length; ++j) {\n            atoms[j].position.applyMatrix4(t.matrix);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_resetComponentTransform\",\n    value: function _resetComponentTransform() {\n      var visual = this._complexVisual;\n      var selection = this._complexVisual.getSelectionGeo();\n      var i;\n      var j;\n      var reprNode;\n      var geo;\n      for (i = 0; i < this._componentTransforms.length; ++i) {\n        geo = this._componentTransforms[i];\n        geo.position.set(0, 0, 0);\n        geo.quaternion.set(0, 0, 0, 1);\n      }\n      for (i = 0; i < visual.children.length; ++i) {\n        reprNode = visual.children[i];\n        for (j = 0; j < reprNode.children.length; ++j) {\n          geo = reprNode.children[j];\n          if (Object.hasOwn(geo, '_component')) {\n            geo.position.set(0, 0, 0);\n            geo.quaternion.set(0, 0, 0, 1);\n          }\n        }\n      }\n      for (i = 0; i < selection.children.length; ++i) {\n        reprNode = selection.children[i];\n        for (j = 0; j < reprNode.children.length; ++j) {\n          geo = reprNode.children[j];\n          if (Object.hasOwn(geo, '_component')) {\n            geo.position.set(0, 0, 0);\n            geo.quaternion.set(0, 0, 0, 1);\n          }\n        }\n      }\n    }\n  }]);\n  return ComplexComponentEditor;\n}(ComplexEditor);\nvar ComplexFragmentEditor = function (_ComplexEditor2) {\n  _inherits(ComplexFragmentEditor, _ComplexEditor2);\n  var _super2 = _createSuper$A(ComplexFragmentEditor);\n  function ComplexFragmentEditor(complexVisual) {\n    var _this2;\n    _classCallCheck(this, ComplexFragmentEditor);\n    _this2 = _super2.call(this);\n    _this2._complexVisual = complexVisual;\n    _this2._inProgress = false;\n    return _this2;\n  }\n  _createClass(ComplexFragmentEditor, [{\n    key: \"begin\",\n    value: function begin() {\n      var visual = this._complexVisual;\n      var selection = this._complexVisual.getSelectionGeo();\n      var atoms = this._getSelectionBorderAtoms();\n      if (atoms.length < 1 || atoms.length > 2) {\n        logger.error('Can only edit fragments with one or two bound atoms.');\n        return false;\n      }\n      this._fragmentBoundAtoms = atoms;\n      var selectionMask = 1 << visual.getSelectionBit();\n      visual.disableSubset(selectionMask, true);\n      for (var k = 0; k < selection.children.length; ++k) {\n        selection.children[k].visible = false;\n      }\n      var pivotPos = atoms[0].position.clone();\n      if (atoms.length === 2) {\n        pivotPos.lerp(atoms[1].position, 0.5);\n      }\n      this._fragmentGeo = new Group();\n      visual.add(this._fragmentGeo);\n      this._fragmentGeo.position.copy(pivotPos);\n      this._fragmentSelectionGeo = new Group();\n      selection.add(this._fragmentSelectionGeo);\n      this._fragmentSelectionGeo.position.copy(pivotPos);\n      var offset = pivotPos.clone();\n      offset.negate();\n      for (var i = 0; i < visual.children.length; ++i) {\n        var g = visual.children[i];\n        if (!('getSubset' in g)) {\n          continue;\n        }\n        var vg = new Group();\n        this._fragmentGeo.add(vg);\n        var sg = new Group();\n        this._fragmentSelectionGeo.add(sg);\n        var meshes = g.getSubset(selectionMask, true);\n        for (var j = 0; j < meshes.length; j++) {\n          var m = meshes[j];\n          vg.add(m);\n          m.position.copy(offset);\n        }\n        var smeshes = g.getSubset(selectionMask, true);\n        for (var h = 0; h < smeshes.length; h++) {\n          var sm = smeshes[h];\n          sg.add(sm);\n          sm.position.copy(offset);\n        }\n      }\n      gfxutils.applySelectionMaterial(this._fragmentSelectionGeo);\n      this._inProgress = true;\n      return true;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      if (!this._inProgress) {\n        return;\n      }\n      var visual = this._complexVisual;\n      var selectionBit = visual.getSelectionBit();\n      var p = this._fragmentGeo.position;\n      var m = this._fragmentGeo.matrix.clone();\n      m.multiply(new Matrix4().makeTranslation(-p.x, -p.y, -p.z));\n      this._bakeAtomTransform(m, 1 << selectionBit);\n      visual.enableSubset(1 << selectionBit, true);\n      visual.getComplex().onAtomPositionChanged();\n      visual.finalizeEdit();\n    }\n  }, {\n    key: \"discard\",\n    value: function discard() {\n      if (!this._inProgress) {\n        return;\n      }\n      var visual = this._complexVisual;\n      var selection = this._complexVisual.getSelectionGeo();\n      this._fragmentGeo.parent.remove(this._fragmentGeo);\n      visual.enableSubset(1 << visual.getSelectionBit(), true);\n      for (var i = 0; i < selection.children.length; ++i) {\n        var node = selection.children[i];\n        if (node.visible) {\n          selection.remove(node);\n        } else {\n          node.visible = true;\n        }\n      }\n      visual.finalizeEdit();\n    }\n  }, {\n    key: \"isFreeRotationAllowed\",\n    value: function isFreeRotationAllowed() {\n      return this._fragmentBoundAtoms.length < 2;\n    }\n  }, {\n    key: \"getAltObj\",\n    value: function getAltObj() {\n      var res = {\n        objects: [],\n        pivot: new Vector3(0, 0, 0)\n      };\n      res.objects.push(this._fragmentGeo, this._fragmentSelectionGeo);\n      var boundAtoms = this._fragmentBoundAtoms;\n      if (boundAtoms.length === 1) {\n        if (boundAtoms[0].bonds.length === 1) {\n          var bond = boundAtoms[0].bonds[0];\n          res.axis = new Vector3().subVectors(bond._right.position, bond._left.position);\n          res.axis.normalize();\n          res.axis.transformDirection(this._complexVisual.matrixWorld);\n        }\n      } else if (boundAtoms.length === 2) {\n        res.axis = new Vector3().subVectors(boundAtoms[1].position, boundAtoms[0].position);\n        res.axis.normalize();\n        res.axis.transformDirection(this._complexVisual.matrixWorld);\n      }\n      return res;\n    }\n  }, {\n    key: \"_getSelectionBorderAtoms\",\n    value: function _getSelectionBorderAtoms() {\n      var complex = this._complexVisual.getComplex();\n      var selectionMask = 1 << this._complexVisual.getSelectionBit();\n      var atomHash = {};\n      complex.forEachBond(function (bond) {\n        if (bond._left.mask & selectionMask) {\n          if ((bond._right.mask & selectionMask) === 0) {\n            atomHash[bond._left.index] = 1;\n          }\n        } else if (bond._right.mask & selectionMask) {\n          atomHash[bond._right.index] = 1;\n        }\n      });\n      var atoms = [];\n      var keys = Object.keys(atomHash);\n      for (var i = 0, n = keys.length; i < n; ++i) {\n        var idx = keys[i];\n        atoms.push(complex._atoms[idx]);\n      }\n      return atoms;\n    }\n  }, {\n    key: \"_bakeAtomTransform\",\n    value: function _bakeAtomTransform(matrix, mask) {\n      this._complexVisual.getComplex().forEachAtom(function (atom) {\n        if (atom.mask & mask) {\n          atom.position.applyMatrix4(matrix);\n        }\n      });\n    }\n  }]);\n  return ComplexFragmentEditor;\n}(ComplexEditor);\nvar ComplexVisualEdit = {\n  ComponentEditor: ComplexComponentEditor,\n  FragmentEditor: ComplexFragmentEditor\n};\n\nfunction _createSuper$z(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$z(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$z() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar selectors$1 = chem.selectors;\nfunction lookupAndCreate(entityList, specs) {\n  if (!Array.isArray(specs)) {\n    specs = [specs];\n  }\n  var _specs = specs,\n      _specs2 = _slicedToArray(_specs, 2),\n      id = _specs2[0],\n      opts = _specs2[1];\n  var Entity = entityList.get(id) || entityList.first;\n  return new Entity(opts);\n}\nvar ComplexVisual = function (_Visual) {\n  _inherits(ComplexVisual, _Visual);\n  var _super = _createSuper$z(ComplexVisual);\n  function ComplexVisual(name, dataSource) {\n    var _this;\n    _classCallCheck(this, ComplexVisual);\n    _this = _super.call(this, name, dataSource);\n    _this._complex = dataSource;\n    _this._reprList = [];\n    _this._repr = null;\n    _this._reprListChanged = true;\n    _this._selectionBit = 0;\n    _this._reprUsedBits = 0;\n    _this._selectionCount = 0;\n    _this._selectionGeometry = new Group();\n    return _this;\n  }\n  _createClass(ComplexVisual, [{\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      return this._complex.getBoundaries();\n    }\n  }, {\n    key: \"release\",\n    value: function release() {\n      if (this._selectionGeometry.parent) {\n        this._selectionGeometry.remove(this._selectionGeometry);\n      }\n      Visual.prototype.release.call(this);\n    }\n  }, {\n    key: \"getComplex\",\n    value: function getComplex() {\n      return this._complex;\n    }\n  }, {\n    key: \"getSelectionCount\",\n    value: function getSelectionCount() {\n      return this._selectionCount;\n    }\n  }, {\n    key: \"getSelectionGeo\",\n    value: function getSelectionGeo() {\n      return this._selectionGeometry;\n    }\n  }, {\n    key: \"getSelectionBit\",\n    value: function getSelectionBit() {\n      return this._selectionBit;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor() {\n      return this._editor;\n    }\n  }, {\n    key: \"resetReps\",\n    value: function resetReps(reps) {\n      if (this._complex) {\n        this._complex.clearAtomBits(~0);\n      }\n      this._reprListChanged = true;\n      this._reprUsedBits = 0;\n      this._reprList.length = reps.length;\n      for (var i = 0, n = reps.length; i < n; ++i) {\n        var rep = reps[i];\n        var selector = void 0;\n        var selectorString = void 0;\n        if (typeof rep.selector === 'string') {\n          selectorString = rep.selector;\n          var _selectors$parse = selectors$1.parse(selectorString);\n          selector = _selectors$parse.selector;\n        } else if (typeof rep.selector === 'undefined') {\n          selectorString = settings.now.presets.default[0].selector;\n          var _selectors$parse2 = selectors$1.parse(selectorString);\n          selector = _selectors$parse2.selector;\n        } else {\n          selector = rep.selector;\n          selectorString = selector.toString();\n        }\n        var mode = lookupAndCreate(modes, rep.mode);\n        var colorer = lookupAndCreate(colorers, rep.colorer);\n        var material = materials.get(rep.material) || materials.first;\n        this._reprList[i] = new Representation(i, mode, colorer, selector);\n        this._reprList[i].setMaterialPreset(material);\n        this._reprList[i].selectorString = selectorString;\n        if (this._complex) {\n          this._complex.markAtoms(selector, 1 << i);\n        }\n        this._reprUsedBits |= 1 << i;\n      }\n      this._repr = reps.length > 0 ? this._reprList[0] : null;\n      this._selectionBit = reps.length;\n      this._reprUsedBits |= 1 << this._selectionBit;\n      this._selectionCount = 0;\n      if (this._complex) {\n        this._complex.update();\n      }\n    }\n  }, {\n    key: \"repCount\",\n    value: function repCount() {\n      return this._reprList.length;\n    }\n  }, {\n    key: \"repCurrent\",\n    value: function repCurrent(index) {\n      if (index >= 0 && index < this._reprList.length) {\n        this._repr = this._reprList[index];\n      } else {\n        index = this._reprList.indexOf(this._repr);\n      }\n      return index;\n    }\n  }, {\n    key: \"rep\",\n    value: function rep(index, _rep) {\n      if (!_rep && (index === undefined || index instanceof Object)) {\n        _rep = index;\n        index = this.repCurrent();\n      }\n      if (index < 0 || index > this._reprList.length) {\n        logger.error(\"Rep \".concat(index, \" does not exist!\"));\n        return null;\n      }\n      if (index === this._reprList.length) {\n        var res = this.repAdd(_rep);\n        logger.warn(\"Rep \".concat(index, \" does not exist! New representation was created.\"));\n        return {\n          desc: res.desc,\n          index: index,\n          status: 'created'\n        };\n      }\n      var target = this._reprList[index];\n      var desc = {\n        selector: target.selectorString,\n        mode: target.mode.identify(),\n        colorer: target.colorer.identify(),\n        material: target.materialPreset.id\n      };\n      if (_rep) {\n        var diff = target.change(_rep, this._complex, lookupAndCreate(modes, _rep.mode), lookupAndCreate(colorers, _rep.colorer));\n        if (!isEmpty(diff)) {\n          target.needsRebuild = true;\n          for (var key in diff) {\n            if (Object.hasOwn(diff, key)) {\n              desc[key] = diff[key];\n              logger.debug(\"rep[\".concat(index, \"].\").concat(key, \" changed to \").concat(diff[key]));\n            }\n          }\n          if (diff.mode && target.mode.isSurface && (settings.now.resolution === 'ultra' || settings.now.resolution === 'high')) {\n            logger.report('Surface resolution was changed to \"medium\" to avoid hang-ups.');\n            settings.set('resolution', 'medium');\n          }\n          return {\n            desc: desc,\n            index: index,\n            status: 'changed'\n          };\n        }\n      }\n      return {\n        desc: desc,\n        index: index,\n        status: ''\n      };\n    }\n  }, {\n    key: \"repGet\",\n    value: function repGet(index) {\n      if (index === undefined || index instanceof Object) {\n        index = this.repCurrent();\n      }\n      if (index < 0 || index >= this._reprList.length) {\n        return null;\n      }\n      return this._reprList[index];\n    }\n  }, {\n    key: \"_getFreeReprIdx\",\n    value: function _getFreeReprIdx() {\n      var bits = this._reprUsedBits;\n      for (var i = 0; i <= ComplexVisual.NUM_REPRESENTATION_BITS; ++i, bits >>= 1) {\n        if ((bits & 1) === 0) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  }, {\n    key: \"repAdd\",\n    value: function repAdd(rep) {\n      if (this._reprList.length >= ComplexVisual.NUM_REPRESENTATION_BITS) {\n        return null;\n      }\n      var newSelectionBit = this._getFreeReprIdx();\n      if (newSelectionBit < 0) {\n        return null;\n      }\n      var originalSelection = this.buildSelectorFromMask(1 << this._selectionBit);\n      var def = settings.now.presets.default[0];\n      var desc = merge({\n        selector: def.selector,\n        mode: def.mode,\n        colorer: def.colorer,\n        material: def.material\n      }, rep);\n      var selector = typeof desc.selector === 'string' ? selectors$1.parse(desc.selector).selector : desc.selector;\n      var target = new Representation(this._selectionBit, lookupAndCreate(modes, desc.mode), lookupAndCreate(colorers, desc.colorer), selector);\n      target.selectorString = selector.toString();\n      target.setMaterialPreset(materials.get(desc.material));\n      target.markAtoms(this._complex);\n      this._reprList.push(target);\n      this._selectionBit = newSelectionBit;\n      this._reprUsedBits |= 1 << this._selectionBit;\n      this._complex.markAtoms(originalSelection, 1 << this._selectionBit);\n      return {\n        desc: desc,\n        index: this._reprList.length - 1\n      };\n    }\n  }, {\n    key: \"repRemove\",\n    value: function repRemove(index) {\n      if (index === undefined) {\n        index = this.repCurrent();\n      }\n      var count = this._reprList.length;\n      if (index < 0 || index >= count || count <= 1) {\n        return;\n      }\n      var target = this._reprList[index];\n      target.unmarkAtoms(this._complex);\n      this._reprUsedBits &= ~(1 << target.index);\n      this._reprList.splice(index, 1);\n      if (target === this._repr) {\n        --count;\n        index = index < count ? index : count - 1;\n        this._repr = this._reprList[index];\n      }\n      this._reprListChanged = true;\n    }\n  }, {\n    key: \"repHide\",\n    value: function repHide(index, hide) {\n      if (hide === undefined) {\n        hide = true;\n      }\n      if (index < 0 || index >= this._reprList.length) {\n        return;\n      }\n      var target = this._reprList[index];\n      target.show(!hide);\n    }\n  }, {\n    key: \"select\",\n    value: function select(selector, append) {\n      if (append) {\n        this._selectionCount += this._complex.markAtomsAdditionally(selector, 1 << this._selectionBit);\n      } else {\n        this._selectionCount = this._complex.markAtoms(selector, 1 << this._selectionBit);\n      }\n      this._complex.updateStructuresMask();\n      this.rebuildSelectionGeometry();\n    }\n  }, {\n    key: \"resetSelectionMask\",\n    value: function resetSelectionMask() {\n      if (this._selectionCount !== 0) {\n        this._selectionCount = 0;\n        if (this._complex) {\n          this._complex.clearAtomBits(1 << this._selectionBit);\n        }\n      }\n    }\n  }, {\n    key: \"updateSelectionMask\",\n    value: function updateSelectionMask(pickedObj) {\n      var self = this;\n      var atom = pickedObj.atom;\n      var residue = pickedObj.residue,\n          chain = pickedObj.chain,\n          molecule = pickedObj.molecule;\n      var setMask = 1 << this._selectionBit;\n      var clearMask = ~setMask;\n      if (atom) {\n        residue = atom.residue;\n        chain = residue._chain;\n        molecule = residue._molecule;\n        if (atom.mask & setMask) {\n          atom.mask &= clearMask;\n          residue._mask &= clearMask;\n          chain._mask &= clearMask;\n          if (molecule) {\n            molecule.mask &= clearMask;\n          }\n          this._selectionCount--;\n        } else {\n          atom.mask |= setMask;\n          this._selectionCount++;\n          residue.collectMask();\n          chain.collectMask();\n          if (molecule) {\n            molecule.collectMask();\n          }\n        }\n      } else if (residue) {\n        chain = residue._chain;\n        molecule = residue._molecule;\n        if (residue._mask & setMask) {\n          residue._mask &= clearMask;\n          chain._mask &= clearMask;\n          residue.forEachAtom(function (a) {\n            if (a.mask & setMask) {\n              a.mask &= clearMask;\n              self._selectionCount--;\n            }\n          });\n        } else {\n          residue._mask |= setMask;\n          residue.forEachAtom(function (a) {\n            if (!(a.mask & setMask)) {\n              a.mask |= setMask;\n              self._selectionCount++;\n            }\n          });\n          chain.collectMask();\n          if (molecule) {\n            molecule.collectMask();\n          }\n        }\n      } else if (chain || molecule) {\n        var obj = chain || molecule;\n        if (obj._mask & setMask) {\n          obj._mask &= clearMask;\n          obj.forEachResidue(function (r) {\n            if (r._mask & setMask) {\n              r._mask &= clearMask;\n              r.forEachAtom(function (a) {\n                if (a.mask & setMask) {\n                  a.mask &= clearMask;\n                  self._selectionCount--;\n                }\n              });\n              r._mask &= clearMask;\n            }\n          });\n        } else {\n          obj._mask |= setMask;\n          obj.forEachResidue(function (r) {\n            if (!(r._mask & setMask)) {\n              r._mask |= setMask;\n              r.forEachAtom(function (a) {\n                if (!(a.mask & setMask)) {\n                  a.mask |= setMask;\n                  self._selectionCount++;\n                }\n              });\n              var otherObj = chain ? r.getMolecule() : r.getChain();\n              if (otherObj) {\n                otherObj.collectMask();\n              }\n            }\n          });\n        }\n      } else {\n        this.resetSelectionMask();\n      }\n    }\n  }, {\n    key: \"expandSelection\",\n    value: function expandSelection() {\n      var self = this;\n      var selectionMask = 1 << this._selectionBit;\n      var tmpMask = 1 << 31;\n      this._complex.forEachBond(function (bond) {\n        if (bond._left.mask & selectionMask) {\n          if ((bond._right.mask & selectionMask) === 0) {\n            bond._right.mask |= tmpMask;\n          }\n        } else if (bond._right.mask & selectionMask) {\n          bond._left.mask |= tmpMask;\n        }\n      });\n      var deselectionMask = ~tmpMask;\n      this._complex.forEachAtom(function (atom) {\n        if (atom.mask & tmpMask) {\n          atom.mask = atom.mask & deselectionMask | selectionMask;\n          ++self._selectionCount;\n        }\n      });\n      this._complex.updateStructuresMask();\n    }\n  }, {\n    key: \"shrinkSelection\",\n    value: function shrinkSelection() {\n      var self = this;\n      var selectionMask = 1 << this._selectionBit;\n      var tmpMask = 1 << 31;\n      this._complex.forEachBond(function (bond) {\n        if (bond._left.mask & selectionMask) {\n          if ((bond._right.mask & selectionMask) === 0) {\n            bond._left.mask |= tmpMask;\n          }\n        } else if (bond._right.mask & selectionMask) {\n          bond._right.mask |= tmpMask;\n        }\n      });\n      this._complex.forEachAtom(function (atom) {\n        if (atom.mask & selectionMask && atom.bonds.length === 1) {\n          atom.mask |= tmpMask;\n        }\n      });\n      var deselectionMask = ~(selectionMask | tmpMask);\n      this._complex.forEachAtom(function (atom) {\n        if (atom.mask & tmpMask) {\n          atom.mask &= deselectionMask;\n          --self._selectionCount;\n        }\n      });\n      this._complex.updateStructuresMask();\n    }\n  }, {\n    key: \"getSelectedComponent\",\n    value: function getSelectedComponent() {\n      var selectionMask = 1 << this._selectionBit;\n      var component = null;\n      var multiple = false;\n      this._complex.forEachAtom(function (atom) {\n        if (atom.mask & selectionMask) {\n          if (component === null) {\n            component = atom.residue._component;\n          } else if (component !== atom.residue._component) {\n            multiple = true;\n          }\n        }\n      });\n      return multiple ? null : component;\n    }\n  }, {\n    key: \"getSelectionCenter\",\n    value: function getSelectionCenter(center, includesAtom, selRule) {\n      center.set(0.0, 0.0, 0.0);\n      var count = 0;\n      this._complex.forEachAtom(function (atom) {\n        if (includesAtom(atom, selRule)) {\n          center.add(atom.position);\n          count++;\n        }\n      });\n      if (count === 0) {\n        return false;\n      }\n      center.divideScalar(count);\n      center.applyMatrix4(this.matrix);\n      return true;\n    }\n  }, {\n    key: \"needsRebuild\",\n    value: function needsRebuild() {\n      if (this._reprListChanged) {\n        return true;\n      }\n      var reprList = this._reprList;\n      for (var i = 0, n = reprList.length; i < n; ++i) {\n        var repr = reprList[i];\n        if (repr.needsRebuild) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"rebuild\",\n    value: function rebuild() {\n      var self = this;\n      gfxutils.clearTree(this);\n      return new Promise(function (resolve) {\n        var complex = self._complex;\n        if (!complex) {\n          resolve();\n          return;\n        }\n        var errorOccured = false;\n        setTimeout(function () {\n          console.time('build');\n          var reprList = self._reprList;\n          var palette = palettes.get(settings.now.palette) || palettes.first;\n          var hasGeometry = false;\n          for (var i = 0, n = reprList.length; i < n; ++i) {\n            var repr = reprList[i];\n            repr.colorer.palette = palette;\n            if (repr.needsRebuild) {\n              repr.reset();\n              try {\n                repr.buildGeometry(complex);\n              } catch (e) {\n                if (e instanceof utils.OutOfMemoryError) {\n                  repr.needsRebuild = false;\n                  repr.reset();\n                  logger.error(\"Not enough memory to build geometry for representation \".concat(repr.index + 1));\n                  errorOccured = true;\n                } else {\n                  throw e;\n                }\n              }\n            }\n            hasGeometry = errorOccured || hasGeometry || gfxutils.groupHasGeometryToRender(repr.geo);\n            if (repr.geo) {\n              self.add(repr.geo);\n            }\n          }\n          self._reprListChanged = false;\n          console.timeEnd('build');\n          resolve();\n        }, 10);\n      });\n    }\n  }, {\n    key: \"setNeedsRebuild\",\n    value: function setNeedsRebuild() {\n      var reprList = this._reprList;\n      for (var i = 0, n = reprList.length; i < n; ++i) {\n        reprList[i].needsRebuild = true;\n      }\n    }\n  }, {\n    key: \"rebuildSelectionGeometry\",\n    value: function rebuildSelectionGeometry() {\n      var mask = 1 << this._selectionBit;\n      gfxutils.clearTree(this._selectionGeometry);\n      for (var i = 0, n = this._reprList.length; i < n; ++i) {\n        var repr = this._reprList[i];\n        var sg = repr.buildSelectionGeometry(mask);\n        if (!sg) {\n          continue;\n        }\n        this._selectionGeometry.add(sg);\n        for (var j = 0; j < sg.children.length; j++) {\n          var m = sg.children[j];\n          if (this._editor && this._editor._componentTransforms) {\n            var t = this._editor._componentTransforms[m._component._index];\n            if (t) {\n              m.position.copy(t.position);\n              m.quaternion.copy(t.quaternion);\n            }\n          }\n        }\n        gfxutils.applySelectionMaterial(sg);\n      }\n    }\n  }, {\n    key: \"_buildSelectorFromSortedLists\",\n    value: function _buildSelectorFromSortedLists(atoms, residues, chains) {\n      var complex = this._complex;\n      function optimizeList(list) {\n        var result = [];\n        var k = 0;\n        var first = NaN;\n        var last = NaN;\n        for (var i = 0, n = list.length; i < n; ++i) {\n          var value = list[i];\n          if (value === last + 1) {\n            last = value;\n          } else {\n            if (!Number.isNaN(first)) {\n              result[k++] = new selectors$1.Range(first, last);\n            }\n            first = last = value;\n          }\n        }\n        if (!Number.isNaN(first)) {\n          result[k] = new selectors$1.Range(first, last);\n        }\n        return result;\n      }\n      var expression = null;\n      if (chains.length === complex._chains.length) {\n        expression = selectors$1.all();\n      } else {\n        var selector;\n        if (chains.length > 0) {\n          selector = selectors$1.chain(chains);\n          expression = expression ? selectors$1.or(expression, selector) : selector;\n        }\n        if (Object.keys(residues).length > 0) {\n          for (var ch in residues) {\n            if (Object.hasOwn(residues, ch)) {\n              selector = selectors$1.and(selectors$1.chain(ch), selectors$1.residx(optimizeList(residues[ch])));\n              expression = expression ? selectors$1.or(expression, selector) : selector;\n            }\n          }\n        }\n        if (atoms.length > 0) {\n          selector = selectors$1.serial(optimizeList(atoms));\n          expression = expression ? selectors$1.or(expression, selector) : selector;\n        }\n        if (!expression) {\n          expression = selectors$1.none();\n        }\n      }\n      return expression;\n    }\n  }, {\n    key: \"buildSelectorFromMask\",\n    value: function buildSelectorFromMask(mask) {\n      var complex = this._complex;\n      var chains = [];\n      var residues = {};\n      var atoms = [];\n      complex.forEachChain(function (chain) {\n        if (chain._mask & mask) {\n          chains.push(chain._name);\n        }\n      });\n      complex.forEachResidue(function (residue) {\n        if (residue._mask & mask && !(residue._chain._mask & mask)) {\n          var c = residue._chain._name;\n          if (!(c in residues)) {\n            residues[c] = [residue._index];\n          } else {\n            residues[c].push(residue._index);\n          }\n        }\n      });\n      complex.forEachAtom(function (atom) {\n        if (atom.mask & mask && !(atom.residue._mask & mask)) {\n          atoms.push(atom.serial);\n        }\n      });\n      return this._buildSelectorFromSortedLists(atoms, residues, chains);\n    }\n  }, {\n    key: \"forSelectedResidues\",\n    value: function forSelectedResidues(process) {\n      var selectionMask = 1 << this._selectionBit;\n      this._complex.forEachResidue(function (residue) {\n        if (residue._mask & selectionMask) {\n          process(residue);\n        }\n      });\n    }\n  }, {\n    key: \"beginComponentEdit\",\n    value: function beginComponentEdit() {\n      if (this._editor) {\n        return null;\n      }\n      var editor = new ComplexVisualEdit.ComponentEditor(this);\n      if (!editor.begin()) {\n        return null;\n      }\n      this._editor = editor;\n      return editor;\n    }\n  }, {\n    key: \"beginFragmentEdit\",\n    value: function beginFragmentEdit() {\n      if (this._editor) {\n        return null;\n      }\n      var editor = new ComplexVisualEdit.FragmentEditor(this);\n      if (!editor.begin()) {\n        return null;\n      }\n      this._editor = editor;\n      return editor;\n    }\n  }, {\n    key: \"finalizeEdit\",\n    value: function finalizeEdit() {\n      this._editor = null;\n    }\n  }, {\n    key: \"setMaterialValues\",\n    value: function setMaterialValues(values) {\n      var needTraverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      for (var i = 0, n = this._reprList.length; i < n; ++i) {\n        var rep = this._reprList[i];\n        rep.material.setValues(values);\n        if (needTraverse) {\n          rep.geo.traverse(function (object) {\n            if (object instanceof Mesh) {\n              object.material.setValues(values);\n              if (process !== undefined) {\n                process(object);\n              }\n              object.material.needsUpdate = true;\n            }\n          });\n        }\n      }\n    }\n  }, {\n    key: \"setUberOptions\",\n    value: function setUberOptions(values) {\n      for (var i = 0, n = this._reprList.length; i < n; ++i) {\n        var rep = this._reprList[i];\n        rep.material.setUberOptions(values);\n      }\n    }\n  }, {\n    key: \"within\",\n    value: function within(selector, radius) {\n      var vw = this._complex.getVoxelWorld();\n      if (vw === null) {\n        return false;\n      }\n      var selectionMask = 1 << this._selectionBit;\n      this._complex.markAtoms(selector, selectionMask);\n      if (vw) {\n        vw.forEachAtomWithinDistFromMasked(this._complex, selectionMask, Number(radius), function (atom) {\n          atom.mask |= selectionMask;\n        });\n      }\n      this._selectionCount = this._complex.countAtomsByMask(selectionMask);\n      this._complex.updateStructuresMask();\n      return this.buildSelectorFromMask(selectionMask);\n    }\n  }]);\n  return ComplexVisual;\n}(Visual);\nComplexVisual.NUM_REPRESENTATION_BITS = 30;\n\nvar vertexVolumeFaces = \"varying vec3 pos;\\r\\n\\r\\nvoid main() {\\r\\n  // we're assuming local position is in [-0.5, 0.5]\\r\\n  // we need to offset it to be represented in RGB\\r\\n  pos = position.xyz + 0.5;\\r\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\r\\n}\";\n\nvar fragmentVolumeFaces = \"varying vec3 pos;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = vec4(pos, 0.5);\\r\\n}\";\n\nvar vertexVolume = \"varying vec4 screenSpacePos;\\r\\n\\r\\nvoid main() {\\r\\n  screenSpacePos = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\r\\n  gl_Position = screenSpacePos;\\r\\n}\";\n\nvar fragmentVolume = \"uniform mat4 projectionMatrix;\\r\\n\\r\\n// 3D volume texture\\r\\nuniform vec3 volumeDim;    // volume dimensions, pixels\\r\\nuniform sampler2D tileTex; // tiled texture containing all Z-slices of a 3D data\\r\\nuniform vec2 tileTexSize;  // size of tiled texture, pixels\\r\\nuniform vec2 tileStride;   // UV stride between slices in tile tex, pixels\\r\\n\\r\\nuniform vec3 boxAngles;//value of angles({x: alpha, y:beta, z:gamma}) types 1 - if angle is obtuse, 0 - if acute\\r\\nuniform vec3 delta; //Projection box delta's from non-orthogonal origin axes; {x: XY, y : XZ, z: YZ}\\r\\n\\r\\nuniform vec3 _isoLevel0;\\r\\nuniform float _flipV;\\r\\nuniform sampler2D _BFLeft;\\r\\nuniform sampler2D _BFRight;\\r\\nuniform sampler2D _FFLeft;\\r\\nuniform sampler2D _FFRight;\\r\\nuniform sampler2D _WFFLeft;\\r\\nuniform sampler2D _WFFRight;\\r\\n\\r\\nvarying vec4 screenSpacePos;\\r\\n\\r\\n#define NO_COLOR vec4(0., 0., 0., 0.)\\r\\n\\r\\nvec4 sample3DTexture(vec3 texCoord) {\\r\\n  // a pair of Z slices is determined by nearest slice border\\r\\n  float zSliceBorder = floor(texCoord.z * volumeDim.z + 0.5);\\r\\n  float zSliceNumber1 = max(zSliceBorder - 1.0, 0.0);\\r\\n  float zSliceNumber2 = min(zSliceBorder, volumeDim.z - 1.0);\\r\\n\\r\\n  float rowTiles = floor(tileTexSize.x / tileStride.x);\\r\\n\\r\\n  // calculate coords in tile texture for both slices\\r\\n  vec2 tileOffset = vec2(mod(zSliceNumber1, rowTiles), floor(zSliceNumber1 / rowTiles));\\r\\n  vec2 texCoordSlice1 = (texCoord.xy * volumeDim.xy + tileOffset * tileStride) / tileTexSize.xy;\\r\\n  tileOffset = vec2(mod(zSliceNumber2, rowTiles), floor(zSliceNumber2 / rowTiles));\\r\\n  vec2 texCoordSlice2 = (texCoord.xy * volumeDim.xy + tileOffset * tileStride) / tileTexSize.xy;\\r\\n\\r\\n  // bilinear filtering\\r\\n  vec4 colorSlice1 = texture2D(tileTex, texCoordSlice1);\\r\\n  vec4 colorSlice2 = texture2D(tileTex, texCoordSlice2);\\r\\n  float weightSlice2 = texCoord.z * volumeDim.z - (zSliceNumber1 + 0.5);\\r\\n  return mix(colorSlice1, colorSlice2, weightSlice2);\\r\\n}\\r\\n\\r\\nvec4 sample3DTextureInclined(vec3 boxCoord) { // delta:{ x: XY, y : XZ, z: YZ }\\r\\n  vec3 textCoord = boxCoord;\\r\\n  vec2 currDelta = mix(boxCoord.zz, vec2(1., 1.) - boxCoord.zz, boxAngles.yx) * delta.yz;\\r\\n\\r\\n  textCoord.y = (boxCoord.y  - currDelta.y) / (1. - delta.z);\\r\\n  if (textCoord.y < 0.0 || textCoord.y > 1.0)\\r\\n    return NO_COLOR;\\r\\n\\r\\n  currDelta.x += mix(textCoord.y, 1.0 - textCoord.y, boxAngles.z) * delta.x;\\r\\n\\r\\n  textCoord.x = (boxCoord.x - currDelta.x) / (1. - delta.x - delta.y);\\r\\n  if (textCoord.x < 0.0 || textCoord.x > 1.0)\\r\\n    return NO_COLOR;\\r\\n\\r\\n  return sample3DTexture(textCoord);\\r\\n}\\r\\n\\r\\nfloat CalcColor(vec3 iter, vec3 dir) {\\r\\n  float d = 1. / 128.;\\r\\n  vec3 dx = vec3(d, 0.0, 0.0);\\r\\n  vec3 dy = vec3(0.0, d, 0.0);\\r\\n  vec3 dz = vec3(0.0, 0.0, d);\\r\\n\\r\\n  // #Opt: coordInc.x:(iter + dx).x > 1. ? 0.: sample3DTextureInclined(iter + dx).x,\\r\\n  vec3 coordInc = mix(\\r\\n    vec3(\\r\\n      sample3DTextureInclined(iter + dx).x,\\r\\n      sample3DTextureInclined(iter + dy).x,\\r\\n      sample3DTextureInclined(iter + dz).x\\r\\n    ),\\r\\n    vec3(0. ,0. , 0.),\\r\\n    vec3(floor((iter + dx).x), floor((iter + dy).y), floor((iter + dz).z))\\r\\n  );\\r\\n\\r\\n  // #Opt: coordDec.x:(iter - dx).x < 0. ? 0.: sample3DTextureInclined(iter - dx).x,\\r\\n  vec3 coordDec = mix(\\r\\n    vec3(0. ,0. , 0.),\\r\\n    vec3(\\r\\n      sample3DTextureInclined(iter - dx).x,\\r\\n      sample3DTextureInclined(iter - dy).x,\\r\\n      sample3DTextureInclined(iter - dz).x\\r\\n    ),\\r\\n    vec3(ceil((iter - dx).x), ceil((iter - dy).y), ceil((iter - dz).z))\\r\\n  );\\r\\n\\r\\n  vec3 N = normalize(coordInc - coordDec);\\r\\n  float dif = max(0.0, dot(N, dir));\\r\\n  return dif;\\r\\n}\\r\\n\\r\\nvec3 AccuracyIso(vec3 left, vec3 right, float volLeft, float threshold) {\\r\\n  for (int i = 0; i < 5; i++) {\\r\\n    vec3 iterator = 0.5 * (left + right);\\r\\n    float vol = sample3DTextureInclined(iterator).r;\\r\\n    if ((volLeft - threshold) * (vol - threshold) < 0.)\\r\\n      right = iterator;\\r\\n    else\\r\\n      left = iterator;\\r\\n  }\\r\\n  return 0.5 * (left + right);\\r\\n}\\r\\n\\r\\nvec3 CorrectIso(vec3 left, vec3 right, float tr) {\\r\\n  for (int j = 0; j < 5; j++) {\\r\\n    vec3 iterator = 0.5 * (left + right);\\r\\n    float vol = sample3DTextureInclined(iterator).r;\\r\\n    if (vol < tr)\\r\\n      right = iterator;\\r\\n    else\\r\\n      left = iterator;\\r\\n  }\\r\\n  return 0.5 * (left + right);\\r\\n}\\r\\n\\r\\nvec4 GetIso1(vec3 start, vec3 back, float molDist, vec3 dir, float tr, int count) {\\r\\n  float vol, stepSize = (float(count) + 2.) / float(STEPS_COUNT);\\r\\n  vec3 step = stepSize * dir, iterator = start, left, right;\\r\\n  vec4 acc = NO_COLOR;\\r\\n\\r\\n  for (int i = 0; i < STEPS_COUNT; i++) {\\r\\n    iterator = iterator + step;\\r\\n    vol = sample3DTextureInclined(iterator).r;\\r\\n    if (length(iterator - back) <= stepSize || (vol > tr))\\r\\n      break;\\r\\n  }\\r\\n\\r\\n  if (vol > tr)\\r\\n    acc = vec4(CorrectIso(iterator, iterator - step, tr).xyz, 1.);\\r\\n\\r\\n  return acc;\\r\\n}\\r\\n\\r\\nfloat easeOut(float x0, float x1, float x) {\\r\\n  float t = clamp((x - x0) / (x1 - x0), 0.0, 1.0);\\r\\n  return 1.0 - (1.0 - t) * (1.0 - t);\\r\\n}\\r\\n\\r\\nfloat easeIn(float x0, float x1, float x) {\\r\\n  float t = clamp((x - x0) / (x1 - x0), 0.0, 1.0);\\r\\n  return t * t;\\r\\n}\\r\\n\\r\\nvec3 GetColSimple(float vol) {\\r\\n  float t = easeOut(_isoLevel0.x, _isoLevel0.y, vol);\\r\\n  float s = easeIn(_isoLevel0.y, _isoLevel0.z, vol);\\r\\n  return vec3(0.5, 0.6, 0.7) * (1.0 - t) + 2.0 * vec3(s, 0, 0);\\r\\n}\\r\\n\\r\\nvec4 VolRender(vec3 start, vec3 back, float molDist, vec3 dir) {\\r\\n  vec4 acc = NO_COLOR, iso;\\r\\n  vec3 iterator = start, sumColor = vec3(0., 0., 0.);\\r\\n  float stepSize, alpha, sumAlpha = 0.0, vol, curStepSize, molD;\\r\\n  vec3 step, col, colOld, right;\\r\\n  float tr0 = _isoLevel0.x;\\r\\n  float dif, r, kd, finish;\\r\\n  int count = 0, stopMol = 0;\\r\\n\\r\\n  for (int k = 0; k < 3; k++) {\\r\\n    stepSize = (float(k) + 2.) / float(STEPS_COUNT);\\r\\n    kd = 140. * tr0 * stepSize;\\r\\n    r = 1. - kd;\\r\\n    step = stepSize * dir;\\r\\n    iso = GetIso1(iterator, back, molDist, dir, tr0, k);\\r\\n    if (iso.a < 0.1 || length(iso.xyz - start) > molDist)\\r\\n      break;\\r\\n    iterator = iso.xyz;\\r\\n    dif = 1.;// CalcColor(iterator, dir);\\r\\n    colOld = GetColSimple(tr0);\\r\\n    curStepSize = stepSize;\\r\\n    for (int i = 0; i < STEPS_COUNT; i++) {\\r\\n      iterator = iterator + step;\\r\\n      molD = length(iterator - start);\\r\\n      vol = sample3DTextureInclined(iterator).r;\\r\\n      finish = distance(iterator, back) - stepSize;\\r\\n      if (finish < 0.0 || vol < tr0 || (sumAlpha > 0.97) || molD > molDist)\\r\\n        break;\\r\\n      alpha = (1. - r);\\r\\n      col = GetColSimple(vol);\\r\\n      vol = sample3DTextureInclined(iterator - 0.5 * step).r;\\r\\n      vec3 colMid = GetColSimple(vol);\\r\\n      sumColor += (1. - sumAlpha) * (colOld + 4.* colMid + col) * alpha / 6.;\\r\\n      sumAlpha += (1. - sumAlpha) * alpha;// *(1. - 1.0*dif*dif);\\r\\n      colOld = col;\\r\\n    } // for i\\r\\n\\r\\n    if (finish < 0.0 || sumAlpha > 0.97)\\r\\n      break;\\r\\n\\r\\n    if (molD > molDist) {\\r\\n      curStepSize = stepSize - (molD - molDist);\\r\\n      right = iterator - (molD - molDist) * dir;\\r\\n      vol = sample3DTextureInclined(right).r;\\r\\n    } else {\\r\\n      vec3 left = iterator - step;\\r\\n      right = CorrectIso(left, iterator, tr0);\\r\\n      curStepSize = distance(left, right);\\r\\n      vol = tr0;\\r\\n    }\\r\\n\\r\\n    alpha = (1. - r) * curStepSize / stepSize;\\r\\n    dif = 1.;// CalcColor(right, dir);\\r\\n    col = GetColSimple(vol);\\r\\n    vol = sample3DTextureInclined(iterator - 0.5 * curStepSize / stepSize * step).r;\\r\\n    vec3 colMid = GetColSimple(vol);\\r\\n    sumColor += (1. - sumAlpha) * (colOld + 4. * colMid + col) * alpha / 6.;\\r\\n    sumAlpha += (1. - sumAlpha) * alpha;// *(1. - 1.0*dif*dif);\\r\\n\\r\\n    if (molD > molDist)\\r\\n      break;\\r\\n  } // for k\\r\\n  acc.rgb = 1. * sumColor / sumAlpha;\\r\\n  acc.a = sumAlpha;\\r\\n  return acc;\\r\\n}\\r\\n\\r\\nvec4 VolRender1(vec3 start, vec3 back, float molDist, vec3 dir) {\\r\\n  float stepSize = 1.0 / float(STEPS_COUNT);\\r\\n  float len = length(back - start);\\r\\n  vec3 step = stepSize * dir;\\r\\n  vec3 iterator = start;\\r\\n  float acc = 0.0;\\r\\n\\r\\n  for (int i = 0; i < STEPS_COUNT; i++) {\\r\\n    if (float(i) * stepSize > len)\\r\\n      break;\\r\\n    iterator = iterator + step;\\r\\n    if (sample3DTextureInclined(iterator).r > _isoLevel0.x)\\r\\n      acc += 10. * sample3DTextureInclined(iterator).r / float(STEPS_COUNT);\\r\\n  }\\r\\n\\r\\n  return vec4(1.,1.,1., acc);\\r\\n}\\r\\n\\r\\nvec4 IsoRender(vec3 start, vec3 back, float molDist, vec3 dir) {\\r\\n  vec4 tst = GetIso1(start, back, 2., dir, _isoLevel0.x, 0);\\r\\n  vec4 col = NO_COLOR;\\r\\n\\r\\n  if (length(tst.xyz - start) < molDist && tst.a > 0.1) {\\r\\n    float dif =  CalcColor(tst.xyz, dir);\\r\\n    dif = 0.9 * dif * dif;\\r\\n    col = vec4(dif, dif, dif, 1);\\r\\n  }\\r\\n  return col;\\r\\n}\\r\\n\\r\\nvec4 VolRender2(vec3 start, vec3 back, float molDist, vec3 dir) {\\r\\n  return sample3DTexture(start);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n  vec3 tc = screenSpacePos.xyz / screenSpacePos.w * 0.5 + 0.5;\\r\\n\\r\\n  if (_flipV > 0.0) {\\r\\n    tc.y = 1.0 - tc.y;\\r\\n  }\\r\\n\\r\\n  vec3 start;\\r\\n  vec3 back;\\r\\n  vec3 molBack;\\r\\n  if (projectionMatrix[0][2] < 0.0) {\\r\\n    start = texture2D(_FFLeft, tc.xy).xyz;\\r\\n    back = texture2D(_BFLeft, tc.xy).xyz;\\r\\n    molBack = texture2D(_WFFLeft, tc.xy).xyz;\\r\\n  } else {\\r\\n    start = texture2D(_FFRight, tc.xy).xyz;\\r\\n    back = texture2D(_BFRight, tc.xy).xyz;\\r\\n    molBack = texture2D(_WFFRight, tc.xy).xyz;\\r\\n  }\\r\\n\\r\\n  vec3 dir = normalize(back - start);\\r\\n\\r\\n  float molDist = 2.0;\\r\\n  if (length(molBack) > 0.001) {\\r\\n    molDist = distance(start, molBack);\\r\\n  }\\r\\n\\r\\n  #ifdef ISO_MODE\\r\\n    gl_FragColor = IsoRender(start, back, molDist, dir);\\r\\n  #else\\r\\n    gl_FragColor = VolRender(start, back, molDist, dir);\\r\\n  #endif\\r\\n}\\r\\n\";\n\nvar vertexFarPlane = \"varying vec4 volPos;\\r\\nuniform float aspectRatio;\\r\\nuniform float farZ;\\r\\nuniform float tanHalfFOV;\\r\\nuniform mat4  matWorld2Volume;\\r\\n\\r\\nvoid main() {\\r\\n  // rescale plane to fill in the whole far plane area seen from camera\\r\\n  vec3 pos = position.xyz;\\r\\n  pos.x = pos.x * tanHalfFOV * farZ * aspectRatio;\\r\\n  pos.y = pos.y * tanHalfFOV * farZ;\\r\\n  // common transformation\\r\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\\r\\n  // calc pos in volume CS\\r\\n  volPos = matWorld2Volume * modelMatrix * vec4(pos, 1.0);\\r\\n  // we're assuming local position is in [-0.5, 0.5]\\r\\n  // we need to offset it to be represented in RGB\\r\\n  volPos = volPos + 0.5;\\r\\n  volPos.w = 0.5;\\r\\n}\\r\\n\";\n\nvar fragmentFarPlane = \"varying vec4 volPos;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = volPos;\\r\\n}\";\n\nfunction _createSuper$y(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$y(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$y() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar volumeUniforms = UniformsUtils.merge([{\n  volumeDim: {\n    type: 'v3',\n    value: new Vector3(512, 512, 512)\n  },\n  tileTex: {\n    type: 't',\n    value: null\n  },\n  tileTexSize: {\n    type: 'v2',\n    value: new Vector2(512, 512)\n  },\n  tileStride: {\n    type: 'v2',\n    value: new Vector2(512, 512)\n  },\n  boxAngles: {\n    type: 'v3',\n    value: new Vector3(1, 1, 1)\n  },\n  delta: {\n    type: 'v3',\n    value: new Vector3(0, 0, 0)\n  },\n  _isoLevel0: {\n    type: 'v2',\n    value: new Vector3(0.5, 0.75, 1.0)\n  },\n  _flipV: {\n    type: 'f',\n    value: 0.0\n  },\n  _BFLeft: {\n    type: 't',\n    value: null\n  },\n  _BFRight: {\n    type: 't',\n    value: null\n  },\n  _FFLeft: {\n    type: 't',\n    value: null\n  },\n  _FFRight: {\n    type: 't',\n    value: null\n  },\n  _WFFLeft: {\n    type: 't',\n    value: null\n  },\n  _WFFRight: {\n    type: 't',\n    value: null\n  }\n}]);\nfunction overrideUniforms(params, defUniforms) {\n  var uniforms = UniformsUtils.clone(defUniforms);\n  for (var p in params) {\n    if (Object.hasOwn(uniforms, p)) {\n      uniforms[p].value = params[p];\n    }\n  }\n  return uniforms;\n}\nfunction facesPosMaterialParams(params, sideType) {\n  return {\n    uniforms: overrideUniforms(params, {}),\n    vertexShader: vertexVolumeFaces,\n    fragmentShader: fragmentVolumeFaces,\n    transparent: false,\n    depthTest: false,\n    depthWrite: false,\n    side: sideType\n  };\n}\nvar BackFacePosMaterial = function (_ShaderMaterial) {\n  _inherits(BackFacePosMaterial, _ShaderMaterial);\n  var _super = _createSuper$y(BackFacePosMaterial);\n  function BackFacePosMaterial(params) {\n    _classCallCheck(this, BackFacePosMaterial);\n    var backFaceParams = facesPosMaterialParams(params, BackSide);\n    return _super.call(this, backFaceParams);\n  }\n  return _createClass(BackFacePosMaterial);\n}(ShaderMaterial);\nvar ShaderParams = _createClass(function ShaderParams(params, uniforms, vertexShader, fragmentShader) {\n  _classCallCheck(this, ShaderParams);\n  this.uniforms = overrideUniforms(params, uniforms);\n  this.vertexShader = vertexShader;\n  this.fragmentShader = fragmentShader;\n  this.transparent = false;\n  this.depthTest = false;\n  this.depthWrite = false;\n  this.side = FrontSide;\n});\nvar BackFacePosMaterialFarPlane = function (_ShaderMaterial2) {\n  _inherits(BackFacePosMaterialFarPlane, _ShaderMaterial2);\n  var _super2 = _createSuper$y(BackFacePosMaterialFarPlane);\n  function BackFacePosMaterialFarPlane(params) {\n    _classCallCheck(this, BackFacePosMaterialFarPlane);\n    var matUniforms = UniformsUtils.merge([{\n      aspectRatio: {\n        type: 'f',\n        value: 0.0\n      },\n      farZ: {\n        type: 'f',\n        value: 0.0\n      },\n      tanHalfFOV: {\n        type: 'f',\n        value: 0.0\n      },\n      matWorld2Volume: {\n        type: '4fv',\n        value: new Matrix4()\n      }\n    }]);\n    var shaderParams = new ShaderParams(params, matUniforms, vertexFarPlane, fragmentFarPlane);\n    return _super2.call(this, shaderParams);\n  }\n  return _createClass(BackFacePosMaterialFarPlane);\n}(ShaderMaterial);\nvar FrontFacePosMaterial = function (_ShaderMaterial3) {\n  _inherits(FrontFacePosMaterial, _ShaderMaterial3);\n  var _super3 = _createSuper$y(FrontFacePosMaterial);\n  function FrontFacePosMaterial(params) {\n    _classCallCheck(this, FrontFacePosMaterial);\n    var frontFaceParams = facesPosMaterialParams(params, FrontSide);\n    return _super3.call(this, frontFaceParams);\n  }\n  return _createClass(FrontFacePosMaterial);\n}(ShaderMaterial);\nvar VolumeMaterial = function (_ShaderMaterial4) {\n  _inherits(VolumeMaterial, _ShaderMaterial4);\n  var _super4 = _createSuper$y(VolumeMaterial);\n  function VolumeMaterial(params) {\n    var _this;\n    _classCallCheck(this, VolumeMaterial);\n    var shaderParams = new ShaderParams(params, volumeUniforms, vertexVolume, fragmentVolume);\n    shaderParams.transparent = true;\n    shaderParams.depthTest = true;\n    _this = _super4.call(this, shaderParams);\n    _this.updateDefines();\n    return _this;\n  }\n  _createClass(VolumeMaterial, [{\n    key: \"updateDefines\",\n    value: function updateDefines() {\n      this.defines = {\n        ISO_MODE: settings.now.modes.VD.isoMode,\n        STEPS_COUNT: settings.now.modes.VD.polyComplexity[settings.now.resolution] * 100\n      };\n      this.needsUpdate = true;\n    }\n  }]);\n  return VolumeMaterial;\n}(ShaderMaterial);\nvar VolumeMaterial$1 = {\n  BackFacePosMaterial: BackFacePosMaterial,\n  BackFacePosMaterialFarPlane: BackFacePosMaterialFarPlane,\n  FrontFacePosMaterial: FrontFacePosMaterial,\n  VolumeMaterial: VolumeMaterial\n};\n\nfunction _createSuper$x(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$x(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$x() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VolumeMesh = function (_Mesh) {\n  _inherits(VolumeMesh, _Mesh);\n  var _super = _createSuper$x(VolumeMesh);\n  function VolumeMesh() {\n    var _this;\n    _classCallCheck(this, VolumeMesh);\n    var geo = new BufferGeometry();\n    _this = _super.call(this, geo);\n    _defineProperty(_assertThisInitialized(_this), \"volumeInfo\", {});\n    _this.clipPlane = new Plane();\n    var size = new Vector3(0.5, 0.5, 0.5);\n    _this.size = size;\n    _this.cullFlag = [true, true, true, true, true, true, true, true, false, false, false, false, false, false];\n    _this.faces = [{\n      indices: [],\n      norm: new Vector3(0, 0, -1)\n    }, {\n      indices: [],\n      norm: new Vector3(0, 0, 1)\n    }, {\n      indices: [],\n      norm: new Vector3(0, -1, 0)\n    }, {\n      indices: [],\n      norm: new Vector3(0, 1, 0)\n    }, {\n      indices: [],\n      norm: new Vector3(-1, 0, 0)\n    }, {\n      indices: [],\n      norm: new Vector3(1, 0, 0)\n    }, {\n      indices: [],\n      norm: new Vector3(0, 0, 0)\n    }];\n    _this.vertices = [new Vector3(-size.x, -size.y, -size.z), new Vector3(-size.x, size.y, -size.z), new Vector3(size.x, -size.y, -size.z), new Vector3(size.x, size.y, -size.z), new Vector3(-size.x, -size.y, size.z), new Vector3(-size.x, size.y, size.z), new Vector3(size.x, -size.y, size.z), new Vector3(size.x, size.y, size.z), new Vector3(0.0, 0.0, 0.0),\n    new Vector3(0.0, 0.0, 0.0), new Vector3(0.0, 0.0, 0.0), new Vector3(0.0, 0.0, 0.0), new Vector3(0.0, 0.0, 0.0), new Vector3(0.0, 0.0, 0.0)];\n    geo.setAttribute('position', new BufferAttribute(new Float32Array(_this.vertices.length * 3), 3));\n    _this.name = 'VolumeMesh';\n    return _this;\n  }\n  _createClass(VolumeMesh, [{\n    key: \"_updateVertices\",\n    value: function _updateVertices() {\n      var corners = VolumeMesh._corners;\n      var edges = VolumeMesh._edges;\n      var edgeIntersections = VolumeMesh._edgeIntersections;\n      var i;\n      var norm = this.clipPlane.normal;\n      var D = this.clipPlane.constant;\n      var vert = this.vertices;\n      var size = this.size;\n      var cornerMark = [0, 0, 0, 0, 0, 0, 0, 0];\n      var edgeMark = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1];\n      var curEdge = new Vector3();\n      var curEdgeInter = null;\n      function CheckX() {\n        if (norm.x === 0) return 0;\n        var x = -(norm.dot(curEdge) + D) / norm.x;\n        if (-size.x <= x && x <= size.x) {\n          curEdgeInter.set(x, curEdge.y, curEdge.z);\n          if (x === size.x) return 2;\n          if (x === -size.x) return -2;\n          return 1;\n        }\n        return 0;\n      }\n      function CheckY() {\n        if (norm.y === 0) return 0;\n        var y = -(norm.dot(curEdge) + D) / norm.y;\n        if (-size.y <= y && y <= size.y) {\n          curEdgeInter.set(curEdge.x, y, curEdge.z);\n          if (y === size.y) return 2;\n          if (y === -size.y) return -2;\n          return 1;\n        }\n        return 0;\n      }\n      function CheckZ() {\n        if (norm.z === 0) return 0;\n        var z = -(norm.dot(curEdge) + D) / norm.z;\n        if (-size.z <= z && z <= size.z) {\n          curEdgeInter.set(curEdge.x, curEdge.y, z);\n          if (z === size.z) return 2;\n          if (z === -size.z) return -2;\n          return 1;\n        }\n        return 0;\n      }\n      for (var curEdgeIdx = 0; curEdgeIdx < 12; ++curEdgeIdx) {\n        var curEdgeSource = edges[curEdgeIdx];\n        curEdgeInter = edgeIntersections[curEdgeIdx];\n        curEdge.set(curEdgeSource[2], curEdgeSource[3], curEdgeSource[4]);\n        curEdge.multiply(size);\n        var flag = 0;\n        if (curEdgeSource[2] === 0) flag = CheckX();\n        if (curEdgeSource[3] === 0) flag = CheckY();\n        if (curEdgeSource[4] === 0) flag = CheckZ();\n        if (flag === -2) {\n          cornerMark[curEdgeSource[0]] = 1;\n        } else if (flag === 2) {\n          cornerMark[curEdgeSource[1]] = 1;\n        } else if (flag === 0) {\n          edgeMark[curEdgeIdx] = 0;\n        }\n      }\n      var face = {\n        indices: [],\n        norm: norm.clone().negate()\n      };\n      var nextVertex = 8;\n      for (i = 0; i < 8; ++i) {\n        if (cornerMark[i] === 1) {\n          vert[nextVertex].set(corners[i][0], corners[i][1], corners[i][2]).multiply(size);\n          face.indices.push(nextVertex++);\n          edgeMark[corners[i][3]] = 0;\n          edgeMark[corners[i][4]] = 0;\n          edgeMark[corners[i][5]] = 0;\n        }\n      }\n      for (i = 0; i < 12; ++i) {\n        if (edgeMark[i] === 1) {\n          vert[nextVertex].copy(edgeIntersections[i]);\n          face.indices.push(nextVertex++);\n        }\n      }\n      this.faces[6] = face;\n      var diff = new Vector3();\n      var coplanarPoint = new Vector3();\n      this.clipPlane.coplanarPoint(coplanarPoint);\n      for (i = 0; i < vert.length; ++i) {\n        this.cullFlag[i] = false;\n        if (i < 8) {\n          diff.subVectors(vert[i], coplanarPoint);\n          this.cullFlag[i] = norm.dot(diff) >= 0.0;\n        } else if (i < 8 + face.indices.length) {\n          this.cullFlag[i] = true;\n        }\n      }\n      var positions = this.geometry.getAttribute('position');\n      var idx = 0;\n      for (i = 0; i < vert.length; ++i) {\n        positions.array[idx++] = vert[i].x;\n        positions.array[idx++] = vert[i].y;\n        positions.array[idx++] = vert[i].z;\n      }\n      positions.needsUpdate = true;\n    }\n  }, {\n    key: \"_collectVertices\",\n    value: function _collectVertices(face, filter) {\n      var i;\n      var vert = this.vertices;\n      face.indices = [];\n      for (i = 0; i < vert.length; ++i) {\n        if (this.cullFlag[i] && filter(vert[i])) {\n          face.indices.push(i);\n        }\n      }\n    }\n  }, {\n    key: \"_sortIndices\",\n    value: function _sortIndices(face, right) {\n      var i;\n      var j;\n      var vert = this.vertices;\n      var angle = [];\n      var dir = new Vector3();\n      for (i = 1; i < face.indices.length; ++i) {\n        dir.subVectors(vert[face.indices[i]], vert[face.indices[0]]);\n        dir.normalize();\n        dir.cross(right);\n        dir.negate();\n        angle[i] = face.norm.dot(dir);\n      }\n      for (i = 1; i < face.indices.length - 1; ++i) {\n        for (j = i + 1; j < face.indices.length; ++j) {\n          if (angle[j] < angle[i]) {\n            var t = angle[i];\n            angle[i] = angle[j];\n            angle[j] = t;\n            t = face.indices[i];\n            face.indices[i] = face.indices[j];\n            face.indices[j] = t;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_updateIndices\",\n    value: function _updateIndices() {\n      var i;\n      var faceIdx;\n      var face;\n      var vert = this.vertices;\n      var size = this.size;\n      this._collectVertices(this.faces[0], function (vertex) {\n        return vertex.z === -size.z;\n      });\n      this._collectVertices(this.faces[1], function (vertex) {\n        return vertex.z === size.z;\n      });\n      this._collectVertices(this.faces[2], function (vertex) {\n        return vertex.y === -size.y;\n      });\n      this._collectVertices(this.faces[3], function (vertex) {\n        return vertex.y === size.y;\n      });\n      this._collectVertices(this.faces[4], function (vertex) {\n        return vertex.x === -size.x;\n      });\n      this._collectVertices(this.faces[5], function (vertex) {\n        return vertex.x === size.x;\n      });\n      var vCenter = new Vector3();\n      var vRight = new Vector3();\n      var vDir = new Vector3();\n      for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n        face = this.faces[faceIdx];\n        if (face.indices.length === 0) continue;\n        vCenter.set(0, 0, 0);\n        for (i = 0; i < face.indices.length; ++i) {\n          vCenter.add(vert[face.indices[i]]);\n        }\n        vCenter.multiplyScalar(1.0 / face.indices.length);\n        vRight.subVectors(vert[face.indices[0]], vCenter);\n        vRight.normalize();\n        var rightProj = [];\n        for (i = 0; i < face.indices.length; ++i) {\n          vDir.subVectors(vert[face.indices[i]], vCenter);\n          rightProj[i] = vDir.dot(vRight);\n        }\n        for (i = 1; i < face.indices.length; ++i) {\n          if (rightProj[i] < rightProj[0]) {\n            var t = rightProj[0];\n            rightProj[0] = rightProj[i];\n            rightProj[i] = t;\n            var _face$indices = _slicedToArray(face.indices, 1);\n            t = _face$indices[0];\n            face.indices[0] = face.indices[i];\n            face.indices[i] = t;\n          }\n        }\n        this._sortIndices(face, vRight);\n      }\n      var numIndices = 0;\n      for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n        face = this.faces[faceIdx];\n        if (face.indices.length >= 3) {\n          numIndices += 3 * (face.indices.length - 2);\n        }\n      }\n      var offset = 0;\n      var indices = new Uint16Array(numIndices);\n      for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n        face = this.faces[faceIdx];\n        for (i = 0; i < face.indices.length - 2; ++i) {\n          indices[offset] = face.indices[0];\n          indices[offset + 1] = face.indices[i + 1];\n          indices[offset + 2] = face.indices[i + 2];\n          offset += 3;\n        }\n      }\n      this.geometry.setIndex(new BufferAttribute(indices, 1));\n    }\n  }, {\n    key: \"setDataSource\",\n    value: function setDataSource(dataSource) {\n      var vm = new VolumeMaterial$1.VolumeMaterial();\n      var dim = dataSource.getDimensions();\n      var stride = dataSource.getTiledTextureStride();\n      var texture = dataSource.buildTiledTexture();\n      var bbox = dataSource.getBox();\n      vm.uniforms.volumeDim.value.set(dim[0], dim[1], dim[2]);\n      vm.uniforms.tileTex.value = texture;\n      vm.uniforms.tileTexSize.value.set(texture.image.width, texture.image.height);\n      vm.uniforms.tileStride.value.set(stride[0], stride[1]);\n      Object.assign(this.volumeInfo, dataSource.getVolumeInfo());\n      var volInfo = this.volumeInfo;\n      vm.uniforms.delta.value.copy(volInfo.delta);\n      vm.uniforms.boxAngles.value.set(volInfo.obtuseAngle[0], volInfo.obtuseAngle[1], volInfo.obtuseAngle[2]);\n      this.material = vm;\n      bbox.getSize(this.scale);\n      bbox.getCenter(this.position);\n    }\n  }, {\n    key: \"_updateIsoLevel\",\n    value: function _updateIsoLevel() {\n      var _settings$now$modes$V = settings.now.modes.VD,\n          kSigma = _settings$now$modes$V.kSigma,\n          kSigmaMed = _settings$now$modes$V.kSigmaMed,\n          kSigmaMax = _settings$now$modes$V.kSigmaMax;\n      var volInfo = this.volumeInfo;\n      var mean = volInfo.dmean - volInfo.dmin;\n      var span = volInfo.dmax - volInfo.dmin;\n      var level = function level(k) {\n        return (mean + k * volInfo.sd) / span;\n      };\n      this.material.uniforms._isoLevel0.value.set(level(kSigma), level(kSigmaMed), level(kSigmaMax));\n    }\n  }, {\n    key: \"rebuild\",\n    value: function rebuild(camera) {\n      var nearClipPlaneOffset = VolumeMesh._nearClipPlaneOffset;\n      var pos = VolumeMesh._pos;\n      var norm = VolumeMesh._norm;\n      var norm4D = VolumeMesh._norm4D;\n      var matrixWorldToLocal = VolumeMesh._matrixWorldToLocal;\n      var clipPlane = VolumeMesh._clipPlane;\n      this._updateIsoLevel();\n      camera.getWorldDirection(norm);\n      camera.getWorldPosition(pos);\n      pos.addScaledVector(norm, camera.near + nearClipPlaneOffset);\n      matrixWorldToLocal.copy(this.matrixWorld).invert();\n      pos.applyMatrix4(matrixWorldToLocal);\n      norm4D.set(norm.x, norm.y, norm.z, 0.0);\n      norm4D.applyMatrix4(matrixWorldToLocal);\n      norm.copy(norm4D);\n      norm.normalize();\n      clipPlane.setFromNormalAndCoplanarPoint(norm, pos);\n      if (!this.clipPlane.equals(clipPlane)) {\n        this.clipPlane = clipPlane.clone();\n        this._updateVertices();\n        this._updateIndices();\n      }\n    }\n  }]);\n  return VolumeMesh;\n}(Mesh);\n_defineProperty(VolumeMesh, \"_corners\", [\n[-1, -1, -1, 0, 4, 8], [1, -1, -1, 0, 5, 9], [1, 1, -1, 1, 5, 10], [-1, 1, -1, 1, 4, 11], [-1, -1, 1, 2, 6, 8], [1, -1, 1, 2, 7, 9], [1, 1, 1, 3, 7, 10], [-1, 1, 1, 3, 6, 11]]);\n_defineProperty(VolumeMesh, \"_edges\", [\n[0, 1, 0, -1, -1], [2, 3, 0, 1, -1], [4, 5, 0, -1, 1], [6, 7, 0, 1, 1], [0, 3, -1, 0, -1], [1, 2, 1, 0, -1], [4, 7, -1, 0, 1], [5, 6, 1, 0, 1], [0, 4, -1, -1, 0], [1, 5, 1, -1, 0], [2, 6, -1, 1, 0], [3, 7, 1, 1, 0]]);\n_defineProperty(VolumeMesh, \"_edgeIntersections\", function () {\n  var edgeIntersections = [];\n  for (var j = 0; j < 12; ++j) {\n    edgeIntersections.push(new Vector3());\n  }\n  return edgeIntersections;\n}());\n_defineProperty(VolumeMesh, \"_nearClipPlaneOffset\", 0.2);\n_defineProperty(VolumeMesh, \"_pos\", new Vector3());\n_defineProperty(VolumeMesh, \"_norm\", new Vector3());\n_defineProperty(VolumeMesh, \"_norm4D\", new Vector4());\n_defineProperty(VolumeMesh, \"_matrixWorldToLocal\", new Matrix4());\n_defineProperty(VolumeMesh, \"_clipPlane\", new Plane());\n\nfunction _flattenArray(input) {\n  var n = input.length;\n  var output = new Float32Array(n * 3);\n  for (var i = 0; i < n; ++i) {\n    var j = 3 * i;\n    var v = input[i];\n    output[j] = v.x;\n    output[j + 1] = v.y;\n    output[j + 2] = v.z;\n  }\n  return output;\n}\nvar VolumeBounds = function () {\n  function VolumeBounds(bBox, volInfo) {\n    _classCallCheck(this, VolumeBounds);\n    var delta = volInfo.delta;\n    var obtuseAngle = volInfo.obtuseAngle;\n    var bSize = new Vector3();\n    bBox.getSize(bSize);\n    bSize.multiplyScalar(0.5);\n    var offsetVert = this._getBaseVertices(delta, obtuseAngle);\n    var geometry = new BufferGeometry();\n    var vertices = [];\n    for (var i = 0; i < 4; i++) {\n      vertices.push(offsetVert[i].clone().multiply(bSize));\n      vertices.push(offsetVert[(i + 1) % 4].clone().multiply(bSize));\n    }\n    var translation = new Vector3(2 * bSize.x * (1 - delta.x - delta.y), 0, 0);\n    for (var _i = 0; _i < 8; _i++) {\n      vertices.push(vertices[_i].clone().add(translation));\n    }\n    for (var _i2 = 0; _i2 < 4; _i2++) {\n      vertices.push(vertices[_i2 * 2].clone());\n      vertices.push(vertices[_i2 * 2 + 8].clone());\n    }\n    var center = new Vector3();\n    bBox.getCenter(center);\n    vertices.forEach(function (vertex) {\n      return vertex.add(center);\n    });\n    var flatVertices = _flattenArray(vertices);\n    geometry.setAttribute('position', new BufferAttribute(flatVertices, 3));\n    this._lines = new LineSegments(geometry, new LineBasicMaterial({\n      color: 0xffffff\n    }));\n    this._lines.layers.set(gfxutils.LAYERS.VOLUME);\n  }\n  _createClass(VolumeBounds, [{\n    key: \"_getBaseVertices\",\n    value: function _getBaseVertices(delta, obtuseAngle) {\n      var projTable = VolumeBounds._projectionTable;\n      var proj = function proj(index, inv) {\n        var currDelta = delta[projTable[index][0]];\n        var angleValue = -0.5 * (inv - 1) + inv * obtuseAngle[projTable[index][1]];\n        return angleValue * currDelta;\n      };\n      var offsetVert = [new Vector3(-1 + 2 * (proj('XZ', 1) + proj('XY', 1)), -1 + 2 * proj('YZ', 1), -1), new Vector3(-1 + 2 * (proj('XZ', -1) + proj('XY', 1)), -1 + 2 * proj('YZ', -1), 1), new Vector3(-1 + 2 * (proj('XZ', -1) + proj('XY', -1)), 1 - 2 * proj('YZ', 1), 1), new Vector3(-1 + 2 * (proj('XZ', 1) + proj('XY', -1)), 1 - 2 * proj('YZ', -1), -1)];\n      return offsetVert;\n    }\n  }, {\n    key: \"getMesh\",\n    value: function getMesh() {\n      return this._lines;\n    }\n  }]);\n  return VolumeBounds;\n}();\n_defineProperty(VolumeBounds, \"_projectionTable\", {\n  XY: ['x', 2],\n  XZ: ['y', 1],\n  YZ: ['z', 0]\n});\n\nvar VolumeFarPlane = function () {\n  function VolumeFarPlane(volume, width, height) {\n    _classCallCheck(this, VolumeFarPlane);\n    var planeGeo = this._initPlaneGeo(width, height);\n    var mat = new VolumeMaterial$1.BackFacePosMaterialFarPlane();\n    this._plane = new meshes.Mesh(planeGeo, mat);\n    this._plane.frustumCulled = false;\n    this._plane.doubleSided = true;\n    var matWorldToVolume = new Matrix4();\n    this._plane._onBeforeRender = function (_renderer, _scene, camera, _geometry, _material, _group) {\n      var material = this.material;\n      if (!volume || !material) {\n        return;\n      }\n      var planeCamPos = new Vector4(0, 0, -(camera.far - 0.1), 1);\n      planeCamPos.applyMatrix4(camera.matrixWorld);\n      this.matrix.identity();\n      this.matrix.makeTranslation(planeCamPos.x, planeCamPos.y, planeCamPos.z);\n      this.matrixWorld.copy(this.matrix);\n      this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n      this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\n      var volumeMatrix = volume.matrixWorld;\n      matWorldToVolume.copy(volumeMatrix).invert();\n      material.uniforms.aspectRatio.value = camera.aspect;\n      material.uniforms.farZ.value = camera.far;\n      material.uniforms.tanHalfFOV.value = Math.tan(MathUtils.DEG2RAD * 0.5 * camera.fov);\n      material.uniforms.matWorld2Volume.value = matWorldToVolume;\n    };\n    this._plane.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE);\n  }\n  _createClass(VolumeFarPlane, [{\n    key: \"_initPlaneGeo\",\n    value: function _initPlaneGeo(width, height) {\n      var planeGeo = new BufferGeometry();\n      width = width || 1;\n      height = height || 1;\n      var vertices = new Float32Array([-0.5 * width, 0.5 * height, 0, 0.5 * width, 0.5 * height, 0, -0.5 * width, -0.5 * height, 0, 0.5 * width, -0.5 * height, 0]);\n      planeGeo.setAttribute('position', new BufferAttribute(vertices, 3));\n      planeGeo.setIndex([0, 2, 1, 2, 3, 1]);\n      return planeGeo;\n    }\n  }, {\n    key: \"getMesh\",\n    value: function getMesh() {\n      return this._plane;\n    }\n  }]);\n  return VolumeFarPlane;\n}();\n\nfunction _createSuper$w(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$w(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$w() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VolumeVisual = function (_Visual) {\n  _inherits(VolumeVisual, _Visual);\n  var _super = _createSuper$w(VolumeVisual);\n  function VolumeVisual(name, dataSource) {\n    var _this;\n    _classCallCheck(this, VolumeVisual);\n    _this = _super.call(this, name, dataSource);\n    _this._mesh = new VolumeMesh();\n    _this._mesh.setDataSource(dataSource);\n    _this.add(_this._mesh);\n    _this._frame = new VolumeBounds(_this.getBoundaries().boundingBox, _this._mesh.volumeInfo);\n    _this.add(_this._frame.getMesh());\n    _this.showFrame(settings.now.modes.VD.frame);\n    _this._farPlane = new VolumeFarPlane(_this._mesh, 2, 2);\n    _this.add(_this._farPlane.getMesh());\n    return _this;\n  }\n  _createClass(VolumeVisual, [{\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      var box = this._dataSource.getBox();\n      var sphere = new Sphere();\n      box.getBoundingSphere(sphere);\n      return {\n        boundingBox: box,\n        boundingSphere: sphere\n      };\n    }\n  }, {\n    key: \"getMesh\",\n    value: function getMesh() {\n      return this._mesh;\n    }\n  }, {\n    key: \"showFrame\",\n    value: function showFrame(needShow) {\n      this._frame.getMesh().material.visible = needShow;\n    }\n  }]);\n  return VolumeVisual;\n}(Visual);\n\nfunction _createSuper$v(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$v(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$v() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LoaderList = function (_EntityList) {\n  _inherits(LoaderList, _EntityList);\n  var _super = _createSuper$v(LoaderList);\n  function LoaderList() {\n    var someLoaders = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    _classCallCheck(this, LoaderList);\n    return _super.call(this, someLoaders, ['types']);\n  }\n  _createClass(LoaderList, [{\n    key: \"find\",\n    value: function find(specs) {\n      var list = [];\n      if (specs.type) {\n        list = this._dict.types[specs.type.toLowerCase()] || [];\n      } else if (specs.source) {\n        return this._list.filter(function (SomeLoader) {\n          return SomeLoader.canProbablyLoad && SomeLoader.canProbablyLoad(specs.source);\n        });\n      }\n      return _toConsumableArray(list);\n    }\n  }]);\n  return LoaderList;\n}(EntityList);\n\nfunction _createSuper$u(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$u(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$u() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Loader = function (_EventDispatcher) {\n  _inherits(Loader, _EventDispatcher);\n  var _super = _createSuper$u(Loader);\n  function Loader(source, options) {\n    var _this;\n    _classCallCheck(this, Loader);\n    _this = _super.call(this);\n    _this._source = source;\n    _this._options = options || {};\n    _this._abort = false;\n    _this._agent = null;\n    return _this;\n  }\n  _createClass(Loader, [{\n    key: \"load\",\n    value: function load() {\n      return Promise.reject(new Error('Loading from this source is not implemented'));\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._abort = true;\n      if (this._agent) {\n        this._agent.abort();\n      }\n    }\n  }], [{\n    key: \"extractName\",\n    value: function extractName(_source) {\n      return undefined;\n    }\n  }]);\n  return Loader;\n}(EventDispatcher);\nmakeContextDependent(Loader.prototype);\n\nfunction _createSuper$t(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$t(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$t() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FileLoader = function (_Loader) {\n  _inherits(FileLoader, _Loader);\n  var _super = _createSuper$t(FileLoader);\n  function FileLoader(source, options) {\n    var _this;\n    _classCallCheck(this, FileLoader);\n    _this = _super.call(this, source, options);\n    options = _this._options;\n    _this._binary = options.binary === true;\n    return _this;\n  }\n  _createClass(FileLoader, [{\n    key: \"load\",\n    value: function load() {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        if (_this2._abort) {\n          throw new Error('Loading aborted');\n        }\n        var blob = _this2._source;\n        var reader = _this2._agent = new FileReader();\n        reader.addEventListener('load', function () {\n          resolve(reader.result);\n        });\n        reader.addEventListener('error', function () {\n          reject(reader.error);\n        });\n        reader.addEventListener('abort', function () {\n          reject(new Error('Loading aborted'));\n        });\n        reader.addEventListener('progress', function (event) {\n          _this2.dispatchEvent(event);\n        });\n        if (_this2._binary) {\n          reader.readAsArrayBuffer(blob);\n        } else {\n          reader.readAsText(blob);\n        }\n      });\n    }\n  }], [{\n    key: \"canProbablyLoad\",\n    value: function canProbablyLoad(source) {\n      return File && source instanceof File || Blob && source instanceof Blob;\n    }\n  }, {\n    key: \"extractName\",\n    value: function extractName(source) {\n      return source && source.name;\n    }\n  }]);\n  return FileLoader;\n}(Loader);\nFileLoader.types = ['file', 'blob'];\n\nfunction _createSuper$s(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$s(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$s() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar urlStartRegexp = /^(https?|ftp):\\/\\//i;\nvar XHRLoader = function (_Loader) {\n  _inherits(XHRLoader, _Loader);\n  var _super = _createSuper$s(XHRLoader);\n  function XHRLoader(source, options) {\n    var _this;\n    _classCallCheck(this, XHRLoader);\n    _this = _super.call(this, source, options);\n    options = _this._options;\n    _this._binary = options.binary === true;\n    return _this;\n  }\n  _createClass(XHRLoader, [{\n    key: \"load\",\n    value: function load() {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        if (_this2._abort) {\n          throw new Error('Loading aborted');\n        }\n        var url = _this2._source;\n        var request = _this2._agent = new XMLHttpRequest();\n        request.addEventListener('load', function () {\n          if (request.status === 200) {\n            resolve(request.response);\n          } else {\n            reject(new Error(\"HTTP \".concat(request.status, \" while fetching \").concat(url)));\n          }\n        });\n        request.addEventListener('error', function () {\n          reject(new Error('HTTP request failed'));\n        });\n        request.addEventListener('abort', function () {\n          reject(new Error('Loading aborted'));\n        });\n        request.addEventListener('progress', function (event) {\n          _this2.dispatchEvent(event);\n        });\n        request.open('GET', url);\n        if (_this2._binary) {\n          request.responseType = 'arraybuffer';\n        } else {\n          request.responseType = 'text';\n        }\n        request.send();\n      });\n    }\n  }], [{\n    key: \"canProbablyLoad\",\n    value: function canProbablyLoad(source) {\n      return isString(source) && urlStartRegexp.test(source);\n    }\n  }, {\n    key: \"extractName\",\n    value: function extractName(source) {\n      if (source) {\n        var last = (source.indexOf('?') + 1 || source.lastIndexOf('#') + 1 || source.length + 1) - 1;\n        return source.slice(source.lastIndexOf('/', last) + 1, last);\n      }\n      return undefined;\n    }\n  }]);\n  return XHRLoader;\n}(Loader);\nXHRLoader.types = ['url'];\n\nfunction _createSuper$r(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$r(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$r() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ImmediateLoader = function (_Loader) {\n  _inherits(ImmediateLoader, _Loader);\n  var _super = _createSuper$r(ImmediateLoader);\n  function ImmediateLoader() {\n    _classCallCheck(this, ImmediateLoader);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ImmediateLoader, [{\n    key: \"load\",\n    value: function load() {\n      var _this = this;\n      return new Promise(function (resolve) {\n        if (_this._abort) {\n          throw new Error('Loading aborted');\n        }\n        resolve(_this._source);\n      });\n    }\n  }], [{\n    key: \"canProbablyLoad\",\n    value: function canProbablyLoad(_source) {\n      return false;\n    }\n  }]);\n  return ImmediateLoader;\n}(Loader);\nImmediateLoader.types = ['immediate'];\n\nvar loaders = new LoaderList([\nFileLoader, XHRLoader, ImmediateLoader]);\n\nfunction _createSuper$q(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$q(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$q() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ParserList = function (_EntityList) {\n  _inherits(ParserList, _EntityList);\n  var _super = _createSuper$q(ParserList);\n  function ParserList() {\n    var someParsers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    _classCallCheck(this, ParserList);\n    return _super.call(this, someParsers, ['formats', 'extensions']);\n  }\n  _createClass(ParserList, [{\n    key: \"find\",\n    value: function find(specs) {\n      var list = [];\n      if (specs.format) {\n        list = this._dict.formats[specs.format.toLowerCase()] || [];\n      } else if (specs.ext) {\n        list = this._dict.extensions[specs.ext.toLowerCase()] || [];\n      }\n      if (list.length === 0 && !specs.format && specs.data) {\n        return this._list.filter(function (SomeParser) {\n          return SomeParser.canProbablyParse && SomeParser.canProbablyParse(specs.data);\n        });\n      }\n      return _toConsumableArray(list);\n    }\n  }]);\n  return ParserList;\n}(EntityList);\n\nvar Parser = function () {\n  function Parser(data, options) {\n    _classCallCheck(this, Parser);\n    this._data = data;\n    this._options = options || {};\n    this._abort = false;\n  }\n  _createClass(Parser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      throw new Error('Parsing this type of data is not implemented');\n    }\n  }, {\n    key: \"parse\",\n    value: function parse() {\n      var _this = this;\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          try {\n            if (_this._abort) {\n              return reject(new Error('Parsing aborted'));\n            }\n            return resolve(_this.parseSync());\n          } catch (error) {\n            return reject(error);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"getModel\",\n    value: function getModel() {\n      this.model._parseHeader(this._data);\n      return this.model;\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._abort = true;\n    }\n  }]);\n  return Parser;\n}();\nmakeContextDependent(Parser.prototype);\n\nvar Remark290 = function () {\n  function Remark290() {\n    _classCallCheck(this, Remark290);\n    this.matrices = [];\n    this._matrix = null;\n    this._matrixIndex = -1;\n  }\n  _createClass(Remark290, [{\n    key: \"parse\",\n    value: function parse(stream) {\n      var matrix = this._matrix;\n      if (stream.readString(12, 18) === '  SMTRY') {\n        var matrixRow = stream.readCharCode(19) - 49;\n        var matrixData = stream.readString(20, 80).trim().split(/\\s+/);\n        var matrixIndex = parseInt(matrixData[0], 10);\n        if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n          this._matrixIndex = matrixIndex;\n          this._matrix = matrix = new Matrix4();\n          this.matrices[this.matrices.length] = matrix;\n        }\n        var _matrix = matrix,\n            elements = _matrix.elements;\n        elements[matrixRow] = parseFloat(matrixData[1]);\n        elements[matrixRow + 4] = parseFloat(matrixData[2]);\n        elements[matrixRow + 8] = parseFloat(matrixData[3]);\n        elements[matrixRow + 12] = parseFloat(matrixData[4]);\n      }\n    }\n  }]);\n  return Remark290;\n}();\nRemark290.prototype.id = 290;\n\nvar Assembly$2 = chem.Assembly;\nvar Remark350 = function () {\n  function Remark350(complex) {\n    _classCallCheck(this, Remark350);\n    this._complex = complex;\n    this.assemblies = [];\n    this._assembly = null;\n    this._matrix = null;\n    this._matrixIndex = -1;\n  }\n  _createClass(Remark350, [{\n    key: \"parse\",\n    value: function parse(stream) {\n      var assembly = this._assembly;\n      var matrix = this._matrix;\n      if (assembly && stream.readString(12, 18) === '  BIOMT') {\n        var matrixRow = stream.readCharCode(19) - 49;\n        var matrixData = stream.readString(20, 80).trim().split(/\\s+/);\n        var matrixIndex = parseInt(matrixData[0], 10);\n        if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n          this._matrixIndex = matrixIndex;\n          this._matrix = matrix = new Matrix4();\n          assembly.addMatrix(matrix);\n        }\n        var _matrix = matrix,\n            elements = _matrix.elements;\n        elements[matrixRow] = parseFloat(matrixData[1]);\n        elements[matrixRow + 4] = parseFloat(matrixData[2]);\n        elements[matrixRow + 8] = parseFloat(matrixData[3]);\n        elements[matrixRow + 12] = parseFloat(matrixData[4]);\n      } else if (assembly && stream.readString(35, 41) === 'CHAINS:') {\n        var entries = stream.readString(42, 80).split(',');\n        for (var i = 0, n = entries.length; i < n; ++i) {\n          var chain = entries[i].trim();\n          if (chain.length > 0) {\n            assembly.addChain(chain);\n          }\n        }\n      } else if (stream.readString(12, 23) === 'BIOMOLECULE:') {\n        this._matrix = null;\n        this._matrixIndex = -1;\n        this._assembly = assembly = new Assembly$2(this._complex);\n        this.assemblies.push(assembly);\n      }\n    }\n  }]);\n  return Remark350;\n}();\nRemark350.prototype.id = 350;\n\nvar PDBStream = function () {\n  function PDBStream(data) {\n    _classCallCheck(this, PDBStream);\n    this._data = data;\n    this._start = 0;\n    this._nextCR = -1;\n    this._nextLF = -1;\n    this._next = -1;\n    this._end = data.length;\n    this.next();\n  }\n  _createClass(PDBStream, [{\n    key: \"readLine\",\n    value: function readLine() {\n      return this._data.slice(this._start, this._next);\n    }\n  }, {\n    key: \"readChar\",\n    value: function readChar(pos) {\n      pos = this._start + pos - 1;\n      return pos < this._next ? this._data[pos] : ' ';\n    }\n  }, {\n    key: \"readCharCode\",\n    value: function readCharCode(pos) {\n      pos = this._start + pos - 1;\n      return pos < this._next ? this._data.charCodeAt(pos) : 32;\n    }\n  }, {\n    key: \"readString\",\n    value: function readString(begin, end) {\n      var from = this._start + begin - 1;\n      var to = this._start + end;\n      return this._data.slice(from, to < this._next ? to : this._next);\n    }\n  }, {\n    key: \"readInt\",\n    value: function readInt(begin, end) {\n      return parseInt(this.readString(begin, end), 10);\n    }\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(begin, end) {\n      return parseFloat(this.readString(begin, end));\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      return this._start >= this._end;\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      var start = this._next + 1;\n      this._start = start < this._end ? start : this._end;\n      if (this._start > this._nextCR) {\n        this._nextCR = (this._data.indexOf('\\r', this._start) + 1 || this._end + 1) - 1;\n      }\n      if (this._start > this._nextLF) {\n        this._nextLF = (this._data.indexOf('\\n', this._start) + 1 || this._end + 1) - 1;\n      }\n      this._next = this._nextCR + 1 < this._nextLF ? this._nextCR : this._nextLF;\n    }\n  }]);\n  return PDBStream;\n}();\n\nfunction _createSuper$p(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$p(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$p() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$8 = chem.Complex,\n    Element$8 = chem.Element,\n    Helix$2 = chem.Helix,\n    Sheet$2 = chem.Sheet,\n    Strand$2 = chem.Strand,\n    Bond$4 = chem.Bond,\n    Molecule$7 = chem.Molecule;\nvar TAG_LENGTH = 6;\nfunction nameToElement$1(name) {\n  var veryLong = name.trim().length === 4;\n  return name.slice(0, veryLong ? 1 : 2).trim();\n}\nvar pdbStartRegexp = /^(HEADER\\s|COMPND\\s|REMARK\\s|ATOM {2}|HETATM|MODEL )/i;\nvar remarkParsers = {\n  290: Remark290,\n  350: Remark350\n};\nvar PDBParser = function (_Parser) {\n  _inherits(PDBParser, _Parser);\n  var _super = _createSuper$p(PDBParser);\n  function PDBParser(data, options) {\n    var _this;\n    _classCallCheck(this, PDBParser);\n    _this = _super.call(this, data, options);\n    _this._complex = null;\n    _this._chain = null;\n    _this._residue = null;\n    _this._sheet = null;\n    _this._serialAtomMap = null;\n    _this._modelId = 1;\n    _this._compaundFound = false;\n    _this._biomoleculeFound = false;\n    _this._allowedChainsIDs = null;\n    _this._lastMolId = -1;\n    _this._remarks = {};\n    _this._remark = null;\n    _this._molecules = [];\n    _this._molecule = null;\n    _this._compndCurrToken = '';\n    _this._options.fileType = 'pdb';\n    return _this;\n  }\n  _createClass(PDBParser, [{\n    key: \"_finalize\",\n    value: function _finalize() {\n      this._fixBondsArray();\n      this._fixChains();\n      var remark290 = this._remarks[290];\n      this._complex.symmetry = isUndefined(remark290) ? [] : remark290.matrices;\n      var remark350 = this._remarks[350];\n      this._complex.units = this._complex.units.concat(isUndefined(remark350) ? [] : remark350.assemblies);\n      this._finalizeMolecules();\n      this._complex.finalize({\n        needAutoBonding: true,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n    }\n  }, {\n    key: \"_finalizeMolecules\",\n    value: function _finalizeMolecules() {\n      var chainDict = {};\n      var i;\n      var chains = this._complex._chains;\n      for (i = 0; i < chains.length; ++i) {\n        var chainObj = chains[i];\n        var chainName = chainObj._name;\n        chainDict[chainName] = chainObj;\n      }\n      for (i = 0; i < this._molecules.length; i++) {\n        var m = this._molecules[i];\n        var residues = [];\n        for (var j = 0; j < m._chains.length; j++) {\n          var name = m._chains[j];\n          var chain = chainDict[name];\n          residues = residues.concat(chain._residues.slice());\n        }\n        var molecule = new Molecule$7(this._complex, m._name, i + 1);\n        molecule.residues = residues;\n        this._complex._molecules[i] = molecule;\n      }\n    }\n  }, {\n    key: \"_fixChains\",\n    value: function _fixChains() {\n      var idChainMap = {};\n      var complex = this._complex;\n      for (var i = 0; i < complex._chains.length; i++) {\n        var chain = complex._chains[i];\n        idChainMap[chain._name.charCodeAt(0)] = chain;\n      }\n    }\n  }, {\n    key: \"_fixBondsArray\",\n    value: function _fixBondsArray() {\n      var serialAtomMap = this._serialAtomMap = {};\n      var complex = this._complex;\n      var atoms = complex._atoms;\n      for (var i = 0, ni = atoms.length; i < ni; ++i) {\n        var atom = atoms[i];\n        serialAtomMap[atom.serial] = atom;\n      }\n      var bonds = complex._bonds;\n      var logger = this.logger;\n      for (var j = 0, nj = bonds.length; j < nj; ++j) {\n        var bond = bonds[j];\n        if (bond._right < bond._left) {\n          logger.debug('_fixBondsArray: Logic error.');\n        }\n        bond._left = serialAtomMap[bond._left] || null;\n        bond._right = serialAtomMap[bond._right] || null;\n      }\n    }\n  }, {\n    key: \"_parseATOM\",\n    value: function _parseATOM(stream) {\n      if (this._modelId !== 1) {\n        return;\n      }\n      var het = stream.readCharCode(1) === 0x48;\n      var serial = het ? stream.readInt(7, 11) : stream.readInt(6, 11);\n      var name = stream.readString(13, 16);\n      var altLoc = stream.readChar(17);\n      var resName = stream.readString(18, 20).trim();\n      var chainID = stream.readChar(22);\n      var resSeq = stream.readInt(23, 26);\n      var iCode = stream.readChar(27);\n      var x = stream.readFloat(31, 38);\n      var y = stream.readFloat(39, 46);\n      var z = stream.readFloat(47, 54);\n      var occupancy = stream.readFloat(55, 60);\n      var tempFactor = stream.readFloat(61, 66);\n      var element = stream.readString(77, 78).trim() || nameToElement$1(name);\n      var charge = stream.readInt(79, 80) || 0;\n      if (this.settings.now.nowater) {\n        if (resName === 'HOH' || resName === 'WAT') {\n          return;\n        }\n      }\n      name = name.trim();\n      var type = Element$8.getByName(element);\n      var role = Element$8.Role[name];\n      var chain = this._chain;\n      if (!chain || chain.getName() !== chainID) {\n        this._chain = chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n        this._residue = null;\n      }\n      var residue = this._residue;\n      if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n        this._residue = residue = chain.addResidue(resName, resSeq, iCode);\n      }\n      var xyz = new Vector3(x, y, z);\n      residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n    }\n  }, {\n    key: \"_parseENDMDL\",\n    value: function _parseENDMDL() {\n      this._modelId += 1;\n    }\n  }, {\n    key: \"_parseCONECT\",\n    value: function _parseCONECT(stream) {\n      var serial0 = stream.readInt(7, 11);\n      var serial1 = stream.readInt(12, 16);\n      var serial2 = stream.readInt(17, 21);\n      var serial3 = stream.readInt(22, 26);\n      var serial4 = stream.readInt(27, 31);\n      var complex = this._complex;\n      if (serial1 && serial1 > serial0) {\n        complex.addBond(serial0, serial1, 0, Bond$4.BondType.UNKNOWN, true);\n      }\n      if (serial2 && serial2 > serial0) {\n        complex.addBond(serial0, serial2, 0, Bond$4.BondType.UNKNOWN, true);\n      }\n      if (serial3 && serial3 > serial0) {\n        complex.addBond(serial0, serial3, 0, Bond$4.BondType.UNKNOWN, true);\n      }\n      if (serial4 && serial4 > serial0) {\n        complex.addBond(serial0, serial4, 0, Bond$4.BondType.UNKNOWN, true);\n      }\n    }\n  }, {\n    key: \"_parseCOMPND\",\n    value: function _parseCOMPND(stream) {\n      var str = stream.readString(11, 80);\n      var tokenIdx = str.indexOf(':');\n      this._compndCurrToken = tokenIdx > 0 ? str.substring(0, tokenIdx).trim() : this._compndCurrToken;\n      if (this._compndCurrToken === 'MOL_ID') {\n        this._molecule = {\n          _index: '',\n          _chains: []\n        };\n        this._molecule._index = parseInt(str.substring(tokenIdx + 1, str.indexOf(';')), 10);\n        this._molecules.push(this._molecule);\n      } else if (this._compndCurrToken === 'MOLECULE' && this._molecule != null) {\n        this._molecule._name = str.substring(tokenIdx + 1, str.indexOf(';')).trim();\n      } else if (this._compndCurrToken === 'CHAIN' && this._molecule != null) {\n        var chainStr = str.substring(tokenIdx + 1, 80).trim();\n        var lastChar = chainStr[chainStr.length - 1];\n        if (lastChar === ';' || lastChar === ',') {\n          chainStr = chainStr.slice(0, -1);\n        }\n        chainStr = chainStr.replace(/\\s+/g, '');\n        var chains = chainStr.split(',');\n        this._molecule._chains = this._molecule._chains.concat(chains);\n      }\n    }\n  }, {\n    key: \"_parseREMARK\",\n    value: function _parseREMARK(stream) {\n      var remarkNum = stream.readInt(8, 10);\n      var remark = this._remarks[remarkNum];\n      if (isUndefined(remark)) {\n        var RemarkParser = remarkParsers[remarkNum];\n        if (typeof RemarkParser === 'function') {\n          this._remarks[remarkNum] = remark = new RemarkParser(this._complex);\n        }\n      }\n      if (!isUndefined(remark)) {\n        remark.parse(stream);\n      }\n    }\n  }, {\n    key: \"_parseHELIX\",\n    value: function _parseHELIX(stream) {\n      var _this2 = this;\n      var fields = [20, 22, 32, 34];\n      this._parseSTRUCTURE(stream, fields, function (obj) {\n        _this2._complex.addHelix(obj);\n        _this2._complex.structures.push(obj);\n      });\n    }\n  }, {\n    key: \"_parseSHEET\",\n    value: function _parseSHEET(stream) {\n      var _this3 = this;\n      var fields = [22, 23, 33, 34];\n      this._parseSTRUCTURE(stream, fields, function (obj) {\n        _this3._complex.addSheet(obj);\n      });\n    }\n  }, {\n    key: \"_parseSTRUCTURE\",\n    value: function _parseSTRUCTURE(stream, pars, adder) {\n      var startId = 0;\n      var startIndex = 1;\n      var endId = 2;\n      var endIndex = 3;\n      var codeOfS = 0x53;\n      var serialNumber = stream.readInt(8, 10);\n      var structureName = stream.readString(12, 14).trim();\n      var comment = stream.readString(41, 70).trim();\n      var helLength = stream.readInt(72, 76);\n      var helixClass = stream.readInt(39, 40);\n      var shWidth = stream.readInt(15, 16);\n      var shCur = stream.readInt(42, 45);\n      var shPrev = stream.readInt(57, 60);\n      var startChainID = stream.readString(pars[startId], pars[endId] + 1).charCodeAt(0);\n      var endChainID = stream.readString(pars[endId], pars[endId] + 1).charCodeAt(0);\n      var startSequenceNumber = stream.readInt(pars[startIndex], pars[startIndex] + 3);\n      var iCodeStr = stream.readString(pars[startIndex] + 4, pars[startIndex] + 4);\n      var startICode = 0;\n      if (iCodeStr.length > 0) {\n        startICode = iCodeStr.charCodeAt(0);\n      }\n      var endSequenceNumber = stream.readInt(pars[endIndex], pars[endIndex] + 3);\n      iCodeStr = stream.readString(pars[endIndex] + 4, pars[endIndex] + 4);\n      var endICode = 0;\n      if (iCodeStr.length > 0) {\n        endICode = iCodeStr.charCodeAt(0);\n      }\n      var obj;\n      var cs = this._sheet;\n      if (stream.readCharCode(1) === codeOfS) {\n        if (cs !== null && cs.getName() !== structureName) {\n          cs = null;\n          this._sheet = null;\n        }\n        if (cs === null) {\n          this._sheet = obj = new Sheet$2(structureName, shWidth);\n          adder(obj);\n        } else {\n          obj = cs;\n        }\n        var strand = new Strand$2(obj, this._complex.getUnifiedSerial(startChainID, startSequenceNumber, startICode), this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode), helixClass, shCur, shPrev);\n        obj.addStrand(strand);\n        this._complex.structures.push(strand);\n      } else {\n        obj = new Helix$2(helixClass, this._complex.getUnifiedSerial(startChainID, startSequenceNumber, startICode), this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode), serialNumber, structureName, comment, helLength);\n        adder(obj);\n      }\n    }\n  }, {\n    key: \"_parseHEADER\",\n    value: function _parseHEADER(stream) {\n      var metadata = this._complex.metadata;\n      metadata.classification = stream.readString(11, 50).trim();\n      metadata.date = stream.readString(51, 59).trim();\n      var id = stream.readString(63, 66).trim();\n      metadata.id = id;\n      if (id) {\n        this._complex.name = id;\n      }\n      metadata.format = 'pdb';\n    }\n  }, {\n    key: \"_parseTITLE\",\n    value: function _parseTITLE(stream) {\n      var metadata = this._complex.metadata;\n      metadata.title = metadata.title || [];\n      var line = stream.readInt(9, 10) || 1;\n      metadata.title[line - 1] = stream.readString(11, 80).trim();\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var stream = new PDBStream(this._data);\n      var result = this._complex = new Complex$8();\n      while (!stream.end()) {\n        var tag = stream.readString(1, TAG_LENGTH);\n        var func = PDBParser.tagParsers[tag];\n        if (typeof func === 'function') {\n          func.call(this, stream);\n        }\n        stream.next();\n      }\n      this._finalize();\n      this._serialAtomMap = null;\n      this._sheet = null;\n      this._residue = null;\n      this._chain = null;\n      this._complex = null;\n      if (result.getAtomCount() === 0) {\n        throw new Error('The data does not contain valid atoms');\n      }\n      return result;\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && pdbStartRegexp.test(data);\n    }\n  }]);\n  return PDBParser;\n}(Parser);\n_defineProperty(PDBParser, \"tagParsers\", {\n  HEADER: PDBParser.prototype._parseHEADER,\n  'TITLE ': PDBParser.prototype._parseTITLE,\n  'ATOM  ': PDBParser.prototype._parseATOM,\n  HETATM: PDBParser.prototype._parseATOM,\n  ENDMDL: PDBParser.prototype._parseENDMDL,\n  CONECT: PDBParser.prototype._parseCONECT,\n  COMPND: PDBParser.prototype._parseCOMPND,\n  REMARK: PDBParser.prototype._parseREMARK,\n  'HELIX ': PDBParser.prototype._parseHELIX,\n  'SHEET ': PDBParser.prototype._parseSHEET,\n  'ATOM 1': PDBParser.prototype._parseATOM,\n  'ATOM 2': PDBParser.prototype._parseATOM,\n  'ATOM 3': PDBParser.prototype._parseATOM,\n  'ATOM 4': PDBParser.prototype._parseATOM,\n  'ATOM 5': PDBParser.prototype._parseATOM,\n  'ATOM 6': PDBParser.prototype._parseATOM,\n  'ATOM 7': PDBParser.prototype._parseATOM,\n  'ATOM 8': PDBParser.prototype._parseATOM,\n  'ATOM 9': PDBParser.prototype._parseATOM\n});\nPDBParser.formats = ['pdb'];\nPDBParser.extensions = ['.pdb', '.ent'];\n\nfunction _createSuper$o(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$o(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$o() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$7 = chem.Complex,\n    Element$7 = chem.Element,\n    SGroup = chem.SGroup,\n    Bond$3 = chem.Bond;\nvar cOrderCharCodes = {\n  A: 0,\n  S: 1,\n  D: 2,\n  T: 3\n};\nvar cmlStartRegexp = /\\s*<\\?xml\\b[^?>]*\\?>\\s*<(?:cml|molecule)\\b/i;\nvar CMLParser = function (_Parser) {\n  _inherits(CMLParser, _Parser);\n  var _super = _createSuper$o(CMLParser);\n  function CMLParser(data, options) {\n    var _this;\n    _classCallCheck(this, CMLParser);\n    _this = _super.call(this, data, options);\n    _this._complex = null;\n    _this._residue = null;\n    _this._serialAtomMap = null;\n    _this._modelId = 1;\n    _this._lastMolId = -1;\n    _this._readOnlyOneMolecule = false;\n    _this._options.fileType = 'cml';\n    return _this;\n  }\n  _createClass(CMLParser, [{\n    key: \"_rebuidBondIndexes\",\n    value: function _rebuidBondIndexes(atoms, bonds) {\n      var count = atoms.length;\n      for (var i = 0; i < count; i++) {\n        var atomId = atoms[i].id;\n        var countBonds = bonds.length;\n        for (var j = 0; j < countBonds; j++) {\n          var idxs = bonds[j].atomRefs2.split(' ');\n          if (idxs[0] === atomId) {\n            bonds[j].start = i;\n          }\n          if (idxs[1] === atomId) {\n            bonds[j].end = i;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_createSGroup\",\n    value: function _createSGroup(molecule, moleculeArr) {\n      var newGroup = new SGroup(molecule.id, molecule.fieldData, new Vector3(parseFloat(molecule.x), parseFloat(molecule.y), 0), molecule.atomRefs, molecule);\n      if (molecule.placement === 'Relative') {\n        newGroup._center = new Vector3(0, 0, 0);\n      }\n      if (molecule.fieldName === 'MDLBG_FRAGMENT_CHARGE') {\n        newGroup._charge = parseInt(molecule.fieldData, 10) || 0;\n      }\n      if (molecule.fieldName === 'MDLBG_FRAGMENT_COEFFICIENT') {\n        newGroup._repeat = parseInt(molecule.fieldData, 10) || 1;\n      }\n      moleculeArr.push(newGroup);\n    }\n  }, {\n    key: \"_extractSGroup\",\n    value: function _extractSGroup(molecule, moleculeArr) {\n      if (!Array.isArray(moleculeArr)) {\n        moleculeArr = [];\n      }\n      if (molecule) {\n        if (Array.isArray(molecule)) {\n          var count = molecule.length;\n          for (var i = 0; i < count; i++) {\n            if (molecule[i].molecule) {\n              moleculeArr = moleculeArr.concat(this._extractSGroup(molecule[i].molecule));\n            }\n            this._createSGroup(molecule[i], moleculeArr);\n          }\n        } else {\n          if (molecule.molecule) {\n            if (molecule.molecule) {\n              moleculeArr = moleculeArr.concat(this._extractSGroup(molecule.molecule));\n            }\n          }\n          this._createSGroup(molecule, moleculeArr);\n        }\n      }\n      return moleculeArr;\n    }\n  }, {\n    key: \"_extractSGroups\",\n    value: function _extractSGroups(molecule, atoms) {\n      var moleculeArr = this._extractSGroup(molecule);\n      var count = atoms.length;\n      var i;\n      var j;\n      for (i = 0; i < count; i++) {\n        var atomId = atoms[i].id;\n        for (j = 0; j < moleculeArr.length; j++) {\n          var firstAtomRef = moleculeArr[j]._atoms.split(' ')[0];\n          if (firstAtomRef === atomId) {\n            if (!atoms[i].sgroupRef) {\n              atoms[i].sgroupRef = [];\n            }\n            atoms[i].sgroupRef.push(moleculeArr[j]);\n          }\n        }\n      }\n      var atomMap = {};\n      var mapEntry = null;\n      var nLimon = 100000000;\n      var bLow = new Vector3(nLimon, nLimon, nLimon);\n      var bHight = new Vector3(-nLimon, -nLimon, -nLimon);\n      function cycleFuncInner(e) {\n        mapEntry = atomMap[e];\n        if (mapEntry) {\n          moleculeArr[j]._atoms.push(mapEntry.a);\n        }\n      }\n      function cycleFunc(e) {\n        mapEntry = atomMap[e];\n        if (mapEntry) {\n          bLow.set(Math.min(bLow.x, mapEntry.x), Math.min(bLow.y, mapEntry.y), Math.min(bLow.z, mapEntry.z));\n          bHight.set(Math.max(bHight.x, mapEntry.x), Math.max(bHight.y, mapEntry.y), Math.max(bHight.z, mapEntry.z));\n          cycleFuncInner(e);\n        }\n      }\n      for (i = 0; i < atoms.length; i++) {\n        atomMap[atoms[i].id] = {};\n        atomMap[atoms[i].id].x = atoms[i].x2;\n        if (atoms[i].x3) {\n          atomMap[atoms[i].id].x = atoms[i].x3;\n        }\n        atomMap[atoms[i].id].x = parseFloat(atomMap[atoms[i].id].x);\n        atomMap[atoms[i].id].y = atoms[i].y2;\n        if (atoms[i].y3) {\n          atomMap[atoms[i].id].y = atoms[i].y3;\n        }\n        atomMap[atoms[i].id].y = parseFloat(atomMap[atoms[i].id].y);\n        atomMap[atoms[i].id].z = '0.0';\n        if (atoms[i].z3) {\n          atomMap[atoms[i].id].z = atoms[i].z3;\n        }\n        atomMap[atoms[i].id].z = parseFloat(atomMap[atoms[i].id].z);\n        atomMap[atoms[i].id].a = atoms[i];\n      }\n      var atomsRef;\n      for (j = 0; j < moleculeArr.length; j++) {\n        if (moleculeArr[j]._center !== null) {\n          bLow.set(nLimon, nLimon, nLimon);\n          bHight.set(-nLimon, -nLimon, -nLimon);\n          atomsRef = moleculeArr[j]._atoms.split(' ');\n          moleculeArr[j]._atoms = [];\n          atomsRef.forEach(cycleFunc);\n          moleculeArr[j]._center.addVectors(bLow, bHight);\n          moleculeArr[j]._center.multiplyScalar(0.5);\n        } else {\n          atomsRef = moleculeArr[j]._atoms.split(' ');\n          moleculeArr[j]._atoms = [];\n          atomsRef.forEach(cycleFuncInner);\n        }\n      }\n      atomMap = null;\n    }\n  }, {\n    key: \"_traverseData\",\n    value: function _traverseData(dom) {\n      function isArray(o) {\n        return Object.prototype.toString.apply(o) === '[object Array]';\n      }\n      function parseNode(xmlNode, result) {\n        if (xmlNode.nodeName === '#text' && xmlNode.nodeValue.trim() === '') {\n          return;\n        }\n        var jsonNode = {};\n        jsonNode.xmlNode = xmlNode;\n        var existing = result[xmlNode.nodeName];\n        if (existing) {\n          if (!isArray(existing)) {\n            result[xmlNode.nodeName] = [existing, jsonNode];\n          } else {\n            result[xmlNode.nodeName].push(jsonNode);\n          }\n        } else {\n          result[xmlNode.nodeName] = jsonNode;\n        }\n        var length;\n        var i;\n        if (xmlNode.attributes) {\n          length = xmlNode.attributes.length;\n          for (i = 0; i < length; i++) {\n            var attribute = xmlNode.attributes[i];\n            jsonNode[attribute.nodeName] = attribute.nodeValue;\n          }\n        }\n        length = xmlNode.childNodes.length;\n        for (i = 0; i < length; i++) {\n          parseNode(xmlNode.childNodes[i], jsonNode);\n        }\n      }\n      var result = {};\n      if (dom.childNodes.length) {\n        parseNode(dom.childNodes[0], result);\n      }\n      return result;\n    }\n  }, {\n    key: \"_findSuitableMolecule\",\n    value: function _findSuitableMolecule(data, molSet) {\n      for (var key in data) {\n        if (key === 'xmlNode') {\n          continue;\n        } else if (key === 'molecule') {\n          if (data.molecule) {\n            if (data.molecule.atomArray && data.molecule.atomArray.atom) {\n              molSet.push(data);\n            }\n            if (Array.isArray(data.molecule)) {\n              for (var i = 0; i < data.molecule.length; i++) {\n                if (data.molecule[i].atomArray && data.molecule[i].atomArray.atom) {\n                  molSet.push({\n                    molecule: data.molecule[i]\n                  });\n                }\n              }\n            }\n          }\n        } else if (data[key] && data[key] !== null && _typeof(data[key]) === 'object') {\n          this._findSuitableMolecule(data[key], molSet);\n        }\n      }\n    }\n  }, {\n    key: \"_selectComponents\",\n    value: function _selectComponents(text) {\n      var parser = new DOMParser();\n      var doc = parser.parseFromString(text, 'application/xml');\n      var traversedData = this._traverseData(doc);\n      var rawData;\n      var self = this;\n      function prepareComponentCompound(data) {\n        var atoms = [];\n        if (data.molecule && data.molecule.atomArray && data.molecule.atomArray.atom) {\n          if (!Array.isArray(data.molecule.atomArray.atom)) {\n            atoms.push(data.molecule.atomArray.atom);\n          } else {\n            atoms = data.molecule.atomArray.atom;\n          }\n        } else if (!data.molecule) {\n          var ret = {};\n          ret.atomLabels = null;\n          ret.labelsCount = 1;\n          return ret;\n        }\n        if (data.molecule.molecule) {\n          self._extractSGroups(data.molecule.molecule, atoms);\n        }\n        var atom;\n        var count = atoms.length;\n        for (var i = 0; i < count; i++) {\n          atom = atoms[i];\n          atom.edges = [];\n        }\n        var localBond = [];\n        if (data.molecule.bondArray && data.molecule.bondArray.bond) {\n          if (!Array.isArray(data.molecule.bondArray.bond)) {\n            localBond.push(data.molecule.bondArray.bond);\n          } else {\n            localBond = data.molecule.bondArray.bond;\n          }\n        }\n        var bond;\n        count = localBond.length;\n        self._rebuidBondIndexes(atoms, localBond);\n        function addCurrBond(index) {\n          bond = localBond[index];\n          atom = atoms[bond.start];\n          if (!atom) {\n            return false;\n          }\n          atom.edges.push(bond.end);\n          atom = atoms[bond.end];\n          if (!atom) {\n            return false;\n          }\n          atom.edges.push(bond.start);\n          return true;\n        }\n        for (var _i = 0; _i < count; _i++) {\n          if (!addCurrBond(_i)) {\n            continue;\n          }\n          var orderAttr = bond.xmlNode.getAttribute('order');\n          var tc = parseInt(orderAttr, 10);\n          localBond[_i].order = 0;\n          localBond[_i].type = Bond$3.BondType.UNKNOWN;\n          if (tc > 1) {\n            localBond[_i].order = tc;\n          } else {\n            var order = cOrderCharCodes[orderAttr];\n            if (order !== undefined) {\n              localBond[_i].order = order;\n              if (orderAttr === 'A') {\n                localBond[_i].type = Bond$3.BondType.AROMATIC;\n              }\n            }\n          }\n        }\n        count = atoms.length;\n        for (var _i2 = 0; _i2 < count; _i2++) {\n          atom = atoms[_i2];\n          atom.edges.sort();\n        }\n        var labels = self._breadWidthSearch(atoms, 0);\n        var retStruct = {};\n        retStruct.atoms = atoms;\n        retStruct.bonds = localBond;\n        retStruct.labels = labels.atomLabels;\n        retStruct.count = Math.min(1, labels.labelsCount);\n        retStruct.curr = -1;\n        retStruct.originalCML = doc;\n        return retStruct;\n      }\n      if (traversedData.cml) {\n        rawData = traversedData.cml;\n      } else {\n        rawData = traversedData;\n      }\n      var retData = [];\n      var filteredData = [];\n      this._findSuitableMolecule(rawData, filteredData);\n      if (this._readOnlyOneMolecule && filteredData.length > 1) {\n        filteredData.splice(1, filteredData.length - 1);\n      }\n      filteredData.forEach(function (d) {\n        var rd = prepareComponentCompound(d);\n        if (rd.atoms.length > 0) {\n          retData.push(rd);\n        }\n      });\n      return retData;\n    }\n  }, {\n    key: \"_packLabel\",\n    value: function _packLabel(compId, molId) {\n      var shift = 16;\n      return (molId << shift) + compId;\n    }\n  }, {\n    key: \"_unpackLabel\",\n    value: function _unpackLabel(l) {\n      var shift = 16;\n      var mask = (1 << shift) - 1;\n      return {\n        molId: l >>> shift,\n        compId: l & mask\n      };\n    }\n  }, {\n    key: \"_breadWidthSearch\",\n    value: function _breadWidthSearch(atoms, molID) {\n      var atomLabels = new Array(atoms.length);\n      var id;\n      for (id = 0; id < atomLabels.length; id++) {\n        atomLabels[id] = this._packLabel(0, molID);\n      }\n      var breadthQueue = [];\n      var componentID = 0;\n      var labeledAtoms = atoms.length;\n      while (labeledAtoms > 0) {\n        componentID++;\n        var startID = -1;\n        for (id = 0; id < atomLabels.length; id++) {\n          if (this._unpackLabel(atomLabels[id]).compId === 0) {\n            startID = id;\n            break;\n          }\n        }\n        if (startID < 0) {\n          break;\n        }\n        breadthQueue.push(atoms[startID]);\n        atomLabels[startID] = this._packLabel(componentID, molID);\n        labeledAtoms--;\n        while (breadthQueue.length > 0) {\n          var curr = breadthQueue.shift();\n          if (!curr) {\n            continue;\n          }\n          for (var i = 0; i < curr.edges.length; i++) {\n            if (atomLabels[curr.edges[i]] !== componentID) {\n              breadthQueue.push(atoms[curr.edges[i]]);\n              atomLabels[curr.edges[i]] = componentID;\n              labeledAtoms--;\n            }\n          }\n        }\n      }\n      var ret = {};\n      ret.atomLabels = atomLabels;\n      ret.labelsCount = componentID;\n      return ret;\n    }\n  }, {\n    key: \"_parseBond\",\n    value: function _parseBond(eAtom, mainAtom, order, type) {\n      if (eAtom >= 0) {\n        var h = [Math.min(eAtom, mainAtom), Math.max(eAtom, mainAtom)];\n        this._complex.addBond(h[0], h[1], order, type, true);\n      }\n    }\n  }, {\n    key: \"_fixBondsArray\",\n    value: function _fixBondsArray() {\n      var serialAtomMap = this._serialAtomMap = {};\n      var complex = this._complex;\n      var atoms = complex._atoms;\n      for (var i = 0, ni = atoms.length; i < ni; ++i) {\n        var atom = atoms[i];\n        serialAtomMap[atom.serial] = atom;\n      }\n      var bonds = complex._bonds;\n      var logger = this.logger;\n      for (var j = 0, nj = bonds.length; j < nj; ++j) {\n        var bond = bonds[j];\n        if (bond._right < bond._left) {\n          logger.debug('_fixBondsArray: Logic error.');\n        }\n        bond._left = serialAtomMap[bond._left] || null;\n        bond._right = serialAtomMap[bond._right] || null;\n      }\n    }\n  }, {\n    key: \"_parseSet\",\n    value: function _parseSet(varData) {\n      var complex = this._complex = new Complex$7();\n      var data = varData;\n      var currentLabel = data.curr;\n      var atoms = data.atoms,\n          labels = data.labels;\n      var atom = null;\n      var i;\n      var j;\n      var count = atoms.length;\n      function addFunc(a) {\n        a.xmlNodeRef = atom;\n        if (atom.x2) {\n          atom.x3 = atom.x2;\n          delete atom.x2;\n        }\n        if (atom.y2) {\n          atom.y3 = atom.y2;\n          delete atom.y2;\n        }\n        if (!atom.z3) {\n          atom.z3 = '0.0';\n        }\n        atom.complexAtom = a;\n      }\n      var chains = {};\n      var reorder = [];\n      for (i = 0; i < count; i++) {\n        reorder.push(i);\n      }\n      reorder.sort(function (a, b) {\n        return labels[a] - labels[b];\n      });\n      for (i = 0; i < count; i++) {\n        var atomCharge = 0;\n        var lLabel = labels[reorder[i]];\n        if (this._unpackLabel(lLabel).molId === this._unpackLabel(currentLabel).molId) {\n          atom = atoms[reorder[i]];\n          var atomFullNameStruct = atom.elementType;\n          if (atom.sgroupRef) {\n            var countRef = atom.sgroupRef.length;\n            for (var k = 0; k < countRef; ++k) {\n              complex._sgroups.push(atom.sgroupRef[k]);\n            }\n          }\n          if (atom.x3 || atom.x2) {\n            var currAtomComp = this._unpackLabel(lLabel).compId;\n            var chainID = ' ';\n            var resSeq = currAtomComp;\n            var iCode = ' ';\n            var strLabel = currAtomComp.toString();\n            if (strLabel.length === 1) {\n              strLabel = \"0\".concat(strLabel);\n            }\n            var resName = \"N\".concat(strLabel);\n            var chain = chains[chainID];\n            if (!chain || chain.getName() !== chainID) {\n              chains[chainID] = chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n              this._residue = null;\n            }\n            var residue = this._residue;\n            if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n              this._residue = residue = chain.addResidue(resName, resSeq, iCode);\n            }\n            var xyz = null;\n            if (atom.x3) {\n              xyz = new Vector3(parseFloat(atom.x3), parseFloat(atom.y3), parseFloat(atom.z3));\n            } else if (atom.x2) {\n              xyz = new Vector3(parseFloat(atom.x2), parseFloat(atom.y2), 0);\n            }\n            var element = Element$7.ByName[atom.elementType.toUpperCase()];\n            if (!element) {\n              element = JSON.parse(JSON.stringify(Element$7.ByName[Object.keys(Element$7.ByName)[Object.keys(Element$7.ByName).length - 1]]));\n              element.number += 1;\n              element.name = atom.elementType.toUpperCase();\n              element.fullName = 'Unknown';\n              Element$7.ByName[atom.elementType.toUpperCase()] = element;\n            }\n            var atomSerial = parseInt(atom.id.replace(/[^0-9]/, ''), 10);\n            var added = residue.addAtom(atomFullNameStruct, element, xyz, Element$7.Role.SG, true, atomSerial, ' ', 1.0, 0.0, atomCharge);\n            if (atom.hydrogenCount) {\n              added.hydrogenCount = parseInt(atom.hydrogenCount, 10);\n            }\n            if (atom.mrvValence) {\n              added.valence = parseInt(atom.mrvValence, 10);\n            }\n            addFunc(added);\n          }\n        }\n      }\n      chains = null;\n      for (i = 0; i < data.bonds.length; i++) {\n        var cb = data.bonds[i];\n        if (this._unpackLabel(labels[cb.start]).molId === this._unpackLabel(currentLabel).molId && this._unpackLabel(labels[cb.end]).molId === this._unpackLabel(currentLabel).molId) {\n          atom = atoms[cb.start];\n          if (!atom || !atoms[cb.end]) {\n            continue;\n          }\n          this._parseBond(parseInt(atom.id.replace(/[^0-9]/, ''), 10), parseInt(atoms[cb.end].id.replace(/[^0-9]/, ''), 10), cb.order, cb.type);\n        }\n      }\n      for (i = 0; i < this._complex.getSGroupCount(); i++) {\n        var sGrp = this._complex.getSGroups()[i];\n        for (j = 0; j < sGrp._atoms.length; j++) {\n          sGrp._atoms[j] = sGrp._atoms[j].complexAtom;\n        }\n      }\n      for (i = 0; i < count; i++) {\n        if (this._unpackLabel(labels[i]).molId === this._unpackLabel(currentLabel).molId) {\n          atom = atoms[i];\n          atom.complexAtom = null;\n          delete atom.complexAtom;\n        }\n      }\n      this._complex.originalCML = data.originalCML;\n      this._fixBondsArray();\n      complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n      this._serialAtomMap = null;\n      this._complex = null;\n      return complex;\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var complexes = [];\n      var self = this;\n      var moleculaSet = this._selectComponents(this._data);\n      moleculaSet.forEach(function (molSet) {\n        molSet.curr = 2;\n        if (molSet.count === 0) {\n          molSet.count = 1;\n        }\n        for (var i = 0; i < molSet.count; i++) {\n          molSet.curr = i + 1;\n          complexes.push(self._parseSet(molSet, false));\n        }\n      });\n      var totalAtomsParsed = 0;\n      complexes.forEach(function (c) {\n        totalAtomsParsed += c.getAtomCount();\n      });\n      if (totalAtomsParsed <= 0) {\n        throw new Error('The data does not contain valid atoms');\n      }\n      if (complexes.length > 1) {\n        var joinedComplex = new Complex$7();\n        joinedComplex.joinComplexes(complexes);\n        joinedComplex.originalCML = complexes[0].originalCML;\n        return joinedComplex;\n      }\n      if (complexes.length === 1) {\n        return complexes[0];\n      }\n      return new Complex$7();\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && cmlStartRegexp.test(data);\n    }\n  }]);\n  return CMLParser;\n}(Parser);\nCMLParser.formats = ['cml'];\nCMLParser.extensions = ['.cml'];\n\nvar mmtf = {exports: {}};\n\n(function (module, exports) {\n  !function (r, t) {\n    t(exports);\n  }(commonjsGlobal, function (r) {\n    function t(r, t, n) {\n      for (var e = (r.byteLength, 0), i = n.length; i > e; e++) {\n        var o = n.charCodeAt(e);\n        if (128 > o) r.setUint8(t++, o >>> 0 & 127 | 0);else if (2048 > o) r.setUint8(t++, o >>> 6 & 31 | 192), r.setUint8(t++, o >>> 0 & 63 | 128);else if (65536 > o) r.setUint8(t++, o >>> 12 & 15 | 224), r.setUint8(t++, o >>> 6 & 63 | 128), r.setUint8(t++, o >>> 0 & 63 | 128);else {\n          if (!(1114112 > o)) throw new Error('bad codepoint ' + o);\n          r.setUint8(t++, o >>> 18 & 7 | 240), r.setUint8(t++, o >>> 12 & 63 | 128), r.setUint8(t++, o >>> 6 & 63 | 128), r.setUint8(t++, o >>> 0 & 63 | 128);\n        }\n      }\n    }\n    function n(r) {\n      for (var t = 0, n = 0, e = r.length; e > n; n++) {\n        var i = r.charCodeAt(n);\n        if (128 > i) t += 1;else if (2048 > i) t += 2;else if (65536 > i) t += 3;else {\n          if (!(1114112 > i)) throw new Error('bad codepoint ' + i);\n          t += 4;\n        }\n      }\n      return t;\n    }\n    function e(r, i, o) {\n      var a = _typeof(r);\n      if ('string' === a) {\n        var u = n(r);\n        if (32 > u) return i.setUint8(o, 160 | u), t(i, o + 1, r), 1 + u;\n        if (256 > u) return i.setUint8(o, 217), i.setUint8(o + 1, u), t(i, o + 2, r), 2 + u;\n        if (65536 > u) return i.setUint8(o, 218), i.setUint16(o + 1, u), t(i, o + 3, r), 3 + u;\n        if (4294967296 > u) return i.setUint8(o, 219), i.setUint32(o + 1, u), t(i, o + 5, r), 5 + u;\n      }\n      if (r instanceof Uint8Array) {\n        var u = r.byteLength,\n            s = new Uint8Array(i.buffer);\n        if (256 > u) return i.setUint8(o, 196), i.setUint8(o + 1, u), s.set(r, o + 2), 2 + u;\n        if (65536 > u) return i.setUint8(o, 197), i.setUint16(o + 1, u), s.set(r, o + 3), 3 + u;\n        if (4294967296 > u) return i.setUint8(o, 198), i.setUint32(o + 1, u), s.set(r, o + 5), 5 + u;\n      }\n      if ('number' === a) {\n        if (!isFinite(r)) throw new Error('Number not finite: ' + r);\n        if (Math.floor(r) !== r) return i.setUint8(o, 203), i.setFloat64(o + 1, r), 9;\n        if (r >= 0) {\n          if (128 > r) return i.setUint8(o, r), 1;\n          if (256 > r) return i.setUint8(o, 204), i.setUint8(o + 1, r), 2;\n          if (65536 > r) return i.setUint8(o, 205), i.setUint16(o + 1, r), 3;\n          if (4294967296 > r) return i.setUint8(o, 206), i.setUint32(o + 1, r), 5;\n          throw new Error('Number too big 0x' + r.toString(16));\n        }\n        if (r >= -32) return i.setInt8(o, r), 1;\n        if (r >= -128) return i.setUint8(o, 208), i.setInt8(o + 1, r), 2;\n        if (r >= -32768) return i.setUint8(o, 209), i.setInt16(o + 1, r), 3;\n        if (r >= -2147483648) return i.setUint8(o, 210), i.setInt32(o + 1, r), 5;\n        throw new Error('Number too small -0x' + (-r).toString(16).substr(1));\n      }\n      if (null === r) return i.setUint8(o, 192), 1;\n      if ('boolean' === a) return i.setUint8(o, r ? 195 : 194), 1;\n      if ('object' === a) {\n        var u,\n            f = 0,\n            c = Array.isArray(r);\n        if (c) u = r.length;else {\n          var d = Object.keys(r);\n          u = d.length;\n        }\n        var f;\n        if (16 > u ? (i.setUint8(o, u | (c ? 144 : 128)), f = 1) : 65536 > u ? (i.setUint8(o, c ? 220 : 222), i.setUint16(o + 1, u), f = 3) : 4294967296 > u && (i.setUint8(o, c ? 221 : 223), i.setUint32(o + 1, u), f = 5), c) for (var l = 0; u > l; l++) {\n          f += e(r[l], i, o + f);\n        } else for (var l = 0; u > l; l++) {\n          var v = d[l];\n          f += e(v, i, o + f), f += e(r[v], i, o + f);\n        }\n        return f;\n      }\n      throw new Error('Unknown type ' + a);\n    }\n    function i(r) {\n      var t = _typeof(r);\n      if ('string' === t) {\n        var e = n(r);\n        if (32 > e) return 1 + e;\n        if (256 > e) return 2 + e;\n        if (65536 > e) return 3 + e;\n        if (4294967296 > e) return 5 + e;\n      }\n      if (r instanceof Uint8Array) {\n        var e = r.byteLength;\n        if (256 > e) return 2 + e;\n        if (65536 > e) return 3 + e;\n        if (4294967296 > e) return 5 + e;\n      }\n      if ('number' === t) {\n        if (Math.floor(r) !== r) return 9;\n        if (r >= 0) {\n          if (128 > r) return 1;\n          if (256 > r) return 2;\n          if (65536 > r) return 3;\n          if (4294967296 > r) return 5;\n          throw new Error('Number too big 0x' + r.toString(16));\n        }\n        if (r >= -32) return 1;\n        if (r >= -128) return 2;\n        if (r >= -32768) return 3;\n        if (r >= -2147483648) return 5;\n        throw new Error('Number too small -0x' + r.toString(16).substr(1));\n      }\n      if ('boolean' === t || null === r) return 1;\n      if ('object' === t) {\n        var e,\n            o = 0;\n        if (Array.isArray(r)) {\n          e = r.length;\n          for (var a = 0; e > a; a++) {\n            o += i(r[a]);\n          }\n        } else {\n          var u = Object.keys(r);\n          e = u.length;\n          for (var a = 0; e > a; a++) {\n            var s = u[a];\n            o += i(s) + i(r[s]);\n          }\n        }\n        if (16 > e) return 1 + o;\n        if (65536 > e) return 3 + o;\n        if (4294967296 > e) return 5 + o;\n        throw new Error('Array or object too long 0x' + e.toString(16));\n      }\n      throw new Error('Unknown type ' + t);\n    }\n    function o(r) {\n      var t = new ArrayBuffer(i(r)),\n          n = new DataView(t);\n      return e(r, n, 0), new Uint8Array(t);\n    }\n    function a(r, t, n) {\n      return t ? new r(t.buffer, t.byteOffset, t.byteLength / (n || 1)) : void 0;\n    }\n    function u(r) {\n      return a(DataView, r);\n    }\n    function s(r) {\n      return a(Uint8Array, r);\n    }\n    function f(r) {\n      return a(Int8Array, r);\n    }\n    function c(r) {\n      return a(Int32Array, r, 4);\n    }\n    function d(r) {\n      return a(Float32Array, r, 4);\n    }\n    function l(r, t) {\n      var n = r.length / 2;\n      t || (t = new Int16Array(n));\n      for (var e = 0, i = 0; n > e; ++e, i += 2) {\n        t[e] = r[i] << 8 ^ r[i + 1] << 0;\n      }\n      return t;\n    }\n    function v(r, t) {\n      var n = r.length;\n      t || (t = new Uint8Array(2 * n));\n      for (var e = u(t), i = 0; n > i; ++i) {\n        e.setInt16(2 * i, r[i]);\n      }\n      return s(t);\n    }\n    function g(r, t) {\n      var n = r.length / 4;\n      t || (t = new Int32Array(n));\n      for (var e = 0, i = 0; n > e; ++e, i += 4) {\n        t[e] = r[i] << 24 ^ r[i + 1] << 16 ^ r[i + 2] << 8 ^ r[i + 3] << 0;\n      }\n      return t;\n    }\n    function L(r, t) {\n      var n = r.length;\n      t || (t = new Uint8Array(4 * n));\n      for (var e = u(t), i = 0; n > i; ++i) {\n        e.setInt32(4 * i, r[i]);\n      }\n      return s(t);\n    }\n    function h(r, t) {\n      var n = r.length;\n      t || (t = new Float32Array(n / 4));\n      for (var e = u(t), i = u(r), o = 0, a = 0, s = n / 4; s > o; ++o, a += 4) {\n        e.setFloat32(a, i.getFloat32(a), !0);\n      }\n      return t;\n    }\n    function y(r, t, n) {\n      var e = r.length,\n          i = 1 / t;\n      n || (n = new Float32Array(e));\n      for (var o = 0; e > o; ++o) {\n        n[o] = r[o] * i;\n      }\n      return n;\n    }\n    function m(r, t, n) {\n      var e = r.length;\n      n || (n = new Int32Array(e));\n      for (var i = 0; e > i; ++i) {\n        n[i] = Math.round(r[i] * t);\n      }\n      return n;\n    }\n    function p(r, t) {\n      var n, e;\n      if (!t) {\n        var i = 0;\n        for (n = 0, e = r.length; e > n; n += 2) {\n          i += r[n + 1];\n        }\n        t = new r.constructor(i);\n      }\n      var o = 0;\n      for (n = 0, e = r.length; e > n; n += 2) {\n        for (var a = r[n], u = r[n + 1], s = 0; u > s; ++s) {\n          t[o] = a, ++o;\n        }\n      }\n      return t;\n    }\n    function U(r) {\n      if (0 === r.length) return new Int32Array();\n      var t,\n          n,\n          e = 2;\n      for (t = 1, n = r.length; n > t; ++t) {\n        r[t - 1] !== r[t] && (e += 2);\n      }\n      var i = new Int32Array(e),\n          o = 0,\n          a = 1;\n      for (t = 1, n = r.length; n > t; ++t) {\n        r[t - 1] !== r[t] ? (i[o] = r[t - 1], i[o + 1] = a, a = 1, o += 2) : ++a;\n      }\n      return i[o] = r[r.length - 1], i[o + 1] = a, i;\n    }\n    function b(r, t) {\n      var n = r.length;\n      t || (t = new r.constructor(n)), n && (t[0] = r[0]);\n      for (var e = 1; n > e; ++e) {\n        t[e] = r[e] + t[e - 1];\n      }\n      return t;\n    }\n    function I(r, t) {\n      var n = r.length;\n      t || (t = new r.constructor(n)), t[0] = r[0];\n      for (var e = 1; n > e; ++e) {\n        t[e] = r[e] - r[e - 1];\n      }\n      return t;\n    }\n    function w(r, t) {\n      var n,\n          e,\n          i = r instanceof Int8Array ? 127 : 32767,\n          o = -i - 1,\n          a = r.length;\n      if (!t) {\n        var u = 0;\n        for (n = 0; a > n; ++n) {\n          r[n] < i && r[n] > o && ++u;\n        }\n        t = new Int32Array(u);\n      }\n      for (n = 0, e = 0; a > n;) {\n        for (var s = 0; r[n] === i || r[n] === o;) {\n          s += r[n], ++n;\n        }\n        s += r[n], ++n, t[e] = s, ++e;\n      }\n      return t;\n    }\n    function C(r, t) {\n      var n,\n          e = t ? 127 : 32767,\n          i = -e - 1,\n          o = r.length,\n          a = 0;\n      for (n = 0; o > n; ++n) {\n        var u = r[n];\n        0 === u ? ++a : a += u === e || u === i ? 2 : u > 0 ? Math.ceil(u / e) : Math.ceil(u / i);\n      }\n      var s = t ? new Int8Array(a) : new Int16Array(a),\n          f = 0;\n      for (n = 0; o > n; ++n) {\n        var u = r[n];\n        if (u >= 0) for (; u >= e;) {\n          s[f] = e, ++f, u -= e;\n        } else for (; i >= u;) {\n          s[f] = i, ++f, u -= i;\n        }\n        s[f] = u, ++f;\n      }\n      return s;\n    }\n    function A(r, t) {\n      return b(p(r), t);\n    }\n    function x(r) {\n      return U(I(r));\n    }\n    function M(r, t, n) {\n      return y(p(r, c(n)), t, n);\n    }\n    function F(r, t) {\n      return U(m(r, t));\n    }\n    function S(r, t, n) {\n      return y(b(r, c(n)), t, n);\n    }\n    function E(r, t, n) {\n      return I(m(r, t), n);\n    }\n    function N(r, t, n) {\n      return y(w(r, c(n)), t, n);\n    }\n    function O(r, t, n) {\n      var e = w(r, c(n));\n      return S(e, t, d(e));\n    }\n    function T(r, t, n) {\n      return C(E(r, t), n);\n    }\n    function k(r) {\n      var t = u(r),\n          n = t.getInt32(0),\n          e = t.getInt32(4),\n          i = r.subarray(8, 12),\n          r = r.subarray(12);\n      return [n, r, e, i];\n    }\n    function j(r, t, n, e) {\n      var i = new ArrayBuffer(12 + e.byteLength),\n          o = new Uint8Array(i),\n          a = new DataView(i);\n      return a.setInt32(0, r), a.setInt32(4, t), n && o.set(n, 8), o.set(e, 12), o;\n    }\n    function q(r) {\n      var t = r.length,\n          n = s(r);\n      return j(2, t, void 0, n);\n    }\n    function D(r) {\n      var t = r.length,\n          n = L(r);\n      return j(4, t, void 0, n);\n    }\n    function P(r, t) {\n      var n = r.length / t,\n          e = L([t]),\n          i = s(r);\n      return j(5, n, e, i);\n    }\n    function z(r) {\n      var t = r.length,\n          n = L(U(r));\n      return j(6, t, void 0, n);\n    }\n    function B(r) {\n      var t = r.length,\n          n = L(x(r));\n      return j(8, t, void 0, n);\n    }\n    function V(r, t) {\n      var n = r.length,\n          e = L([t]),\n          i = L(F(r, t));\n      return j(9, n, e, i);\n    }\n    function G(r, t) {\n      var n = r.length,\n          e = L([t]),\n          i = v(T(r, t));\n      return j(10, n, e, i);\n    }\n    function R(r) {\n      var t = {};\n      return rr.forEach(function (n) {\n        void 0 !== r[n] && (t[n] = r[n]);\n      }), r.bondAtomList && (t.bondAtomList = D(r.bondAtomList)), r.bondOrderList && (t.bondOrderList = q(r.bondOrderList)), t.xCoordList = G(r.xCoordList, 1e3), t.yCoordList = G(r.yCoordList, 1e3), t.zCoordList = G(r.zCoordList, 1e3), r.bFactorList && (t.bFactorList = G(r.bFactorList, 100)), r.atomIdList && (t.atomIdList = B(r.atomIdList)), r.altLocList && (t.altLocList = z(r.altLocList)), r.occupancyList && (t.occupancyList = V(r.occupancyList, 100)), t.groupIdList = B(r.groupIdList), t.groupTypeList = D(r.groupTypeList), r.secStructList && (t.secStructList = q(r.secStructList)), r.insCodeList && (t.insCodeList = z(r.insCodeList)), r.sequenceIndexList && (t.sequenceIndexList = B(r.sequenceIndexList)), t.chainIdList = P(r.chainIdList, 4), r.chainNameList && (t.chainNameList = P(r.chainNameList, 4)), t;\n    }\n    function H(r) {\n      function t(r) {\n        for (var t = {}, n = 0; r > n; n++) {\n          var e = o();\n          t[e] = o();\n        }\n        return t;\n      }\n      function n(t) {\n        var n = r.subarray(a, a + t);\n        return a += t, n;\n      }\n      function e(t) {\n        var n = r.subarray(a, a + t);\n        a += t;\n        var e = 65535;\n        if (t > e) {\n          for (var i = [], o = 0; o < n.length; o += e) {\n            i.push(String.fromCharCode.apply(null, n.subarray(o, o + e)));\n          }\n          return i.join('');\n        }\n        return String.fromCharCode.apply(null, n);\n      }\n      function i(r) {\n        for (var t = new Array(r), n = 0; r > n; n++) {\n          t[n] = o();\n        }\n        return t;\n      }\n      function o() {\n        var o,\n            s,\n            f = r[a];\n        if (0 === (128 & f)) return a++, f;\n        if (128 === (240 & f)) return s = 15 & f, a++, t(s);\n        if (144 === (240 & f)) return s = 15 & f, a++, i(s);\n        if (160 === (224 & f)) return s = 31 & f, a++, e(s);\n        if (224 === (224 & f)) return o = u.getInt8(a), a++, o;\n        switch (f) {\n          case 192:\n            return a++, null;\n          case 194:\n            return a++, !1;\n          case 195:\n            return a++, !0;\n          case 196:\n            return s = u.getUint8(a + 1), a += 2, n(s);\n          case 197:\n            return s = u.getUint16(a + 1), a += 3, n(s);\n          case 198:\n            return s = u.getUint32(a + 1), a += 5, n(s);\n          case 202:\n            return o = u.getFloat32(a + 1), a += 5, o;\n          case 203:\n            return o = u.getFloat64(a + 1), a += 9, o;\n          case 204:\n            return o = r[a + 1], a += 2, o;\n          case 205:\n            return o = u.getUint16(a + 1), a += 3, o;\n          case 206:\n            return o = u.getUint32(a + 1), a += 5, o;\n          case 208:\n            return o = u.getInt8(a + 1), a += 2, o;\n          case 209:\n            return o = u.getInt16(a + 1), a += 3, o;\n          case 210:\n            return o = u.getInt32(a + 1), a += 5, o;\n          case 217:\n            return s = u.getUint8(a + 1), a += 2, e(s);\n          case 218:\n            return s = u.getUint16(a + 1), a += 3, e(s);\n          case 219:\n            return s = u.getUint32(a + 1), a += 5, e(s);\n          case 220:\n            return s = u.getUint16(a + 1), a += 3, i(s);\n          case 221:\n            return s = u.getUint32(a + 1), a += 5, i(s);\n          case 222:\n            return s = u.getUint16(a + 1), a += 3, t(s);\n          case 223:\n            return s = u.getUint32(a + 1), a += 5, t(s);\n        }\n        throw new Error('Unknown type 0x' + f.toString(16));\n      }\n      var a = 0,\n          u = new DataView(r.buffer);\n      return o();\n    }\n    function W(r, t, n, e) {\n      switch (r) {\n        case 1:\n          return h(t);\n        case 2:\n          return f(t);\n        case 3:\n          return l(t);\n        case 4:\n          return g(t);\n        case 5:\n          return s(t);\n        case 6:\n          return p(g(t), new Uint8Array(n));\n        case 7:\n          return p(g(t));\n        case 8:\n          return A(g(t));\n        case 9:\n          return M(g(t), g(e)[0]);\n        case 10:\n          return O(l(t), g(e)[0]);\n        case 11:\n          return y(l(t), g(e)[0]);\n        case 12:\n          return N(l(t), g(e)[0]);\n        case 13:\n          return N(f(t), g(e)[0]);\n        case 14:\n          return w(l(t));\n        case 15:\n          return w(f(t));\n      }\n    }\n    function X(r, t) {\n      t = t || {};\n      var n = t.ignoreFields,\n          e = {};\n      return nr.forEach(function (t) {\n        var i = n ? -1 !== n.indexOf(t) : !1,\n            o = r[t];\n        i || void 0 === o || (o instanceof Uint8Array ? e[t] = W.apply(null, k(o)) : e[t] = o);\n      }), e;\n    }\n    function J(r) {\n      return String.fromCharCode.apply(null, r).replace(/\\0/g, '');\n    }\n    function K(r, t, n) {\n      n = n || {};\n      var e,\n          i,\n          o,\n          a,\n          u,\n          s,\n          f = n.firstModelOnly,\n          c = t.onModel,\n          d = t.onChain,\n          l = t.onGroup,\n          v = t.onAtom,\n          g = t.onBond,\n          L = 0,\n          h = 0,\n          y = 0,\n          m = 0,\n          p = 0,\n          U = -1,\n          b = r.chainNameList,\n          I = r.secStructList,\n          w = r.insCodeList,\n          C = r.sequenceIndexList,\n          A = r.atomIdList,\n          x = r.bFactorList,\n          M = r.altLocList,\n          F = r.occupancyList,\n          S = r.bondAtomList,\n          E = r.bondOrderList;\n      for (e = 0, i = r.chainsPerModel.length; i > e && !(f && L > 0); ++e) {\n        var N = r.chainsPerModel[L];\n        for (c && c({\n          chainCount: N,\n          modelIndex: L\n        }), o = 0; N > o; ++o) {\n          var O = r.groupsPerChain[h];\n          if (d) {\n            var T = J(r.chainIdList.subarray(4 * h, 4 * h + 4)),\n                k = null;\n            b && (k = J(b.subarray(4 * h, 4 * h + 4))), d({\n              groupCount: O,\n              chainIndex: h,\n              modelIndex: L,\n              chainId: T,\n              chainName: k\n            });\n          }\n          for (a = 0; O > a; ++a) {\n            var j = r.groupList[r.groupTypeList[y]],\n                q = j.atomNameList.length;\n            if (l) {\n              var D = null;\n              I && (D = I[y]);\n              var P = null;\n              r.insCodeList && (P = String.fromCharCode(w[y]));\n              var z = null;\n              C && (z = C[y]), l({\n                atomCount: q,\n                groupIndex: y,\n                chainIndex: h,\n                modelIndex: L,\n                groupId: r.groupIdList[y],\n                groupType: r.groupTypeList[y],\n                groupName: j.groupName,\n                singleLetterCode: j.singleLetterCode,\n                chemCompType: j.chemCompType,\n                secStruct: D,\n                insCode: P,\n                sequenceIndex: z\n              });\n            }\n            for (u = 0; q > u; ++u) {\n              if (v) {\n                var B = null;\n                A && (B = A[m]);\n                var V = null;\n                x && (V = x[m]);\n                var G = null;\n                M && (G = String.fromCharCode(M[m]));\n                var R = null;\n                F && (R = F[m]), v({\n                  atomIndex: m,\n                  groupIndex: y,\n                  chainIndex: h,\n                  modelIndex: L,\n                  atomId: B,\n                  element: j.elementList[u],\n                  atomName: j.atomNameList[u],\n                  formalCharge: j.formalChargeList[u],\n                  xCoord: r.xCoordList[m],\n                  yCoord: r.yCoordList[m],\n                  zCoord: r.zCoordList[m],\n                  bFactor: V,\n                  altLoc: G,\n                  occupancy: R\n                });\n              }\n              m += 1;\n            }\n            if (g) {\n              var H = j.bondAtomList;\n              for (u = 0, s = j.bondOrderList.length; s > u; ++u) {\n                g({\n                  atomIndex1: m - q + H[2 * u],\n                  atomIndex2: m - q + H[2 * u + 1],\n                  bondOrder: j.bondOrderList[u]\n                });\n              }\n            }\n            y += 1;\n          }\n          h += 1;\n        }\n        if (p = U + 1, U = m - 1, g && S) for (u = 0, s = S.length; s > u; u += 2) {\n          var W = S[u],\n              X = S[u + 1];\n          (W >= p && U >= W || X >= p && U >= X) && g({\n            atomIndex1: W,\n            atomIndex2: X,\n            bondOrder: E ? E[u / 2] : null\n          });\n        }\n        L += 1;\n      }\n    }\n    function Q(r) {\n      return o(R(r));\n    }\n    function Y(r, t) {\n      r instanceof ArrayBuffer && (r = new Uint8Array(r));\n      var n;\n      return n = r instanceof Uint8Array ? H(r) : r, X(n, t);\n    }\n    function Z(r, t, n, e) {\n      function i() {\n        try {\n          var r = Y(o.response);\n          n(r);\n        } catch (t) {\n          e(t);\n        }\n      }\n      var o = new XMLHttpRequest();\n      o.addEventListener('load', i, !0), o.addEventListener('error', e, !0), o.responseType = 'arraybuffer', o.open('GET', t + r.toUpperCase()), o.send();\n    }\n    function $(r, t, n) {\n      Z(r, or, t, n);\n    }\n    function _(r, t, n) {\n      Z(r, ar, t, n);\n    }\n    var rr = ['mmtfVersion', 'mmtfProducer', 'unitCell', 'spaceGroup', 'structureId', 'title', 'depositionDate', 'releaseDate', 'experimentalMethods', 'resolution', 'rFree', 'rWork', 'bioAssemblyList', 'ncsOperatorList', 'entityList', 'groupList', 'numBonds', 'numAtoms', 'numGroups', 'numChains', 'numModels', 'groupsPerChain', 'chainsPerModel'],\n        tr = ['xCoordList', 'yCoordList', 'zCoordList', 'groupIdList', 'groupTypeList', 'chainIdList', 'bFactorList', 'atomIdList', 'altLocList', 'occupancyList', 'secStructList', 'insCodeList', 'sequenceIndexList', 'chainNameList', 'bondAtomList', 'bondOrderList'],\n        nr = rr.concat(tr),\n        er = 'v1.1.0dev',\n        ir = '//mmtf.rcsb.org/v1.0/',\n        or = ir + 'full/',\n        ar = ir + 'reduced/';\n    r.encode = Q, r.decode = Y, r.traverse = K, r.fetch = $, r.fetchReduced = _, r.version = er, r.fetchUrl = or, r.fetchReducedUrl = ar, r.encodeMsgpack = o, r.encodeMmtf = R, r.decodeMsgpack = H, r.decodeMmtf = X;\n  });\n})(mmtf, mmtf.exports);\nvar MMTF = mmtf.exports;\n\nfunction _createSuper$n(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$n(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$n() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$6 = chem.Complex,\n    Chain$1 = chem.Chain,\n    Atom$1 = chem.Atom,\n    Element$6 = chem.Element,\n    Helix$1 = chem.Helix,\n    Sheet$1 = chem.Sheet,\n    Strand$1 = chem.Strand,\n    Bond$2 = chem.Bond,\n    Assembly$1 = chem.Assembly,\n    Molecule$6 = chem.Molecule;\nvar ArrayComparator = function () {\n  function ArrayComparator(original) {\n    _classCallCheck(this, ArrayComparator);\n    this._original = Array.from(original);\n    this._original.sort();\n    this._sum = 0;\n    for (var i = 0; i < this._original.length; ++i) {\n      this._sum += this._original[i];\n    }\n  }\n  _createClass(ArrayComparator, [{\n    key: \"compare\",\n    value: function compare(candidate) {\n      var len = candidate.length;\n      if (len !== this._original.length) {\n        return false;\n      }\n      var sum = 0;\n      var i;\n      for (i = 0; i < len; ++i) {\n        sum += candidate[i];\n      }\n      if (sum !== this._sum) {\n        return false;\n      }\n      var sorted = Array.from(candidate);\n      sorted.sort();\n      for (i = 0; i < len; ++i) {\n        if (sorted[i] !== this._original[i]) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }]);\n  return ArrayComparator;\n}();\nArrayComparator.prototype.constructor = ArrayComparator;\nvar StructuralElementType = StructuralElement.Type;\nvar secStructToType = [StructuralElementType.HELIX_PI,\nStructuralElementType.BEND,\nStructuralElementType.HELIX_ALPHA,\nStructuralElementType.STRAND,\nStructuralElementType.HELIX_310,\nStructuralElementType.BRIDGE,\nStructuralElementType.TURN,\nStructuralElementType.COIL\n];\nfunction getFirstByte(buf) {\n  var bytes = new Uint8Array(buf, 0, 1);\n  return bytes[0];\n}\nvar MMTFParser = function (_Parser) {\n  _inherits(MMTFParser, _Parser);\n  var _super = _createSuper$n(MMTFParser);\n  function MMTFParser(data, options) {\n    var _this;\n    _classCallCheck(this, MMTFParser);\n    _this = _super.call(this, data, options);\n    _this._options.fileType = 'mmtf';\n    return _this;\n  }\n  _createClass(MMTFParser, [{\n    key: \"_onModel\",\n    value: function _onModel(_modelData) {}\n  }, {\n    key: \"_onChain\",\n    value: function _onChain(chainData) {\n      if (chainData.modelIndex !== 0) {\n        return;\n      }\n      var chain = new Chain$1(this._complex, chainData.chainName);\n      this._complex._chains[chainData.chainIndex] = chain;\n      chain._index = chainData.chainIndex;\n    }\n  }, {\n    key: \"_onGroup\",\n    value: function _onGroup(groupData) {\n      if (groupData.modelIndex !== 0) {\n        return;\n      }\n      if (this.settings.now.nowater) {\n        if (groupData.groupName === 'HOH' || groupData.groupName === 'WAT') {\n          return;\n        }\n      }\n      var chain = this._complex._chains[groupData.chainIndex];\n      var icode = !groupData.insCode.charCodeAt(0) ? '' : groupData.insCode;\n      var residue = chain.addResidue(groupData.groupName, groupData.groupId, icode);\n      residue._index = groupData.groupIndex;\n      this._updateSecStructure(this._complex, residue, groupData);\n    }\n  }, {\n    key: \"_onAtom\",\n    value: function _onAtom(atomData) {\n      if (atomData.modelIndex !== 0) {\n        return;\n      }\n      var altLoc = !atomData.altLoc.charCodeAt(0) ? '' : atomData.altLoc;\n      var atom = new Atom$1(atomData.groupIndex,\n      atomData.atomName, Element$6.getByName(atomData.element.toUpperCase()), new Vector3(atomData.xCoord, atomData.yCoord, atomData.zCoord), Element$6.Role[atomData.atomName], false,\n      atomData.atomId, altLoc, atomData.occupancy, atomData.bFactor, atomData.formalCharge);\n      this._complex._atoms[atomData.atomIndex] = atom;\n      atom.index = atomData.atomIndex;\n      this._serialAtomMap[atomData.atomId] = atom;\n    }\n  }, {\n    key: \"_onBond\",\n    value: function _onBond(bondData) {\n      var right = Math.max(bondData.atomIndex1, bondData.atomIndex2);\n      if (right >= this._complex._atoms.length) {\n        return;\n      }\n      var left = Math.min(bondData.atomIndex1, bondData.atomIndex2);\n      this._complex.addBond(this._complex._atoms[left], this._complex._atoms[right], bondData.bondOrder, Bond$2.BondType.UNKNOWN, true);\n    }\n  }, {\n    key: \"_updateSecStructure\",\n    value: function _updateSecStructure(complex, residue, groupData) {\n      var helixClasses = [3, -1, 1, -1, 5];\n      if (!isUndefined(groupData) && groupData.secStruct === this._ssType) {\n        residue._secondary = this._ssStruct;\n        if (this._ssStruct) {\n          this._ssStruct.term = residue;\n        }\n        return;\n      }\n      if (!isUndefined(groupData)) {\n        var type = secStructToType[groupData.secStruct];\n        this._ssType = groupData.secStruct;\n        this._ssStart = residue;\n        var struct = null;\n        switch (this._ssType) {\n          case -1:\n          case 7:\n            break;\n          case 0:\n          case 2:\n          case 4:\n            struct = new Helix$1(helixClasses[this._ssType], residue, residue, 0, '', '', 0);\n            complex._helices.push(struct);\n            break;\n          case 3:\n            {\n              var sheet = new Sheet$1('', 0);\n              complex._sheets.push(sheet);\n              struct = new Strand$1(sheet, residue, residue, 0, null, null);\n              break;\n            }\n          default:\n            if (type !== undefined) {\n              struct = new StructuralElement(type, residue, residue);\n            }\n            break;\n        }\n        this._ssStruct = struct;\n        residue._secondary = struct;\n        if (struct) {\n          complex.structures.push(struct);\n        }\n      }\n    }\n  }, {\n    key: \"_updateMolecules\",\n    value: function _updateMolecules(mmtfData) {\n      var entities = mmtfData.entityList;\n      if (!entities) {\n        return;\n      }\n      var chainsInModel0 = mmtfData.chainsPerModel[0];\n      for (var i = 0; i < entities.length; i++) {\n        var entity = entities[i];\n        var chains = entity.chainIndexList;\n        var residues = [];\n        for (var j = 0; j < chains.length; j++) {\n          var chainIndex = chains[j];\n          if (chainIndex >= chainsInModel0) {\n            continue;\n          }\n          var chain = this._complex._chains[chainIndex];\n          residues = residues.concat(chain._residues.slice());\n        }\n        var molecule = new Molecule$6(this._complex, entity.description, i + 1);\n        molecule.residues = residues;\n        this._complex._molecules[i] = molecule;\n      }\n    }\n  }, {\n    key: \"_traverse\",\n    value: function _traverse(mmtfData) {\n      var self = this;\n      var metadata = this._complex.metadata;\n      metadata.id = mmtfData.structureId;\n      metadata.title = [];\n      metadata.title[0] = mmtfData.title;\n      metadata.date = mmtfData.releaseDate;\n      metadata.format = 'mmtf';\n      var eventCallbacks = {\n        onModel: function onModel(modelData) {\n          self._onModel(modelData);\n        },\n        onChain: function onChain(chainData) {\n          self._onChain(chainData);\n        },\n        onGroup: function onGroup(groupData) {\n          self._onGroup(groupData);\n        },\n        onAtom: function onAtom(atomData) {\n          self._onAtom(atomData);\n        },\n        onBond: function onBond(bondData) {\n          self._onBond(bondData);\n        }\n      };\n      this._ssType = -1;\n      this._ssStruct = null;\n      this._ssStart = null;\n      MMTF.traverse(mmtfData, eventCallbacks);\n      this._updateSecStructure(this._complex);\n      this._updateMolecules(mmtfData);\n    }\n  }, {\n    key: \"_linkAtomsToResidues\",\n    value: function _linkAtomsToResidues() {\n      for (var i = 0; i < this._complex._atoms.length; ++i) {\n        var atom = this._complex._atoms[i];\n        var residue = this._complex._residues[atom.residue];\n        atom.residue = residue;\n        residue._atoms.push(atom);\n      }\n    }\n  }, {\n    key: \"_findSynonymousChains\",\n    value: function _findSynonymousChains() {\n      var named = {};\n      for (var i = 0; i < this._complex._chains.length; ++i) {\n        var chain = this._complex._chains[i];\n        var name = chain.getName();\n        if (!Object.hasOwn(named, name)) {\n          named[name] = [];\n        }\n        named[name].push(chain._index);\n      }\n      return named;\n    }\n  }, {\n    key: \"_parseAssemblyInfo\",\n    value: function _parseAssemblyInfo(mmtfData) {\n      var i;\n      var j;\n      var k;\n      var assemblies = [];\n      var logger = this.logger;\n      for (i = 0; i < mmtfData.bioAssemblyList.length; ++i) {\n        var baInfo = mmtfData.bioAssemblyList[i];\n        if (baInfo.transformList.length === 0) {\n          continue;\n        }\n        var chains = baInfo.transformList[0].chainIndexList;\n        var chainListCheck = new ArrayComparator(chains);\n        var chainNames = {};\n        for (j = 0; j < chains.length; ++j) {\n          chainNames[this._complex._chains[chains[j]].getName()] = 1;\n        }\n        var allChains = [];\n        var name = void 0;\n        for (name in chainNames) {\n          if (Object.hasOwn(chainNames, name)) {\n            Array.prototype.push.apply(allChains, this._chainsByName[name]);\n          }\n        }\n        if (!chainListCheck.compare(allChains)) {\n          logger.debug('MMTF: Assembly is missing some of the synonymous chains. Skipping...');\n        }\n        var a = new Assembly$1(this._complex);\n        for (name in chainNames) {\n          if (Object.hasOwn(chainNames, name)) {\n            a.addChain(name);\n          }\n        }\n        a.addMatrix(new Matrix4().fromArray(baInfo.transformList[0].matrix).transpose());\n        for (j = 1; j < baInfo.transformList.length; ++j) {\n          var transform = baInfo.transformList[j];\n          if (!chainListCheck.compare(transform.chainIndexList)) {\n            logger.debug('MMTF: Chain lists differ for different transforms in one assembly. Skipping...');\n            continue;\n          }\n          var m = new Matrix4().fromArray(transform.matrix).transpose();\n          for (k = 0; k < a.matrices.length; ++k) {\n            if (a.matrices[k].equals(m)) {\n              break;\n            }\n          }\n          if (k === a.matrices.length) {\n            a.addMatrix(m);\n          }\n        }\n        a.finalize();\n        assemblies.push(a);\n      }\n      return assemblies;\n    }\n  }, {\n    key: \"_markHeteroAtoms\",\n    value: function _markHeteroAtoms(mmtfData) {\n      var chainsInModel0 = mmtfData.chainsPerModel[0];\n      for (var i = 0; i < mmtfData.entityList.length; ++i) {\n        var entity = mmtfData.entityList[i];\n        if (entity.type !== 'polymer') {\n          for (var j = 0; j < entity.chainIndexList.length; ++j) {\n            var chainIndex = entity.chainIndexList[j];\n            if (chainIndex >= chainsInModel0) {\n              continue;\n            }\n            var chain = this._complex._chains[chainIndex];\n            for (var k = 0; k < chain._residues.length; ++k) {\n              var res = chain._residues[k];\n              for (var m = 0; m < res._atoms.length; ++m) {\n                res._atoms[m].het = true;\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_joinSynonymousChains\",\n    value: function _joinSynonymousChains() {\n      var i;\n      var j;\n      var primaryChainsArray = [];\n      var primaryChainsHash = {};\n      for (i = 0; i < this._complex._chains.length; ++i) {\n        var chain = this._complex._chains[i];\n        var name = chain.getName();\n        if (!Object.hasOwn(primaryChainsHash, name)) {\n          primaryChainsHash[name] = chain;\n          chain._index = primaryChainsArray.length;\n          primaryChainsArray.push(chain);\n          continue;\n        }\n        var primary = primaryChainsHash[name];\n        for (j = 0; j < chain._residues.length; ++j) {\n          var residue = chain._residues[j];\n          primary._residues.push(residue);\n          residue._chain = primary;\n        }\n      }\n      this._complex._chains = primaryChainsArray;\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var mmtfData = MMTF.decode(this._data);\n      this._complex = new Complex$6();\n      this._serialAtomMap = {};\n      this._traverse(mmtfData);\n      this._linkAtomsToResidues();\n      this._markHeteroAtoms(mmtfData);\n      this._chainsByName = this._findSynonymousChains();\n      Array.prototype.push.apply(this._complex.units, this._parseAssemblyInfo(mmtfData));\n      this._joinSynonymousChains();\n      this._complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n      return this._complex;\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isArrayBuffer(data) && (getFirstByte(data) | 1) === 0xdf;\n    }\n  }]);\n  return MMTFParser;\n}(Parser);\nMMTFParser.formats = ['mmtf'];\nMMTFParser.extensions = ['.mmtf'];\nMMTFParser.binary = true;\n\nfunction _createSuper$m(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$m(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$m() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ParsingError = function (_Error) {\n  _inherits(ParsingError, _Error);\n  var _super = _createSuper$m(ParsingError);\n  function ParsingError(message, line, column) {\n    var _this;\n    _classCallCheck(this, ParsingError);\n    _this = _super.call(this, \"data:\".concat(line, \":\").concat(column, \": \").concat(message));\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_assertThisInitialized(_this), ParsingError);\n    }\n    _this.name = 'ParsingError';\n    _this.parseLine = line;\n    _this.parseColumn = column;\n    return _this;\n  }\n  return _createClass(ParsingError);\n}( _wrapNativeSuper(Error));\n\nfunction _isWhitespace(ch) {\n  return ch === 32 || ch === 10 || ch === 13 || ch === 9;\n}\nfunction _inlineIndexOf(ch0, str, idx) {\n  var len = str.length;\n  var ch = -1;\n  while (idx < len) {\n    ch = str.charCodeAt(idx);\n    if (ch === ch0 || ch === 10) {\n      break;\n    }\n    ++idx;\n  }\n  return ch === ch0 ? idx : -1;\n}\nfunction readCIF(source) {\n  var i = 0;\n  var j = 0;\n  var n = source.length;\n  var code = NaN;\n  var newline = true;\n  var line = 1;\n  var column = 1;\n  var begin;\n  var state = 0;\n  var result = {};\n  var block = {};\n  var keys = [];\n  var keysCount = 0;\n  var key = '';\n  var values = [];\n  var valuesCount = 0;\n  var value;\n  function _parseValue() {\n    var val;\n    if ((code === 46 || code === 63) && (i + 1 >= n || _isWhitespace(source.charCodeAt(i + 1)))) {\n      ++column;\n      ++i;\n      return undefined;\n    }\n    if (newline && code === 59) {\n      j = i;\n      var lines = 0;\n      do {\n        j = _inlineIndexOf(10, source, j + 1);\n        if (j === -1) {\n          throw new ParsingError('Unterminated text block found', line, column);\n        }\n        ++lines;\n      } while (j + 1 < n && source.charCodeAt(j + 1) !== code || j + 1 >= n);\n      val = source.substring(i + 1, j).replace(/\\r/g, '');\n      i = j + 2;\n      line += lines;\n      column = 1;\n      newline = false;\n      return val;\n    }\n    if (code === 39 || code === 34) {\n      j = i;\n      do {\n        j = _inlineIndexOf(code, source, j + 1);\n        if (j === -1) {\n          throw new ParsingError('Unterminated quoted string found', line, column);\n        }\n      } while (j + 1 < n && !_isWhitespace(source.charCodeAt(j + 1)));\n      val = source.substring(i + 1, j);\n      column += j - i + 1;\n      i = j + 1;\n      return val;\n    }\n    j = i;\n    while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n      ++j;\n    }\n    val = source.substring(i, j);\n    column += j - i;\n    i = j;\n    var num = Number(val);\n    if (!Number.isNaN(num)) {\n      return num;\n    }\n    return val;\n  }\n  function _storeKey(tag) {\n    keys[keysCount++] = tag;\n  }\n  function _storeValue(val) {\n    var keyIndex = valuesCount % keysCount;\n    values[keyIndex].push(val);\n    ++valuesCount;\n    return val;\n  }\n  while (i <= n) {\n    code = source.charCodeAt(i);\n    if (code === 13) ; else if (code === 10) {\n      newline = true;\n      ++line;\n      column = 1;\n    } else {\n      if (code === 32 || code === 9) ; else if (code === 35) {\n        i = _inlineIndexOf(10, source, i + 1);\n        if (i === -1) {\n          break;\n        } else {\n          continue;\n        }\n      } else if (state === 0) {\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') {\n          j = i + 5;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            result[source.substring(begin, i)] = block = {};\n            state = 1;\n            continue;\n          } else {\n            throw new ParsingError('Data block name missing', line, column);\n          }\n        } else if (Number.isNaN(code)) {\n          break;\n        } else {\n          throw new ParsingError(\"Unexpected character in state \".concat(state), line, column);\n        }\n      } else if (state === 1) {\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') {\n          state = 0;\n          continue;\n        } else if (code === 95) {\n          j = i + 1;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            key = source.substring(begin, i);\n            state = 2;\n            continue;\n          } else {\n            throw new ParsingError('Tag name missing', line, column);\n          }\n        } else if ((code === 76 || code === 108) && source.substr(i + 1, 4).toLowerCase() === 'oop_') {\n          i += 5;\n          column += 5;\n          if (i < n && !_isWhitespace(source.charCodeAt(i))) {\n            throw new ParsingError(\"Unexpected character in state \".concat(state), line, column);\n          } else {\n            keys = [];\n            keysCount = 0;\n            values = [];\n            valuesCount = 0;\n            state = 3;\n            continue;\n          }\n        } else if (Number.isNaN(code)) {\n          break;\n        } else {\n          throw new ParsingError(\"Unexpected character in state \".concat(state), line, column);\n        }\n      } else if (state === 2) {\n        if (Number.isNaN(code)) {\n          break;\n        }\n        value = _parseValue();\n        set(block, key, value);\n        state = 1;\n        continue;\n      } else if (state === 3) {\n        if (code === 95) {\n          j = i + 1;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            _storeKey(source.substring(begin, i));\n            continue;\n          } else {\n            throw new ParsingError('Tag name missing', line, column);\n          }\n        } else {\n          if (keysCount > 0) {\n            for (var keyIndex = 0; keyIndex < keysCount; ++keyIndex) {\n              value = [];\n              values[keyIndex] = value;\n              set(block, keys[keyIndex], value);\n            }\n            state = 4;\n            continue;\n          }\n          throw new ParsingError('Data tags are missing inside a loop', line, column);\n        }\n      } else if (state === 4) {\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') {\n          state = 0;\n        } else if (code === 95) {\n          state = 1;\n        } else if ((code === 76 || code === 108) && source.substr(i + 1, 4).toLowerCase() === 'oop_') {\n          state = 1;\n        } else if (Number.isNaN(code)) {\n          state = 0;\n        } else {\n          _storeValue(_parseValue());\n        }\n        continue;\n      } else {\n        throw new ParsingError(\"Unexpected internal state \".concat(state), line, column);\n      }\n      newline = false;\n      ++column;\n    }\n    ++i;\n  }\n  if (state === 2) {\n    throw new ParsingError(\"Unexpected end of file in state \".concat(state), line, column);\n  }\n  return result;\n}\n\nfunction _createSuper$l(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$l(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$l() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$5 = chem.Complex,\n    Element$5 = chem.Element,\n    Helix = chem.Helix,\n    Sheet = chem.Sheet,\n    Strand = chem.Strand,\n    Assembly = chem.Assembly,\n    Molecule$5 = chem.Molecule;\nvar cRequiredAtomFields = ['auth_seq_id', 'Cartn_x', 'Cartn_y', 'Cartn_z', 'label_atom_id'];\nvar cSecondaryCoding = {\n  helx: 'helix',\n  turn: 'turn',\n  strn: 'strand'\n};\nfunction getTypeFromId(string) {\n  var typeId = /[A-Za-z]+/.exec(string);\n  if (!typeId) {\n    return null;\n  }\n  return cSecondaryCoding[typeId[0].toLowerCase()];\n}\nfunction arrize(arrayLikeObject) {\n  if (arrayLikeObject === null || arrayLikeObject === undefined || isArray(arrayLikeObject)) {\n    return arrayLikeObject;\n  }\n  return [arrayLikeObject];\n}\nfunction nameToElement(name) {\n  var veryLong = name.trim().length === 4;\n  return name.slice(0, veryLong ? 1 : 2).trim();\n}\nvar AtomDataError = function (_Error) {\n  _inherits(AtomDataError, _Error);\n  var _super = _createSuper$l(AtomDataError);\n  function AtomDataError(message) {\n    var _this;\n    _classCallCheck(this, AtomDataError);\n    _this = _super.call(this);\n    _this.name = 'AtomDataError';\n    _this.message = message;\n    return _this;\n  }\n  return _createClass(AtomDataError);\n}( _wrapNativeSuper(Error));\nfunction _getOperations(operList) {\n  if (!operList) {\n    return null;\n  }\n  var idc = arrize(operList.id);\n  var matrix = operList.matrix,\n      vector = operList.vector;\n  if (!idc || !matrix || !vector) {\n    return null;\n  }\n  var ops = [];\n  for (var i = 0, n = idc.length; i < n; ++i) {\n    var mtx = new Matrix4();\n    var elements = mtx.elements;\n    for (var row = 0; row < 3; ++row) {\n      var matrixData = matrix[row + 1];\n      elements[row] = arrize(matrixData[1])[i];\n      elements[row + 4] = arrize(matrixData[2])[i];\n      elements[row + 8] = arrize(matrixData[3])[i];\n      elements[row + 12] = arrize(vector[row + 1])[i];\n    }\n    ops[idc[i]] = mtx;\n  }\n  return ops;\n}\nfunction _extractOperations(assemblyGen, opsDict) {\n  assemblyGen = isString(assemblyGen) ? assemblyGen : \"\".concat(assemblyGen);\n  var l = assemblyGen.replace(/\\)\\s*\\(/g, '!').replace(/[()']/g, '');\n  var groupStr = l.split('!');\n  var gps = [];\n  for (var grIdx = 0, grCount = groupStr.length; grIdx < grCount; ++grIdx) {\n    var gr = groupStr[grIdx].split(',');\n    var gp = [];\n    var idx = 0;\n    for (var i = 0, n = gr.length; i < n; ++i) {\n      var s = gr[i];\n      if (s.includes('-')) {\n        var es = s.split('-');\n        var j = parseInt(es[0], 10);\n        var m = parseInt(es[1], 10);\n        for (; j <= m; ++j) {\n          gp[idx++] = opsDict[j];\n        }\n      } else {\n        gp[idx++] = opsDict[s];\n      }\n    }\n    gps.push(gp);\n  }\n  var matrices = [];\n  var cnt = 0;\n  function traverse(level, mtx) {\n    for (var ii = 0, nn = gps[level].length; ii < nn; ++ii) {\n      var newMtx = mtx ? mtx.clone() : new Matrix4();\n      newMtx.multiplyMatrices(gps[level][ii], newMtx);\n      if (level === 0) {\n        matrices[cnt++] = newMtx;\n      } else {\n        traverse(level - 1, newMtx);\n      }\n    }\n  }\n  traverse(gps.length - 1);\n  return matrices;\n}\nvar CIFParser = function (_Parser) {\n  _inherits(CIFParser, _Parser);\n  var _super2 = _createSuper$l(CIFParser);\n  function CIFParser(data, options) {\n    var _this2;\n    _classCallCheck(this, CIFParser);\n    _this2 = _super2.call(this, data, options);\n    _this2.asymDict = {};\n    _this2.molecules = [];\n    _this2._options.fileType = 'cif';\n    return _this2;\n  }\n  _createClass(CIFParser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      this.logger.info('Parsing CIF file..');\n      var data = readCIF(this._data);\n      return this._toComplex(data);\n    }\n  }, {\n    key: \"_toComplex\",\n    value: function _toComplex(cifData) {\n      var complex = new Complex$5();\n      var complexData = cifData[Object.keys(cifData)[0]];\n      this._extractAtoms(complex, complexData);\n      this._extractSecondary(complex, complexData);\n      this._extractAssemblies(complex, complexData);\n      this._extractMolecules(complex, complexData);\n      this._extractMetadata(complex, complexData);\n      complex.finalize({\n        needAutoBonding: true,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing\n      });\n      return complex;\n    }\n  }, {\n    key: \"_extractMetadata\",\n    value: function _extractMetadata(complex, complexData) {\n      var metadata = complex.metadata;\n      metadata.id = complexData.entry.id;\n      metadata.classification = complexData.struct_keywords.pdbx_keywords;\n      var databaserev = complexData.database_PDB_rev;\n      metadata.date = databaserev && databaserev.date_original ? databaserev.date_original : '';\n      metadata.format = 'cif';\n      metadata.title = [];\n      metadata.title[0] = complexData.struct.title;\n    }\n  }, {\n    key: \"_extractMolecules\",\n    value: function _extractMolecules(complex, complexData) {\n      var molData = complexData.entity;\n      var names = arrize(molData.pdbx_description);\n      var count = names.length;\n      var i;\n      for (i = 0; i < count; i++) {\n        if (this.molecules[i]) {\n          this.molecules[i].name = names[i];\n        } else {\n          this.molecules[i] = {\n            name: names[i],\n            residues: []\n          };\n        }\n      }\n      var molecules = complex.getMolecules();\n      for (i = 0; i < count; i++) {\n        var molecule = this.molecules[i];\n        molecules[i] = new Molecule$5(complex, molecule.name, i + 1);\n        molecules[i].residues = molecule.residues;\n      }\n    }\n  }, {\n    key: \"_extractAtoms\",\n    value: function _extractAtoms(complex, complexData) {\n      var atomData = complexData.atom_site;\n      if (!atomData) {\n        throw new AtomDataError('CIF parsing error: atom_site is not specified!');\n      }\n      for (var f = 0, n = cRequiredAtomFields.length; f < n; ++f) {\n        if (!atomData[cRequiredAtomFields[f]]) {\n          throw new AtomDataError(\"CIF parsing error: requires field \".concat(cRequiredAtomFields[f], \" not found!\"));\n        }\n      }\n      var asymDict = this.asymDict;\n      var resIdc = arrize(atomData.auth_seq_id);\n      var x = arrize(atomData.Cartn_x);\n      var y = arrize(atomData.Cartn_y);\n      var z = arrize(atomData.Cartn_z);\n      var names = arrize(atomData.label_atom_id);\n      var count = names.length;\n      var group = arrize(atomData.group_PDB) || [];\n      var chainIdc = arrize(atomData.auth_asym_id) || [];\n      var chainLabelIdc = arrize(atomData.label_asym_id) || [];\n      var serials = arrize(atomData.id) || [];\n      var iCodes = arrize(atomData.pdbx_PDB_ins_code) || [];\n      var resNames = arrize(atomData.label_comp_id) || [];\n      var elements = arrize(atomData.type_symbol) || [];\n      var tempFactors = arrize(atomData.B_iso_or_equiv) || [];\n      var occupancies = arrize(atomData.occupancy) || [];\n      var charges = arrize(atomData.pdbx_formal_charge) || [];\n      var altLocs = arrize(atomData.label_alt_id) || [];\n      var models = arrize(atomData.pdbx_PDB_model_num) || [];\n      var molecules = arrize(atomData.label_entity_id) || [];\n      var chain = null;\n      var residue = null;\n      for (var i = 0; i < count; ++i) {\n        var model = models[i] || 1;\n        if (model !== 1) {\n          continue;\n        }\n        var chainID = String(chainIdc[i] || ' ');\n        if (!chain || chain.getName() !== chainID) {\n          chain = complex.getChain(chainID) || complex.addChain(chainID);\n        }\n        asymDict[String(chainLabelIdc[i] || ' ')] = chainID;\n        var resSeq = resIdc[i];\n        var iCode = String(iCodes[i] || ' ');\n        var resName = String(resNames[i] || '');\n        if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n          residue = chain.addResidue(resName, resSeq, iCode);\n          var moleculeIdx = molecules[i] - 1;\n          var entity = this.molecules[moleculeIdx];\n          if (!entity) {\n            this.molecules[moleculeIdx] = {\n              name: '',\n              residues: []\n            };\n            entity = this.molecules[moleculeIdx];\n          }\n          entity.residues.push(residue);\n        }\n        var name = names[i];\n        var element = elements[i] || nameToElement(name);\n        var type = Element$5.getByName(element);\n        var role = Element$5.Role[name.trim()];\n        var xyz = new Vector3(x[i], y[i], z[i]);\n        var het = group[i] === 'HETATM' || false;\n        var serial = serials[i] || i;\n        var tempFactor = tempFactors[i] || 0.0;\n        var occupancy = occupancies[i] || 0.0;\n        var altLoc = String(altLocs[i] || '');\n        var charge = charges[i] || 0;\n        residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n      }\n    }\n  }, {\n    key: \"_extractSecondary\",\n    value: function _extractSecondary(complex, complexData) {\n      if (complexData.struct_conf) {\n        this._extractConfs(complex, complexData.struct_conf);\n      }\n      if (complexData.struct_sheet_range) {\n        this._extractSheets(complex, complexData.struct_sheet_range);\n      }\n    }\n  }, {\n    key: \"_extractSheets\",\n    value: function _extractSheets(complex, sheetData) {\n      var asymDict = this.asymDict;\n      if (!sheetData.sheet_id || !sheetData.id || !sheetData.beg_label_seq_id || !sheetData.end_label_seq_id || !sheetData.beg_label_asym_id) {\n        return;\n      }\n      var sheets = complex._sheets;\n      function getSheet(name) {\n        var n = sheets.length;\n        for (var i = 0; i < n; ++i) {\n          if (sheets[i]._name === name) {\n            return sheets[i];\n          }\n        }\n        sheets[n] = new Sheet(name, 0);\n        return sheets[n];\n      }\n      var sheetNames = arrize(sheetData.sheet_id);\n      var strandNames = arrize(sheetData.id);\n      var starts = arrize(sheetData.beg_auth_seq_id);\n      var ends = arrize(sheetData.end_auth_seq_id);\n      var chains = arrize(sheetData.beg_label_asym_id);\n      var stICodes = arrize(sheetData.pdbx_beg_PDB_ins_code) || [];\n      var endICodes = arrize(sheetData.pdbx_end_PDB_ins_code) || [];\n      for (var i = 0, n = strandNames.length; i < n; ++i) {\n        var chain = complex.getChain(asymDict[chains[i]]);\n        var sheet = getSheet(sheetNames[i]);\n        var startIdx = starts[i];\n        var endIdx = ends[i];\n        var startICode = stICodes[i] || ' ';\n        var endICode = endICodes[i] || ' ';\n        var start = chain.findResidue(startIdx, startICode);\n        var end = chain.findResidue(endIdx, endICode);\n        if (!start || !end) {\n          continue;\n        }\n        var strand = new Strand(sheet, start[0], end[0], 0, null, null);\n        var residues = chain.getResidues();\n        for (var r = start[1]; r <= end[1]; ++r) {\n          residues[r]._secondary = strand;\n        }\n        sheet.addStrand(strand);\n        complex.structures.push(strand);\n      }\n    }\n  }, {\n    key: \"_extractConfs\",\n    value: function _extractConfs(complex, helicesData) {\n      var asymDict = this.asymDict;\n      if (!helicesData.conf_type_id || !helicesData.beg_label_seq_id || !helicesData.end_label_seq_id || !helicesData.beg_label_asym_id) {\n        return;\n      }\n      var types = arrize(helicesData.conf_type_id);\n      var starts = arrize(helicesData.beg_auth_seq_id);\n      var stICodes = arrize(helicesData.pdbx_beg_PDB_ins_code) || [];\n      var ends = arrize(helicesData.end_auth_seq_id);\n      var endICodes = arrize(helicesData.pdbx_end_PDB_ins_code) || [];\n      var comments = arrize(helicesData.details) || [];\n      var lengths = arrize(helicesData.pdbx_PDB_helix_length) || [];\n      var helixClasses = arrize(helicesData.pdbx_PDB_helix_class) || [];\n      var names = arrize(helicesData.id) || [];\n      var chains = arrize(helicesData.beg_label_asym_id);\n      for (var i = 0, n = types.length; i < n; ++i) {\n        var type = getTypeFromId(types[i]);\n        if (!type) {\n          continue;\n        }\n        var name = names[i] || types[i];\n        var chain = complex.getChain(asymDict[chains[i]]);\n        var startIdx = starts[i];\n        var endIdx = ends[i];\n        var startICode = stICodes[i] || ' ';\n        var endICode = endICodes[i] || ' ';\n        var start = chain.findResidue(startIdx, startICode);\n        var end = chain.findResidue(endIdx, endICode);\n        if (!start || !end) {\n          continue;\n        }\n        var comment = comments[i] || '';\n        var length = lengths[i] || 0;\n        var helixClass = helixClasses[i] || ' ';\n        var struct = void 0;\n        if (type === 'helix') {\n          var idx = complex._helices.length;\n          struct = new Helix(helixClass, start[0], end[0], idx, name, comment, length);\n          complex.addHelix(struct);\n          complex.structures.push(struct);\n        } else if (type === 'turn') {\n          struct = new StructuralElement(StructuralElement.Type.TURN, start[0], end[0]);\n          complex.structures.push(struct);\n        } else {\n          struct = null;\n        }\n        if (!struct) {\n          continue;\n        }\n        var residues = chain.getResidues();\n        for (var r = start[1]; r <= end[1]; ++r) {\n          residues[r]._secondary = struct;\n        }\n      }\n    }\n  }, {\n    key: \"_extractAssemblies\",\n    value: function _extractAssemblies(complex, complexData) {\n      var asymDict = this.asymDict;\n      var asmGen = complexData.pdbx_struct_assembly_gen;\n      if (!asmGen) {\n        return;\n      }\n      var asmIdx = arrize(asmGen.assembly_id);\n      var asmOper = arrize(asmGen.oper_expression);\n      var asmList = arrize(asmGen.asym_id_list);\n      if (!asmIdx || !asmOper || !asmList) {\n        return;\n      }\n      var operList = _getOperations(complexData.pdbx_struct_oper_list);\n      if (!operList) {\n        return;\n      }\n      for (var i = 0, n = asmIdx.length; i < n; ++i) {\n        var asm = new Assembly(complex);\n        var assemblyOps = _extractOperations(asmOper[i], operList);\n        var entries = asmList[i].split(',');\n        for (var ii = 0, nn = entries.length; ii < nn; ++ii) {\n          var chain = entries[ii].trim();\n          if (chain.length > 0) {\n            asm.addChain(asymDict[chain]);\n          }\n        }\n        asm.matrices = assemblyOps;\n        complex.units.push(asm);\n      }\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && /^\\s*data_/i.test(data);\n    }\n  }]);\n  return CIFParser;\n}(Parser);\nCIFParser.formats = ['cif', 'mmcif'];\nCIFParser.extensions = ['.cif', '.mmcif'];\n\nvar valueType = {\n  singular: 0,\n  vector: 1,\n  array: 2,\n  buffer: 3\n};\nvar VolumeModel = function () {\n  function VolumeModel() {\n    _classCallCheck(this, VolumeModel);\n    _defineProperty(this, \"_xyz2crs\", []);\n    _defineProperty(this, \"_origin\", new Vector3(0, 0, 0));\n    this._header = {};\n    this._boxSize = new Vector3();\n    this._boxStart = new Vector3();\n    this._header.delta = {};\n    this._header.extent = [];\n    this._header.nstart = [];\n    this._header.grid = [];\n    this._header.crs2xyz = [];\n    this._header.cellDims = new Vector3();\n    this._header.angles = [];\n    this._header.origin = new Vector3(0, 0, 0);\n    this._header.dmin = 0;\n    this._header.dmean = 0;\n    this._header.dmax = 0;\n  }\n  _createClass(VolumeModel, [{\n    key: \"_typedCheck\",\n    value: function _typedCheck() {\n      if (isTypedArray(this._buff)) {\n        this._buff = this._buff.buffer;\n      } else if (!isArrayBuffer(this._buff)) {\n        throw new TypeError('Expected ArrayBuffer or TypedArray');\n      }\n    }\n  }, {\n    key: \"_fillHeader\",\n    value: function _fillHeader(headerFormat, arrays) {\n      for (var key in headerFormat) {\n        if (Object.hasOwn(headerFormat, key)) {\n          switch (headerFormat[key][0]) {\n            case valueType.singular:\n              this._header[key] = arrays[headerFormat[key][1]][headerFormat[key][2]];\n              break;\n            case valueType.array:\n              this._parseArray(this._header[key], arrays[headerFormat[key][1]], headerFormat[key][2]);\n              break;\n            case valueType.vector:\n              this._parseVector(this._header[key], arrays[headerFormat[key][1]], headerFormat[key][2]);\n              break;\n            case valueType.buffer:\n              this._header[key] = new Uint8Array(arrays[headerFormat[key][1]], [headerFormat[key][2]] * 4, [headerFormat[key][3]] * 4);\n              break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_parseVector\",\n    value: function _parseVector(vector, arr, pos) {\n      var _ref = [arr[pos], arr[pos + 1], arr[pos + 2]];\n      vector.x = _ref[0];\n      vector.y = _ref[1];\n      vector.z = _ref[2];\n    }\n  }, {\n    key: \"_parseArray\",\n    value: function _parseArray(vector, arr, pos) {\n      vector[0] = arr[pos];\n      vector[1] = arr[pos + 1];\n      vector[2] = arr[pos + 2];\n    }\n  }, {\n    key: \"_parseHeader\",\n    value: function _parseHeader(_buffer) {}\n  }, {\n    key: \"_setAxisIndices\",\n    value: function _setAxisIndices() {}\n  }, {\n    key: \"_setOrigins\",\n    value: function _setOrigins() {}\n  }, {\n    key: \"_getAxis\",\n    value: function _getAxis() {\n      var header = this._header;\n      var xScale = header.cellDims.x / header.grid[0];\n      var yScale = header.cellDims.y / header.grid[1];\n      var zScale = header.cellDims.z / header.grid[2];\n      var _header$angles = _slicedToArray(header.angles, 3),\n          alpha = _header$angles[0],\n          beta = _header$angles[1],\n          gamma = _header$angles[2];\n      var z1 = Math.cos(beta);\n      var z2 = (Math.cos(alpha) - Math.cos(beta) * Math.cos(gamma)) / Math.sin(gamma);\n      var z3 = Math.sqrt(1.0 - z1 * z1 - z2 * z2);\n      var xaxis = new Vector3(xScale, 0, 0);\n      var yaxis = new Vector3(Math.cos(gamma) * yScale, Math.sin(gamma) * yScale, 0);\n      var zaxis = new Vector3(z1 * zScale, z2 * zScale, z3 * zScale);\n      return [xaxis, yaxis, zaxis];\n    }\n  }, {\n    key: \"_getXYZdim\",\n    value: function _getXYZdim() {\n      return [this._header.extent[this._xyz2crs[0]], this._header.extent[this._xyz2crs[1]], this._header.extent[this._xyz2crs[2]]];\n    }\n  }, {\n    key: \"_getVolumeInfo\",\n    value: function _getVolumeInfo() {\n      var volInfo = pick(this._header, ['dmean', 'dmin', 'dmax', 'sd', 'delta']);\n      volInfo.obtuseAngle = this._header.angles.map(function (angle) {\n        return Number(angle >= Math.PI / 2);\n      });\n      return volInfo;\n    }\n  }, {\n    key: \"_setBoxParams\",\n    value: function _setBoxParams(xaxis, yaxis, zaxis) {\n      var _this = this;\n      var shiftX = 0;\n      var shiftY = 0;\n      var _this$_header$angles = _slicedToArray(this._header.angles, 3),\n          alpha = _this$_header$angles[0],\n          beta = _this$_header$angles[1],\n          gamma = _this$_header$angles[2];\n      if (gamma >= Math.PI / 2) {\n        shiftX += Math.abs(yaxis.x);\n      }\n      if (beta >= Math.PI / 2) {\n        shiftX += Math.abs(zaxis.x);\n      }\n      if (alpha >= Math.PI / 2) {\n        shiftY += Math.abs(zaxis.y);\n      }\n      this._boxStart = new Vector3(this._origin.x - shiftX, this._origin.y - shiftY, this._origin.z);\n      this._boxSize = new Vector3(Math.abs(xaxis.x) + Math.abs(yaxis.x) + Math.abs(zaxis.x), Math.abs(yaxis.y) + Math.abs(zaxis.y), Math.abs(zaxis.z));\n      var delta = function delta(axe, proj) {\n        return Math.abs(axe[proj]) / _this._boxSize[proj];\n      };\n      this._header.delta.x = delta(yaxis, 'x');\n      this._header.delta.y = delta(zaxis, 'x');\n      this._header.delta.z = delta(zaxis, 'y');\n    }\n  }, {\n    key: \"_getXYZbox\",\n    value: function _getXYZbox() {\n      return new Box3(this._boxStart.clone(), this._boxStart.clone().add(this._boxSize));\n    }\n  }, {\n    key: \"_toXYZData\",\n    value: function _toXYZData() {}\n  }, {\n    key: \"parse\",\n    value: function parse(data) {\n      this._parseHeader(data);\n      this._setOrigins();\n      return new Volume$2(Float32Array, this._getXYZdim(), this._getXYZbox(), 1, this._toXYZData(), this._getVolumeInfo());\n    }\n  }]);\n  return VolumeModel;\n}();\n\nfunction _createSuper$k(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$k(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$k() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar CCP4Header = {\n  extent: [valueType.array, 'u32', 0],\n  type: [valueType.singular, 'u32', 3],\n  nstart: [valueType.array, 'i32', 4],\n  grid: [valueType.array, 'u32', 7],\n  cellDims: [valueType.vector, 'f32', 10],\n  angles: [valueType.array, 'f32', 13],\n  crs2xyz: [valueType.array, 'i32', 16],\n  dmin: [valueType.singular, 'f32', 19],\n  dmax: [valueType.singular, 'f32', 20],\n  dmean: [valueType.singular, 'f32', 21],\n  ispg: [valueType.singular, 'u32', 22],\n  nsymbt: [valueType.singular, 'u32', 23],\n  lksflg: [valueType.singular, 'u32', 24],\n  customData: [valueType.buffer, 'buffer', 25, 9],\n  origin: [valueType.vector, 'f32', 34],\n  map: [valueType.buffer, 'buffer', 52, 1],\n  machine: [valueType.singular, 'u32', 53],\n  sd: [valueType.singular, 'f32', 54],\n  nlabel: [valueType.singular, 'f32', 55],\n  label: [valueType.buffer, 'buffer', 56, 200]\n};\nvar Ccp4Model = function (_VolumeModel) {\n  _inherits(Ccp4Model, _VolumeModel);\n  var _super = _createSuper$k(Ccp4Model);\n  function Ccp4Model() {\n    _classCallCheck(this, Ccp4Model);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Ccp4Model, [{\n    key: \"_parseHeader\",\n    value:\n    function _parseHeader(_buffer) {\n      this._buff = _buffer;\n      this._typedCheck();\n      var arrays = {};\n      arrays.u32 = new Uint32Array(this._buff, 0, 56);\n      arrays.i32 = new Int32Array(this._buff, 0, 56);\n      arrays.f32 = new Float32Array(this._buff, 0, 56);\n      arrays.buffer = this._buff;\n      var header = this._header;\n      this._fillHeader(CCP4Header, arrays);\n      header.angles.forEach(function (angle, i, a) {\n        a[i] *= Math.PI / 180.0;\n      });\n    }\n  }, {\n    key: \"_setAxisIndices\",\n    value: function _setAxisIndices() {\n      var header = this._header;\n      if (header.cellDims.x === 0.0 && header.cellDims.y === 0.0 && header.cellDims.z === 0.0) {\n        header.cellDims.set(1.0, 1.0, 1.0);\n      }\n      var crs2xyz = this._header.crs2xyz;\n      if (crs2xyz[0] === 0 && crs2xyz[1] === 0 && crs2xyz[2] === 0) {\n        crs2xyz[0] = 1;\n        crs2xyz[1] = 2;\n        crs2xyz[2] = 3;\n      }\n      var xyz2crs = this._xyz2crs;\n      xyz2crs[crs2xyz[0] - 1] = 0;\n      xyz2crs[crs2xyz[1] - 1] = 1;\n      xyz2crs[crs2xyz[2] - 1] = 2;\n    }\n  }, {\n    key: \"_setOrigins\",\n    value: function _setOrigins() {\n      var _this$_getAxis = this._getAxis(),\n          _this$_getAxis2 = _slicedToArray(_this$_getAxis, 3),\n          xaxis = _this$_getAxis2[0],\n          yaxis = _this$_getAxis2[1],\n          zaxis = _this$_getAxis2[2];\n      this._setAxisIndices();\n      var header = this._header;\n      var xyz2crs = this._xyz2crs;\n      if (header.origin.x === 0.0 && header.origin.y === 0.0 && header.origin.z === 0.0) {\n        this._origin.addScaledVector(xaxis, header.nstart[xyz2crs[0]]);\n        this._origin.addScaledVector(yaxis, header.nstart[xyz2crs[1]]);\n        this._origin.addScaledVector(zaxis, header.nstart[xyz2crs[2]]);\n      } else {\n        this._origin = header.origin;\n      }\n      xaxis.multiplyScalar(header.extent[xyz2crs[0]] - 1);\n      yaxis.multiplyScalar(header.extent[xyz2crs[1]] - 1);\n      zaxis.multiplyScalar(header.extent[xyz2crs[2]] - 1);\n      if (header.type === 2) {\n        this._data = new Float32Array(this._buff, 1024 + header.nsymbt, header.extent[0] * header.extent[1] * header.extent[2]);\n      } else {\n        throw new Error(\"CCP4: Unsupported format \".concat(header.type));\n      }\n      this._setBoxParams(xaxis, yaxis, zaxis);\n    }\n  }, {\n    key: \"_toXYZData\",\n    value: function _toXYZData() {\n      var header = this._header;\n      var data = this._data;\n      var xyz2crs = this._xyz2crs;\n      var xyzData = new Float32Array(data.length);\n      var dim = this._getXYZdim();\n      var xSize = dim[0];\n      var ySize = dim[1];\n      var crsIdx = 0;\n      var coord = [];\n      var x;\n      var y;\n      var z;\n      for (coord[2] = 0; coord[2] < header.extent[2]; coord[2]++) {\n        for (coord[1] = 0; coord[1] < header.extent[1]; coord[1]++) {\n          for (coord[0] = 0; coord[0] < header.extent[0]; coord[0]++, crsIdx++) {\n            x = coord[xyz2crs[0]];\n            y = coord[xyz2crs[1]];\n            z = coord[xyz2crs[2]];\n            xyzData[x + xSize * (y + ySize * z)] = data[crsIdx];\n          }\n        }\n      }\n      return xyzData;\n    }\n  }]);\n  return Ccp4Model;\n}(VolumeModel);\nvar CCP4Parser = function (_Parser) {\n  _inherits(CCP4Parser, _Parser);\n  var _super2 = _createSuper$k(CCP4Parser);\n  function CCP4Parser(data, options) {\n    var _this;\n    _classCallCheck(this, CCP4Parser);\n    _this = _super2.call(this, data, options);\n    _this._options.fileType = 'ccp4';\n    _this.model = new Ccp4Model();\n    return _this;\n  }\n  _createClass(CCP4Parser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      return this.model.parse(this._data);\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(_data) {\n      return false;\n    }\n  }]);\n  return CCP4Parser;\n}(Parser);\nCCP4Parser.formats = ['ccp4'];\nCCP4Parser.extensions = ['.ccp4', '.map', '.mrc'];\nCCP4Parser.binary = true;\n\nfunction _createSuper$j(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$j(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$j() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$4 = chem.Complex,\n    Element$4 = chem.Element,\n    Molecule$4 = chem.Molecule;\nvar XYZParser = function (_Parser) {\n  _inherits(XYZParser, _Parser);\n  var _super = _createSuper$j(XYZParser);\n  function XYZParser(data, options) {\n    var _this;\n    _classCallCheck(this, XYZParser);\n    _this = _super.call(this, data, options);\n    _this._complex = null;\n    _this._atomsInf = null;\n    _this._options.fileType = 'xyz';\n    _this._fileName = options.name;\n    return _this;\n  }\n  _createClass(XYZParser, [{\n    key: \"_parseToAtomsInf\",\n    value: function _parseToAtomsInf(source) {\n      var endnAtoms = source.indexOf('\\n');\n      var nAtoms = parseInt(source.substring(0, endnAtoms), 10);\n      var endComment = source.indexOf('\\n', endnAtoms + 1);\n      var comment = source.slice(endnAtoms + 1, endComment).trim();\n      if (comment.length === 0) {\n        comment = this._fileName;\n      }\n      var startAtomsInf = endComment + source.substring(endComment).search(/\\S/);\n      this._atomsInf = source.substring(startAtomsInf).split(/[\\s,]*\\n[\\s,]*/);\n      if (!Number.isNaN(nAtoms) && this._atomsInf.length - 1 !== nAtoms) {\n        this._complex.error = {\n          message: 'wrong number of atoms'\n        };\n        return;\n      }\n      this._complex.metadata.format = 'xyz';\n      this._complex.name = comment;\n    }\n  }, {\n    key: \"_parseAtomsInf\",\n    value: function _parseAtomsInf() {\n      var het = true;\n      var altLoc = ' ';\n      var occupancy = 1;\n      var tempFactor = 1;\n      var charge = 0;\n      var chain = this._complex.addChain('A');\n      var residue = chain.addResidue('UNK', 1, ' ');\n      for (var i = 0; i < this._atomsInf.length - 1; i++) {\n        var words = this._atomsInf[i].split(/[\\s,]+/);\n        if (words.length !== 4) {\n          this._complex.error = {\n            message: 'missed parameters'\n          };\n          break;\n        }\n        var serial = i + 1;\n        var name = words[0];\n        var xyz = new Vector3(parseFloat(words[1]), parseFloat(words[2]), parseFloat(words[3]));\n        var type = Element$4.getByName(name);\n        var role = undefined;\n        residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n      }\n      var molecule = new Molecule$4(this._complex, this._complex.name, 1);\n      molecule.residues = residue;\n      this._complex._molecules[0] = molecule;\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var result = this._complex = new Complex$4();\n      this._parseToAtomsInf(this._data);\n      this._parseAtomsInf();\n      this._complex.finalize({\n        needAutoBonding: true,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n      this._complex = null;\n      this._atomsInf = null;\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n      return result;\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && /^\\s*\\d+ *\\n[^\\n]*\\n\\s*\\w{1,3}\\s+-?\\d/.test(data);\n    }\n  }]);\n  return XYZParser;\n}(Parser);\n_defineProperty(XYZParser, \"formats\", ['xyz']);\n_defineProperty(XYZParser, \"extensions\", ['.xyz']);\n\nfunction _createSuper$i(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$i(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$i() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$3 = chem.Complex,\n    Element$3 = chem.Element;\nvar PubChemParser = function (_Parser) {\n  _inherits(PubChemParser, _Parser);\n  var _super = _createSuper$i(PubChemParser);\n  function PubChemParser(data, options) {\n    var _this;\n    _classCallCheck(this, PubChemParser);\n    _this = _super.call(this, data, options);\n    _this._options.fileType = 'pubchem+json';\n    return _this;\n  }\n  _createClass(PubChemParser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      this.logger.info('Parsing PubChem JSON file...');\n      return this._toComplex(JSON.parse(this._data));\n    }\n  }, {\n    key: \"_toComplex\",\n    value: function _toComplex(jsonData) {\n      var complex = new Complex$3();\n      var complexData = jsonData.PC_Compounds && jsonData.PC_Compounds[0];\n      if (complexData) {\n        this._extractAtoms(complex, complexData);\n        complex.finalize({\n          needAutoBonding: false,\n          detectAromaticLoops: this.settings.now.aromatic,\n          enableEditing: this.settings.now.editing\n        });\n      }\n      return complex;\n    }\n  }, {\n    key: \"_extractAtoms\",\n    value: function _extractAtoms(complex, complexData) {\n      var aids = complexData.atoms && complexData.atoms.aid;\n      var elements = aids && complexData.atoms.element;\n      if (!elements || aids.length !== elements.length) {\n        throw new Error('Unable to parse atom elements');\n      }\n      elements = fromPairs(zip(aids, elements));\n      var atoms = {};\n      var coords = complexData.coords && complexData.coords[0];\n      var model = coords && coords.conformers && coords.conformers[0];\n      var xs = model && model.x;\n      var ys = model && model.y;\n      var zs = model && model.z || [];\n      aids = coords && coords.aid;\n      if (!aids || !xs || !ys) {\n        throw new Error('Coordinates are not found in the file');\n      }\n      var chain = complex.addChain(' ');\n      var residue = chain.addResidue('UNK', 1, ' ');\n      for (var i = 0, n = aids.length; i < n; ++i) {\n        var aid = aids[i];\n        var element = Element$3.ByAtomicNumber[elements[aid]];\n        var xyz = new Vector3(xs[i], ys[i], zs[i] || 0.0);\n        atoms[aid] = residue.addAtom(element.name, element, xyz, undefined, true, aid, ' ', 1.0, 0.0, 0);\n      }\n      var aids1 = complexData.bonds && complexData.bonds.aid1;\n      var aids2 = complexData.bonds && complexData.bonds.aid2;\n      var orders = complexData.bonds && complexData.bonds.order || [];\n      if (!aids1 || !aids2 || aids1.length !== aids2.length) {\n        return;\n      }\n      for (var j = 0, m = aids1.length; j < m; ++j) {\n        complex.addBond(atoms[aids1[j]], atoms[aids2[j]], orders[j] || 1, 0, true);\n      }\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && data[0] === '{';\n    }\n  }]);\n  return PubChemParser;\n}(Parser);\nPubChemParser.formats = ['pubchem', 'pubchem+json', 'pc'];\nPubChemParser.extensions = ['.json'];\n\nvar SDFStream = function () {\n  function SDFStream(data) {\n    _classCallCheck(this, SDFStream);\n    this._strings = data.split(/\\r?\\n|\\r/);\n    this._currentStart = 0;\n    this._currentStringIndx = 0;\n  }\n  _createClass(SDFStream, [{\n    key: \"setStart\",\n    value: function setStart(start) {\n      if (start >= this._strings.length) {\n        this._currentStart = this._strings.length - 1;\n        this._currentStringIndx = this._strings.length - 1;\n      } else {\n        this._currentStart = start;\n        this._currentStringIndx = start;\n      }\n    }\n  }, {\n    key: \"getNextString\",\n    value: function getNextString() {\n      return this._strings[++this._currentStringIndx];\n    }\n  }, {\n    key: \"getCurrentString\",\n    value: function getCurrentString() {\n      return this._strings[this._currentStringIndx];\n    }\n  }, {\n    key: \"getStringFromStart\",\n    value: function getStringFromStart(numb) {\n      this._currentStringIndx = this._currentStart + numb;\n      return this._strings[this._currentStart + numb];\n    }\n  }, {\n    key: \"findNextDataItem\",\n    value: function findNextDataItem() {\n      var curStr = this.getNextString();\n      var res = false;\n      while (!isUndefined(curStr) && curStr.trim() !== '$$$$') {\n        if (curStr.match(/>\\s+<(.*)>/)) {\n          res = true;\n          break;\n        }\n        curStr = this.getNextString();\n      }\n      return res;\n    }\n  }, {\n    key: \"findNextCompoundStart\",\n    value: function findNextCompoundStart() {\n      var curStr = this.getCurrentString();\n      while (!isUndefined(curStr) && curStr.trim() !== '$$$$') {\n        curStr = this.getNextString();\n      }\n      this.setStart(++this._currentStringIndx);\n      return this.probablyHaveDataToParse();\n    }\n  }, {\n    key: \"probablyHaveDataToParse\",\n    value: function probablyHaveDataToParse() {\n      return this._currentStringIndx < this._strings.length - 2;\n    }\n  }]);\n  return SDFStream;\n}();\n\nfunction _createSuper$h(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$h(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$h() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$2 = chem.Complex,\n    Element$2 = chem.Element,\n    Bond$1 = chem.Bond,\n    Molecule$3 = chem.Molecule;\nvar chargeMap = [0, 3, 2, 1, 0, -1, -2, -3];\nvar orderMap$1 = [0, 1, 2, 3, 1, 1, 1, 2];\nvar typeMap$1 = [Bond$1.BondType.UNKNOWN,\nBond$1.BondType.COVALENT,\nBond$1.BondType.COVALENT,\nBond$1.BondType.COVALENT,\nBond$1.BondType.AROMATIC,\nBond$1.BondType.UNKNOWN,\nBond$1.BondType.AROMATIC,\nBond$1.BondType.AROMATIC\n];\nvar sdfAndMolRegexp = /.*(M\\s\\sEND).*|.*(^$$$$).*|.*>\\s+<(.+)>.*/;\nvar sdfRegExp = /.*($$$$).*|.*>\\s+<(.+)>.*/;\nvar fileFormat = {\n  SDF: 'sdf',\n  MOL: 'mol'\n};\nvar possibleNameTags = ['PUBCHEM_IUPAC_TRADITIONAL_NAME', /PUBCHEM_(.+)_NAME/, /(.+)name/, /(.+)NAME/];\nvar possibleIDTags = ['PUBCHEM_COMPOUND_CID', 'id', 'ID', /.*CID/, /.*ID/, /.*id/];\nvar possibleTitleTags = ['msg', 'MSG', 'message', 'title', 'description', 'desc'];\nvar tagsNames = ['name', 'id', 'title'];\nvar tags = {\n  name: possibleNameTags,\n  id: possibleIDTags,\n  title: possibleTitleTags\n};\nfunction buildChainID(index) {\n  if (!index) {\n    return 'A';\n  }\n  var codes = [];\n  while (index) {\n    codes.push(65 + index % 26);\n    index = Math.trunc(index / 26);\n  }\n  if (codes.length > 1) {\n    codes.reverse();\n    codes[0] -= 1;\n  }\n  return String.fromCharCode.apply(String, codes);\n}\nvar SDFParser = function (_Parser) {\n  _inherits(SDFParser, _Parser);\n  var _super = _createSuper$h(SDFParser);\n  function SDFParser(data, options) {\n    var _this;\n    _classCallCheck(this, SDFParser);\n    _this = _super.call(this, data, options);\n    _this._format = 'sdf';\n    _this._complex = null;\n    _this._chain = null;\n    _this._residue = null;\n    _this._molecules = null;\n    _this._metadata = {};\n    _this._metadata.molecules = [];\n    _this._currentMolProps = {};\n    _this._compoundIndx = -1;\n    _this._assemblies = [];\n    _this._atomsParsed = 0;\n    _this._atomsIndexes = [];\n    return _this;\n  }\n  _createClass(SDFParser, [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && sdfAndMolRegexp.test(data);\n    }\n  }, {\n    key: \"_parseHeader\",\n    value: function _parseHeader(stream) {\n      var molecule = {};\n      molecule.name = stream.getStringFromStart(0);\n      var date = parseInt(stream.getStringFromStart(1).substr(10, 6).trim(), 10);\n      molecule.date = date.toString() || '';\n      molecule.title = stream.getStringFromStart(2);\n      this._metadata.molecules.push(molecule);\n    }\n  }, {\n    key: \"_parseAtoms\",\n    value: function _parseAtoms(stream, atomsNum) {\n      var curStr;\n      var serial = this._atomsParsed;\n      var chainID = buildChainID(this._compoundIndx);\n      var resName = 'UNK';\n      var resSeq = 1;\n      this._chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n      this._residue = this._chain.addResidue(resName, resSeq, ' ');\n      for (var i = 0; i < atomsNum; i++) {\n        curStr = stream.getNextString();\n        serial++;\n        var x = parseFloat(curStr.substr(0, 10));\n        var y = parseFloat(curStr.substr(10, 10));\n        var z = parseFloat(curStr.substr(20, 10));\n        var charge = chargeMap[parseInt(curStr.substr(36, 3), 10)];\n        var xyz = new Vector3(x, y, z);\n        var name = curStr.substr(31, 3).trim().toUpperCase();\n        var type = Element$2.getByName(name);\n        if (!this._atomsIndexes[name]) {\n          this._atomsIndexes[name] = 0;\n        }\n        this._atomsIndexes[name] += 1;\n        name += this._atomsIndexes[name];\n        this._residue.addAtom(name, type, xyz, undefined, true, serial, ' ', 1.0, 0.0, charge);\n      }\n    }\n  }, {\n    key: \"_parseBonds\",\n    value: function _parseBonds(stream, bondsNum) {\n      var curStr;\n      for (var i = 0; i < bondsNum; i++) {\n        curStr = stream.getNextString();\n        var atom1 = parseInt(curStr.substr(0, 3), 10) + this._atomsParsed;\n        var atom2 = parseInt(curStr.substr(3, 3), 10) + this._atomsParsed;\n        var bondType = parseInt(curStr.substr(6, 3), 10);\n        if (atom1 > atom2) {\n          var _ref = [atom2, atom1];\n          atom1 = _ref[0];\n          atom2 = _ref[1];\n        }\n        this._complex.addBond(atom1, atom2, orderMap$1[bondType] || 1, typeMap$1[bondType] || Bond$1.BondType.UNKNOWN, true);\n      }\n    }\n  }, {\n    key: \"_parseMOL\",\n    value: function _parseMOL(stream) {\n      this._compoundIndx++;\n      this._parseHeader(stream);\n      var countsLine = stream.getStringFromStart(3);\n      var atomsNum = parseInt(countsLine.substr(0, 3), 10);\n      var bondsNum = parseInt(countsLine.substr(3, 3), 10);\n      this._parseAtoms(stream, atomsNum);\n      this._parseBonds(stream, bondsNum);\n      this._atomsParsed += atomsNum;\n      this._metadata.molecules[this._compoundIndx]._residues = [];\n      this._metadata.molecules[this._compoundIndx]._residues.push(this._residue);\n    }\n  }, {\n    key: \"_parseDataItem\",\n    value: function _parseDataItem(stream) {\n      var tag = stream.getCurrentString();\n      var data = [];\n      var curStr = stream.getNextString();\n      while (curStr.trim() !== '') {\n        data.push(curStr);\n        curStr = stream.getNextString();\n      }\n      if (data.length === 1) {\n        var _data = data;\n        var _data2 = _slicedToArray(_data, 1);\n        data = _data2[0];\n      }\n      this._currentMolProps[tag.replace(/[<>]/g, '').trim()] = data;\n    }\n  }, {\n    key: \"_parseCompound\",\n    value: function _parseCompound(stream) {\n      this._parseMOL(stream);\n      if (this._format === fileFormat.SDF) {\n        this._currentMolProps = {};\n        while (stream.findNextDataItem()) {\n          this._parseDataItem(stream);\n        }\n        if (Object.keys(this._currentMolProps).length !== 0) {\n          var molecule = this._metadata.molecules[this._compoundIndx];\n          molecule.props = this._currentMolProps;\n          this._tryToUpdateMoleculeData(molecule);\n        }\n      }\n    }\n  }, {\n    key: \"_fixBondsArray\",\n    value: function _fixBondsArray() {\n      var serialAtomMap = this._serialAtomMap;\n      var complex = this._complex;\n      var bonds = complex._bonds;\n      for (var j = 0; j < bonds.length; j++) {\n        var bond = bonds[j];\n        if (bond._right < bond._left) {\n          console.log('_fixBondsArray: Logic error.');\n        }\n        bond._left = serialAtomMap[bond._left] || null;\n        bond._right = serialAtomMap[bond._right] || null;\n      }\n    }\n  }, {\n    key: \"_buildAssemblies\",\n    value: function _buildAssemblies() {\n      var chains = this._complex._chains;\n      if (chains.length === 1) {\n        return this._assemblies;\n      }\n      for (var i = 0; i < chains.length; i++) {\n        var assembly = new Assembly$3(this._complex);\n        var matrix = new Matrix4();\n        assembly.addMatrix(matrix);\n        assembly.addChain(chains[i]._name);\n        this._assemblies.push(assembly);\n      }\n      return this._assemblies;\n    }\n  }, {\n    key: \"_buildMolecules\",\n    value: function _buildMolecules() {\n      this._complex._molecules = [];\n      var molecules = this._metadata.molecules;\n      for (var i = 0; i < molecules.length; i++) {\n        var molecule = new Molecule$3(this._complex, molecules[i].name, i + 1);\n        molecule.residues = molecules[i]._residues;\n        this._complex._molecules[i] = molecule;\n      }\n      return this._complex._molecules;\n    }\n  }, {\n    key: \"_searchTag\",\n    value: function _searchTag(tag, props) {\n      for (var i = 0; i < props.length; i++) {\n        if (tag instanceof RegExp && tag.test(props[i].tag) || tag === props[i].tag) {\n          return props[i].data;\n        }\n      }\n      return undefined;\n    }\n  }, {\n    key: \"_tryToFind\",\n    value: function _tryToFind(tagsList, props) {\n      for (var j = 0; j < tagsList.length; j++) {\n        var res = this._searchTag(tagsList[j], props);\n        if (res) {\n          return res;\n        }\n      }\n      return undefined;\n    }\n  }, {\n    key: \"_tryToUpdateMoleculeData\",\n    value: function _tryToUpdateMoleculeData(molecule) {\n      var res = false;\n      for (var i = 0; i < tagsNames.length; i++) {\n        var tagPossibleNames = tags[tagsNames[i]];\n        var data = this._tryToFind(tagPossibleNames, molecule.props);\n        if (data) {\n          molecule[tagsNames[i]] = data;\n          res = true;\n        }\n      }\n      molecule.name = molecule.name || molecule.id;\n      if (molecule.name.match(/^\\d+$/)) {\n        molecule.name = \"CID: \".concat(molecule.name);\n      }\n      return res;\n    }\n  }, {\n    key: \"_finalizeMetadata\",\n    value: function _finalizeMetadata() {\n      var molecules = this._metadata.molecules;\n      var metadata = this._complex.metadata;\n      var complex = this._complex;\n      if (molecules.length === 1) {\n        complex.name = molecules[0].name;\n        metadata.title = molecules[0].title;\n        metadata.date = molecules[0].date;\n        metadata.properties = molecules[0].props;\n      } else if (molecules.length > 1) {\n        metadata.molecules = [];\n        for (var i = 0; i < molecules.length; i++) {\n          metadata.molecules.push({\n            name: molecules[i].name,\n            date: molecules[i].date,\n            title: molecules[i].title,\n            properties: molecules[i].props\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      var serialAtomMap = this._serialAtomMap = {};\n      var atoms = this._complex._atoms;\n      for (var i = 0; i < atoms.length; i++) {\n        var atom = atoms[i];\n        serialAtomMap[atom.serial] = atom;\n      }\n      this._complex._finalizeBonds();\n      this._fixBondsArray();\n      this._finalizeMetadata();\n      this._buildAssemblies();\n      this._complex.units = this._complex.units.concat(this._assemblies);\n      this._buildMolecules();\n      this._complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: false,\n        enableEditing: false,\n        serialAtomMap: this._serialAtomMap\n      });\n    }\n  }, {\n    key: \"defineFormat\",\n    value: function defineFormat(data) {\n      var format;\n      if (sdfRegExp.test(data)) {\n        format = fileFormat.SDF;\n      } else {\n        format = fileFormat.MOL;\n      }\n      return format;\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var result = this._complex = new Complex$2();\n      var stream = new SDFStream(this._data);\n      this._format = this.defineFormat(this._data);\n      result.metadata.format = this._format;\n      do {\n        this._parseCompound(stream);\n      } while (stream.findNextCompoundStart());\n      this._finalize();\n      return result;\n    }\n  }]);\n  return SDFParser;\n}(Parser);\nSDFParser.formats = ['mol', 'sdf'];\nSDFParser.extensions = ['.mol', '.sdf'];\n\nfunction _createSuper$g(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$g(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$g() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar DSN6Header = {\n  nstart: [valueType.array, 'i16', 0],\n  extent: [valueType.array, 'i16', 3],\n  grid: [valueType.array, 'i16', 6],\n  cellDims: [valueType.vector, 'i16', 9],\n  angles: [valueType.array, 'i16', 12],\n  div: [valueType.singular, 'i16', 15],\n  adder: [valueType.singular, 'i16', 16],\n  scaleFactor: [valueType.singular, 'i16', 17]\n};\nvar DSN6Model = function (_VolumeModel) {\n  _inherits(DSN6Model, _VolumeModel);\n  var _super = _createSuper$g(DSN6Model);\n  function DSN6Model() {\n    _classCallCheck(this, DSN6Model);\n    return _super.apply(this, arguments);\n  }\n  _createClass(DSN6Model, [{\n    key: \"_parseHeader\",\n    value: function _parseHeader(_buffer) {\n      this._buff = _buffer;\n      this._typedCheck();\n      var arrays = {};\n      arrays.i16 = new Int16Array(this._buff);\n      if (arrays.i16[18] !== 100) {\n        for (var i = 0, n = arrays.i16.length; i < n; ++i) {\n          var val = arrays.i16[i];\n          arrays.i16[i] = (val & 0xff) << 8 | val >> 8 & 0xff;\n        }\n      }\n      if (arrays.i16[18] !== 100) {\n        throw new Error('DSN6: Incorrect format ');\n      }\n      var header = this._header;\n      this._fillHeader(DSN6Header, arrays);\n      header.cellDims.multiplyScalar(1.0 / header.scaleFactor);\n      header.angles.forEach(function (angle, i, a) {\n        a[i] *= Math.PI / 180.0 / header.scaleFactor;\n      });\n      header.div /= 100;\n    }\n  }, {\n    key: \"_setAxisIndices\",\n    value: function _setAxisIndices() {\n      this._xyz2crs[0] = 0;\n      this._xyz2crs[1] = 1;\n      this._xyz2crs[2] = 2;\n    }\n  }, {\n    key: \"_setOrigins\",\n    value: function _setOrigins() {\n      var header = this._header;\n      var _this$_getAxis = this._getAxis(),\n          _this$_getAxis2 = _slicedToArray(_this$_getAxis, 3),\n          xaxis = _this$_getAxis2[0],\n          yaxis = _this$_getAxis2[1],\n          zaxis = _this$_getAxis2[2];\n      this._setAxisIndices();\n      this._origin.addScaledVector(xaxis, header.nstart[0]);\n      this._origin.addScaledVector(yaxis, header.nstart[1]);\n      this._origin.addScaledVector(zaxis, header.nstart[2]);\n      xaxis.multiplyScalar(header.extent[0]);\n      yaxis.multiplyScalar(header.extent[1]);\n      zaxis.multiplyScalar(header.extent[2]);\n      this._setBoxParams(xaxis, yaxis, zaxis);\n    }\n  }, {\n    key: \"_pointCalculate\",\n    value: function _pointCalculate(xyzData, byteBuffer, z, y, x, pos, i) {\n      var header = this._header;\n      if (x < header.extent[0] && y < header.extent[1] && z < header.extent[2]) {\n        var idx = x + header.extent[0] * (y + header.extent[1] * z);\n        xyzData[idx] = (byteBuffer[pos.counter] - header.adder) / header.div;\n        ++pos.counter;\n      } else {\n        pos.counter += 8 - i;\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_blockCalculate\",\n    value: function _blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos) {\n      for (var k = 0; k < 8; ++k) {\n        var z = 8 * zBlock + k;\n        for (var j = 0; j < 8; ++j) {\n          var y = 8 * yBlock + j;\n          var inRange = true;\n          var i = 0;\n          while (inRange && i < 8) {\n            var x = 8 * xBlock + i;\n            inRange = this._pointCalculate(xyzData, byteBuffer, z, y, x, pos, i);\n            i++;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_toXYZData\",\n    value: function _toXYZData() {\n      var header = this._header;\n      var byteBuffer = new Uint8Array(this._buff);\n      var xyzData = new Float32Array(header.extent[0] * header.extent[1] * header.extent[2]);\n      var blocks = new Vector3(header.extent[0] / 8, header.extent[1] / 8, header.extent[2] / 8);\n      var pos = {};\n      pos.counter = 512;\n      for (var zBlock = 0; zBlock < blocks.z; ++zBlock) {\n        for (var yBlock = 0; yBlock < blocks.y; ++yBlock) {\n          for (var xBlock = 0; xBlock < blocks.x; ++xBlock) {\n            this._blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos);\n          }\n        }\n      }\n      this._calculateInfoParams(xyzData);\n      return xyzData;\n    }\n  }, {\n    key: \"_calculateInfoParams\",\n    value: function _calculateInfoParams(xyzData) {\n      this._header.dmean /= xyzData.length;\n      var dispersion = 0;\n      var minDensity = xyzData[0];\n      var maxDensity = xyzData[0];\n      for (var j = 0; j < xyzData.length; j++) {\n        dispersion += Math.pow(this._header.dmean - xyzData[j], 2);\n        if (xyzData[j] < minDensity) {\n          minDensity = xyzData[j];\n        }\n        if (xyzData[j] > maxDensity) {\n          maxDensity = xyzData[j];\n        }\n      }\n      this._header.sd = Math.sqrt(dispersion / xyzData.length);\n      this._header.dmax = maxDensity;\n      this._header.dmin = minDensity;\n    }\n  }]);\n  return DSN6Model;\n}(VolumeModel);\nvar DSN6Parser = function (_Parser) {\n  _inherits(DSN6Parser, _Parser);\n  var _super2 = _createSuper$g(DSN6Parser);\n  function DSN6Parser(data, options) {\n    var _this;\n    _classCallCheck(this, DSN6Parser);\n    _this = _super2.call(this, data, options);\n    _this._options.fileType = 'dsn6';\n    _this.model = new DSN6Model();\n    return _this;\n  }\n  _createClass(DSN6Parser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      return this.model.parse(this._data);\n    }\n  }], [{\n    key: \"canParse\",\n    value: function canParse(data, options) {\n      if (!data) {\n        return false;\n      }\n      return data instanceof ArrayBuffer && Parser.checkDataTypeOptions(options, 'dsn6');\n    }\n  }, {\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(_data) {\n      return false;\n    }\n  }]);\n  return DSN6Parser;\n}(Parser);\nDSN6Parser.formats = ['dsn6'];\nDSN6Parser.extensions = ['.dsn6', '.omap'];\nDSN6Parser.binary = true;\n\nfunction _createSuper$f(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$f(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$f() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar GROReader = function (_PDBStream) {\n  _inherits(GROReader, _PDBStream);\n  var _super = _createSuper$f(GROReader);\n  function GROReader(data) {\n    var _this;\n    _classCallCheck(this, GROReader);\n    _this = _super.call(this, data);\n    _this._next = -1;\n    _this.next();\n    return _this;\n  }\n  _createClass(GROReader, [{\n    key: \"getNext\",\n    value: function getNext() {\n      return this._next;\n    }\n  }]);\n  return GROReader;\n}(PDBStream);\n\nfunction _createSuper$e(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$e(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$e() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$1 = chem.Complex,\n    Element$1 = chem.Element,\n    Molecule$2 = chem.Molecule;\nvar GROParser = function (_Parser) {\n  _inherits(GROParser, _Parser);\n  var _super = _createSuper$e(GROParser);\n  function GROParser(data, options) {\n    var _this;\n    _classCallCheck(this, GROParser);\n    _this = _super.call(this, data, options);\n    _this._time = null;\n    _this._numAtoms = null;\n    _this._residueNumber = null;\n    _this._residueName = '';\n    _this._atomName = '';\n    _this._atomNumber = null;\n    _this._atomPosition = [];\n    _this._atomVelocity = [];\n    _this._complex = null;\n    _this._molecules = [];\n    _this._molecule = null;\n    _this._options.filetype = 'gro';\n    return _this;\n  }\n  _createClass(GROParser, [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(this._data) && /^\\s*[^\\n]*\\n\\s*\\d+ *\\n\\s*\\d+[^\\n\\d]{3}\\s*\\w+\\s*\\d+\\s*-?\\d/.test(data);\n    }\n  }, {\n    key: \"_parseTitle\",\n    value: function _parseTitle(line) {\n      var metadata = this._complex.metadata;\n      metadata.id = line.readLine().trim();\n      metadata.name = metadata.id.slice(metadata.id.lastIndexOf('\\\\') + 1, metadata.id.lastIndexOf('.'));\n      metadata.format = 'gro';\n    }\n  }, {\n    key: \"_parseNumberOfAtoms\",\n    value: function _parseNumberOfAtoms(line) {\n      this._numAtoms = line.readInt(0, line.getNext());\n      if (Number.isNaN(this._numAtoms)) {\n        throw new Error('Line 2 is not representing atom number. Consider checking input file');\n      }\n    }\n  }, {\n    key: \"_parseAtom\",\n    value: function _parseAtom(line) {\n      this._residueNumber = line.readInt(1, 5);\n      this._residueName = line.readString(6, 10).trim();\n      this._atomName = line.readString(11, 15).trim();\n      this._atomNumber = line.readInt(16, 20);\n      var positionX = line.readFloat(21, 28) * 10;\n      var positionY = line.readFloat(29, 36) * 10;\n      var positionZ = line.readFloat(37, 45) * 10;\n      if (Number.isNaN(positionX) || Number.isNaN(positionY) || Number.isNaN(positionZ)) {\n        this._complex.error = {\n          message: \"Atom position is invalid in \\\"\".concat(line.readLine(), \"\\\"\")\n        };\n        return;\n      }\n      var type = Element$1.getByName(this._atomName[0]);\n      if (type.fullName === 'Unknown') {\n        this._complex.error = {\n          message: \"\".concat(this._atomName[0], \" hasn't been recognised as an atom name.\")\n        };\n        return;\n      }\n      var role = Element$1.Role[this._atomName];\n      var chain = this._chain;\n      if (!chain) {\n        this._chain = chain = this._complex.addChain('A');\n      }\n      var residue = this._residue;\n      if (!residue || residue.getSequence() !== this._residueNumber) {\n        this._residue = residue = chain.addResidue(this._residueName, this._residueNumber, ' ');\n      }\n      this._atomPosition = new Vector3(positionX, positionY, positionZ);\n      var het = true;\n      var altLoc = ' ';\n      var occupancy = 1;\n      var tempFactor = 1;\n      var charge = 0;\n      residue.addAtom(this._atomName, type, this._atomPosition, role, het, this._atomNumber, altLoc, occupancy, tempFactor, charge);\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      var molecule = new Molecule$2(this._complex, this._complex.metadata.name, 1);\n      molecule.residues = this._chain._residues;\n      molecule._chains = this._chain;\n      this._complex._molecules[0] = molecule;\n      this._molecules.push(molecule);\n      this._complex.finalize({\n        needAutoBonding: true,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var result = this._complex = new Complex$1();\n      var reader = new GROReader(this._data);\n      var counter = 0;\n      this._parseTitle(reader);\n      reader.next();\n      this._parseNumberOfAtoms(reader);\n      reader.next();\n      for (counter = 0; counter < this._numAtoms; ++counter) {\n        if (!reader.end()) {\n          this._parseAtom(reader);\n          reader.next();\n        } else break;\n      }\n      if (counter < this._numAtoms) {\n        this._complex.error = {\n          message: 'File ended unexpectedly.'\n        };\n      }\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n      this._finalize();\n      this._atomPosition = null;\n      this._complex = null;\n      this._molecules = null;\n      this._molecule = null;\n      return result;\n    }\n  }]);\n  return GROParser;\n}(Parser);\nGROParser.formats = ['gro'];\nGROParser.extensions = ['.gro'];\n\nfunction _createSuper$d(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$d(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$d() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex = chem.Complex,\n    Element = chem.Element,\n    Bond = chem.Bond,\n    Molecule$1 = chem.Molecule;\nvar orderMap = {\n  un: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  ar: 1,\n  am: 1,\n  nc: 0,\n  du: 1\n};\nvar typeMap = {\n  un: Bond.BondType.UNKNOWN,\n  1: Bond.BondType.COVALENT,\n  2: Bond.BondType.COVALENT,\n  3: Bond.BondType.COVALENT,\n  ar: Bond.BondType.AROMATIC,\n  am: Bond.BondType.COVALENT,\n  nc: Bond.BondType.UNKNOWN,\n  du: Bond.BondType.COVALENT\n};\nvar resNumberRegex = /\\d+$/;\nvar spacesRegex = /\\s+/;\nfunction splitToFields(str) {\n  return str.trim().split(spacesRegex);\n}\nvar MOL2Parser = function (_Parser) {\n  _inherits(MOL2Parser, _Parser);\n  var _super = _createSuper$d(MOL2Parser);\n  function MOL2Parser(data, options) {\n    var _this;\n    _classCallCheck(this, MOL2Parser);\n    _this = _super.call(this, data, options);\n    _this._complex = null;\n    _this._chain = null;\n    _this._residue = null;\n    _this._compoundIndx = -1;\n    _this._molecules = [];\n    _this._molecule = null;\n    _this._currPosIdx = 0;\n    _this._currStartIdx = 0;\n    _this._serialAtomMap = {};\n    _this._options.fileType = 'mol2';\n    return _this;\n  }\n  _createClass(MOL2Parser, [{\n    key: \"_parseRawStrings\",\n    value: function _parseRawStrings(data) {\n      return data.split(/\\r?\\n|\\r/);\n    }\n  }, {\n    key: \"_toStringFromStart\",\n    value: function _toStringFromStart(numb, MOL2Data) {\n      var newPosIdx = this._currStartIdx + numb;\n      this._currPosIdx = newPosIdx < MOL2Data.length ? newPosIdx : this._currStartIdx;\n    }\n  }, {\n    key: \"_toHeaderString\",\n    value: function _toHeaderString(header, MOL2Data) {\n      this._toStringFromStart(0, MOL2Data);\n      while (this._currPosIdx < MOL2Data.length) {\n        if (MOL2Data[this._currPosIdx].match(\"@<TRIPOS>\".concat(header))) {\n          return;\n        }\n        this._currPosIdx++;\n      }\n      this._toStringFromStart(0, MOL2Data);\n    }\n  }, {\n    key: \"_toStringFromHeader\",\n    value: function _toStringFromHeader(header, numb, MOL2Data) {\n      this._toHeaderString(header, MOL2Data);\n      var newPosIdx = this._currPosIdx + numb;\n      if (MOL2Data[this._currPosIdx].match(\"@<TRIPOS>\".concat(header)) && newPosIdx < MOL2Data.length) {\n        this._currPosIdx = newPosIdx;\n      }\n    }\n  }, {\n    key: \"_setStart\",\n    value: function _setStart(startPos, MOL2Data) {\n      if (startPos >= MOL2Data.length) {\n        this._currStartIdx = this._currPosIdx = MOL2Data.length - 1;\n      } else {\n        this._currStartIdx = this._currPosIdx = startPos;\n      }\n    }\n  }, {\n    key: \"_probablyHaveDataToParse\",\n    value: function _probablyHaveDataToParse(MOL2Data) {\n      return this._currPosIdx < MOL2Data.length - 2;\n    }\n  }, {\n    key: \"_findNextCompoundStart\",\n    value: function _findNextCompoundStart(MOL2Data) {\n      while (this._currPosIdx < MOL2Data.length && MOL2Data[this._currPosIdx].trim() !== '@<TRIPOS>MOLECULE>') {\n        this._currPosIdx++;\n      }\n      this._setStart(++this._currPosIdx, MOL2Data);\n      return this._probablyHaveDataToParse(MOL2Data);\n    }\n  }, {\n    key: \"_parseMolecule\",\n    value: function _parseMolecule(MOL2Data) {\n      this._toHeaderString('MOLECULE', MOL2Data);\n      var metadata = this._complex.metadata;\n      metadata.name = MOL2Data[++this._currPosIdx];\n      metadata.format = 'mol2';\n      this._molecule = {\n        _index: '',\n        _chains: []\n      };\n      this._molecule._index = this._compoundIndx + 1;\n      this._molecules.push(this._molecule);\n    }\n  }, {\n    key: \"_parseAtoms\",\n    value: function _parseAtoms(atomsNum, MOL2Data) {\n      this._toHeaderString('ATOM', MOL2Data);\n      for (var i = 0; i < atomsNum; i++) {\n        var parsedStr = splitToFields(MOL2Data[++this._currPosIdx]);\n        if (parsedStr.length < 6) {\n          throw new Error('MOL2 parsing error: Not enough information to create atom!');\n        }\n        var atomId = parseInt(parsedStr[0], 10);\n        var atomName = parsedStr[1];\n        var x = parseFloat(parsedStr[2]);\n        var y = parseFloat(parsedStr[3]);\n        var z = parseFloat(parsedStr[4]);\n        var element = parsedStr[5].split('.')[0].toUpperCase();\n        var charge = 0;\n        if (parsedStr.length >= 9) {\n          charge = parseFloat(parsedStr[8]) || 0.0;\n        }\n        var chain = this._chain;\n        if (!chain) {\n          this._chain = chain = this._complex.getChain('A') || this._complex.addChain('A');\n          this._residue = null;\n        }\n        if (!this._setResidue(parsedStr)) {\n          continue;\n        }\n        var het = false;\n        var altLoc = ' ';\n        var occupancy = 1.0;\n        var tempFactor = 0.0;\n        var type = Element.getByName(element);\n        var role = Element.Role[atomName];\n        var xyz = new Vector3(x, y, z);\n        this._residue.addAtom(atomName, type, xyz, role, het, atomId, altLoc, occupancy, tempFactor, charge);\n      }\n    }\n  }, {\n    key: \"_setResidue\",\n    value: function _setResidue(parsedStr) {\n      var resSeq = 1;\n      var resName = 'UNK';\n      if (parsedStr.length >= 7) {\n        resSeq = parseInt(parsedStr[6], 10);\n      }\n      if (parsedStr.length >= 8 && parsedStr[7] !== '<0>') {\n        resName = parsedStr[7].replace(resNumberRegex, '');\n      }\n      if (this.settings.now.nowater) {\n        if (resName === 'HOH' || resName === 'WAT') {\n          return false;\n        }\n      }\n      var residue = this._residue;\n      var chain = this._chain;\n      if (!residue || residue.getSequence() !== resSeq) {\n        this._residue = chain.addResidue(resName, resSeq, 'A');\n      }\n      return true;\n    }\n  }, {\n    key: \"_parseBonds\",\n    value: function _parseBonds(bondsNum, MOL2Data) {\n      this._toHeaderString('BOND', MOL2Data);\n      for (var i = 0; i < bondsNum; i++) {\n        var parsedStr = splitToFields(MOL2Data[++this._currPosIdx]);\n        if (parsedStr.length < 3) {\n          throw new Error('MOL2 parsing error: Missing information about bonds!');\n        }\n        var originAtomId = parseInt(parsedStr[1], 10);\n        var targetAtomId = parseInt(parsedStr[2], 10);\n        var bondType = parsedStr[3];\n        if (originAtomId > targetAtomId) {\n          var _ref = [targetAtomId, originAtomId];\n          originAtomId = _ref[0];\n          targetAtomId = _ref[1];\n        }\n        this._complex.addBond(originAtomId, targetAtomId, orderMap[bondType] || 0, typeMap[bondType] || Bond.BondType.UNKNOWN, true);\n      }\n    }\n  }, {\n    key: \"_fixSerialAtoms\",\n    value: function _fixSerialAtoms() {\n      var atoms = this._complex._atoms;\n      for (var i = 0; i < atoms.length; i++) {\n        var atom = atoms[i];\n        this._serialAtomMap[atom.serial] = atom;\n      }\n    }\n  }, {\n    key: \"_fixBondsArray\",\n    value: function _fixBondsArray() {\n      var serialAtomMap = this._serialAtomMap;\n      var complex = this._complex;\n      if (Object.keys(serialAtomMap).length === 0) {\n        throw new Error('MOL2 parsing error: Missing atom information!');\n      }\n      var bonds = complex._bonds;\n      for (var j = 0; j < bonds.length; j++) {\n        var bond = bonds[j];\n        bond._left = serialAtomMap[bond._left] || null;\n        bond._right = serialAtomMap[bond._right] || null;\n      }\n    }\n  }, {\n    key: \"_finalizeMolecules\",\n    value: function _finalizeMolecules() {\n      var chain = this._complex._chains[0];\n      this._complex._molecules = [];\n      for (var i = 0; i < this._molecules.length; i++) {\n        var currMolecule = this._molecules[i];\n        var molResidues = chain._residues;\n        var molecule = new Molecule$1(this._complex, currMolecule._name, i + 1);\n        molecule.residues = molResidues;\n        this._complex._molecules[i] = molecule;\n      }\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      this._complex._finalizeBonds();\n      this._fixSerialAtoms();\n      this._fixBondsArray();\n      this._finalizeMolecules();\n      this._complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n    }\n  }, {\n    key: \"_parseCompound\",\n    value: function _parseCompound(MOL2Data) {\n      this._compoundIndx++;\n      this._parseMolecule(MOL2Data);\n      this._toStringFromHeader('MOLECULE', 2, MOL2Data);\n      var parsedStr = MOL2Data[this._currPosIdx].trim().split(spacesRegex);\n      var atomsNum = parsedStr[0];\n      var bondsNum = parsedStr[1];\n      this._parseAtoms(atomsNum, MOL2Data);\n      this._parseBonds(bondsNum, MOL2Data);\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var result = this._complex = new Complex();\n      var MOL2Data = this._parseRawStrings(this._data);\n      do {\n        this._parseCompound(MOL2Data);\n      } while (this._findNextCompoundStart(MOL2Data));\n      this._finalize();\n      return result;\n    }\n  }]);\n  return MOL2Parser;\n}(Parser);\nMOL2Parser.formats = ['mol2'];\nMOL2Parser.extensions = ['.mol2', '.ml2', '.sy2'];\n\nvar parsers = new ParserList([\nPDBParser, CIFParser, MMTFParser, XYZParser, CMLParser, PubChemParser, SDFParser, CCP4Parser, DSN6Parser, GROParser, MOL2Parser]);\n\nfunction _createSuper$c(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$c(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$c() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ExporterList = function (_EntityList) {\n  _inherits(ExporterList, _EntityList);\n  var _super = _createSuper$c(ExporterList);\n  function ExporterList() {\n    var someExporters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    _classCallCheck(this, ExporterList);\n    return _super.call(this, someExporters, ['formats']);\n  }\n  _createClass(ExporterList, [{\n    key: \"find\",\n    value: function find(specs) {\n      var list = [];\n      if (specs.format) {\n        list = this._dict.formats[specs.format.toLowerCase()] || [];\n      }\n      return _toConsumableArray(list);\n    }\n  }]);\n  return ExporterList;\n}(EntityList);\n\nvar Exporter = function () {\n  function Exporter(source, options) {\n    _classCallCheck(this, Exporter);\n    this._source = source;\n    this._options = options || {};\n    this._abort = false;\n  }\n  _createClass(Exporter, [{\n    key: \"exportSync\",\n    value: function exportSync() {\n      throw new Error('Exporting to this source is not implemented');\n    }\n  }, {\n    key: \"export\",\n    value: function _export() {\n      var _this = this;\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          try {\n            if (_this._abort) {\n              return reject(new Error('Export aborted'));\n            }\n            return resolve(_this.exportSync());\n          } catch (error) {\n            return reject(error);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._abort = true;\n    }\n  }]);\n  return Exporter;\n}();\nmakeContextDependent(Exporter.prototype);\n\nvar PDBResult = function () {\n  function PDBResult() {\n    _classCallCheck(this, PDBResult);\n    this._resultArray = [];\n    this._currentStr = -1;\n    this._tag = null;\n    this._fixedNumeration = false;\n    this._numeration = false;\n    this._tagStrNum = 0;\n  }\n  _createClass(PDBResult, [{\n    key: \"getResult\",\n    value: function getResult() {\n      this.writeString('\\n', 81, 81);\n      return this._resultArray.join('');\n    }\n  }, {\n    key: \"_currentStrLength\",\n    value: function _currentStrLength() {\n      var curStr = this._resultArray[this._currentStr];\n      return curStr ? curStr.length : 0;\n    }\n  }, {\n    key: \"newTag\",\n    value: function newTag(tag, numeration) {\n      if (!tag) {\n        this._tag = null;\n      } else {\n        this._tag = tag;\n      }\n      if (!isUndefined(numeration)) {\n        if (isNumber(numeration)) {\n          this._tagStrNum = numeration;\n          this._numeration = true;\n          this._fixedNumeration = true;\n        } else if (isBoolean(numeration)) {\n          this._tagStrNum = 0;\n          this._numeration = numeration;\n          this._fixedNumeration = false;\n        }\n      } else {\n        this._numeration = false;\n        this._fixedNumeration = false;\n        this._tagStrNum = 0;\n      }\n    }\n  }, {\n    key: \"newString\",\n    value: function newString(tag) {\n      this.writeString('\\n', 81, 81);\n      this._currentStr++;\n      this._resultArray.push('');\n      if (tag) {\n        this.writeString(tag, 1, 6);\n      } else if (this._tag) {\n        this.writeString(this._tag, 1, 6);\n      }\n      if (this._numeration) {\n        if (!this._fixedNumeration) {\n          this._tagStrNum++;\n        }\n        if (this._tagStrNum !== 1) {\n          this.writeString(this._tagStrNum.toString(), 10, 8);\n        }\n      }\n    }\n  }, {\n    key: \"writeEntireString\",\n    value: function writeEntireString(string, maxStrPos, concat) {\n      if (!maxStrPos) {\n        maxStrPos = 81;\n      }\n      for (var j = 0; j < string.length; j++) {\n        if (this._currentStrLength() === maxStrPos && j !== string.length - 1) {\n          this.newString();\n          if (concat) {\n            this.writeString(concat.tag, concat.begin, concat.end);\n          }\n        }\n        if (string[j] === '\\n') {\n          this.newString();\n        } else {\n          this.writeString(string[j]);\n        }\n      }\n    }\n  }, {\n    key: \"writeString\",\n    value: function writeString(string, begin, end) {\n      var curStr = this._resultArray[this._currentStr];\n      var str;\n      var curStrLength = curStr ? curStr.length : 0;\n      if (isUndefined(string)) {\n        return;\n      }\n      if (!isNumber(begin)) {\n        begin = curStrLength + 1;\n      }\n      if (!isNumber(end)) {\n        end = curStrLength + string.length;\n      }\n      if (!isString(string)) {\n        str = string.toString();\n      } else {\n        str = string;\n      }\n      var finish = begin < end ? end : begin;\n      var start = begin < end ? begin : end;\n      if (str.length > Math.abs(begin - end) + 1) {\n        str = str.substr(0, Math.abs(begin - end + 1));\n      }\n      if (start > curStrLength + 1) {\n        this._resultArray[this._currentStr] += ' '.repeat(start - curStrLength - 1);\n      } else if (start <= curStrLength) {\n        var cStr = this._resultArray[this._currentStr];\n        this._resultArray[this._currentStr] = cStr.slice(0, start - 1);\n      }\n      if (end < begin) {\n        var len = begin - end + 1;\n        str = ' '.repeat(len - str.length) + str;\n      }\n      if (start === 11 && this._numeration && this._tagStrNum !== 1) {\n        str = \" \".concat(str);\n      }\n      this._resultArray[this._currentStr] += str;\n      curStr = this._resultArray[this._currentStr];\n      if (finish > curStr.length) {\n        this._resultArray[this._currentStr] += ' '.repeat(finish - curStr.length);\n      }\n    }\n  }, {\n    key: \"writeBondsArray\",\n    value: function writeBondsArray(bonds, atom) {\n      var bondsArrays = this._getSubArrays(bonds, 4);\n      for (var k = 0; k < bondsArrays.length; k++) {\n        this.newString();\n        this.writeString(atom.serial, 11, 7);\n        for (var j = 0; j < bondsArrays[k].length; j++) {\n          var serial = bondsArrays[k][j]._left.serial === atom.serial ? bondsArrays[k][j]._right.serial : bondsArrays[k][j]._left.serial;\n          this.writeString(serial, 16 + 5 * j, 12 + 5 * j);\n        }\n      }\n    }\n  }, {\n    key: \"_getSubArrays\",\n    value: function _getSubArrays(arr, subArraySize) {\n      var subArrays = [];\n      for (var i = 0; i < arr.length; i += subArraySize) {\n        subArrays.push(arr.slice(i, i + subArraySize));\n      }\n      return subArrays;\n    }\n  }, {\n    key: \"writeMatrix\",\n    value: function writeMatrix(matrix, matrixIndx, tag) {\n      for (var j = 0; j < 3; j++) {\n        this.newString();\n        this.writeString(tag, 14, 18);\n        this.writeString((j + 1).toString(), 19, 19);\n        this.writeString(matrixIndx.toString(), 23, 20);\n        for (var k = 0; k < 3; k++) {\n          var _numb = parseFloat(matrix.elements[j * 4 + k]).toFixed(6);\n          this.writeString(_numb.toString(), 33 + k * 10, 24 + k * 10);\n        }\n        var numb = parseFloat(matrix.elements[j * 4 + 3]).toFixed(5);\n        this.writeString(numb.toString(), 68, 55);\n      }\n    }\n  }, {\n    key: \"writeMatrices\",\n    value: function writeMatrices(matrices, string) {\n      if (!matrices) {\n        return;\n      }\n      var matrix = new Matrix4();\n      for (var j = 0; j < matrices.length; j++) {\n        matrix.copy(matrices[j]).transpose();\n        this.writeMatrix(matrix, j + 1, string);\n      }\n    }\n  }]);\n  return PDBResult;\n}();\n\nfunction _createSuper$b(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$b(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$b() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar PDBExporter = function (_Exporter) {\n  _inherits(PDBExporter, _Exporter);\n  var _super = _createSuper$b(PDBExporter);\n  function PDBExporter(source, options) {\n    var _this;\n    _classCallCheck(this, PDBExporter);\n    _this = _super.call(this, source, options);\n    _this._tags = ['HEADER', 'TITLE', 'COMPND', 'REMARK', 'HELIX', 'SHEET', 'ATOM and HETATM', 'CONECT'];\n    _this._result = null;\n    _this._tagExtractors = {\n      HEADER: _this._extractHEADER,\n      TITLE: _this._extractTITLE,\n      'ATOM and HETATM': _this._extractATOM,\n      CONECT: _this._extractCONECT,\n      COMPND: _this._extractCOMPND,\n      REMARK: _this._extractREMARK,\n      HELIX: _this._extractHELIX,\n      SHEET: _this._extractSHEET\n    };\n    _this._stringForRemark350 = 'COORDINATES FOR A COMPLETE MULTIMER REPRESENTING THE KNOWN\\n' + 'BIOLOGICALLY SIGNIFICANT OLIGOMERIZATION STATE OF THE\\n' + 'MOLECULE CAN BE GENERATED BY APPLYING BIOMT TRANSFORMATIONS\\n' + 'GIVEN BELOW.  BOTH NON-CRYSTALLOGRAPHIC AND\\n' + 'CRYSTALLOGRAPHIC OPERATIONS ARE GIVEN.';\n    _this._stringForRemark290 = 'CRYSTALLOGRAPHIC SYMMETRY TRANSFORMATIONS\\n' + 'THE FOLLOWING TRANSFORMATIONS OPERATE ON THE ATOM/HETATM\\n' + 'RECORDS IN THIS ENTRY TO PRODUCE CRYSTALLOGRAPHICALLY\\n' + 'RELATED MOLECULES.';\n    return _this;\n  }\n  _createClass(PDBExporter, [{\n    key: \"exportSync\",\n    value: function exportSync() {\n      var result = new PDBResult();\n      if (!this._source) {\n        return this._result;\n      }\n      for (var i = 0; i < this._tags.length; i++) {\n        var tag = this._tags[i];\n        var func = this._tagExtractors[tag];\n        if (typeof func === 'function') {\n          func.call(this, result);\n        }\n      }\n      this._result = result.getResult();\n      return this._result;\n    }\n  }, {\n    key: \"_extractHEADER\",\n    value: function _extractHEADER(result) {\n      if (!this._source.metadata) {\n        return;\n      }\n      var metadata = this._source.metadata;\n      result.newTag('HEADER');\n      result.newString();\n      if (metadata.classification) {\n        result.writeString(metadata.classification, 11, 50);\n      }\n      if (metadata.date) {\n        result.writeString(metadata.date, 51, 59);\n      }\n      if (metadata.id) {\n        result.writeString(metadata.id, 63, 66);\n      }\n    }\n  }, {\n    key: \"_extractTITLE\",\n    value: function _extractTITLE(result) {\n      if (!this._source.metadata) {\n        return;\n      }\n      var metadata = this._source.metadata;\n      if (!metadata.title) {\n        return;\n      }\n      result.newTag('TITLE', true);\n      for (var i = 0; i < metadata.title.length; i++) {\n        result.newString();\n        result.writeString(metadata.title[i], 11, 80);\n      }\n    }\n  }, {\n    key: \"_extractCONECT\",\n    value: function _extractCONECT(result) {\n      if (!this._source._atoms) {\n        return;\n      }\n      var atoms = this._source._atoms;\n      result.newTag('CONECT');\n      for (var i = 0; i < atoms.length; i++) {\n        var fixedBonds = atoms[i].bonds.filter(function (bond) {\n          return bond._fixed;\n        });\n        if (fixedBonds.length !== 0) {\n          result.writeBondsArray(fixedBonds.reverse(), atoms[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_extractSHEET\",\n    value: function _extractSHEET(result) {\n      if (!this._source._sheets) {\n        return;\n      }\n      result.newTag('SHEET');\n      var sheets = this._source._sheets;\n      for (var i = 0; i < sheets.length; i++) {\n        if (sheets[i]._strands) {\n          var strands = sheets[i]._strands;\n          for (var j = 0; j < strands.length; j++) {\n            result.newString();\n            result.writeString(j + 1, 10, 8);\n            result.writeString(sheets[i]._name, 14, 12);\n            result.writeString(strands.length, 16, 15);\n            result.writeString(strands[j].init._type._name, 18, 20);\n            result.writeString(strands[j].init._chain._name, 22, 22);\n            result.writeString(strands[j].init._sequence, 26, 23);\n            result.writeString(strands[j].init._icode, 27, 27);\n            result.writeString(strands[j].term._type._name, 29, 31);\n            result.writeString(strands[j].init._chain._name, 33, 33);\n            result.writeString(strands[j].term._sequence, 37, 34);\n            result.writeString(strands[j].term._icode, 38, 38);\n            result.writeString(strands[j].sense, 40, 39);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_extractHELIX\",\n    value: function _extractHELIX(result) {\n      if (!this._source._helices) {\n        return;\n      }\n      result.newTag('HELIX');\n      var helices = this._source._helices;\n      for (var i = 0; i < helices.length; i++) {\n        var helix = helices[i];\n        var helixClass = invert(typeByPDBHelixClass);\n        result.newString();\n        result.writeString(helix.serial, 10, 8);\n        result.writeString(helix.name, 14, 12);\n        result.writeString(helix.init._type._name, 16, 18);\n        result.writeString(helix.init._chain._name, 20, 20);\n        result.writeString(helix.init._sequence, 25, 22);\n        result.writeString(helix.init._icode, 26, 26);\n        result.writeString(helix.term._type._name, 28, 30);\n        result.writeString(helix.term._chain._name, 32, 32);\n        result.writeString(helix.term._sequence, 37, 34);\n        result.writeString(helix.term._icode, 38, 38);\n        result.writeString(helixClass[helix.type], 40, 39);\n        result.writeString(helix.comment, 41, 70);\n        result.writeString(helix.length, 76, 72);\n      }\n    }\n  }, {\n    key: \"_extractATOM\",\n    value: function _extractATOM(result) {\n      if (!this._source._atoms) {\n        return;\n      }\n      var atoms = this._source._atoms;\n      for (var i = 0; i < atoms.length; i++) {\n        var tag = atoms[i].het ? 'HETATM' : 'ATOM';\n        result.newString(tag);\n        var startIndx = atoms[i].element.name.length > 1 || atoms[i].name.length > 3 ? 13 : 14;\n        result.writeString(atoms[i].serial, 11, 7);\n        result.writeString(atoms[i].name, startIndx, 16);\n        result.writeString(String.fromCharCode(atoms[i].location), 17, 17);\n        result.writeString(atoms[i].residue._type._name, 20, 18);\n        result.writeString(atoms[i].residue._chain._name, 22, 22);\n        result.writeString(atoms[i].residue._sequence, 26, 23);\n        result.writeString(atoms[i].residue._icode, 27, 27);\n        result.writeString(atoms[i].position.x.toFixed(3), 38, 31);\n        result.writeString(atoms[i].position.y.toFixed(3), 46, 39);\n        result.writeString(atoms[i].position.z.toFixed(3), 54, 47);\n        result.writeString(atoms[i].occupancy.toFixed(2), 60, 55);\n        result.writeString(atoms[i].temperature.toFixed(2), 66, 61);\n        result.writeString(atoms[i].element.name, 78, 77);\n        if (atoms[i].charge) {\n          result.writeString(atoms[i].charge, 79, 80);\n        }\n      }\n    }\n  }, {\n    key: \"_extractCOMPND\",\n    value: function _extractCOMPND(result) {\n      if (!this._source._molecules) {\n        return;\n      }\n      var molecules = this._source._molecules;\n      result.newTag('COMPND', true);\n      for (var i = 0; i < molecules.length; i++) {\n        var chains = this._getMoleculeChains(molecules[i]);\n        result.newString();\n        result.writeString(\"MOL_ID: \".concat(molecules[i].index, \";\"), 11, 80);\n        result.newString();\n        result.writeString(\"MOLECULE: \".concat(molecules[i].name, \";\"), 11, 80);\n        result.newString();\n        result.writeString('CHAIN: ', 11, 18);\n        var chainsString = \"\".concat(chains.join(', '), \";\");\n        result.writeEntireString(chainsString, 81);\n      }\n    }\n  }, {\n    key: \"_extractREMARK\",\n    value: function _extractREMARK(result) {\n      this._Remark290(result);\n      this._Remark350(result);\n    }\n  }, {\n    key: \"_Remark290\",\n    value: function _Remark290(result) {\n      if (!this._source.symmetry) {\n        return;\n      }\n      if (this._source.symmetry.length !== 0) {\n        var matrices = this._source.symmetry;\n        result.newTag('REMARK', 290);\n        result.newString();\n        result.newString();\n        result.writeEntireString(this._stringForRemark290);\n        result.writeMatrices(matrices, 'SMTRY');\n        result.newString();\n        result.newString();\n        result.writeString('REMARK: NULL', 11, 80);\n      }\n    }\n  }, {\n    key: \"_Remark350\",\n    value: function _Remark350(result) {\n      if (!this._source.units) {\n        return;\n      }\n      var units = this._source.units;\n      var biomolIndx = 0;\n      result.newTag('REMARK', 350);\n      result.newString();\n      result.newString();\n      result.writeEntireString(this._stringForRemark350);\n      var assemblies = units.filter(function (unit) {\n        return unit instanceof Assembly$3;\n      });\n      for (var i = 0; i < assemblies.length; i++) {\n        result.newString();\n        result.newString();\n        biomolIndx++;\n        result.writeString(\"BIOMOLECULE: \".concat(biomolIndx), 11, 80);\n        var chains = assemblies[i].chains.join(', ');\n        result.newString();\n        result.writeString('APPLY THE FOLLOWING TO CHAINS: ');\n        result.writeEntireString(chains, 69, {\n          tag: 'AND CHAINS: ',\n          begin: 31,\n          end: 42\n        });\n        var matrices = assemblies[i].matrices;\n        result.writeMatrices(matrices, 'BIOMT');\n      }\n    }\n  }, {\n    key: \"_getMoleculeChains\",\n    value: function _getMoleculeChains(molecule) {\n      function getChainName(residue) {\n        return residue._chain._name;\n      }\n      var chainNames = molecule.residues.map(getChainName);\n      return chainNames.filter(function (item, pos) {\n        return chainNames.indexOf(item) === pos;\n      });\n    }\n  }]);\n  return PDBExporter;\n}(Exporter);\nPDBExporter.formats = ['pdb'];\nPDBExporter.SourceClass = Complex$9;\n\nvar FBX_POS_SIZE = 3;\nvar FBX_NORM_SIZE = 3;\nvar FBX_COL_SIZE = 4;\nfunction copyFbxPoint3(src, srcIdx, dst, dstIdx) {\n  dst[dstIdx] = src[srcIdx];\n  dst[dstIdx + 1] = src[srcIdx + 1];\n  dst[dstIdx + 2] = src[srcIdx + 2];\n}\nfunction copyFbxPoint4(src, srcIdx, dst, dstIdx, value) {\n  dst[dstIdx] = src[srcIdx];\n  dst[dstIdx + 1] = src[srcIdx + 1];\n  dst[dstIdx + 2] = src[srcIdx + 2];\n  dst[dstIdx + 3] = value;\n}\nvar vector4 = new Vector4();\nfunction copyTransformedPoint3(src, srcIdx, dst, dstIdx, opts) {\n  vector4.set(src[srcIdx], src[srcIdx + 1], src[srcIdx + 2], opts.w);\n  vector4.applyMatrix4(opts.matrix);\n  dst[dstIdx] = vector4.x;\n  dst[dstIdx + 1] = vector4.y;\n  dst[dstIdx + 2] = vector4.z;\n}\nfunction setSubArray(src, dst, count, copyFunctor, functorOpts) {\n  if ((dst.array.length - dst.start) / dst.stride < count || (src.array.length - src.start) / src.stride < count) {\n    return;\n  }\n  if (src.stride === dst.stride) {\n    dst.array.set(src.array, dst.start);\n  } else {\n    var idx = dst.start;\n    var arridx = src.start;\n    for (var i = 0; i < count; ++i, idx += dst.stride, arridx += src.stride) {\n      copyFunctor(src.array, arridx, dst.array, idx, functorOpts);\n    }\n  }\n}\nvar FBXModel = function () {\n  function FBXModel() {\n    _classCallCheck(this, FBXModel);\n    this.positions = null;\n    this.normals = null;\n    this.colors = null;\n    this.indices = null;\n    this.lastPos = 0;\n    this.lastNorm = 0;\n    this.lastCol = 0;\n    this.lastIdx = 0;\n  }\n  _createClass(FBXModel, [{\n    key: \"init\",\n    value: function init(vertsCount, indsCount) {\n      this.positions = new Float32Array(vertsCount * FBX_POS_SIZE);\n      this.normals = new Float32Array(vertsCount * FBX_NORM_SIZE);\n      this.colors = new Float32Array(vertsCount * FBX_COL_SIZE);\n      this.indices = new Int32Array(indsCount);\n    }\n  }, {\n    key: \"setPositions\",\n    value: function setPositions(array, start, count, stride) {\n      var src = {\n        array: array,\n        start: start,\n        stride: stride\n      };\n      var dst = {\n        array: this.positions,\n        start: this.lastPos,\n        stride: FBX_POS_SIZE\n      };\n      setSubArray(src, dst, count, copyFbxPoint3);\n      this.lastPos += count * FBX_POS_SIZE;\n    }\n  }, {\n    key: \"setTransformedPositions\",\n    value: function setTransformedPositions(array, start, count, stride, matrix) {\n      var idx = this.lastPos;\n      var arrIdx = start;\n      var opts = {\n        matrix: matrix,\n        w: 1\n      };\n      for (var i = 0; i < count; ++i, arrIdx += stride, idx += FBX_POS_SIZE) {\n        copyTransformedPoint3(array, arrIdx, this.positions, idx, opts);\n      }\n      this.lastPos += count * FBX_POS_SIZE;\n    }\n  }, {\n    key: \"setNormals\",\n    value: function setNormals(array, start, count, stride) {\n      var src = {\n        array: array,\n        start: start,\n        stride: stride\n      };\n      var dst = {\n        array: this.normals,\n        start: this.lastNorm,\n        stride: FBX_NORM_SIZE\n      };\n      setSubArray(src, dst, count, copyFbxPoint3);\n      this.lastNorm += count * FBX_NORM_SIZE;\n    }\n  }, {\n    key: \"setTransformedNormals\",\n    value: function setTransformedNormals(array, start, count, stride, matrix) {\n      var idx = this.lastNorm;\n      var arrIdx = start;\n      var opts = {\n        matrix: matrix,\n        w: 0\n      };\n      for (var i = 0; i < count; ++i, arrIdx += stride, idx += FBX_NORM_SIZE) {\n        copyTransformedPoint3(array, arrIdx, this.normals, idx, opts);\n      }\n      this.lastNorm += count * FBX_NORM_SIZE;\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(array, start, count, stride) {\n      var src = {\n        array: array,\n        start: start,\n        stride: stride\n      };\n      var dst = {\n        array: this.colors,\n        start: this.lastCol,\n        stride: FBX_COL_SIZE\n      };\n      setSubArray(src, dst, count, copyFbxPoint4, 1);\n      this.lastCol += count * FBX_COL_SIZE;\n    }\n  }, {\n    key: \"setIndices\",\n    value: function setIndices(array, start, count) {\n      this.indices.set(array, this.lastIdx);\n      this.lastIdx += count;\n    }\n  }, {\n    key: \"setShiftedIndices\",\n    value: function setShiftedIndices(array, count, shift) {\n      var shifted = array.map(function (x) {\n        return x + shift;\n      });\n      this.setIndices(shifted, 0, count);\n    }\n  }, {\n    key: \"getVerticesNumber\",\n    value: function getVerticesNumber() {\n      return this.lastPos / FBX_POS_SIZE;\n    }\n  }, {\n    key: \"addInstance\",\n    value: function addInstance(matrix, geo) {\n      var currentCount = this.getVerticesNumber();\n      this.setShiftedIndices(geo.indices, geo.indices.length, currentCount);\n      var size = geo.itemSize;\n      this.setTransformedPositions(geo.positions, 0, geo.vertsCount, size.position, matrix);\n      this.setTransformedNormals(geo.normals, 0, geo.vertsCount, size.normal, matrix);\n      this.setColors(geo.colors, 0, geo.vertsCount, size.color);\n    }\n  }]);\n  return FBXModel;\n}();\n\nvar FBXGeometry = function () {\n  function FBXGeometry() {\n    _classCallCheck(this, FBXGeometry);\n    this.positions = null;\n    this.normals = null;\n    this.colors = null;\n    this.indices = null;\n    this.vertsCount = 0;\n    this.itemSize = null;\n  }\n  _createClass(FBXGeometry, [{\n    key: \"init\",\n    value: function init(geo, _info) {\n      var attributes = geo.attributes;\n      this.itemSize = {\n        position: attributes.position.itemSize,\n        normal: attributes.normal.itemSize,\n        color: attributes.color.itemSize\n      };\n    }\n  }]);\n  return FBXGeometry;\n}();\n\nfunction _createSuper$a(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$a(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$a() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FBX1CGeometry = function (_FBXGeometry) {\n  _inherits(FBX1CGeometry, _FBXGeometry);\n  var _super = _createSuper$a(FBX1CGeometry);\n  function FBX1CGeometry() {\n    _classCallCheck(this, FBX1CGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FBX1CGeometry, [{\n    key: \"init\",\n    value:\n    function init(geo, _info) {\n      _get(_getPrototypeOf(FBX1CGeometry.prototype), \"init\", this).call(this, geo, _info);\n      var _geo$attributes = geo.attributes,\n          position = _geo$attributes.position,\n          normal = _geo$attributes.normal,\n          index = geo.index;\n      this.vertsCount = position.count;\n      this.positions = position.array;\n      this.normals = normal.array;\n      this.colors = new Float32Array(this.vertsCount * this.itemSize.color);\n      this.indices = index.array;\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(color) {\n      var offset = 0;\n      for (var i = 0, l = this.colors.length, cl = this.itemSize.color; i < l; i += cl) {\n        this.colors[offset++] = color.r;\n        this.colors[offset++] = color.g;\n        this.colors[offset++] = color.b;\n      }\n    }\n  }]);\n  return FBX1CGeometry;\n}(FBXGeometry);\n\nfunction _createSuper$9(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$9(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$9() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FBX2CCylinder = function (_FBXGeometry) {\n  _inherits(FBX2CCylinder, _FBXGeometry);\n  var _super = _createSuper$9(FBX2CCylinder);\n  function FBX2CCylinder() {\n    var _this;\n    _classCallCheck(this, FBX2CCylinder);\n    _this = _super.call(this);\n    _this._cutRawStart = 0;\n    _this._cutRawEnd = 0;\n    _this._facesPerSlice = 0;\n    return _this;\n  }\n  _createClass(FBX2CCylinder, [{\n    key: \"init\",\n    value: function init(geo, info) {\n      _get(_getPrototypeOf(FBX2CCylinder.prototype), \"init\", this).call(this, geo, info);\n      var position = geo.attributes.position,\n          index = geo.index;\n      this.vertsCount = position.count + info.addPerCylinder;\n      this._facesPerSlice = info.addPerCylinder;\n      this.positions = new Float32Array(this.vertsCount * position.itemSize);\n      this.normals = new Float32Array(this.vertsCount * this.itemSize.normal);\n      this.colors = new Float32Array(this.vertsCount * this.itemSize.color);\n      this._extendVertices(geo, info);\n      this.indices = new Uint32Array(index.count);\n      this._extendIndices(geo, info);\n    }\n  }, {\n    key: \"_extendVertices\",\n    value: function _extendVertices(geo, info) {\n      var position = geo.attributes.position;\n      var normal = geo.attributes.normal;\n      var geoParams = geo.getGeoParams();\n      var cutRaw = 1;\n      this._cutRawStart = cutRaw * geoParams.radialSegments;\n      this._cutRawEnd = this._cutRawStart + info.addPerCylinder;\n      {\n        var temp = position.array.slice(0, this._cutRawEnd * position.itemSize);\n        this.positions.set(temp, 0);\n        temp = normal.array.slice(0, this._cutRawEnd * normal.itemSize);\n        this.normals.set(temp, 0);\n      }\n      {\n        var _temp = position.array.slice(this._cutRawStart * position.itemSize, position.array.length);\n        this.positions.set(_temp, this._cutRawEnd * position.itemSize);\n        _temp = normal.array.slice(this._cutRawStart * normal.itemSize, normal.array.length);\n        this.normals.set(_temp, this._cutRawEnd * normal.itemSize);\n      }\n    }\n  }, {\n    key: \"_extendIndices\",\n    value: function _extendIndices(geo, info) {\n      var index = geo.index;\n      var indicesPerQuad = 6;\n      var startToShift = info.addPerCylinder * indicesPerQuad;\n      var shift = info.addPerCylinder;\n      var shifted = index.array.slice(startToShift, index.count);\n      shifted = shifted.map(function (x) {\n        return x + shift;\n      });\n      this.indices.set(index.array, 0);\n      this.indices.set(shifted, startToShift);\n    }\n  }, {\n    key: \"_setColorRange\",\n    value: function _setColorRange(start, end, array, color) {\n      var colorSize = color.length;\n      for (var i = start; i < end; i += colorSize) {\n        array.set(color, i);\n      }\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(color1, color2) {\n      var colorSize = this.itemSize.color;\n      var part1End = this._cutRawEnd * colorSize;\n      var part2End = part1End * 2;\n      this._setColorRange(0, part1End, this.colors, color1.toArray());\n      this._setColorRange(part1End, part2End, this.colors, color2.toArray());\n      if (part2End < this.colors.length) {\n        var capSize = (this._facesPerSlice + 1) * colorSize;\n        var cap1End = part2End + capSize;\n        this._setColorRange(part2End, cap1End, this.colors, color2.toArray());\n        var cap2End = cap1End + capSize;\n        this._setColorRange(cap1End, cap2End, this.colors, color1.toArray());\n      }\n    }\n  }]);\n  return FBX2CCylinder;\n}(FBXGeometry);\n\nvar FBXInfoExtractor = function () {\n  function FBXInfoExtractor() {\n    _classCallCheck(this, FBXInfoExtractor);\n    this._materials = [];\n    this._models = [];\n  }\n  _createClass(FBXInfoExtractor, [{\n    key: \"process\",\n    value: function process(data) {\n      this._extractModelsAndMaterials(data);\n      var models = this._flattenModels();\n      return {\n        name: data.name,\n        models: models,\n        materials: this._materials\n      };\n    }\n  }, {\n    key: \"_extractModelsAndMaterials\",\n    value: function _extractModelsAndMaterials(data) {\n      var _this = this;\n      var layersOfInterest = new Layers();\n      layersOfInterest.set(gfxutils.LAYERS.DEFAULT);\n      layersOfInterest.enable(gfxutils.LAYERS.TRANSPARENT);\n      data.traverse(function (object) {\n        if (object instanceof Mesh && object.layers.test(layersOfInterest) && _this.checkExportAbility(object)) {\n          if (object.geometry.type === 'InstancedBufferGeometry') {\n            _this._collectInstancedGeoInfo(object);\n          } else {\n            _this._collectGeoInfo(object);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_reworkIndices\",\n    value: function _reworkIndices(indices) {\n      var faceSize = 3;\n      for (var i = faceSize - 1; i < indices.length; i += faceSize) {\n        indices[i] *= -1;\n        indices[i]--;\n      }\n    }\n  }, {\n    key: \"_flattenModels\",\n    value: function _flattenModels() {\n      var overallVertsCount = 0;\n      function shift(x) {\n        return x + overallVertsCount;\n      }\n      var combined = [];\n      for (var i = 0, n = this._models.length; i < n; i++) {\n        var models = this._models[i];\n        var indices = [];\n        var positions = [];\n        var normals = [];\n        var colors = [];\n        overallVertsCount = 0;\n        for (var j = 0; j < models.length; j++) {\n          var m = models[j];\n          indices.push(m.indices.map(shift));\n          overallVertsCount += m.getVerticesNumber();\n          positions.push(m.positions);\n          normals.push(m.normals);\n          colors.push(m.colors);\n        }\n        indices = utils.mergeTypedArraysUnsafe(indices);\n        this._reworkIndices(indices);\n        positions = utils.mergeTypedArraysUnsafe(positions);\n        normals = utils.mergeTypedArraysUnsafe(normals);\n        colors = utils.mergeTypedArraysUnsafe(colors);\n        combined.push({\n          indices: indices,\n          positions: positions,\n          normals: normals,\n          colors: colors,\n          verticesCount: overallVertsCount\n        });\n      }\n      return combined;\n    }\n  }, {\n    key: \"checkExportAbility\",\n    value: function checkExportAbility(mesh) {\n      if (mesh.geometry.attributes.position.count === 0) {\n        return false;\n      }\n      if (mesh instanceof ZSpriteMesh) {\n        logger.warn(\"Currently we cannot export 'sprites' modes, like BS, WV, LC. Please turn of settings 'zSprites' and try again\");\n        return false;\n      }\n      if (mesh instanceof ThickLineMesh) {\n        logger.warn('Currently we cannot export Lines mode');\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_collectGeoInfo\",\n    value: function _collectGeoInfo(mesh) {\n      var _mesh$geometry = mesh.geometry,\n          _mesh$geometry$attrib = _mesh$geometry.attributes,\n          position = _mesh$geometry$attrib.position,\n          color = _mesh$geometry$attrib.color,\n          normal = _mesh$geometry$attrib.normal,\n          index = _mesh$geometry.index,\n          matrix = mesh.matrix;\n      var model = new FBXModel();\n      var vertCount = position.count;\n      model.init(vertCount, index.count);\n      if (matrix.isIdentity()) {\n        model.setPositions(position.array, 0, vertCount, position.itemSize);\n        model.setNormals(normal.array, 0, vertCount, normal.itemSize);\n      } else {\n        model.setTransformedPositions(position.array, 0, vertCount, position.itemSize, matrix);\n        model.setTransformedNormals(normal.array, 0, vertCount, normal.itemSize, matrix);\n      }\n      model.setColors(color.array, 0, vertCount, color.itemSize);\n      model.setIndices(index.array, 0, index.count);\n      var material = this._collectMaterialInfo(mesh);\n      this._addToPool(model, material);\n    }\n  }, {\n    key: \"_collectSpheresInfo\",\n    value: function _collectSpheresInfo(mesh) {\n      var _mesh$geometry2 = mesh.geometry,\n          _mesh$geometry2$attri = _mesh$geometry2.attributes,\n          position = _mesh$geometry2$attri.position,\n          color = _mesh$geometry2$attri.color,\n          index = _mesh$geometry2.index,\n          matrix = mesh.matrix;\n      var model = new FBXModel();\n      var instCount = mesh.geometry.instanceCount;\n      var vertCount = position.count;\n      var indsCount = index.count;\n      model.init(instCount * vertCount, instCount * indsCount);\n      var geo = new FBX1CGeometry();\n      geo.init(mesh.geometry);\n      var instMatrix = new Matrix4();\n      var objMatrix = new Matrix4();\n      var sphereColor = new Color();\n      for (var instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n        var colorIdx = instanceIndex * color.itemSize;\n        sphereColor.fromArray(color.array, colorIdx);\n        geo.setColors(sphereColor);\n        this._getSphereInstanceMatrix(mesh.geometry, instanceIndex, instMatrix);\n        objMatrix.multiplyMatrices(matrix, instMatrix);\n        model.addInstance(objMatrix, geo);\n      }\n      var material = this._collectMaterialInfo(mesh);\n      this._addToPool(model, material);\n    }\n  }, {\n    key: \"_collectCylindersInfo\",\n    value: function _collectCylindersInfo(mesh) {\n      var _mesh$geometry3 = mesh.geometry,\n          _mesh$geometry3$attri = _mesh$geometry3.attributes,\n          position = _mesh$geometry3$attri.position,\n          color = _mesh$geometry3$attri.color,\n          color2 = _mesh$geometry3$attri.color2,\n          index = _mesh$geometry3.index,\n          matrix = mesh.matrix;\n      var model = new FBXModel();\n      var instCount = mesh.geometry.instanceCount;\n      var oneCCylinder = new FBX1CGeometry();\n      oneCCylinder.init(mesh.geometry);\n      var splittingInfo = this._gatherCylindersColoringInfo(mesh.geometry);\n      var twoCCylinder = null;\n      if (splittingInfo.needToSplit > 0) {\n        twoCCylinder = new FBX2CCylinder();\n        twoCCylinder.init(mesh.geometry, splittingInfo);\n      }\n      var additionalVertsCount = splittingInfo.addPerCylinder * splittingInfo.needToSplit;\n      var vertCount = position.count;\n      var indsCount = index.count;\n      model.init(instCount * vertCount + additionalVertsCount, instCount * indsCount);\n      var instMatrix = new Matrix4();\n      var objMatrix = new Matrix4();\n      var colorStart = new Color();\n      var colorEnd = new Color();\n      var geo = {};\n      for (var instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n        var colorIdx = instanceIndex * color.itemSize;\n        if (splittingInfo.is2Colored[instanceIndex]) {\n          colorStart.fromArray(color2.array, colorIdx);\n          colorEnd.fromArray(color.array, colorIdx);\n          if (twoCCylinder) {\n            twoCCylinder.setColors(colorStart, colorEnd);\n            geo = twoCCylinder;\n          }\n        } else {\n          colorStart.fromArray(color.array, colorIdx);\n          oneCCylinder.setColors(colorStart);\n          geo = oneCCylinder;\n        }\n        this._getCylinderInstanceMatrix(mesh.geometry, instanceIndex, instMatrix);\n        objMatrix.multiplyMatrices(matrix, instMatrix);\n        model.addInstance(objMatrix, geo);\n      }\n      var material = this._collectMaterialInfo(mesh);\n      this._addToPool(model, material);\n    }\n  }, {\n    key: \"_addToPool\",\n    value: function _addToPool(model, material) {\n      var materialIdx = this._checkExistingMaterial(material);\n      if (materialIdx < 0) {\n        this._models.push([model]);\n        this._materials.push(material);\n      } else {\n        var models = this._models[materialIdx];\n        models.push(model);\n      }\n    }\n  }, {\n    key: \"_checkExistingMaterial\",\n    value: function _checkExistingMaterial(material) {\n      return findIndex(this._materials, function (m) {\n        return isEqual(m, material);\n      });\n    }\n  }, {\n    key: \"_gatherCylindersColoringInfo\",\n    value: function _gatherCylindersColoringInfo(geo) {\n      var instCount = geo.instanceCount;\n      var color1 = geo.attributes.color.array;\n      var color2 = geo.attributes.color2.array;\n      var stride = geo.attributes.color.itemSize;\n      var is2Colored = new Array(instCount);\n      var needToSplit = 0;\n      var colIdx = 0;\n      for (var i = 0; i < instCount; i++, colIdx += stride) {\n        var differs = Math.abs(color1[colIdx] - color2[colIdx]) > 0.0000001 ||\n        Math.abs(color1[colIdx + 1] - color2[colIdx + 1]) > 0.0000001 || Math.abs(color1[colIdx + 2] - color2[colIdx + 2]) > 0.0000001;\n        is2Colored[i] = differs;\n        needToSplit += differs;\n      }\n      var geoParams = geo.getGeoParams();\n      var addPerCylinder = geoParams.radialSegments;\n      return {\n        is2Colored: is2Colored,\n        needToSplit: needToSplit,\n        addPerCylinder: addPerCylinder\n      };\n    }\n  }, {\n    key: \"_collectInstancedGeoInfo\",\n    value: function _collectInstancedGeoInfo(mesh) {\n      if (mesh.geometry instanceof InstancedSpheresGeometry) {\n        this._collectSpheresInfo(mesh);\n      } else if (mesh.geometry instanceof Instanced2CCylindersGeometry) {\n        this._collectCylindersInfo(mesh);\n      }\n    }\n  }, {\n    key: \"_collectMaterialInfo\",\n    value: function _collectMaterialInfo(mesh) {\n      var uberOptions = mesh.material.uberOptions;\n      return {\n        diffuse: uberOptions.diffuse.toArray(),\n        opacity: uberOptions.opacity,\n        shininess: uberOptions.shininess,\n        specular: uberOptions.specular.toArray()\n      };\n    }\n  }, {\n    key: \"_getCylinderInstanceMatrix\",\n    value: function _getCylinderInstanceMatrix(geo, instIdx, matrix) {\n      var matVector1 = geo.attributes.matVector1.array;\n      var matVector2 = geo.attributes.matVector2.array;\n      var matVector3 = geo.attributes.matVector3.array;\n      var idxOffset = instIdx * 4;\n      matrix.set(matVector1[idxOffset], matVector1[idxOffset + 1], matVector1[idxOffset + 2], matVector1[idxOffset + 3], matVector2[idxOffset], matVector2[idxOffset + 1], matVector2[idxOffset + 2], matVector2[idxOffset + 3], matVector3[idxOffset], matVector3[idxOffset + 1], matVector3[idxOffset + 2], matVector3[idxOffset + 3], 0, 0, 0, 1);\n    }\n  }, {\n    key: \"_getSphereInstanceMatrix\",\n    value: function _getSphereInstanceMatrix(geo, instIdx, matrix) {\n      var offset = geo.attributes.offset;\n      var idx = instIdx * offset.itemSize;\n      var x = offset.array[idx];\n      var y = offset.array[idx + 1];\n      var z = offset.array[idx + 2];\n      var scale = offset.array[idx + 3];\n      matrix.set(scale, 0, 0, x, 0, scale, 0, y, 0, 0, scale, z, 0, 0, 0, 1);\n    }\n  }]);\n  return FBXInfoExtractor;\n}();\n\nvar defaultDefinitions = \"\\nDefinitions:  {\\n  Version: 100\\n  Count: 3\\n  ObjectType: \\\"Model\\\" {\\n    Count: 1\\n  }\\n  ObjectType: \\\"Geometry\\\" {\\n    Count: 1\\n  }\\n  ObjectType: \\\"Material\\\" {\\n    Count: 1\\n  }\\n  ObjectType: \\\"Pose\\\" {\\n    Count: 1\\n  }\\n  ObjectType: \\\"GlobalSettings\\\" {\\n    Count: 1\\n  }\\n} \";\nvar defaultProperties = \"Properties60: {\\n      Property: \\\"QuaternionInterpolate\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"Visibility\\\", \\\"Visibility\\\", \\\"A\\\",1\\n      Property: \\\"Lcl Translation\\\", \\\"Lcl Translation\\\", \\\"A\\\",0.000000000000000,0.000000000000000,-1789.238037109375000\\n      Property: \\\"Lcl Rotation\\\", \\\"Lcl Rotation\\\", \\\"A\\\",0.000009334667643,-0.000000000000000,0.000000000000000\\n      Property: \\\"Lcl Scaling\\\", \\\"Lcl Scaling\\\", \\\"A\\\",1.000000000000000,1.000000000000000,1.000000000000000\\n      Property: \\\"RotationOffset\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"RotationPivot\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"ScalingOffset\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"ScalingPivot\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"TranslationActive\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMin\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"TranslationMax\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"TranslationMinX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMinY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMinZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMaxX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMaxY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMaxZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationOrder\\\", \\\"enum\\\", \\\"\\\",0\\n      Property: \\\"RotationSpaceForLimitOnly\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"AxisLen\\\", \\\"double\\\", \\\"\\\",10\\n      Property: \\\"PreRotation\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"PostRotation\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"RotationActive\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMin\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"RotationMax\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"RotationMinX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMinY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMinZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMaxX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMaxY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMaxZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationStiffnessX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"RotationStiffnessY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"RotationStiffnessZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampRangeX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampRangeY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampRangeZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampRangeX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampRangeY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampRangeZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampStrengthX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampStrengthY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampStrengthZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampStrengthX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampStrengthY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampStrengthZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"PreferedAngleX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"PreferedAngleY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"PreferedAngleZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"InheritType\\\", \\\"enum\\\", \\\"\\\",0\\n      Property: \\\"ScalingActive\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMin\\\", \\\"Vector3D\\\", \\\"\\\",1,1,1\\n      Property: \\\"ScalingMax\\\", \\\"Vector3D\\\", \\\"\\\",1,1,1\\n      Property: \\\"ScalingMinX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMinY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMinZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMaxX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMaxY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMaxZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"GeometricTranslation\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"GeometricRotation\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"GeometricScaling\\\", \\\"Vector3D\\\", \\\"\\\",1,1,1\\n      Property: \\\"LookAtProperty\\\", \\\"object\\\", \\\"\\\"\\n      Property: \\\"UpVectorProperty\\\", \\\"object\\\", \\\"\\\"\\n      Property: \\\"Show\\\", \\\"bool\\\", \\\"\\\",1\\n      Property: \\\"NegativePercentShapeSupport\\\", \\\"bool\\\", \\\"\\\",1\\n      Property: \\\"DefaultAttributeIndex\\\", \\\"int\\\", \\\"\\\",0\\n      Property: \\\"Color\\\", \\\"Color\\\", \\\"A+\\\",0,0,0\\n      Property: \\\"Size\\\", \\\"double\\\", \\\"\\\",100\\n      Property: \\\"Look\\\", \\\"enum\\\", \\\"\\\",1\\n    }\";\nvar defaultMaterialLayer = \"\\n    LayerElementMaterial: 0 {\\n      Version: 101\\n      Name: \\\"\\\"\\n      MappingInformationType: \\\"AllSame\\\"\\n      ReferenceInformationType: \\\"Direct\\\"\\n      Materials: 0\\n    }\";\nvar defaultLayerBlock = \"\\n    Layer: 0 {\\n      Version: 100\\n      LayerElement:  {\\n        Type: \\\"LayerElementNormal\\\"\\n        TypedIndex: 0\\n      }\\n      LayerElement:  {\\n        Type: \\\"LayerElementColor\\\"\\n        TypedIndex: 0\\n      }\\n      LayerElement:  {\\n        Type: \\\"LayerElementMaterial\\\"\\n        TypedIndex: 0\\n      }\\n    }\";\nvar globalSettings = \"GlobalSettings: {\\n    Version: 1000\\n    Properties60:  {\\n      Property: \\\"UpAxis\\\", \\\"int\\\", \\\"\\\",1\\n      Property: \\\"UpAxisSign\\\", \\\"int\\\", \\\"\\\",1\\n      Property: \\\"FrontAxis\\\", \\\"int\\\", \\\"\\\",2\\n      Property: \\\"FrontAxisSign\\\", \\\"int\\\", \\\"\\\",1\\n      Property: \\\"CoordAxis\\\", \\\"int\\\", \\\"\\\",0\\n      Property: \\\"CoordAxisSign\\\", \\\"int\\\", \\\"\\\",1\\n      Property: \\\"UnitScaleFactor\\\", \\\"double\\\", \\\"\\\",1\\n    }\\n  }\";\nvar FBXResult = function () {\n  function FBXResult() {\n    _classCallCheck(this, FBXResult);\n    this._resultArray = [];\n    this._info = null;\n  }\n  _createClass(FBXResult, [{\n    key: \"getResult\",\n    value: function getResult(info) {\n      this._info = info;\n      this._resultArray.push(this._writeHeader());\n      this._resultArray.push(this._writeDefinitions());\n      this._resultArray.push(this._writeObjects(info.models, info.materials));\n      this._resultArray.push(this._writeRelations());\n      this._resultArray.push(this._writeConnections());\n      this._info = null;\n      return this._resultArray.join('');\n    }\n  }, {\n    key: \"_writeHeader\",\n    value: function _writeHeader() {\n      var FBXHeaderVersion = 1003;\n      var FBXVersion = 6100;\n      var date = new Date();\n      var timeStampVersion = 1000;\n      var creator = \"Miew FBX Exporter v\".concat(this._info.version);\n      return \"; FBX 6.1.0 project file\\n; Created by \".concat(creator, \" Copyright (c) 2015-2022 EPAM Systems, Inc.\\n; For support please contact miew@epam.com\\n; ----------------------------------------------------\\n\\nFBXHeaderExtension:  {\\n  FBXHeaderVersion: \").concat(FBXHeaderVersion, \"\\n  FBXVersion: \").concat(FBXVersion, \"\\n  CreationTimeStamp:  {\\n    Version: \").concat(timeStampVersion, \"\\n    Year: \").concat(date.getFullYear(), \"\\n    Month: \").concat(date.getMonth() + 1, \" \\n    Day: \").concat(date.getDate(), \"\\n    Hour: \").concat(date.getHours(), \"\\n    Minute: \").concat(date.getMinutes(), \"\\n    Second: \").concat(date.getSeconds(), \"\\n    Millisecond: \").concat(date.getMilliseconds(), \"\\n  }\\n  Creator: \\\"\").concat(creator, \"\\\"\\n  OtherFlags:  {\\n    FlagPLE: 0\\n  }\\n}\\nCreationTime: \\\"\").concat(date, \"\\\"\\nCreator: \\\"\").concat(creator, \"\\\"  \\n\");\n    }\n  }, {\n    key: \"_writeDefinitions\",\n    value: function _writeDefinitions() {\n      return \"\\n; Object definitions\\n;------------------------------------------------------------------\\n\\n\".concat(defaultDefinitions, \"\\n\");\n    }\n  }, {\n    key: \"_models\",\n    value: function _models() {\n      var modelVersion = 232;\n      var allModels = '';\n      var models = this._info.models;\n      for (var i = 0; i < models.length; ++i) {\n        var model = models[i];\n        var vertCount = model.verticesCount;\n        allModels += \"\\n  Model: \\\"Model::\".concat(this._info.name, \"_\").concat(i, \"\\\", \\\"Mesh\\\" {\\n    Version: \").concat(modelVersion, \" \\n    \").concat(defaultProperties, \"\\n    \").concat(this._verticesIndices(model.positions, model.indices), \"\\n    \").concat(this._normalLayer(model.normals), \" \\n    \").concat(this._colorLayer(model.colors, vertCount), \" \\n    \").concat(defaultMaterialLayer, \"  \\n    \").concat(defaultLayerBlock, \"\\n  }\");\n      }\n      return allModels;\n    }\n  }, {\n    key: \"_materials\",\n    value: function _materials() {\n      var materialVersion = 102;\n      var allMaterials = '';\n      var materials = this._info.materials;\n      for (var i = 0; i < materials.length; ++i) {\n        var material = materials[i];\n        allMaterials += \"\\n  Material: \\\"Material::\".concat(this._info.name, \"_\").concat(i, \"_default\\\", \\\"\\\" {\\n    Version: \").concat(materialVersion, \"\\n    ShadingModel: \\\"lambert\\\"\\n    MultiLayer: 0\\n    \").concat(this._materialProperties(material), \"\\n  }\");\n      }\n      return allMaterials;\n    }\n  }, {\n    key: \"_writeObjects\",\n    value: function _writeObjects() {\n      return \"\\n; Object properties\\n;------------------------------------------------------------------\\n\\nObjects:  {\\n  \".concat(this._models(), \"\\n  \").concat(this._materials(), \"\\n  \").concat(globalSettings, \"\\n}\\n\");\n    }\n  }, {\n    key: \"_writeRelations\",\n    value: function _writeRelations() {\n      var modelsList = '';\n      for (var i = 0; i < this._info.models.length; ++i) {\n        modelsList += \"\\n  Model: \\\"Model::\".concat(this._info.name, \"_\").concat(i, \"\\\", \\\"Mesh\\\" {\\n  }\");\n      }\n      var materialList = '';\n      for (var _i = 0; _i < this._info.materials.length; ++_i) {\n        materialList += \"\\n  Material: \\\"Material::\".concat(this._info.name, \"_\").concat(_i, \"_default\\\", \\\"\\\" {\\n  }\");\n      }\n      return \"\\n; Object relations\\n;------------------------------------------------------------------\\n\\nRelations:  {\\n  \".concat(modelsList, \"\\n  Model: \\\"Model::Producer Perspective\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Top\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Bottom\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Front\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Back\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Right\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Left\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Camera Switcher\\\", \\\"CameraSwitcher\\\" {\\n  }\\n  \").concat(materialList, \"\\n}\");\n    }\n  }, {\n    key: \"_writeConnections\",\n    value: function _writeConnections() {\n      var modelsList = '';\n      var name = this._info.name;\n      for (var i = 0; i < this._info.models.length; ++i) {\n        modelsList += \"\\n  Connect: \\\"OO\\\", \\\"Model::\".concat(name, \"_\").concat(i, \"\\\", \\\"Model::Scene\\\"\");\n      }\n      var materialList = '';\n      for (var _i2 = 0; _i2 < this._info.materials.length; ++_i2) {\n        materialList += \"\\n  Connect: \\\"OO\\\", \\\"Material::\".concat(name, \"_\").concat(_i2, \"_default\\\", \\\"Model::\").concat(name, \"_\").concat(_i2, \"\\\"\");\n      }\n      return \"\\n; Object connections\\n;------------------------------------------------------------------\\n\\nConnections:  {\\n  \".concat(modelsList, \"\\n  \").concat(materialList, \"\\n}\");\n    }\n  }, {\n    key: \"_floatArrayToString\",\n    value: function _floatArrayToString(array) {\n      var str = [];\n      for (var i = 0; i < array.length; ++i) {\n        str[i] = array[i].toFixed(6);\n      }\n      return str.join(',');\n    }\n  }, {\n    key: \"_colorLayer\",\n    value: function _colorLayer(colorArray, vertCount) {\n      var layerElementColorNumber = 0;\n      var layerElementColorVersion = 101;\n      var layerElementColorName = '';\n      var colorsStr = this._floatArrayToString(colorArray);\n      var colorIndices = _toConsumableArray(Array(vertCount).keys());\n      return \"\\n    LayerElementColor: \".concat(layerElementColorNumber, \" {\\n      Version: \").concat(layerElementColorVersion, \"\\n      Name: \\\"\").concat(layerElementColorName, \"\\\"\\n      MappingInformationType: \\\"ByVertice\\\"\\n      ReferenceInformationType: \\\"Direct\\\"\\n      Colors: \").concat(colorsStr, \"\\n      ColorIndex: \").concat(colorIndices, \"\\n    }\");\n    }\n  }, {\n    key: \"_normalLayer\",\n    value: function _normalLayer(normalArray) {\n      var layerElementNormalNumber = 0;\n      var layerElementNormalVersion = 101;\n      var layerElementNormalName = '';\n      var normalsStr = this._floatArrayToString(normalArray);\n      return \"\\n    LayerElementNormal: \".concat(layerElementNormalNumber, \" {\\n      Version: \").concat(layerElementNormalVersion, \"\\n      Name: \\\"\").concat(layerElementNormalName, \"\\\"\\n      MappingInformationType: \\\"ByVertice\\\"\\n      ReferenceInformationType: \\\"Direct\\\" \\n      Normals: \").concat(normalsStr, \"\\n    }\");\n    }\n  }, {\n    key: \"_verticesIndices\",\n    value: function _verticesIndices(positions, indices) {\n      var multiLayer = 0;\n      var multiTake = 1;\n      var shading = 'Y';\n      var culling = 'CullingOff';\n      var geometryVersion = 124;\n      var vertStr = this._floatArrayToString(positions);\n      return \"MultiLayer: \".concat(multiLayer, \"\\n    MultiTake: \").concat(multiTake, \"\\n    Shading: \").concat(shading, \"\\n    Culling: \\\"\").concat(culling, \"\\\"\\n    Vertices: \").concat(vertStr, \"\\n    PolygonVertexIndex: \").concat(indices, \"\\n    GeometryVersion: \").concat(geometryVersion);\n    }\n  }, {\n    key: \"_materialProperties\",\n    value: function _materialProperties(material) {\n      return \"Properties60:  {\\n      Property: \\\"ShadingModel\\\", \\\"KString\\\", \\\"\\\", \\\"Lambert\\\"\\n      Property: \\\"MultiLayer\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"EmissiveColor\\\", \\\"ColorRGB\\\", \\\"\\\",0,0,0\\n      Property: \\\"EmissiveFactor\\\", \\\"double\\\", \\\"\\\",0.0000\\n      Property: \\\"AmbientColor\\\", \\\"ColorRGB\\\", \\\"\\\",1,1,1\\n      Property: \\\"AmbientFactor\\\", \\\"double\\\", \\\"\\\",0.0000\\n      Property: \\\"DiffuseColor\\\", \\\"ColorRGB\\\", \\\"\\\",\".concat(material.diffuse, \"\\n      Property: \\\"DiffuseFactor\\\", \\\"double\\\", \\\"\\\",1.0000\\n      Property: \\\"Bump\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"TransparentColor\\\", \\\"ColorRGB\\\", \\\"\\\",1,1,1\\n      Property: \\\"TransparencyFactor\\\", \\\"double\\\", \\\"\\\",0.0000\\n      Property: \\\"SpecularColor\\\", \\\"ColorRGB\\\", \\\"\\\",\").concat(material.specular, \"\\n      Property: \\\"SpecularFactor\\\", \\\"double\\\", \\\"\\\",1.0000\\n      Property: \\\"ShininessExponent\\\", \\\"double\\\", \\\"\\\",\").concat(material.shininess, \"\\n      Property: \\\"ReflectionColor\\\", \\\"ColorRGB\\\", \\\"\\\",0,0,0\\n      Property: \\\"ReflectionFactor\\\", \\\"double\\\", \\\"\\\",1\\n      Property: \\\"Ambient\\\", \\\"ColorRGB\\\", \\\"\\\",1,1,1\\n      Property: \\\"Diffuse\\\", \\\"ColorRGB\\\", \\\"\\\",\").concat(material.diffuse, \"\\n      Property: \\\"Specular\\\", \\\"ColorRGB\\\", \\\"\\\",\").concat(material.specular, \"\\n      Property: \\\"Shininess\\\", \\\"double\\\", \\\"\\\",\").concat(material.shininess, \"\\n      Property: \\\"Opacity\\\", \\\"double\\\", \\\"\\\",\").concat(material.opacity, \"\\n      Property: \\\"Reflectivity\\\", \\\"double\\\", \\\"\\\",0\\n    }\");\n    }\n  }]);\n  return FBXResult;\n}();\n\nfunction _createSuper$8(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$8(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$8() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FBXExporter = function (_Exporter) {\n  _inherits(FBXExporter, _Exporter);\n  var _super = _createSuper$8(FBXExporter);\n  function FBXExporter(source, options) {\n    var _this;\n    _classCallCheck(this, FBXExporter);\n    _this = _super.call(this, source, options);\n    _this._data = source;\n    _this._version = options.miewVersion || '0.0-UNSPECIFIED';\n    _this._extractor = new FBXInfoExtractor();\n    return _this;\n  }\n  _createClass(FBXExporter, [{\n    key: \"exportSync\",\n    value: function exportSync() {\n      var result = new FBXResult();\n      if (!this._source) {\n        return this._result;\n      }\n      var info = this._extractor.process(this._data);\n      info.version = this._version;\n      this._result = result.getResult(info);\n      return this._result;\n    }\n  }]);\n  return FBXExporter;\n}(Exporter);\nFBXExporter.formats = ['fbx'];\nFBXExporter.SourceClass = ComplexVisual;\n\nvar exporters = new ExporterList([PDBExporter, FBXExporter]);\n\nvar io = {\n  loaders: loaders,\n  parsers: parsers,\n  exporters: exporters\n};\n\nvar tempColor = new Color();\nvar CSS2DRenderer = function () {\n  function CSS2DRenderer() {\n    _classCallCheck(this, CSS2DRenderer);\n    this._width = 0;\n    this._height = 0;\n    this._widthHalf = 0;\n    this._heightHalf = 0;\n    this._vector = new Vector3();\n    this._viewMatrix = new Matrix4();\n    this._projectionMatrix = new Matrix4();\n    this._domElement = document.createElement('div');\n    this._domElement.style.overflow = 'hidden';\n    this._domElement.style.position = 'absolute';\n    this._domElement.style.top = '0';\n    this._domElement.style.zIndex = '0';\n    this._domElement.style.pointerEvents = 'none';\n  }\n  _createClass(CSS2DRenderer, [{\n    key: \"getElement\",\n    value: function getElement() {\n      return this._domElement;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var myNode = this.getElement();\n      while (myNode.firstChild) {\n        myNode.removeChild(myNode.firstChild);\n      }\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize(width, height) {\n      this._width = width;\n      this._height = height;\n      this._widthHalf = this._width / 2;\n      this._heightHalf = this._height / 2;\n      this._domElement.style.width = \"\".concat(width, \"px\");\n      this._domElement.style.height = \"\".concat(height, \"px\");\n    }\n  }, {\n    key: \"_renderObject\",\n    value: function _renderObject(object, camera, scene) {\n      function lerpColorAsHex(a, b, t) {\n        tempColor.setHex(a);\n        tempColor.lerp(b, t);\n        return \"#\".concat(tempColor.getHexString());\n      }\n      function colorAsHex(a) {\n        tempColor.setHex(a);\n        return \"#\".concat(tempColor.getHexString());\n      }\n      if (object instanceof CSS2DObject) {\n        this._vector.setFromMatrixPosition(object.matrixWorld);\n        if (object.userData !== undefined && object.userData.offset !== undefined) {\n          var localOffset = new Vector3(object.userData.offset.x, object.userData.offset.y, 0);\n          this._vector.add(localOffset.multiplyScalar(object.matrixWorld.getMaxScaleOnAxis()));\n        }\n        this._vector.applyMatrix4(this._viewMatrix);\n        var visibility = this._vector.z > -camera.near ? 'hidden' : 'visible';\n        var zIndex = 10000 * (camera.far - -this._vector.z) / (camera.far - camera.near);\n        var element = object.getElement();\n        if (typeof scene.fog === 'undefined') {\n          element.style.color = colorAsHex(object.userData.color);\n          if (object.userData.background !== 'transparent') {\n            element.style.background = colorAsHex(object.userData.background);\n          }\n        } else {\n          var fogFactor = MathUtils.smoothstep(-this._vector.z, scene.fog.near, scene.fog.far);\n          element.style.color = lerpColorAsHex(object.userData.color, scene.fog.color, fogFactor);\n          if (object.userData.background !== 'transparent') {\n            element.style.background = lerpColorAsHex(object.userData.background, scene.fog.color, fogFactor);\n          }\n        }\n        this._vector.applyMatrix4(this._projectionMatrix);\n        var style = \"\".concat(object.userData !== {} ? object.userData.translation : 'translate(-50%, -50%) ', \"translate(\").concat(this._vector.x * this._widthHalf + this._widthHalf, \"px,\").concat(-this._vector.y * this._heightHalf + this._heightHalf, \"px)\");\n        element.style.visibility = visibility;\n        element.style.WebkitTransform = style;\n        element.style.MozTransform = style;\n        element.style.oTransform = style;\n        element.style.transform = style;\n        element.style.zIndex = Number(zIndex).toFixed(0);\n        if (element.parentNode !== this._domElement) {\n          this._domElement.appendChild(element);\n        }\n      }\n      for (var i = 0, l = object.children.length; i < l; i++) {\n        this._renderObject(object.children[i], camera, scene);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(scene, camera) {\n      scene.updateMatrixWorld();\n      if (camera.parent === null) {\n        camera.updateMatrixWorld();\n      }\n      camera.matrixWorldInverse.copy(camera.matrixWorld).invert();\n      this._viewMatrix.copy(camera.matrixWorldInverse);\n      this._projectionMatrix.copy(camera.projectionMatrix);\n      this._renderObject(scene, camera, scene);\n    }\n  }]);\n  return CSS2DRenderer;\n}();\n\nvar VK_LEFT = 37;\nvar VK_UP = 38;\nvar VK_RIGHT = 39;\nvar VK_DOWN = 40;\nvar STATE = {\n  NONE: -1,\n  ROTATE: 0,\n  TRANSLATE: 1,\n  SCALE: 2,\n  TRANSLATE_PIVOT: 3\n};\nvar FULL_STOP_THRESHOLD = 0.1;\nvar quaternion = new Quaternion();\nvar matrix4 = new Matrix4();\nfunction ObjectHandler(objects, camera, pivot, options) {\n  this.objects = objects;\n  var _objects = _slicedToArray(objects, 1);\n  this.object = _objects[0];\n  this.camera = camera;\n  this.pivot = pivot;\n  this.axis = new Vector3(0, 0, 1);\n  this.options = options;\n  this.lastRotation = {\n    axis: new Vector3(),\n    angle: 0.0\n  };\n}\nObjectHandler.prototype._rotate = function () {\n  var p = new Vector3();\n  var q = new Quaternion();\n  var s = new Vector3();\n  var m = new Matrix4();\n  return function (quat) {\n    var zeroPivot = this.pivot.x === 0.0 && this.pivot.y === 0.0 && this.pivot.z === 0.0;\n    m.copy(this.object.matrix);\n    if (zeroPivot) {\n      m.multiply(matrix4.makeRotationFromQuaternion(quat));\n    } else {\n      m.multiply(matrix4.makeTranslation(this.pivot.x, this.pivot.y, this.pivot.z));\n      m.multiply(matrix4.makeRotationFromQuaternion(quat));\n      m.multiply(matrix4.makeTranslation(-this.pivot.x, -this.pivot.y, -this.pivot.z));\n    }\n    m.decompose(p, q, s);\n    if (!zeroPivot) {\n      for (var i = 0; i < this.objects.length; ++i) {\n        this.objects[i].position.copy(p);\n      }\n    }\n    for (var j = 0; j < this.objects.length; ++j) {\n      this.objects[j].quaternion.copy(q);\n      this.objects[j].updateMatrix();\n    }\n  };\n}();\nObjectHandler.prototype.setObjects = function (objects) {\n  this.objects = objects;\n  var _objects2 = _slicedToArray(objects, 1);\n  this.object = _objects2[0];\n};\nObjectHandler.prototype.rotate = function () {\n  var rot = {\n    axis: new Vector3(),\n    angle: 0.0\n  };\n  return function (quat, mousePrevPos, mouseCurPos, aboutAxis) {\n    this.mouse2rotation(rot, mousePrevPos, mouseCurPos, aboutAxis);\n    quat.setFromAxisAngle(rot.axis, rot.angle);\n    if (rot.angle) {\n      this._rotate(quat);\n    }\n    this.lastRotation = rot;\n  };\n}();\nObjectHandler.prototype.translate = function () {\n  var dir = new Vector3();\n  var pivot = new Vector3();\n  return function (delta) {\n    dir.set(delta.x / this.camera.projectionMatrix.elements[0], delta.y / this.camera.projectionMatrix.elements[5], 0);\n    var dist = dir.length();\n    dir.normalize();\n    dir.transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n    pivot.copy(this.pivot);\n    this.object.localToWorld(pivot);\n    dist *= Math.abs(pivot.z - this.camera.position.z);\n    dist /= this.object.matrixWorld.getMaxScaleOnAxis();\n    for (var i = 0; i < this.objects.length; ++i) {\n      this.objects[i].translateOnAxis(dir, dist);\n    }\n  };\n}();\nObjectHandler.prototype.update = function () {\n  var axis = new Vector3();\n  return function (timeSinceLastUpdate, timeSinceMove) {\n    if (settings.now.autoRotation !== 0.0) {\n      if (settings.now.autoRotationAxisFixed || this.lastRotation.axis.length() === 0.0) {\n        axis.set(0, 1, 0).transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n      } else {\n        axis.copy(this.lastRotation.axis);\n      }\n      this._rotate(quaternion.setFromAxisAngle(axis, settings.now.autoRotation * timeSinceLastUpdate));\n      return true;\n    }\n    if (this.options.intertia && this.lastRotation.angle) {\n      var angle = this.lastRotation.angle * Math.pow(1.0 - this.options.dynamicDampingFactor, 40.0 * timeSinceMove);\n      if (Math.abs(angle) <= this.options.intertiaThreshold) {\n        this.lastRotation.angle = 0.0;\n      } else {\n        this._rotate(quaternion.setFromAxisAngle(this.lastRotation.axis, angle));\n        return true;\n      }\n    }\n    return false;\n  };\n}();\nObjectHandler.prototype.stop = function () {\n  this.lastRotation.angle = 0.0;\n};\nObjectHandler.prototype.mouse2rotation = function () {\n  var center = new Vector3();\n  var eye = new Vector3();\n  var eyeDirection = new Vector3();\n  var cameraUpDirection = new Vector3();\n  var cameraSidewaysDirection = new Vector3();\n  var moveDirection = new Vector3();\n  var mouseDelta = new Vector2();\n  return function (rot, mousePrev, mouseCur, aboutAxis) {\n    if (aboutAxis) {\n      rot.axis.copy(this.axis);\n      rot.angle = this.options.axisRotateFactor * (mouseCur.y - mousePrev.y);\n    } else {\n      mouseDelta.subVectors(mouseCur, mousePrev);\n      var angle = mouseDelta.length();\n      if (angle === 0.0) {\n        return;\n      }\n      center.copy(this.pivot);\n      this.object.localToWorld(center);\n      eye.subVectors(this.camera.position, center);\n      eyeDirection.copy(eye).normalize();\n      cameraUpDirection.copy(this.camera.up).normalize();\n      cameraSidewaysDirection.crossVectors(cameraUpDirection, eyeDirection).normalize();\n      cameraUpDirection.setLength(mouseDelta.y);\n      cameraSidewaysDirection.setLength(mouseDelta.x);\n      moveDirection.copy(cameraUpDirection.add(cameraSidewaysDirection));\n      rot.axis.crossVectors(moveDirection, eye);\n      rot.angle = -angle * this.options.rotateFactor;\n    }\n    rot.axis.transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n    if (rot.angle < 0.0) {\n      rot.axis.negate();\n      rot.angle = -rot.angle;\n    }\n  };\n}();\nfunction ObjectControls(object, objectPivot, camera, domElement, getAltObj) {\n  EventDispatcher.call(this);\n  var self = this;\n  this.object = object;\n  this.objectPivot = objectPivot;\n  this.camera = camera;\n  this.domElement = typeof domElement !== 'undefined' ? domElement : document;\n  this.getAltObj = getAltObj;\n  this.enabled = true;\n  this.hotkeysEnabled = true;\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  };\n  this.options = {\n    rotateFactor: Math.PI,\n    axisRotateFactor: 4 * Math.PI,\n    intertia: true,\n    dynamicDampingFactor: 0.1,\n    intertiaThreshold: 1e-3\n  };\n  this._state = STATE.NONE;\n  this._mousePrevPos = new Vector2();\n  this._mouseCurPos = new Vector2();\n  this._mainObj = new ObjectHandler([this.object], this.camera, new Vector3(0, 0, 0), this.options);\n  this._altObj = new ObjectHandler([this.object], this.camera, new Vector3(0, 0, 0), this.options);\n  this._affectedObj = this._mainObj;\n  this._isAltObjFreeRotationAllowed = true;\n  this._isTranslationAllowed = true;\n  this._isKeysTranslatingObj = false;\n  this._pressedKeys = [];\n  this._clock = new Timer();\n  this._clock.start();\n  this._lastUpdateTime = this._clock.getElapsedTime();\n  this._listeners = [{\n    obj: self.domElement,\n    type: 'mousedown',\n    handler: function handler(e) {\n      self.mousedown(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mouseup',\n    handler: function handler(e) {\n      self.mouseup(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mousemove',\n    handler: function handler(e) {\n      self.mousemove(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mousewheel',\n    handler: function handler(e) {\n      self.mousewheel(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'DOMMouseScroll',\n    handler: function handler(e) {\n      self.mousewheel(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mouseout',\n    handler: function handler(e) {\n      self.mouseup(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchstart',\n    handler: function handler(e) {\n      self.touchstartend(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchend',\n    handler: function handler(e) {\n      self.touchstartend(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchmove',\n    handler: function handler(e) {\n      self.touchmove(e);\n    }\n  }, {\n    obj: self.getKeyBindObject(),\n    type: 'keydown',\n    handler: function handler(e) {\n      self.keydownup(e);\n    }\n  }, {\n    obj: self.getKeyBindObject(),\n    type: 'keyup',\n    handler: function handler(e) {\n      self.keydownup(e);\n    }\n  }, {\n    obj: window,\n    type: 'resize',\n    handler: function handler() {\n      self.handleResize();\n    }\n  }, {\n    obj: window,\n    type: 'blur',\n    handler: function handler() {\n      self.resetKeys();\n    }\n  }, {\n    obj: self.domElement,\n    type: 'contextmenu',\n    handler: function handler(e) {\n      self.contextmenu(e);\n    }\n  }];\n  for (var i = 0; i < this._listeners.length; i++) {\n    var l = this._listeners[i];\n    l.obj.addEventListener(l.type, l.handler);\n  }\n  this.handleResize();\n  this.resetKeys();\n  this.update();\n}\nObjectControls.prototype = Object.create(EventDispatcher.prototype);\nObjectControls.prototype.constructor = ObjectControls;\nObjectControls.prototype.resetKeys = function () {\n  this._pressedKeys[VK_LEFT] = false;\n  this._pressedKeys[VK_UP] = false;\n  this._pressedKeys[VK_RIGHT] = false;\n  this._pressedKeys[VK_DOWN] = false;\n};\nObjectControls.prototype.contextmenu = function (e) {\n  e.stopPropagation();\n  e.preventDefault();\n};\nObjectControls.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0;\n    this.screen.top = 0;\n    this.screen.width = window.innerWidth;\n    this.screen.height = window.innerHeight;\n  } else {\n    var box = this.domElement.getBoundingClientRect();\n    var d = this.domElement.ownerDocument.documentElement;\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    this.screen.top = box.top + window.pageYOffset - d.clientTop;\n    this.screen.width = box.width;\n    this.screen.height = box.height;\n  }\n};\nObjectControls.prototype.enable = function (enable) {\n  this.enabled = enable;\n};\nObjectControls.prototype.enableHotkeys = function (enable) {\n  this.hotkeysEnabled = enable;\n};\nObjectControls.prototype.allowTranslation = function (allow) {\n  this._isTranslationAllowed = allow;\n};\nObjectControls.prototype.allowAltObjFreeRotation = function (allow) {\n  this._isAltObjFreeRotationAllowed = allow;\n};\nObjectControls.prototype.keysTranslateObj = function (on) {\n  this._isKeysTranslatingObj = on;\n};\nObjectControls.prototype.isEditingAltObj = function () {\n  return (this._state === STATE.ROTATE || this._state === STATE.TRANSLATE) && this._affectedObj === this._altObj;\n};\nObjectControls.prototype.convertMouseToOnCircle = function (coords, pageX, pageY) {\n  var screenSize = Math.min(this.screen.width, this.screen.height);\n  if (screenSize === 0) {\n    coords.set(0, 0);\n    return;\n  }\n  coords.set((pageX - this.screen.width * 0.5 - this.screen.left) / screenSize, (0.5 * this.screen.height + this.screen.top - pageY) / screenSize);\n};\nObjectControls.prototype.convertMouseToViewport = function (coords, pageX, pageY) {\n  if (this.screen.width === 0 || this.screen.height === 0) {\n    coords.set(0, 0);\n    return;\n  }\n  coords.set(2.0 * (pageX - this.screen.width * 0.5 - this.screen.left) / this.screen.width, 2.0 * (0.5 * this.screen.height + this.screen.top - pageY) / this.screen.height);\n};\nObjectControls.prototype.stop = function () {\n  this._mainObj.stop();\n  this._altObj.stop();\n};\nObjectControls.prototype.rotateByMouse = function () {\n  var quat = new Quaternion();\n  return function (aboutZAxis) {\n    this._affectedObj.rotate(quat, this._mousePrevPos, this._mouseCurPos, aboutZAxis);\n    this.dispatchEvent({\n      type: 'change',\n      action: 'rotate',\n      quaternion: quat\n    });\n  };\n}();\nObjectControls.prototype.rotate = function (quat) {\n  this.object.quaternion.multiply(quat);\n  this.dispatchEvent({\n    type: 'change',\n    action: 'rotate',\n    quaternion: quat\n  });\n};\nObjectControls.prototype.getOrientation = function () {\n  return this.object.quaternion;\n};\nObjectControls.prototype.setOrientation = function (quat) {\n  this.object.quaternion.copy(quat);\n};\nObjectControls.prototype.translate = function () {\n  var delta = new Vector2();\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos);\n    this._affectedObj.translate(delta);\n    this.dispatchEvent({\n      type: 'change',\n      action: 'translate'\n    });\n  };\n}();\nObjectControls.prototype.getScale = function () {\n  return this.object.scale.x;\n};\nObjectControls.prototype.setScale = function (scale) {\n  this.object.scale.set(scale, scale, scale);\n};\nObjectControls.prototype.scale = function (factor) {\n  if (factor <= 0) {\n    return;\n  }\n  this.setScale(this.object.scale.x * factor);\n  this.dispatchEvent({\n    type: 'change',\n    action: 'zoom',\n    factor: factor\n  });\n};\nObjectControls.prototype.update = function () {\n  var shift = new Vector2();\n  return function () {\n    var curTime = this._clock.getElapsedTime();\n    var timeSinceLastUpdate = curTime - this._lastUpdateTime;\n    if (this._state === STATE.NONE) {\n      var timeSinceMove = curTime - this._lastMouseMoveTime;\n      if (this._mainObj.update(timeSinceLastUpdate, timeSinceMove) || this._altObj.update(timeSinceLastUpdate, timeSinceMove)) {\n        this.dispatchEvent({\n          type: 'change',\n          action: 'auto'\n        });\n      }\n    }\n    if (this._isKeysTranslatingObj) {\n      var speedX = Number(this._pressedKeys[VK_RIGHT]) - Number(this._pressedKeys[VK_LEFT]);\n      var speedY = Number(this._pressedKeys[VK_UP]) - Number(this._pressedKeys[VK_DOWN]);\n      if (speedX !== 0.0 || speedY !== 0.0) {\n        var delta = timeSinceLastUpdate;\n        var altObj = this.getAltObj();\n        if (altObj.objects.length > 0) {\n          this._altObj.setObjects(altObj.objects);\n          this._altObj.pivot = altObj.pivot;\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone();\n          } else {\n            this._altObj.axis.set(0, 0, 1);\n          }\n          shift.set(delta * speedX, delta * speedY);\n          this._altObj.translate(shift);\n          this.dispatchEvent({\n            type: 'change',\n            action: 'translate'\n          });\n        }\n      }\n    }\n    this._lastUpdateTime = curTime;\n  };\n}();\nObjectControls.prototype.reset = function () {\n  this._state = STATE.NONE;\n  this.object.quaternion.copy(quaternion.set(0, 0, 0, 1));\n};\nObjectControls.prototype.mousedown = function (event) {\n  if (this.enabled === false || this._state !== STATE.NONE) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  if (this._state === STATE.NONE) {\n    if (event.button === 0) {\n      this._affectedObj.stop();\n      var workWithAltObj = false;\n      if (event.altKey) {\n        var altObj = this.getAltObj();\n        workWithAltObj = altObj.objects.length > 0;\n        if (workWithAltObj) {\n          this._altObj.setObjects(altObj.objects);\n          this._altObj.pivot = altObj.pivot;\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone();\n          } else {\n            this._altObj.axis.set(0, 0, 1);\n          }\n        }\n      }\n      this._affectedObj = workWithAltObj ? this._altObj : this._mainObj;\n      this._state = workWithAltObj && event.ctrlKey && this._isTranslationAllowed ? STATE.TRANSLATE : STATE.ROTATE;\n    } else if (event.button === 2) {\n      this._state = STATE.TRANSLATE_PIVOT;\n    }\n  }\n  if (this._state === STATE.ROTATE) {\n    this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY);\n    this._mousePrevPos.copy(this._mouseCurPos);\n  }\n  if (this._state === STATE.TRANSLATE || this._state === STATE.TRANSLATE_PIVOT) {\n    this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n    this._mousePrevPos.copy(this._mouseCurPos);\n  }\n};\nObjectControls.prototype.mousemove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY);\n      this.rotateByMouse(event.altKey && !this._isAltObjFreeRotationAllowed || event.shiftKey);\n      this._lastMouseMoveTime = this._clock.getElapsedTime();\n      break;\n    case STATE.TRANSLATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n      this.translate();\n      break;\n    case STATE.TRANSLATE_PIVOT:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n      this.translatePivotByMouse();\n      break;\n  }\n};\nObjectControls.prototype.mousewheel = function (event) {\n  if (this.enabled === false || !settings.now.zooming || this._state !== STATE.NONE || event.shiftKey) {\n    return;\n  }\n  event.preventDefault();\n  var delta = 0;\n  if (event.wheelDelta) {\n    delta = event.wheelDelta / 40;\n  } else if (event.detail) {\n    delta = -event.detail / 3;\n  }\n  var factor = 1.0 + delta * 0.05;\n  factor = Math.max(factor, 0.01);\n  this.scale(factor);\n};\nObjectControls.prototype.mouseup = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  this._state = STATE.NONE;\n  if (this._clock.getElapsedTime() - this._lastMouseMoveTime > FULL_STOP_THRESHOLD) {\n    this._affectedObj.stop();\n  }\n};\nObjectControls.prototype.touchstartend = function (event) {\n  if (this.enabled === false) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  switch (event.touches.length) {\n    case 1:\n      this._state = STATE.ROTATE;\n      this.convertMouseToOnCircle(this._mouseCurPos, event.touches[0].pageX, event.touches[0].pageY);\n      this._mousePrevPos.copy(this._mouseCurPos);\n      break;\n    case 2:\n      {\n        this._mainObj.stop();\n        this._altObj.stop();\n        this._state = STATE.SCALE;\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        this._touchDistanceCur = this._touchDistanceStart = Math.sqrt(dx * dx + dy * dy);\n        this._scaleStart = this.object.scale.x;\n        break;\n      }\n    default:\n      this._state = STATE.NONE;\n  }\n};\nObjectControls.prototype.touchmove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToOnCircle(this._mouseCurPos, event.touches[0].pageX, event.touches[0].pageY);\n      this.rotateByMouse(false);\n      this._lastMouseMoveTime = this._clock.getElapsedTime();\n      break;\n    case STATE.SCALE:\n      if (settings.now.zooming) {\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        this._touchDistanceCur = Math.sqrt(dx * dx + dy * dy);\n        var newScale = this._scaleStart * this._touchDistanceCur / this._touchDistanceStart;\n        var factor = newScale / this.object.scale.x;\n        this.scale(factor);\n      }\n      break;\n  }\n};\nObjectControls.prototype.keydownup = function (event) {\n  if (this.enabled === false || this.hotkeysEnabled === false) {\n    return;\n  }\n  switch (event.keyCode) {\n    case VK_LEFT:\n    case VK_UP:\n    case VK_RIGHT:\n    case VK_DOWN:\n      this._pressedKeys[event.keyCode] = event.type === 'keydown';\n      event.preventDefault();\n      event.stopPropagation();\n      break;\n  }\n};\nObjectControls.prototype.getKeyBindObject = function () {\n  return window.top;\n};\nObjectControls.prototype.dispose = function () {\n  for (var i = 0; i < this._listeners.length; i++) {\n    var l = this._listeners[i];\n    l.obj.removeEventListener(l.type, l.handler);\n  }\n};\nObjectControls.prototype.translatePivotByMouse = function () {\n  var delta = new Vector2();\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos);\n    this.translatePivotInWorld(settings.now.translationSpeed * delta.x, settings.now.translationSpeed * delta.y, 0);\n  };\n}();\nObjectControls.prototype.translatePivotInWorld = function (x, y, z) {\n  var pos = this.objectPivot.position;\n  pos.applyMatrix4(this.object.matrixWorld);\n  pos.setX(pos.x + x);\n  pos.setY(pos.y + y);\n  pos.setZ(pos.z + z);\n  pos.applyMatrix4(matrix4.copy(this.object.matrixWorld).invert());\n  this.dispatchEvent({\n    type: 'change',\n    action: 'translatePivot'\n  });\n};\nObjectControls.prototype.translatePivot = function (x, y, z) {\n  var pos = this.objectPivot.position;\n  pos.setX(pos.x + x);\n  pos.setY(pos.y + y);\n  pos.setZ(pos.z + z);\n  this.dispatchEvent({\n    type: 'change',\n    action: 'translatePivot'\n  });\n};\nObjectControls.prototype.setPivot = function (newPivot) {\n  this.objectPivot.position.copy(newPivot);\n  this.dispatchEvent({\n    type: 'change',\n    action: 'translatePivot'\n  });\n};\n\nfunction Picker(gfxObj, camera, domElement) {\n  EventDispatcher.call(this);\n  var self = this;\n  this.gfxObj = gfxObj;\n  this.camera = camera;\n  this.domElement = typeof domElement !== 'undefined' ? domElement : document;\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  };\n  this._lastMousePos = new Vector2(0, 0);\n  this._mouseTotalDist = 0.0;\n  this._lastClickBeginTime = -1000.0;\n  this._lastClickPos = new Vector2(0, 0);\n  this._clickBeginTime = 0.0;\n  this._clock = new Timer();\n  this._clock.start();\n  this._listeners = [{\n    obj: self.domElement,\n    type: 'mousedown',\n    handler: function handler(e) {\n      self.mousedown(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mouseup',\n    handler: function handler(e) {\n      self.mouseup(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mousemove',\n    handler: function handler(e) {\n      self.mousemove(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchstart',\n    handler: function handler(e) {\n      self.touchstart(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchend',\n    handler: function handler(e) {\n      self.touchend(e);\n    }\n  }, {\n    obj: window,\n    type: 'resize',\n    handler: function handler() {\n      self.handleResize();\n    }\n  }];\n  for (var i = 0; i < this._listeners.length; i++) {\n    var l = this._listeners[i];\n    l.obj.addEventListener(l.type, l.handler);\n  }\n  this.handleResize();\n}\nPicker.prototype = Object.create(EventDispatcher.prototype);\nPicker.prototype.constructor = Picker;\nPicker.prototype.reset = function () {\n  this.picked = {};\n  this.dispatchEvent({\n    type: 'newpick',\n    obj: {}\n  });\n};\nPicker.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0;\n    this.screen.top = 0;\n    this.screen.width = window.innerWidth;\n    this.screen.height = window.innerHeight;\n  } else {\n    var box = this.domElement.getBoundingClientRect();\n    var d = this.domElement.ownerDocument.documentElement;\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    this.screen.top = box.top + window.pageYOffset - d.clientTop;\n    this.screen.width = box.width;\n    this.screen.height = box.height;\n  }\n};\nPicker.prototype.pickObject = function (screenPos) {\n  if (!this.gfxObj) {\n    this.picked = {};\n    this.dispatchEvent({\n      type: 'newpick',\n      obj: {}\n    });\n    return;\n  }\n  var gfxObj = this.gfxObj;\n  var rayCaster = new Raycaster();\n  rayCaster.ray.origin.setFromMatrixPosition(this.camera.matrixWorld);\n  rayCaster.ray.direction.set(screenPos.x, screenPos.y, 0.5).unproject(this.camera).sub(rayCaster.ray.origin).normalize();\n  var clipPlane = settings.now.draft.clipPlane && this.clipPlaneValue ? this.clipPlaneValue : Infinity;\n  var fogFarPlane = settings.now.fog && this.fogFarValue ? this.fogFarValue : Infinity;\n  var point = rayCaster.intersectVisibleObject(gfxObj, this.camera, clipPlane, fogFarPlane);\n  if (!point) {\n    this.picked = {};\n    this.dispatchEvent({\n      type: 'newpick',\n      obj: {}\n    });\n    return;\n  }\n  var picked = {};\n  if (point.residue || point.atom) {\n    var residue = point.residue || point.atom.residue;\n    if (settings.now.pick === 'chain') {\n      picked = {\n        chain: residue.getChain()\n      };\n    } else if (settings.now.pick === 'molecule') {\n      picked = {\n        molecule: residue.getMolecule()\n      };\n    } else if (point.residue || settings.now.pick === 'residue') {\n      picked = {\n        residue: residue\n      };\n    } else if (point.atom) {\n      picked = {\n        atom: point.atom\n      };\n    }\n  }\n  this.picked = picked;\n  this.dispatchEvent({\n    type: 'newpick',\n    obj: picked\n  });\n};\nPicker.prototype.getMouseInViewport = function (pageX, pageY) {\n  return new Vector2((pageX - this.screen.left) / this.screen.width * 2 - 1, -(pageY - this.screen.top) / this.screen.height * 2 + 1);\n};\nPicker.prototype.mousedown = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.button === 0) {\n    this._lastMousePos = this.getMouseInViewport(event.pageX, event.pageY);\n    this._mouseTotalDist = 0.0;\n    this._clickBeginTime = this._clock.getElapsedTime();\n  }\n};\nPicker.prototype.mousemove = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n  var pos = this.getMouseInViewport(event.pageX, event.pageY);\n  this._mouseTotalDist += pos.sub(this._lastMousePos).length();\n};\nPicker.prototype.mouseup = function (event) {\n  var self = this;\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.button === 0) {\n    if (this._mouseTotalDist < 0.01) {\n      var curTime = this._clock.getElapsedTime();\n      var curPos = this.getMouseInViewport(event.pageX, event.pageY);\n      var timeSinceLastClickBegin = curTime - this._lastClickBeginTime;\n      if (timeSinceLastClickBegin < 0.7) {\n        var clickDist = new Vector2().subVectors(curPos, this._lastClickPos);\n        if (clickDist.length() < 0.01) {\n          this.dispatchEvent({\n            type: 'dblclick',\n            obj: this.picked\n          });\n          this._lastClickPos = curPos;\n          this._lastClickBeginTime = -1000;\n          return;\n        }\n      }\n      setTimeout(function () {\n        self.pickObject(curPos);\n      }, 0);\n      this._lastClickPos = curPos;\n      this._lastClickBeginTime = this._clickBeginTime;\n    }\n  }\n};\nPicker.prototype.touchstart = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.touches.length === 1) {\n    this._lastTouchdownPos = this.getMouseInViewport(event.touches[0].pageX, event.touches[0].pageY);\n  }\n};\nPicker.prototype.touchend = function (event) {\n  var self = this;\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.touches.length === 0 && event.changedTouches.length === 1) {\n    var pos = this.getMouseInViewport(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    var dist = pos.sub(this._lastTouchdownPos).length();\n    if (dist < 0.01) {\n      setTimeout(function () {\n        self.pickObject(self._lastTouchdownPos);\n      }, 0);\n    }\n  }\n};\nPicker.prototype.dispose = function () {\n  for (var i = 0; i < this._listeners.length; i++) {\n    var l = this._listeners[i];\n    l.obj.removeEventListener(l.type, l.handler);\n  }\n};\n\nvar Axes = function () {\n  function Axes(target, targetCamera) {\n    _classCallCheck(this, Axes);\n    this._target = target;\n    this._targetCamera = targetCamera;\n    this._camera = new PerspectiveCamera(targetCamera.fov, targetCamera.aspect, 1, 100);\n    this._object = new AxesHelper(1);\n    this._scene = new Scene();\n    this._scene.add(this._object);\n    this._full = new Vector2();\n    this._update();\n  }\n  _createClass(Axes, [{\n    key: \"_update\",\n    value: function _update() {\n      var fov = this._targetCamera.fov;\n      var camera = this._camera;\n      camera.aspect = this._targetCamera.aspect;\n      camera.setMinimalFov(fov);\n      camera.setDistanceToFit(1.0, fov);\n      camera.updateProjectionMatrix();\n      this._object.quaternion.copy(this._target.quaternion);\n    }\n  }, {\n    key: \"render\",\n    value: function render(renderer) {\n      this._update();\n      renderer.getSize(this._full);\n      var width = this._full.width * 0.25;\n      var height = this._full.height * 0.25;\n      var autoClear = renderer.autoClear;\n      renderer.autoClear = false;\n      renderer.setViewport(0.0, 0.0, width, height);\n      renderer.clear(false, true, false);\n      renderer.render(this._scene, this._camera);\n      renderer.setViewport(0, 0, this._full.width, this._full.height);\n      renderer.autoClear = autoClear;\n    }\n  }]);\n  return Axes;\n}();\n\nvar cDataOffset = 12;\nvar cFirstMask = 0x0fffff00;\nvar cFirstShift = 8;\nvar cSecMask1 = 0x000000ff;\nvar cSecShift1 = 12;\nvar cSecMask2 = 0xfff00000;\nvar cSecShift2 = 20;\nvar cThirdMask = 0x000fffff;\nvar cStrMask = 0xf0000000;\nvar cStrShift = 28;\nvar c219 = 1 << 19;\nvar c220 = 1 << 20;\nvar cHelixIdx = 1;\nvar cSheetIdx = 2;\nvar secTypes = ['helix', 'strand'];\nvar cSecNames = ['fs', 'ps', 'ns', 'us'];\nfunction _createSecondary(strArray, complex) {\n  var residues = complex._residues;\n  var nRes = residues.length;\n  var resid = new Uint8Array(nRes);\n  var atoms = complex._atoms;\n  for (var i = 0, n = strArray.length; i < n; ++i) {\n    var atom = atoms[i];\n    resid[atom.residue._index] = strArray[i];\n  }\n  var secondary = [];\n  var rIdx = 0;\n  while (rIdx < nRes) {\n    if (resid[rIdx] !== 0) {\n      var start = rIdx;\n      var val = resid[rIdx];\n      while (rIdx < nRes - 1 && resid[rIdx + 1] === val && residues[rIdx].isConnected(residues[rIdx + 1])) {\n        ++rIdx;\n      }\n      secondary.push({\n        start: start,\n        end: rIdx,\n        type: secTypes[val - 1]\n      });\n    }\n    ++rIdx;\n  }\n  return secondary;\n}\nfunction fromUInt20ToInt20(uint20) {\n  return uint20 >= c219 ? uint20 - c220 : uint20;\n}\nvar FrameInfo = function () {\n  function FrameInfo(complex, payload, callbacks) {\n    _classCallCheck(this, FrameInfo);\n    this._complex = complex;\n    this._secondary = null;\n    this.isLoading = false;\n    this._framesRange = {\n      start: 0,\n      end: -1\n    };\n    this.frameIsReady = false;\n    this._buffer = null;\n    this._frameRequest = null;\n    this._callbacks = callbacks;\n    if (typeof payload === 'function') {\n      this._framesRequestLength = 1;\n      this._downloadDataFn = payload;\n    } else {\n      this.parseBinaryData(payload, true);\n    }\n    this.reset();\n    this.setFrame(0);\n  }\n  _createClass(FrameInfo, [{\n    key: \"_prepareBuffer\",\n    value: function _prepareBuffer(framesStart, framesEnd) {\n      if (framesStart === undefined || framesStart === null) {\n        framesStart = 0;\n      }\n      if (framesEnd === undefined || framesEnd === null) {\n        framesEnd = framesStart + this._framesRequestLength;\n      }\n      if (this._framesCount !== undefined) {\n        framesEnd = Math.min(this._framesCount - 1, framesEnd);\n      }\n      if (this._downloadDataFn) {\n        var self = this;\n        var onDone = function onDone(data) {\n          self.isLoading = false;\n          if (self._callbacks && typeof self._callbacks.onLoadStatusChanged === 'function') {\n            self._callbacks.onLoadStatusChanged();\n          }\n          self._buffer = {\n            data: data,\n            state: 'ready',\n            start: framesStart,\n            end: framesEnd\n          };\n          if (self._frameRequest !== null) {\n            var idx = self._frameRequest;\n            self._frameRequest = null;\n            self.setFrame(idx);\n          }\n        };\n        var onFail = function onFail() {\n          self.isLoading = false;\n          if (self._callbacks && typeof self._callbacks.onError === 'function') {\n            self._callbacks.onError('Streaming failed');\n          }\n        };\n        if (!this._buffer) {\n          this._buffer = {};\n        }\n        this._buffer.state = 'downloading';\n        this.isLoading = true;\n        if (self._callbacks && typeof self._callbacks.onLoadStatusChanged === 'function') {\n          self._callbacks.onLoadStatusChanged();\n        }\n        this._downloadDataFn({\n          start: framesStart,\n          end: framesEnd + 1\n        }, onDone, onFail);\n      }\n    }\n  }, {\n    key: \"_parseBuffer\",\n    value: function _parseBuffer() {\n      if (this._buffer && this._buffer.state === 'ready') {\n        this._framesRange = {\n          start: this._buffer.start,\n          end: this._buffer.end\n        };\n        this.parseBinaryData(this._buffer.data, false);\n        var _bufferRequestStart = (this._buffer.end + 1) % this._framesCount;\n        if (_bufferRequestStart >= this._framesCount) {\n          _bufferRequestStart = 0;\n        }\n        this._buffer = {\n          state: 'none'\n        };\n        this._prepareBuffer(_bufferRequestStart, _bufferRequestStart + this._framesRequestLength);\n        if (this._frameRequest !== null) {\n          var idx = this._frameRequest;\n          this._frameRequest = null;\n          this.setFrame(idx);\n        }\n      }\n    }\n  }, {\n    key: \"parseBinaryData\",\n    value: function parseBinaryData(arrayBuffer) {\n      var dataView = new DataView(arrayBuffer);\n      var offset = 0;\n      var atomsCount = dataView.getUint32(offset, true);\n      offset += 4;\n      var framesCount = dataView.getUint32(offset, true);\n      this._framesCount = framesCount;\n      this._framesRange.end = this._framesRange.end > 0 ? Math.min(this._framesRange.end, framesCount - 1) : framesCount - 1;\n      offset += 4;\n      this._atomsCount = atomsCount;\n      var maxSize = 1024 * 1024;\n      this._framesRequestLength = Math.ceil(maxSize / (atomsCount * 8));\n      var chunkedFramesCount = this._framesRange.end - this._framesRange.start + 1;\n      if (atomsCount !== this._complex._atoms.length || arrayBuffer.byteLength !== cDataOffset + chunkedFramesCount * atomsCount * 8) {\n        throw new Error();\n      }\n      var complex = this._complex;\n      var timeStep = dataView.getUint32(offset, true);\n      var iName = 0;\n      while (timeStep > 1000 && iName < cSecNames.length - 1) {\n        timeStep /= 1000;\n        ++iName;\n      }\n      this._timeStep = \"\".concat(timeStep.toString(), \" \").concat(cSecNames[iName]);\n      offset += 4;\n      var secondary = [];\n      var posData = new Float32Array(chunkedFramesCount * atomsCount * 3);\n      var coordIdx = 0;\n      var secondaryArr = new Int8Array(atomsCount);\n      for (var j = 0; j < chunkedFramesCount; ++j) {\n        for (var i = 0; i < atomsCount; ++i) {\n          var hiWord = dataView.getUint32(offset, true);\n          offset += 4;\n          var loWord = dataView.getUint32(offset, true);\n          offset += 4;\n          var str = (loWord & cStrMask) >>> cStrShift;\n          var x = fromUInt20ToInt20((loWord & cFirstMask) >>> cFirstShift >> 0);\n          var y = fromUInt20ToInt20(((loWord & cSecMask1) << cSecShift1 | (hiWord & cSecMask2) >>> cSecShift2) >> 0);\n          var z = fromUInt20ToInt20((hiWord & cThirdMask) >> 0);\n          secondaryArr[i] = 0;\n          if (str > 0 && str < 4) {\n            secondaryArr[i] = cHelixIdx;\n          } else if (str === 4) {\n            secondaryArr[i] = cSheetIdx;\n          }\n          posData[coordIdx++] = x / 100;\n          posData[coordIdx++] = y / 100;\n          posData[coordIdx++] = z / 100;\n        }\n        secondary.push(_createSecondary(secondaryArr, complex));\n      }\n      this._secondaryData = secondary;\n      this._data = posData;\n    }\n  }, {\n    key: \"nextFrame\",\n    value: function nextFrame() {\n      this.setFrame((this._currFrame + 1) % this._framesCount);\n    }\n  }, {\n    key: \"needsColorUpdate\",\n    value: function needsColorUpdate(colorer) {\n      return colorer instanceof SecondaryStructureColorer;\n    }\n  }, {\n    key: \"getAtomColor\",\n    value: function getAtomColor(colorer, atom) {\n      return colorer.getResidueColor(this._residues[atom.residue._index], this._complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(colorer, residue) {\n      return colorer.getResidueColor(this._residues[residue._index], this._complex);\n    }\n  }, {\n    key: \"_updateSecondary\",\n    value: function _updateSecondary() {\n      var i;\n      var myResidues = this._residues;\n      var n = myResidues.length;\n      for (i = 0; i < n; ++i) {\n        myResidues[i]._secondary = null;\n      }\n      var sec = this._secondaryData[this._currFrame - this._framesRange.start];\n      for (i = 0, n = sec.length; i < n; ++i) {\n        var oldSec = sec[i];\n        var start = oldSec.start,\n            end = oldSec.end;\n        var nSec = {\n          _start: myResidues[start],\n          _end: myResidues[end],\n          type: oldSec.type,\n          generic: oldSec.generic\n        };\n        for (var j = start; j <= end; ++j) {\n          myResidues[j]._secondary = nSec;\n        }\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var compRes = this._complex._residues;\n      var n = compRes.length;\n      this._residues = new Array(n);\n      var myResidues = this._residues;\n      var getSec = function getSec() {\n        return this._secondary;\n      };\n      for (var i = 0; i < n; ++i) {\n        myResidues[i] = {\n          _type: compRes[i]._type,\n          _isValid: compRes[i]._isValid,\n          _controlPoint: null,\n          _wingVector: null,\n          _secondary: null,\n          getSecondary: getSec\n        };\n      }\n    }\n  }, {\n    key: \"setFrame\",\n    value: function setFrame(frameIdx) {\n      this.frameIsReady = false;\n      if (frameIdx >= this._framesRange.start && frameIdx <= this._framesRange.end) {\n        this._currFrame = frameIdx;\n        this._cachedResidues = false;\n        this._updateSecondary();\n        this.frameIsReady = true;\n      } else {\n        this._frameRequest = frameIdx;\n        if (!this._buffer) {\n          this._prepareBuffer(frameIdx);\n        } else {\n          var self = this;\n          switch (this._buffer.state) {\n            case 'none':\n              this._prepareBuffer(frameIdx);\n              break;\n            case 'ready':\n              self._parseBuffer();\n              break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"disableEvents\",\n    value: function disableEvents() {\n      this._callbacks = null;\n    }\n  }, {\n    key: \"getAtomPos\",\n    value: function getAtomPos(atomIdx) {\n      var vec = FrameInfo._vec;\n      var self = this;\n      var data = self._data;\n      var idx = (self._atomsCount * (self._currFrame - self._framesRange.start) + atomIdx) * 3;\n      vec.set(data[idx], data[idx + 1], data[idx + 2]);\n      return vec;\n    }\n  }, {\n    key: \"getResidues\",\n    value: function getResidues() {\n      if (this._cachedResidues) {\n        return this._residues;\n      }\n      this._complex.updateToFrame(this);\n      return this._residues;\n    }\n  }]);\n  return FrameInfo;\n}();\n_defineProperty(FrameInfo, \"_vec\", new Vector3());\n\nvar SceneObject = function () {\n  function SceneObject(params, opts) {\n    _classCallCheck(this, SceneObject);\n    if (this.constructor === SceneObject) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    this.params = params;\n    this.opts = merge(utils.deriveDeep(settings.now.objects[this.type], true), opts);\n    this.needsRebuild = false;\n    this._mesh = null;\n    this.id = null;\n  }\n  _createClass(SceneObject, [{\n    key: \"identify\",\n    value: function identify() {\n      var result = {\n        type: this.type,\n        params: this.params\n      };\n      var diff = utils.objectsDiff(this.opts, settings.now.modes[this.id]);\n      if (!isEmpty(diff)) {\n        result.opts = diff;\n      }\n      return result;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var paramsStr = \"o=\".concat(this.type, \",\").concat(this.params.join(','));\n      var optsStr = utils.compareOptionsWithDefaults(this.opts, settings.defaults.objects[this.type]);\n      return paramsStr + optsStr;\n    }\n  }, {\n    key: \"getGeometry\",\n    value: function getGeometry() {\n      return this._mesh;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._mesh) {\n        gfxutils.destroyObject(this._mesh);\n      }\n    }\n  }]);\n  return SceneObject;\n}();\nSceneObject.prototype.type = '__';\n\nfunction _createSuper$7(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$7(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$7() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LinesObj = function (_SceneObject) {\n  _inherits(LinesObj, _SceneObject);\n  var _super = _createSuper$7(LinesObj);\n  function LinesObj(params, opts) {\n    var _this;\n    _classCallCheck(this, LinesObj);\n    _this = _super.call(this, params, opts);\n    if (params.length < 2) {\n      throw new Error('Wrong number of argumets on line object creation!');\n    }\n    var _params = _slicedToArray(params, 2);\n    _this._id1 = _params[0];\n    _this._id2 = _params[1];\n    return _this;\n  }\n  _createClass(LinesObj, [{\n    key: \"_getAtomFromName\",\n    value: function _getAtomFromName(complex, atomId) {\n      var err = \" - Wrong atom format it must be '#CHAIN_NAME.#RESIDUE_NUMBER.#ATOM_NAME' (e.g. 'A.38.CO1')\";\n      var atom1 = complex.getAtomByFullname(atomId);\n      if (!atom1) {\n        throw new Error(atomId + err);\n      }\n      return atom1;\n    }\n  }, {\n    key: \"build\",\n    value: function build(complex) {\n      var geom = new BufferGeometry();\n      this._atom1 = this._getAtomFromName(complex, this._id1);\n      this._atom2 = this._getAtomFromName(complex, this._id2);\n      var p1 = this._atom1.position;\n      var p2 = this._atom2.position;\n      var vertices = new Float32Array([p1.x, p1.y, p1.z, p2.x, p2.y, p2.z]);\n      geom.setAttribute('position', new BufferAttribute(vertices, 3));\n      geom.computeBoundingBox();\n      var material = new UberMaterial();\n      material.setValues({\n        lights: false,\n        overrideColor: true,\n        dashedLine: true,\n        fogTransparent: settings.now.bg.transparent\n      });\n      this._line = new meshes.Line(geom, material);\n      this._line.computeLineDistances();\n      this._line.material.setUberOptions({\n        fixedColor: new Color(this.opts.color),\n        dashedLineSize: this.opts.dashSize,\n        dashedLinePeriod: this.opts.dashSize + this.opts.gapSize\n      });\n      this._line.material.updateUniforms();\n      this._line.raycast = function (_raycaster, _intersects) {};\n      this._mesh = this._line;\n      var transforms = complex.getTransforms();\n      if (transforms.length > 0) {\n        this._mesh = new Group();\n        this._mesh.add(this._line);\n        meshutils.applyTransformsToMeshes(this._mesh, transforms);\n      }\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      if (!this._atom1 || !this._atom2 || !this._line) {\n        return;\n      }\n      var geo = this._line.geometry;\n      geo.vertices[0].copy(frameData.getAtomPos(this._atom1.index));\n      geo.vertices[1].copy(frameData.getAtomPos(this._atom2.index));\n      this._line.computeLineDistances();\n      geo.computeBoundingSphere();\n      geo.verticesNeedUpdate = true;\n    }\n  }]);\n  return LinesObj;\n}(SceneObject);\nLinesObj.prototype.constructor = LinesObj;\nLinesObj.prototype.type = 'line';\n\nvar fragmentShader$5 = \"precision highp float;\\r\\n\\r\\nuniform sampler2D srcTex;\\r\\nuniform vec2 srcTexSize;\\r\\nuniform vec2 thickness;\\r\\nvarying vec2 vUv;\\r\\n\\r\\n#ifdef DEPTH_OUTLINE\\r\\n  uniform sampler2D srcDepthTex; //depthTexture\\r\\n  uniform vec3 color;\\r\\n  uniform float threshold;\\r\\n#endif\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n  vec2 pixelSize = thickness / srcTexSize;\\r\\n\\r\\n  #ifdef DEPTH_OUTLINE\\r\\n    float c00 = texture2D(srcDepthTex, vUv + vec2(-pixelSize.x,-pixelSize.y)).x;\\r\\n    float c01 = texture2D(srcDepthTex, vUv + vec2(0,-pixelSize.y)).x;\\r\\n    float c02 = texture2D(srcDepthTex, vUv + vec2(pixelSize.x,-pixelSize.y)).x;\\r\\n    float c10 = texture2D(srcDepthTex, vUv + vec2(-pixelSize.x,0)).x;\\r\\n    float c12 = texture2D(srcDepthTex, vUv + vec2(pixelSize.x,0)).x;\\r\\n    float c20 = texture2D(srcDepthTex, vUv + vec2(-pixelSize.x,pixelSize.y)).x;\\r\\n    float c21 = texture2D(srcDepthTex, vUv + vec2(0,pixelSize.y)).x;\\r\\n    float c22 = texture2D(srcDepthTex, vUv + vec2(pixelSize.x,pixelSize.y)).x;\\r\\n\\r\\n    float horizEdge = - c00 - 2.0 * c01 - c02 + c20 + 2.0 * c21 + c22;\\r\\n    float vertEdge  = - c00 - 2.0 * c10 - c20 + c02 + 2.0 * c12 + c22;\\r\\n\\r\\n    float grad = sqrt(horizEdge * horizEdge + vertEdge * vertEdge);\\r\\n\\r\\n    gl_FragColor = ( grad > threshold ) ? vec4(color.rgb, 1.0) : gl_FragColor = texture2D(srcTex, vUv);\\r\\n\\r\\n  #else\\r\\n    vec4 c00 = texture2D(srcTex, vUv + vec2(-pixelSize.x,-pixelSize.y));\\r\\n    vec4 c01 = texture2D(srcTex, vUv + vec2(0,-pixelSize.y));\\r\\n    vec4 c02 = texture2D(srcTex, vUv + vec2(pixelSize.x,-pixelSize.y));\\r\\n    vec4 c10 = texture2D(srcTex, vUv + vec2(-pixelSize.x,0));\\r\\n    vec4 c12 = texture2D(srcTex, vUv + vec2(pixelSize.x,0));\\r\\n    vec4 c20 = texture2D(srcTex, vUv + vec2(-pixelSize.x,pixelSize.y));\\r\\n    vec4 c21 = texture2D(srcTex, vUv + vec2(0,pixelSize.y));\\r\\n    vec4 c22 = texture2D(srcTex, vUv + vec2(pixelSize.x,pixelSize.y));\\r\\n\\r\\n    vec4 horizEdge = - c00 - 2.0 * c01 - c02 + c20 + 2.0 * c21 + c22;\\r\\n    vec4 vertEdge  = - c00 - 2.0 * c10 - c20 + c02 + 2.0 * c12 + c22;\\r\\n\\r\\n    vec4 grad = sqrt(horizEdge * horizEdge + vertEdge * vertEdge);\\r\\n    gl_FragColor = grad;\\r\\n  #endif\\r\\n}\\r\\n\";\n\nfunction _createSuper$6(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$6(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$6() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OutlineMaterial = function (_RawShaderMaterial) {\n  _inherits(OutlineMaterial, _RawShaderMaterial);\n  var _super = _createSuper$6(OutlineMaterial);\n  function OutlineMaterial(params) {\n    var _this;\n    _classCallCheck(this, OutlineMaterial);\n    _this = _super.call(this, params);\n    var settings = {\n      uniforms: {\n        srcTex: {\n          type: 't',\n          value: null\n        },\n        srcDepthTex: {\n          type: 't',\n          value: null\n        },\n        srcTexSize: {\n          type: 'v2',\n          value: new Vector2(512, 512)\n        },\n        color: {\n          type: 'v3',\n          value: null\n        },\n        threshold: {\n          type: 'f',\n          value: null\n        },\n        opacity: {\n          type: 'f',\n          value: 1.0\n        },\n        thickness: {\n          type: 'v2',\n          value: new Vector2(1, 1)\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$5,\n      transparent: true,\n      depthTest: false,\n      depthWrite: false\n    };\n    _this.setValues(settings);\n    return _this;\n  }\n  _createClass(OutlineMaterial, [{\n    key: \"copy\",\n    value: function copy(source) {\n      _get(_getPrototypeOf(OutlineMaterial.prototype), \"copy\", this).call(this, source);\n      this.depth = source.depth;\n    }\n  }, {\n    key: \"setValues\",\n    value: function setValues(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      _get(_getPrototypeOf(OutlineMaterial.prototype), \"setValues\", this).call(this, values);\n      var defines = {};\n      if (this.depth) {\n        defines.DEPTH_OUTLINE = 1;\n      }\n      this.defines = defines;\n    }\n  }]);\n  return OutlineMaterial;\n}(RawShaderMaterial);\nOutlineMaterial.prototype.depth = false;\n\nvar fragmentShader$4 = \"precision highp float;\\r\\n\\r\\n// edge end finding algorithm parameters\\r\\n#define FXAA_QUALITY_PS 8\\r\\n#define FXAA_QUALITY_P0 1.0\\r\\n#define FXAA_QUALITY_P1 1.5\\r\\n#define FXAA_QUALITY_P2 2.0\\r\\n#define FXAA_QUALITY_P3 2.0\\r\\n#define FXAA_QUALITY_P4 2.0\\r\\n#define FXAA_QUALITY_P5 2.0\\r\\n#define FXAA_QUALITY_P6 4.0\\r\\n#define FXAA_QUALITY_P7 12.0\\r\\n// constants\\r\\nfloat fxaaQualityEdgeThreshold = 0.125;\\r\\nfloat fxaaQualityEdgeThresholdMin = 0.0625;\\r\\nfloat fxaaQualitySubpix = 0.7; //0.65;\\r\\n// global params\\r\\nuniform sampler2D srcTex;\\r\\nuniform vec2 srcTexelSize;\\r\\nuniform vec3 bgColor;\\r\\n// from vs\\r\\nvarying vec2 vUv;\\r\\n//=====================================================================//\\r\\n// calc luminance from rgb\\r\\n//'float FxaaLuma(vec3 rgb) {return rgb.y * (0.587/0.299) + rgb.x; } // Lotte's idea about game luminance\\r\\nfloat FxaaLuma(vec3 rgb) {return dot(rgb, vec3(0.299, 0.587, 0.114)); } // real luminance calculation\\r\\n                                                                           // for non-real scene rendering\\r\\n// texture sampling by pixel position(coords) and offset(in pixels)\\r\\n vec3 FxaaTex(sampler2D tex, vec2 pos, vec2 off,  vec2 res ) {\\r\\n  #ifdef BG_TRANSPARENT\\r\\n    vec4 color = texture2D( tex, pos + off * res );\\r\\n    return mix(color.rgb, bgColor, 1.0 - color.a);\\r\\n  #else\\r\\n    return texture2D( tex, pos + off * res ).xyz;\\r\\n  #endif\\r\\n}\\r\\nvec3 FxaaTexTop(sampler2D tex, vec2 pos) {\\r\\n  #ifdef BG_TRANSPARENT\\r\\n    vec4 color = texture2D( tex, pos );\\r\\n    return mix(color.rgb, bgColor, 1.0 - color.a);\\r\\n  #else\\r\\n    return texture2D( tex, pos).xyz;\\r\\n  #endif\\r\\n}\\r\\nvec4 FxaaTexTopAlpha(sampler2D tex, vec2 pos) {\\r\\n  return texture2D( tex, pos);\\r\\n}\\r\\n\\r\\n//=====================================================================//\\r\\nvoid main() {\\r\\n  // renaming\\r\\n  vec2 posM = vUv;\\r\\n  // get luminance for neighbours\\r\\n  float lumaS = FxaaLuma(FxaaTex(srcTex, posM, vec2( 0.0, 1.0 ), srcTexelSize));\\r\\n  float lumaE = FxaaLuma(FxaaTex(srcTex, posM, vec2( 1.0, 0.0 ), srcTexelSize));\\r\\n  float lumaN = FxaaLuma(FxaaTex(srcTex, posM, vec2( 0.0, -1.0 ), srcTexelSize));\\r\\n  float lumaW = FxaaLuma(FxaaTex(srcTex, posM, vec2( -1.0, 0.0 ), srcTexelSize));\\r\\n  float lumaM = FxaaLuma(FxaaTexTop(srcTex, posM));\\r\\n  // find max and min luminance\\r\\n  float rangeMax = max(max(lumaN, lumaW), max(lumaE, max(lumaS, lumaM)));\\r\\n  float rangeMin = min(min(lumaN, lumaW), min(lumaE, min(lumaS, lumaM)));\\r\\n  // calc maximum non-edge range\\r\\n  float rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\\r\\n  float range = rangeMax - rangeMin;\\r\\n  float rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\\r\\n  // exit when luma contrast is small (is not edge)\\r\\n  if(range < rangeMaxClamped){\\r\\n    gl_FragColor = FxaaTexTopAlpha(srcTex, posM);\\r\\n    return;\\r\\n  }\\r\\n  float subpixRcpRange = 1.0/range;\\r\\n  // note: the sampling coordinates can be calculated in vertex shader but the approach doesn't affect performance\\r\\n  // visibly, thus we decided to leave calculation here for better readability.\\r\\n  // calc other neighbours luminance\\r\\n  float lumaNE = FxaaLuma(FxaaTex(srcTex, posM, vec2(  1.0, -1.0 ), srcTexelSize));\\r\\n  float lumaSW = FxaaLuma(FxaaTex(srcTex, posM, vec2( -1.0,  1.0 ), srcTexelSize));\\r\\n  float lumaSE = FxaaLuma(FxaaTex(srcTex, posM, vec2(  1.0,  1.0 ), srcTexelSize));\\r\\n  float lumaNW = FxaaLuma(FxaaTex(srcTex, posM, vec2( -1.0, -1.0 ), srcTexelSize));\\r\\n/*--------------span calculation and subpix amount calulation-----------------*/\\r\\n  float lumaNS = lumaN + lumaS;\\r\\n  float lumaWE = lumaW + lumaE;\\r\\n  float subpixNSWE = lumaNS + lumaWE;\\r\\n  float edgeHorz1 = (-2.0 * lumaM) + lumaNS;\\r\\n  float edgeVert1 = (-2.0 * lumaM) + lumaWE;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  float lumaNESE = lumaNE + lumaSE;\\r\\n  float lumaNWNE = lumaNW + lumaNE;\\r\\n  float edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\\r\\n  float edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  float lumaNWSW = lumaNW + lumaSW;\\r\\n  float lumaSWSE = lumaSW + lumaSE;\\r\\n  float edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\\r\\n  float edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\\r\\n  float edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\\r\\n  float edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\\r\\n  float edgeHorz = abs(edgeHorz3) + edgeHorz4;\\r\\n  float edgeVert = abs(edgeVert3) + edgeVert4;\\r\\n/*--------------------subpix amount calulation------------------------------*/\\r\\n  float subpixNWSWNESE = lumaNWSW + lumaNESE;\\r\\n  float lengthSign = srcTexelSize.x;\\r\\n  bool horzSpan = edgeHorz >= edgeVert;\\r\\n   // debug  code edge span visualization\\r\\n/*'  if (horzSpan)\\r\\n      gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0);\\r\\n  else\\r\\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\\r\\n  return;*/\\r\\n  float subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  if(!horzSpan) lumaN = lumaW;\\r\\n  if(!horzSpan) lumaS = lumaE;\\r\\n  if(horzSpan) lengthSign = srcTexelSize.y;\\r\\n  float subpixB = (subpixA * (1.0/12.0)) - lumaM;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  float gradientN = lumaN - lumaM;\\r\\n  float gradientS = lumaS - lumaM;\\r\\n  float lumaNN = lumaN + lumaM;\\r\\n  float lumaSS = lumaS + lumaM;\\r\\n  bool pairN = abs(gradientN) >= abs(gradientS);\\r\\n  float gradient = max(abs(gradientN), abs(gradientS));\\r\\n  if(pairN) lengthSign = -lengthSign;\\r\\n  float subpixC = clamp(abs(subpixB) * subpixRcpRange, 0.0, 1.0);\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  vec2 posB;\\r\\n  posB = posM;\\r\\n  vec2 offNP;\\r\\n  offNP.x = (!horzSpan) ? 0.0 : srcTexelSize.x;\\r\\n  offNP.y = ( horzSpan) ? 0.0 : srcTexelSize.y;\\r\\n  if(!horzSpan) posB.x += lengthSign * 0.5;\\r\\n  if( horzSpan) posB.y += lengthSign * 0.5;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  vec2 posN;\\r\\n  posN = posB - offNP * FXAA_QUALITY_P0;\\r\\n  vec2 posP;\\r\\n  posP = posB + offNP * FXAA_QUALITY_P0;\\r\\n  float subpixD = ((-2.0)*subpixC) + 3.0;\\r\\n  float lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN));\\r\\n  float subpixE = subpixC * subpixC;\\r\\n  float lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP));\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  if(!pairN) lumaNN = lumaSS;\\r\\n  float gradientScaled = gradient * 1.0/4.0;\\r\\n  float lumaMM = lumaM - lumaNN * 0.5;\\r\\n  float subpixF = subpixD * subpixE;\\r\\n  bool lumaMLTZero = lumaMM < 0.0;\\r\\n/*---------------------looped edge-end search-------------------------------*/\\r\\n  lumaEndN -= lumaNN * 0.5;\\r\\n  lumaEndP -= lumaNN * 0.5;\\r\\n  bool doneN = abs(lumaEndN) >= gradientScaled;\\r\\n  bool doneP = abs(lumaEndP) >= gradientScaled;\\r\\n  if(!doneN) posN -= offNP * FXAA_QUALITY_P1;\\r\\n  bool doneNP = (!doneN) || (!doneP);\\r\\n  if(!doneP) posP += offNP * FXAA_QUALITY_P1;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  if(doneNP) {\\r\\n    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n    doneN = abs(lumaEndN) >= gradientScaled;\\r\\n    doneP = abs(lumaEndP) >= gradientScaled;\\r\\n    if(!doneN) posN -= offNP * FXAA_QUALITY_P2;\\r\\n    doneNP = (!doneN) || (!doneP);\\r\\n    if(!doneP) posP += offNP * FXAA_QUALITY_P2;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n    #if (FXAA_QUALITY_PS > 3)\\r\\n      if(doneNP) {\\r\\n        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n        doneN = abs(lumaEndN) >= gradientScaled;\\r\\n        doneP = abs(lumaEndP) >= gradientScaled;\\r\\n        if(!doneN) posN -= offNP * FXAA_QUALITY_P3;\\r\\n        doneNP = (!doneN) || (!doneP);\\r\\n        if(!doneP) posP += offNP * FXAA_QUALITY_P3;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n        #if (FXAA_QUALITY_PS > 4)\\r\\n          if(doneNP) {\\r\\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n            doneN = abs(lumaEndN) >= gradientScaled;\\r\\n            doneP = abs(lumaEndP) >= gradientScaled;\\r\\n            if(!doneN) posN -= offNP * FXAA_QUALITY_P4;\\r\\n            doneNP = (!doneN) || (!doneP);\\r\\n            if(!doneP) posP += offNP * FXAA_QUALITY_P4;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n            #if (FXAA_QUALITY_PS > 5)\\r\\n               if(doneNP) {\\r\\n                 if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n                 if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n                 if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n                 if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n                 doneN = abs(lumaEndN) >= gradientScaled;\\r\\n                 doneP = abs(lumaEndP) >= gradientScaled;\\r\\n                 if(!doneN) posN -= offNP * FXAA_QUALITY_P5;\\r\\n                 doneNP = (!doneN) || (!doneP);\\r\\n                 if(!doneP) posP += offNP * FXAA_QUALITY_P5;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n                 #if (FXAA_QUALITY_PS > 6)\\r\\n                   if(doneNP) {\\r\\n                     if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n                     if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n                     if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n                     if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n                     doneN = abs(lumaEndN) >= gradientScaled;\\r\\n                     doneP = abs(lumaEndP) >= gradientScaled;\\r\\n                     if(!doneN) posN -= offNP * FXAA_QUALITY_P6;\\r\\n                     doneNP = (!doneN) || (!doneP);\\r\\n                     if(!doneP) posP += offNP * FXAA_QUALITY_P6;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n                     #if (FXAA_QUALITY_PS > 7)\\r\\n                       if(doneNP) {\\r\\n                         if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n                         if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n                         if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n                         if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n                         doneN = abs(lumaEndN) >= gradientScaled;\\r\\n                         doneP = abs(lumaEndP) >= gradientScaled;\\r\\n                         if(!doneN) posN -= offNP * FXAA_QUALITY_P7;\\r\\n                         doneNP = (!doneN) || (!doneP);\\r\\n                         if(!doneP) posP += offNP * FXAA_QUALITY_P7;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n                       }\\r\\n                     #endif\\r\\n                   }\\r\\n                 #endif\\r\\n               }\\r\\n             #endif\\r\\n           }\\r\\n         #endif\\r\\n      }\\r\\n    #endif\\r\\n  }\\r\\n/*----------------calculate subpix offset due to edge ends-------------------*/\\r\\n  float dstN = posM.x - posN.x;\\r\\n  float dstP = posP.x - posM.x;\\r\\n  if(!horzSpan) dstN = posM.y - posN.y;\\r\\n  if(!horzSpan) dstP = posP.y - posM.y;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  bool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\\r\\n  float spanLength = (dstP + dstN);\\r\\n  bool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\\r\\n  float spanLengthRcp = 1.0 / spanLength;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  bool directionN = dstN < dstP;\\r\\n  float dst = min(dstN, dstP);\\r\\n  bool goodSpan = directionN ? goodSpanN : goodSpanP;\\r\\n  float subpixG = subpixF * subpixF;\\r\\n  float pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\\r\\n  float subpixH = subpixG * fxaaQualitySubpix;\\r\\n/*-----------------calc texture offest using subpix-------------------------*/\\r\\n  float pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\\r\\n  float pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\\r\\n\\r\\n  float offset = pixelOffsetSubpix * lengthSign;\\r\\n  #ifdef BG_TRANSPARENT\\r\\n    // get original texel\\r\\n    vec4 rgbaA = FxaaTexTopAlpha(srcTex, posM);\\r\\n    // calc step to blended texel\\r\\n    vec2 step = sign((!horzSpan) ? vec2 (offset, 0.0) : vec2 (0.0, offset));\\r\\n    // get neighboring texel\\r\\n    vec4 rgbaB = FxaaTexTopAlpha(srcTex, posM + step * srcTexelSize);\\r\\n    //  calc blend factor from offset\\r\\n    float f = (!horzSpan) ? offset / srcTexelSize.x : offset / srcTexelSize.y;\\r\\n    f = abs(f);\\r\\n    // calc alpha (special formula to emulate blending with bg)\\r\\n    gl_FragColor.a = 1.0 - mix(1.0 - rgbaA.a, 1.0 - rgbaB.a, f);\\r\\n    // calc color (special formula to emulate blending with bg)\\r\\n    gl_FragColor.rgb = mix(rgbaA.rgb * rgbaA.a, rgbaB.rgb * rgbaB.a, f) / gl_FragColor.a;\\r\\n  #else\\r\\n    if(!horzSpan) {\\r\\n       posM.x += offset;\\r\\n    } else {\\r\\n       posM.y += offset;\\r\\n    }\\r\\n    gl_FragColor = FxaaTexTopAlpha(srcTex, posM);\\r\\n  #endif\\r\\n  return;\\r\\n}\\r\\n\";\n\nfunction _createSuper$5(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$5(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$5() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FXAAMaterial = function (_RawShaderMaterial) {\n  _inherits(FXAAMaterial, _RawShaderMaterial);\n  var _super = _createSuper$5(FXAAMaterial);\n  function FXAAMaterial(params) {\n    var _this;\n    _classCallCheck(this, FXAAMaterial);\n    _this = _super.call(this, params);\n    _this.setValues({\n      uniforms: {\n        srcTex: {\n          type: 't',\n          value: null\n        },\n        srcTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        bgColor: {\n          type: 'c',\n          value: new Color(0xffffff)\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$4,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    _this.setValues(params);\n    return _this;\n  }\n  _createClass(FXAAMaterial, [{\n    key: \"copy\",\n    value: function copy(source) {\n      _get(_getPrototypeOf(FXAAMaterial.prototype), \"copy\", this).call(this, source);\n      this.depth = source.depth;\n    }\n  }, {\n    key: \"setValues\",\n    value: function setValues(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      _get(_getPrototypeOf(FXAAMaterial.prototype), \"setValues\", this).call(this, values);\n      var defines = {};\n      if (this.bgTransparent) {\n        defines.BG_TRANSPARENT = 1;\n      }\n      this.defines = defines;\n    }\n  }]);\n  return FXAAMaterial;\n}(RawShaderMaterial);\nFXAAMaterial.prototype.bgTransparent = false;\n\nvar fragmentShader$3 = \"precision highp float;\\r\\n#define EPSILON 0.0000001\\r\\n\\r\\n#define MAX_SAMPLES_COUNT 32\\r\\nuniform vec3 samplesKernel[MAX_SAMPLES_COUNT];\\r\\nuniform sampler2D noiseTexture;\\r\\nuniform vec2      noiseTexelSize;\\r\\nuniform sampler2D diffuseTexture;\\r\\nuniform sampler2D depthTexture;\\r\\nuniform sampler2D normalTexture;\\r\\nuniform vec2      srcTexelSize;\\r\\nuniform vec2      camNearFar;\\r\\nuniform mat4      projMatrix;\\r\\n\\r\\nuniform float aspectRatio;\\r\\nuniform float tanHalfFOV;\\r\\n\\r\\nuniform float kernelRadius;\\r\\nuniform float depthThreshold;\\r\\nuniform float factor;\\r\\n\\r\\nvarying vec2 vUv;\\r\\n\\r\\nfloat CalcViewZ(vec2 screenPos)\\r\\n{\\r\\n  float depth = texture2D(depthTexture, screenPos).x;\\r\\n  // [0, 1]->[-1, 1]\\r\\n  float clipedZ = 2.0 * depth - 1.0;\\r\\n  // see THREE.js camera.makeFrustum for projection details\\r\\n  return (-projMatrix[3][2] / (clipedZ + projMatrix[2][2]));\\r\\n}\\r\\n\\r\\nvec3 ViewPosFromDepth(vec2 screenPos)\\r\\n{\\r\\n  vec3 viewPos;\\r\\n  viewPos.z = CalcViewZ(screenPos);\\r\\n  //[0, 1]->[-1, 1]\\r\\n  vec2 projPos = 2.0 * screenPos - 1.0;\\r\\n  // reconstruct viewposition in right-handed sc with z to viewer\\r\\n  viewPos.xy = vec2(\\r\\n                    projPos.x * aspectRatio * tanHalfFOV * abs(viewPos.z),\\r\\n                    projPos.y * tanHalfFOV * abs(viewPos.z)\\r\\n                   );\\r\\n  return viewPos;\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n  vec3 viewPos = ViewPosFromDepth(vUv);\\r\\n  // remap coordinates to prevent noise exture rescale\\r\\n  vec2 vUvNoise = vUv / srcTexelSize * noiseTexelSize;\\r\\n  vec4 normalData = texture2D(normalTexture, vUv);\\r\\n  // return for background fragments (their normals are zero vectors)\\r\\n  if (length(normalData.rgb) < EPSILON) {\\r\\n    // 0.0 in alpha component means that it is background fragment\\r\\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\\r\\n    return;\\r\\n  }\\r\\n  //[0, 1] -> [-1, 1]\\r\\n  vec3 normal = (normalData.rgb * 2.0 - 1.0);\\r\\n  // normalData.a store 1.0 if normal was build for frontfaced surface\\r\\n  // and 0.0 in other case\\r\\n  if (normalData.a < EPSILON) {\\r\\n    normal *= -1.0;\\r\\n  }\\r\\n  // get random vector for sampling sphere rotation\\r\\n  vec3 randN = texture2D(noiseTexture, vUvNoise).rgb * 2.0 - 1.0;\\r\\n  randN = normalize(randN);\\r\\n  // build TBN (randomly rotated around normal)\\r\\n  vec3 tangent   = normalize(randN - normal * dot(randN, normal));\\r\\n  vec3 bitangent = cross(tangent, normal);\\r\\n  mat3 TBN = mat3(tangent, bitangent, normal);\\r\\n  // calc AO value\\r\\n  float AO = 0.0;\\r\\n  for (int i = 0 ; i < MAX_SAMPLES_COUNT ; i++) {\\r\\n    // rotate sampling kernel around normal\\r\\n    vec3 reflectedSample = TBN * samplesKernel[i];\\r\\n    // get sample\\r\\n    vec3 samplePos = viewPos + reflectedSample * kernelRadius;\\r\\n\\r\\n    // project sample to screen to get sample's screen pos\\r\\n    vec4 SampleScrPos = vec4(samplePos, 1.0);\\r\\n    // eye -> clip\\r\\n    SampleScrPos = projMatrix * SampleScrPos;\\r\\n    // normalize\\r\\n    SampleScrPos.xy /= SampleScrPos.w;\\r\\n    //[-1, 1] -> [0, 1]\\r\\n    SampleScrPos.xy = (SampleScrPos.xy + vec2(1.0)) * 0.5;\\r\\n\\r\\n    // get view z for sample projected to the objct surface\\r\\n    float sampleDepth = CalcViewZ(SampleScrPos.xy);\\r\\n    // calc occlusion made by object surface at the sample\\r\\n    AO += step(samplePos.z, sampleDepth);\\r\\n  }\\r\\n  // calc result AO-map color\\r\\n  AO = 1.0 - max(0.0, AO / float(MAX_SAMPLES_COUNT) * factor);\\r\\n  // write value to AO-map\\r\\n  gl_FragColor = vec4(AO, AO, AO, 1.0);\\r\\n}\\r\\n\";\n\nfunction _createSuper$4(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$4(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$4() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _samplesKernel = [\nnew Vector3(0.295184, 0.077723, 0.068429), new Vector3(-0.271976, -0.365221, 0.838363), new Vector3(0.547713, 0.467576, 0.488515), new Vector3(0.662808, -0.031733, 0.584758), new Vector3(-0.025717, 0.218955, 0.657094), new Vector3(-0.310153, -0.365223, 0.370701), new Vector3(-0.101407, -0.006313, 0.747665), new Vector3(-0.769138, 0.360399, 0.086847), new Vector3(-0.271988, -0.27514, 0.905353), new Vector3(0.09674, -0.566901, 0.700151), new Vector3(0.562872, -0.735136, 0.094647), new Vector3(0.379877, 0.359278, 0.190061), new Vector3(0.519064, -0.023055, 0.405068), new Vector3(-0.301036, 0.114696, 0.088885), new Vector3(-0.282922, 0.598305, 0.487214), new Vector3(-0.181859, 0.25167, 0.679702), new Vector3(-0.191463, -0.635818, 0.512919), new Vector3(-0.293655, 0.427423, 0.078921), new Vector3(-0.267983, 0.680534, 0.13288), new Vector3(0.139611, 0.319637, 0.477439), new Vector3(-0.352086, 0.31104, 0.653913), new Vector3(0.321032, 0.805279, 0.487345), new Vector3(0.073516, 0.820734, 0.414183), new Vector3(-0.155324, 0.589983, 0.41146), new Vector3(0.335976, 0.170782, 0.527627), new Vector3(0.46346, -0.355658, 0.167689), new Vector3(0.222654, 0.59655, 0.769406), new Vector3(0.922138, -0.04207, 0.147555), new Vector3(-0.72705, -0.329192, 0.369826), new Vector3(-0.090731, 0.53382, 0.463767), new Vector3(-0.323457, -0.876559, 0.238524), new Vector3(-0.663277, -0.372384, 0.342856)];\nvar AOMaterial = function (_RawShaderMaterial) {\n  _inherits(AOMaterial, _RawShaderMaterial);\n  var _super = _createSuper$4(AOMaterial);\n  function AOMaterial() {\n    var _this;\n    _classCallCheck(this, AOMaterial);\n    _this = _super.call(this);\n    _this.setValues({\n      uniforms: {\n        noiseTexture: {\n          type: 't',\n          value: noise.noiseTexture\n        },\n        noiseTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / noise.noiseWidth, 1.0 / noise.noiseHeight)\n        },\n        diffuseTexture: {\n          type: 't',\n          value: null\n        },\n        normalTexture: {\n          type: 't',\n          value: null\n        },\n        depthTexture: {\n          type: 't',\n          value: null\n        },\n        srcTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        camNearFar: {\n          type: 'v2',\n          value: new Vector2(1.0, 10.0)\n        },\n        projMatrix: {\n          type: 'mat4',\n          value: new Matrix4()\n        },\n        aspectRatio: {\n          type: 'f',\n          value: 0.0\n        },\n        tanHalfFOV: {\n          type: 'f',\n          value: 0.0\n        },\n        samplesKernel: {\n          type: 'v3v',\n          value: _samplesKernel\n        },\n        kernelRadius: {\n          type: 'f',\n          value: 1.0\n        },\n        depthThreshold: {\n          type: 'f',\n          value: 1.0\n        },\n        factor: {\n          type: 'f',\n          value: 1.0\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$3,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    return _this;\n  }\n  return _createClass(AOMaterial);\n}(RawShaderMaterial);\n\nvar fragmentShader$2 = \"precision highp float;\\r\\n#define EPSILON 0.0000001\\r\\n\\r\\n#define MAX_SAMPLES_COUNT 5\\r\\nuniform float samplesOffsets[MAX_SAMPLES_COUNT];\\r\\nuniform sampler2D aoMap;\\r\\nuniform sampler2D depthTexture;\\r\\nuniform vec2      srcTexelSize;\\r\\n\\r\\nvarying vec2 vUv;\\r\\n\\r\\nvoid main() {\\r\\n  float x = vUv.x;\\r\\n  float y = vUv.y;\\r\\n  vec4 res = vec4(0.0);\\r\\n  res.a = texture2D(aoMap, vec2(x, y )).a;\\r\\n  // return for background fragments (0.0 in alpha component means that it is background fragment)\\r\\n  if (res.a < EPSILON) {\\r\\n    gl_FragColor = res;\\r\\n    return;\\r\\n  }\\r\\n\\r\\n  float pixelDepth = texture2D(depthTexture, vec2(x, y)).x;\\r\\n  float weightSum = 0.0;\\r\\n  for (int i = 0; i < MAX_SAMPLES_COUNT; ++i) {\\r\\n    if (texture2D(aoMap, vec2(x + samplesOffsets[i] * srcTexelSize.x, y )).a < EPSILON) {\\r\\n      continue;\\r\\n    }\\r\\n    vec2 samplePos = vec2(x + samplesOffsets[i] * srcTexelSize.x, y);\\r\\n    float depth = texture2D(depthTexture, samplePos).x;\\r\\n    float weight = (1.0 / (0.0001 + abs(depth - pixelDepth)));\\r\\n    res.rgb += texture2D(aoMap, vec2(x + samplesOffsets[i] * srcTexelSize.x, y )).rgb * weight;\\r\\n    weightSum += weight;\\r\\n  }\\r\\n  res.rgb = res.rgb / weightSum;\\r\\n  gl_FragColor = res;\\r\\n}\\r\\n\";\n\nfunction _createSuper$3(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$3(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$3() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _kernelOffsets$1 = [-2.0, -1.0, 0.0, 1.0, 2.0];\nvar AOHorBlurMaterial = function (_RawShaderMaterial) {\n  _inherits(AOHorBlurMaterial, _RawShaderMaterial);\n  var _super = _createSuper$3(AOHorBlurMaterial);\n  function AOHorBlurMaterial() {\n    var _this;\n    _classCallCheck(this, AOHorBlurMaterial);\n    _this = _super.call(this);\n    _this.setValues({\n      uniforms: {\n        depthTexture: {\n          type: 't',\n          value: null\n        },\n        srcTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        aoMap: {\n          type: 't',\n          value: null\n        },\n        samplesOffsets: {\n          type: 'fv1',\n          value: _kernelOffsets$1\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$2,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    return _this;\n  }\n  return _createClass(AOHorBlurMaterial);\n}(RawShaderMaterial);\n\nvar fragmentShader$1 = \"precision highp float;\\r\\n#define EPSILON 0.0000001\\r\\n\\r\\n#define MAX_SAMPLES_COUNT 5\\r\\nuniform float samplesOffsets[MAX_SAMPLES_COUNT];\\r\\nuniform sampler2D diffuseTexture;\\r\\nuniform sampler2D aoMap;\\r\\nuniform sampler2D depthTexture;\\r\\nuniform vec2      srcTexelSize;\\r\\n\\r\\nuniform mat4  projMatrix;\\r\\nuniform float aspectRatio;\\r\\nuniform float tanHalfFOV;\\r\\n\\r\\n#ifdef USE_FOG\\r\\n  uniform vec2 fogNearFar;\\r\\n  uniform vec4 fogColor;\\r\\n#endif\\r\\nvarying vec2 vUv;\\r\\n\\r\\nfloat CalcViewZ(vec2 screenPos)\\r\\n{\\r\\n  float depth = texture2D(depthTexture, screenPos).x;\\r\\n  // [0, 1]->[-1, 1]\\r\\n  float clipedZ = 2.0 * depth - 1.0;\\r\\n  // see THREE.js camera.makeFrustum for projection details\\r\\n  return (-projMatrix[3][2] / (clipedZ + projMatrix[2][2]));\\r\\n}\\r\\n\\r\\nvec3 ViewPosFromDepth(vec2 screenPos)\\r\\n{\\r\\n  vec3 viewPos;\\r\\n  viewPos.z = CalcViewZ(screenPos);\\r\\n  //[0, 1]->[-1, 1]\\r\\n  vec2 projPos = 2.0 * screenPos - 1.0;\\r\\n  // reconstruct viewposition in right-handed sc with z to viewer\\r\\n  viewPos.xy = vec2(\\r\\n  projPos.x * aspectRatio * tanHalfFOV * abs(viewPos.z),\\r\\n  projPos.y * tanHalfFOV * abs(viewPos.z)\\r\\n  );\\r\\n  return viewPos;\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n  vec3 viewPos = ViewPosFromDepth(vUv);\\r\\n  float x = vUv.x;\\r\\n  float y = vUv.y;\\r\\n  vec4 color = texture2D(diffuseTexture, vec2(x, y));\\r\\n  vec4 res = vec4(0.0);\\r\\n  res.a = texture2D(aoMap, vec2(x, y )).a;\\r\\n  // return for background fragments (0.0 in alpha component means that it is background fragment)\\r\\n  if (res.a < EPSILON) {\\r\\n    gl_FragColor = color;\\r\\n    return;\\r\\n  }\\r\\n\\r\\n  float pixelDepth = texture2D(depthTexture, vec2(x, y)).x;\\r\\n  float weightSum = 0.0;\\r\\n  for (int i = 0; i < MAX_SAMPLES_COUNT; ++i) {\\r\\n    if (texture2D(aoMap, vec2(x, y + samplesOffsets[i] * srcTexelSize.y)).a < EPSILON) {\\r\\n      continue;\\r\\n    }\\r\\n    vec2 samplePos = vec2(x, y + samplesOffsets[i] * srcTexelSize.y);\\r\\n    float depth = texture2D(depthTexture, samplePos).x;\\r\\n    float weight = (1.0 / (0.0001 + abs(depth - pixelDepth)));\\r\\n    res.rgb += texture2D(aoMap, vec2(x, y + samplesOffsets[i] * srcTexelSize.y)).rgb * weight;\\r\\n    weightSum += weight;\\r\\n  }\\r\\n  res.rgb /= weightSum;\\r\\n\\r\\n  #if defined(USE_FOG) && !defined(FOG_TRANSPARENT)\\r\\n    // Add fog to the result value\\r\\n    // Proper way to get an image with fog and ao requires formula:\\r\\n    //          gl_FragColor = fragColor*AO*(1-fogFactor) + fogColor*fogFactor\\r\\n    // But we have already fogged molecule to add AO too. Let's split the straight formula into our real steps!\\r\\n    // We have:  AO, fogFactor, fogColor,\\r\\n    //          color = fragColor*(1-fogFactor) + fogColor*fogFactor (it comes from diffuseTexture,\\r\\n    //                                                                where molecule has been already drawn with fog)\\r\\n    // Transform:\\r\\n    //          fragColor*AO*(1-fogFactor) + fogColor*fogFactor =\\r\\n    //        = [fragColor*(1-fogFactor) = color - fogColor*fogFactor] =\\r\\n    //        = (color - fogColor*fogFactor)*AO + fogColor*fogFactor =\\r\\n    //        = color*AO + fogColor*fogFactor*(1 - AO)\\r\\n    // Result:  gl_FragColor = color*AO + fogColor*fogFactor*(1 - AO)\\r\\n    float fogFactor = smoothstep(fogNearFar.x, fogNearFar.y, - viewPos.z) * fogColor.a;\\r\\n    gl_FragColor.rgb = color.rgb * res.rgb + fogColor.rgb * fogFactor *(vec3(1.0, 1.0, 1.0) - res.rgb);\\r\\n  #else\\r\\n    gl_FragColor.rgb = color.rgb * res.rgb;\\r\\n  #endif\\r\\n  gl_FragColor.a = color.a;\\r\\n}\\r\\n\";\n\nfunction _createSuper$2(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$2(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$2() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _kernelOffsets = [-2.0, -1.0, 0.0, 1.0, 2.0];\nvar AOVertBlurWithBlendMaterial = function (_RawShaderMaterial) {\n  _inherits(AOVertBlurWithBlendMaterial, _RawShaderMaterial);\n  var _super = _createSuper$2(AOVertBlurWithBlendMaterial);\n  function AOVertBlurWithBlendMaterial(params) {\n    var _this;\n    _classCallCheck(this, AOVertBlurWithBlendMaterial);\n    _this = _super.call(this, params);\n    _this.setValues({\n      uniforms: {\n        diffuseTexture: {\n          type: 't',\n          value: null\n        },\n        depthTexture: {\n          type: 't',\n          value: null\n        },\n        srcTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        aoMap: {\n          type: 't',\n          value: null\n        },\n        samplesOffsets: {\n          type: 'fv1',\n          value: _kernelOffsets\n        },\n        projMatrix: {\n          type: 'mat4',\n          value: new Matrix4()\n        },\n        aspectRatio: {\n          type: 'f',\n          value: 0.0\n        },\n        tanHalfFOV: {\n          type: 'f',\n          value: 0.0\n        },\n        fogNearFar: {\n          type: 'v2',\n          value: new Vector2(100.0, 100.0)\n        },\n        fogColor: {\n          type: 'v4',\n          value: new Vector4(0.0, 0.5, 0.0, 1.0)\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$1,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    _this.setValues(params);\n    return _this;\n  }\n  _createClass(AOVertBlurWithBlendMaterial, [{\n    key: \"setValues\",\n    value: function setValues(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      _get(_getPrototypeOf(AOVertBlurWithBlendMaterial.prototype), \"setValues\", this).call(this, values);\n      var defines = {};\n      if (this.useFog) {\n        defines.USE_FOG = 1;\n      }\n      if (this.fogTransparent) {\n        defines.FOG_TRANSPARENT = 1;\n      }\n      this.defines = defines;\n    }\n  }]);\n  return AOVertBlurWithBlendMaterial;\n}(RawShaderMaterial);\nAOVertBlurWithBlendMaterial.prototype.useFog = true;\nAOVertBlurWithBlendMaterial.prototype.fogTransparent = false;\n\nvar fragmentShader = \"precision highp float;\\r\\n\\r\\nuniform sampler2D srcL;\\r\\nuniform sampler2D srcR;\\r\\nvarying vec2 vUv;\\r\\n\\r\\nvoid main() {\\r\\n  vec4 l = texture2D(srcL, vUv);\\r\\n  vec4 r = texture2D(srcR, vUv);\\r\\n  gl_FragColor = vec4(l.r, r.g, r.b, 1.0);\\r\\n}\\r\\n\";\n\nfunction _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AnaglyphMaterial = function (_RawShaderMaterial) {\n  _inherits(AnaglyphMaterial, _RawShaderMaterial);\n  var _super = _createSuper$1(AnaglyphMaterial);\n  function AnaglyphMaterial() {\n    var _this;\n    _classCallCheck(this, AnaglyphMaterial);\n    _this = _super.call(this);\n    var settings = {\n      uniforms: {\n        srcL: {\n          type: 't',\n          value: null\n        },\n        srcR: {\n          type: 't',\n          value: null\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    };\n    _this.setValues(settings);\n    return _this;\n  }\n  return _createClass(AnaglyphMaterial);\n}(RawShaderMaterial);\n\nvar View = function () {\n  function View() {\n    _classCallCheck(this, View);\n    this.position = new Vector3(0, 0, 0);\n    this.scale = 1;\n    this.orientation = new Quaternion(0, 0, 0, 1);\n  }\n  _createClass(View, [{\n    key: \"set\",\n    value: function set(position, scale, orientation) {\n      this.position = position;\n      this.scale = scale;\n      this.orientation = orientation;\n    }\n  }]);\n  return View;\n}();\nvar _transitionTime = 1.5;\nvar ViewInterpolator = function () {\n  function ViewInterpolator() {\n    _classCallCheck(this, ViewInterpolator);\n  }\n  _createClass(ViewInterpolator, [{\n    key: \"setup\",\n    value: function setup(startView, endView) {\n      this._startTime = undefined;\n      this._endTime = undefined;\n      this._isPaused = false;\n      this._srcView = startView;\n      this._dstView = endView;\n      this._isMoving = false;\n    }\n  }, {\n    key: \"isMoving\",\n    value: function isMoving() {\n      return this._isMoving;\n    }\n  }, {\n    key: \"wasStarted\",\n    value: function wasStarted() {\n      return typeof this._startTime !== 'undefined' && typeof this._endTime !== 'undefined';\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this._startTime = Date.now();\n      var transTime = settings.now.interpolateViews ? _transitionTime * 1000 : 0;\n      this._endTime = this._startTime + transTime;\n      this._isMoving = true;\n    }\n  }, {\n    key: \"getCurrentView\",\n    value: function getCurrentView() {\n      if (typeof this._srcView === 'undefined' || typeof this._dstView === 'undefined' || !this._isMoving || !this.wasStarted()) {\n        return {\n          success: false\n        };\n      }\n      var view = this.createView();\n      var time = Date.now();\n      if (time > this._endTime) {\n        view = this._dstView;\n        this.reset();\n        return {\n          success: true,\n          view: view\n        };\n      }\n      var factor = (time - this._startTime) / (this._endTime - this._startTime);\n      view.position.copy(this._srcView.position);\n      view.position.lerp(this._dstView.position, factor);\n      view.scale = (1 - factor) * this._srcView.scale + factor * this._dstView.scale;\n      view.orientation.copy(this._srcView.orientation);\n      view.orientation.slerp(this._dstView.orientation, factor);\n      return {\n        success: true,\n        view: view\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._startTime = this._endTime = 0;\n      this._isMoving = false;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (!this._isPaused) {\n        this.setup(this.getCurrentView().view, this._dstView);\n        this._isPaused = true;\n      }\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      this._isPaused = false;\n    }\n  }, {\n    key: \"createView\",\n    value: function createView() {\n      return new View();\n    }\n  }]);\n  return ViewInterpolator;\n}();\n\nvar MAX_COOKIE_LEN = 4000;\nvar COUNT_SUFFIX = 'Cnt';\nfunction _chunkString(string, chunkLen) {\n  var l = string.length;\n  var chunks = [];\n  for (var c = 0, lc = 0; lc < l; c++, lc += chunkLen) {\n    chunks[c] = string.slice(lc, lc + chunkLen);\n  }\n  return chunks;\n}\nfunction Cookies(context, opts) {\n  this.context = context;\n  this._opts = merge({\n    path: '/'\n  }, opts);\n}\nmakeContextDependent(Cookies.prototype);\nCookies.prototype.removeCookie = function (key) {\n  var cntKey = this._toCount(key);\n  var cntVal = this._getSimpleCookie(cntKey);\n  if (!cntVal) {\n    this._removeSimpleCookie(key);\n    return;\n  }\n  this._removeSimpleCookie(cntKey);\n  cntVal = parseInt(cntVal, 10);\n  for (var i = 0; i < cntVal; ++i) {\n    this._removeSimpleCookie(key + i);\n  }\n};\nCookies.prototype.setCookie = function (key, value) {\n  this.removeCookie(key);\n  value = encodeURIComponent(value);\n  var values = _chunkString(value, MAX_COOKIE_LEN - key.length - 1);\n  var cntVal = values.length;\n  if (cntVal === 1) {\n    this._setSimpleCookie(key, value);\n    return;\n  }\n  var cntKey = this._toCount(key);\n  this._setSimpleCookie(cntKey, cntVal.toString());\n  for (var i = 0; i < cntVal; ++i) {\n    this._setSimpleCookie(key + i, values[i]);\n  }\n};\nCookies.prototype.getCookie = function (key) {\n  var cntKey = this._toCount(key);\n  var cntVal = this._getSimpleCookie(cntKey);\n  if (!cntVal) {\n    return this._getSimpleCookie(key);\n  }\n  cntVal = parseInt(cntVal, 10);\n  var value = [];\n  for (var i = 0; i < cntVal; ++i) {\n    value[i] = this._getSimpleCookie(key + i);\n  }\n  return value.join('');\n};\nCookies.prototype._toCount = function (key) {\n  return key + COUNT_SUFFIX;\n};\nCookies.prototype._removeSimpleCookie = function (key) {\n  document.cookie = \"\".concat(key, \"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;\");\n};\nCookies.prototype._getExpirationDate = function () {\n  var today = new Date();\n  var EXP_PERIOD_YEARS = 10;\n  today.setFullYear(today.getFullYear() + EXP_PERIOD_YEARS);\n  return today;\n};\nCookies.prototype._setSimpleCookie = function (key, value) {\n  document.cookie = \"\".concat(key, \"=\").concat(value, \";expires=\").concat(this._getExpirationDate().toUTCString(), \";path=\").concat(this._opts.path);\n};\nCookies.prototype._getSimpleCookie = function (key) {\n  var matches = document.cookie.match(new RegExp(\"(?:^|; )\".concat(key, \"=([^;]*)\")));\n  return matches ? decodeURIComponent(matches[1]) : '';\n};\nCookies.prototype._exists = function (key) {\n  return document.cookie.match(new RegExp(\"(?:^|; )\".concat(key, \"=([^;]*)\")));\n};\n\nfunction createWebVRButton (webVRPoC) {\n  function showEnterVR(button) {\n    button.style.display = '';\n    button.style.cursor = 'pointer';\n    button.style.left = 'calc(50% - 50px)';\n    button.style.width = '100px';\n    button.textContent = 'ENTER VR';\n    var currentSession = null;\n    function\n    onSessionEnded() {\n      currentSession.removeEventListener('end', onSessionEnded);\n      button.textContent = 'ENTER VR';\n      currentSession = null;\n    }\n    function onSessionStarted(session) {\n      session.addEventListener('end', onSessionEnded);\n      webVRPoC._gfx.renderer.xr.setReferenceSpaceType('local');\n      webVRPoC._gfx.renderer.xr.setSession(session);\n      button.textContent = 'EXIT VR';\n      currentSession = session;\n    }\n    button.onmouseenter = function () {\n      button.style.opacity = '1.0';\n    };\n    button.onmouseleave = function () {\n      button.style.opacity = '0.5';\n    };\n    button.onclick = function () {\n      if (currentSession === null) {\n        var sessionInit = {\n          optionalFeatures: ['local-floor', 'bounded-floor']\n        };\n        navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n        webVRPoC.moveSceneBehindHeadset();\n      } else {\n        currentSession.end();\n      }\n    };\n  }\n  function showWebXRNotFound(button) {\n    button.style.display = '';\n    button.style.cursor = 'auto';\n    button.style.left = 'calc(50% - 75px)';\n    button.style.width = '150px';\n    button.textContent = 'VR NOT FOUND';\n    button.onmouseenter = null;\n    button.onmouseleave = null;\n    button.onclick = null;\n  }\n  function stylizeElement(element) {\n    element.style.position = 'absolute';\n    element.style.bottom = '20px';\n    element.style.padding = '12px 6px';\n    element.style.border = '1px solid #fff';\n    element.style.borderRadius = '4px';\n    element.style.background = 'transparent';\n    element.style.color = '#fff';\n    element.style.font = 'normal 13px sans-serif';\n    element.style.textAlign = 'center';\n    element.style.opacity = '0.5';\n    element.style.outline = 'none';\n    element.style.zIndex = '999';\n  }\n  if ('xr' in navigator) {\n    var button = document.createElement('button');\n    button.style.display = 'none';\n    stylizeElement(button);\n    navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n      return supported ? showEnterVR(button) : showWebXRNotFound(button);\n    });\n    return button;\n  }\n  var message = document.createElement('a');\n  message.href = 'https://webvr.info';\n  message.innerHTML = 'WEBXR NOT SUPPORTED';\n  message.style.left = 'calc(50% - 90px)';\n  message.style.width = '180px';\n  message.style.textDecoration = 'none';\n  stylizeElement(message);\n  return message;\n}\n\nvar WebVRPoC = function () {\n  function WebVRPoC(onToggle) {\n    _classCallCheck(this, WebVRPoC);\n    this._mainCamera = new PerspectiveCamera();\n    this._button = null;\n    this._onToggle = onToggle;\n    this._molContainer = new gfxutils.RCGroup();\n    this._user = new gfxutils.RCGroup();\n    this._scalingPivot = new Object3D();\n    this._user.add(this._scalingPivot);\n    this._controller1 = null;\n    this._controller2 = null;\n    this._pressedGripsCounter = 0;\n    this._distance = 0;\n    this._gfx = null;\n  }\n  _createClass(WebVRPoC, [{\n    key: \"startScalingByControllers\",\n    value: function startScalingByControllers() {\n      this._distance = this._controller1.position.distanceTo(this._controller2.position);\n      gfxutils.getMiddlePoint(this._controller1.position, this._controller2.position, this._scalingPivot.position);\n      this._scalingPivot.scale.set(1, 1, 1);\n      this._scalingPivot.updateMatrix();\n      this._scalingPivot.updateMatrixWorld();\n      this._scalingPivot.addSavingWorldTransform(this._molContainer);\n    }\n  }, {\n    key: \"stopScalingByControllers\",\n    value: function stopScalingByControllers() {\n      this._gfx.scene.addSavingWorldTransform(this._molContainer);\n    }\n  }, {\n    key: \"handleGripsDown\",\n    value: function handleGripsDown(event) {\n      this._pressedGripsCounter++;\n      if (this._pressedGripsCounter === 2) {\n        this.startScalingByControllers();\n      } else if (this._pressedGripsCounter === 1) {\n        event.target.addSavingWorldTransform(this._molContainer);\n      }\n    }\n  }, {\n    key: \"handleGripsUp\",\n    value: function handleGripsUp(event) {\n      this._pressedGripsCounter--;\n      if (this._pressedGripsCounter === 1) {\n        this.stopScalingByControllers();\n        var anotherController = event.target === this._controller1 ? this._controller2 : this._controller1;\n        anotherController.addSavingWorldTransform(this._molContainer);\n      } else if (this._pressedGripsCounter === 0) {\n        this._gfx.scene.addSavingWorldTransform(this._molContainer);\n      }\n    }\n  }, {\n    key: \"enable\",\n    value: function enable(gfx) {\n      if (!gfx) {\n        logger.warn(\"WebVR couldn't be enabled, because gfx is not defined\");\n        return;\n      }\n      this._gfx = gfx;\n      var renderer = gfx.renderer,\n          camera = gfx.camera;\n      if (!renderer) {\n        throw new Error('No renderer is available to toggle WebVR');\n      }\n      if (!camera) {\n        throw new Error('No camera is available to toggle WebVR');\n      }\n      renderer.xr.enabled = true;\n      if (!this._button) {\n        this._button = createWebVRButton(this);\n        document.body.appendChild(this._button);\n      } else {\n        this._button.style.display = 'block';\n      }\n      this._mainFog = settings.now.fog;\n      settings.set('fog', false);\n      this._plugVRNodesIntoScene(gfx, renderer);\n      this._setControllersListeners();\n      if (this._onToggle) {\n        this._onToggle(true);\n      }\n    }\n  }, {\n    key: \"_plugVRNodesIntoScene\",\n    value: function _plugVRNodesIntoScene(gfx, renderer) {\n      this._mainCamera.copy(gfx.camera);\n      gfx.scene.add(this._user);\n      gfx.scene.add(this._molContainer);\n      this._molContainer.add(gfx.root);\n      this._controller1 = renderer.xr.getController(0);\n      this._controller2 = renderer.xr.getController(1);\n      var mesh = this._createControllerMesh();\n      this._controller1.add(mesh);\n      this._controller2.add(mesh.clone());\n      this._user.add(this._controller1);\n      this._user.add(this._controller2);\n    }\n  }, {\n    key: \"_setControllersListeners\",\n    value: function _setControllersListeners() {\n      var _this = this;\n      this._controller1.addEventListener('selectstart', function (event) {\n        _this.handleGripsDown(event);\n      });\n      this._controller1.addEventListener('selectend', function (event) {\n        _this.handleGripsUp(event);\n      });\n      this._controller2.addEventListener('selectstart', function (event) {\n        _this.handleGripsDown(event);\n      });\n      this._controller2.addEventListener('selectend', function (event) {\n        _this.handleGripsUp(event);\n      });\n      this._controller1.addEventListener('squeezestart', function (event) {\n        _this.handleGripsDown(event);\n      });\n      this._controller1.addEventListener('squeezeend', function (event) {\n        _this.handleGripsUp(event);\n      });\n      this._controller2.addEventListener('squeezestart', function (event) {\n        _this.handleGripsDown(event);\n      });\n      this._controller2.addEventListener('squeezeend', function (event) {\n        _this.handleGripsUp(event);\n      });\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (!this._gfx) {\n        return;\n      }\n      var _this$_gfx = this._gfx,\n          renderer = _this$_gfx.renderer,\n          camera = _this$_gfx.camera;\n      if (!renderer) {\n        throw new Error('No renderer is available to toggle WebVR');\n      }\n      renderer.setAnimationLoop(null);\n      var session = renderer.xr.getSession();\n      if (session) {\n        session.end();\n      }\n      renderer.xr.enabled = false;\n      if (this._button) {\n        this._button.style.display = 'none';\n      }\n      settings.set('fog', this._mainFog);\n      this._unplugVRNodesFromScene(camera);\n      if (this._onToggle) {\n        this._onToggle(false);\n      }\n    }\n  }, {\n    key: \"_unplugVRNodesFromScene\",\n    value: function _unplugVRNodesFromScene(camera) {\n      if (this._mainCamera && camera) {\n        camera.copy(this._mainCamera);\n      }\n      var root = this._molContainer.children[0];\n      if (root) {\n        this._gfx.scene.add(root);\n      }\n      this._molContainer.parent.remove(this._molContainer);\n      if (this._user) {\n        this._gfx.scene.remove(this._user);\n      }\n      this._molContainer = null;\n      this._user = null;\n      this._scalingPivot = null;\n      this._user = null;\n      this._controller1 = null;\n      this._controller2 = null;\n    }\n  }, {\n    key: \"_createControllerMesh\",\n    value: function _createControllerMesh() {\n      var geometry = new CylinderGeometry(0.04, 0.04, 0.3);\n      var material = new UberMaterial();\n      material.setValues({\n        lights: false,\n        overrideColor: true\n      });\n      material.setUberOptions({\n        fixedColor: new Color(0x4444ff)\n      });\n      material.updateUniforms();\n      var cylinder = new Mesh(geometry, material);\n      cylinder.rotateX(-Math.PI / 2);\n      return cylinder;\n    }\n  }, {\n    key: \"updateMoleculeScale\",\n    value: function updateMoleculeScale() {\n      if (!this._controller1 || !this._controller2) {\n        return;\n      }\n      var self = this;\n      if (self._pressedGripsCounter === 2) {\n        gfxutils.getMiddlePoint(self._controller1.position, self._controller2.position, self._scalingPivot.position);\n        var dist = self._controller1.position.distanceTo(self._controller2.position);\n        var scaler = dist / self._distance;\n        self._scalingPivot.scale.multiplyScalar(scaler);\n        self._distance = dist;\n      }\n    }\n  }, {\n    key: \"moveSceneBehindHeadset\",\n    value: function moveSceneBehindHeadset() {\n      var gfx = this._gfx;\n      var camera = gfx.camera;\n      var container = this._molContainer;\n      container.matrix.identity();\n      container.position.set(0, 0, -4.0);\n      container.updateMatrix();\n      container.matrixWorld.multiplyMatrices(camera.matrixWorld, container.matrix);\n      gfx.scene.addSavingWorldTransform(container);\n      if (this._onToggle) {\n        this._onToggle(true);\n      }\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      var gfx = this._gfx;\n      return gfx && gfx.renderer ? gfx.renderer.domElement : null;\n    }\n  }]);\n  return WebVRPoC;\n}();\n\nvar fragmentScreenQuadFromDistTex = \"precision highp float;\\r\\n\\r\\nvarying vec2 vUv;\\r\\nuniform sampler2D srcTex;\\r\\nuniform vec3 aberration;\\r\\n\\r\\nvoid main() {\\r\\n  vec2 uv = vUv * 2.0 - 1.0;\\r\\n  \\r\\n  gl_FragColor.r = texture2D(srcTex, 0.5 * (uv * aberration[0] + 1.0)).r;\\r\\n  gl_FragColor.g = texture2D(srcTex, 0.5 * (uv * aberration[1] + 1.0)).g;\\r\\n  gl_FragColor.b = texture2D(srcTex, 0.5 * (uv * aberration[2] + 1.0)).b;\\r\\n  gl_FragColor.a = 1.0;\\r\\n}\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MiewEvents;\n(function (MiewEvents) {\n  MiewEvents[\"FETCHING\"] = \"fetching\";\n  MiewEvents[\"FETCHING_DONE\"] = \"fetchingDone\";\n  MiewEvents[\"LOADING\"] = \"loading\";\n  MiewEvents[\"LOADING_DONE\"] = \"loadingDone\";\n  MiewEvents[\"PARSING\"] = \"parsing\";\n  MiewEvents[\"PARSING_DONE\"] = \"parsingDone\";\n  MiewEvents[\"REBUILDING\"] = \"rebuilding\";\n  MiewEvents[\"BUILDING_DONE\"] = \"buildingDone\";\n  MiewEvents[\"ROTATE\"] = \"rotate\";\n  MiewEvents[\"ZOOM\"] = \"zoom\";\n  MiewEvents[\"TRANSFORM\"] = \"transform\";\n  MiewEvents[\"RESIZE\"] = \"resize\";\n  MiewEvents[\"EXPORTING\"] = \"exporting\";\n  MiewEvents[\"EXPORTING_DONE\"] = \"exportingDone\";\n  MiewEvents[\"TITLE_CHANGED\"] = \"titleChanged\";\n  MiewEvents[\"REP_ADDED\"] = \"redAdded\";\n  MiewEvents[\"REP_CHANGED\"] = \"repChanged\";\n  MiewEvents[\"REP_REMOVED\"] = \"repRemoved\";\n  MiewEvents[\"EDIT_MODE_CHANGED\"] = \"editModeChanged\";\n  MiewEvents[\"MD_PLAYER_STATE_CHANGED\"] = \"mdPlayerStateChanged\";\n})(MiewEvents || (MiewEvents = {}));\nvar selectors = chem.selectors,\n    Atom = chem.Atom,\n    Residue = chem.Residue,\n    Chain = chem.Chain,\n    Molecule = chem.Molecule;\nvar EDIT_MODE = {\n  COMPLEX: 0,\n  COMPONENT: 1,\n  FRAGMENT: 2\n};\nvar LOADER_NOT_FOUND = 'Could not find suitable loader for this source';\nvar PARSER_NOT_FOUND = 'Could not find suitable parser for this source';\nvar createElement = utils.createElement;\nfunction updateFogRange(fog, center, radius) {\n  fog.near = center - radius * settings.now.fogNearFactor;\n  fog.far = center + radius * settings.now.fogFarFactor;\n}\nfunction removeExtension(fileName) {\n  var dot = fileName.lastIndexOf('.');\n  if (dot >= 0) {\n    fileName = fileName.substr(0, dot);\n  }\n  return fileName;\n}\nfunction hasValidResidues(complex) {\n  var hasValidRes = false;\n  complex.forEachComponent(function (component) {\n    component.forEachResidue(function (residue) {\n      if (residue._isValid) {\n        hasValidRes = true;\n      }\n    });\n  });\n  return hasValidRes;\n}\nfunction reportProgress(log, action, percent) {\n  var TOTAL_PERCENT = 100;\n  if (percent !== undefined) {\n    log.debug(\"\".concat(action, \"... \").concat(Math.floor(percent * TOTAL_PERCENT), \"%\"));\n  } else {\n    log.debug(\"\".concat(action, \"...\"));\n  }\n}\nfunction chooseFogColor() {\n  return settings.now.fogColorEnable ? settings.now.fogColor : settings.now.bg.color;\n}\nfunction _setContainerContents(container, element) {\n  var parent = container;\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n  parent.appendChild(element);\n}\nfunction arezSpritesSupported(context) {\n  return context.getExtension('EXT_frag_depth');\n}\nfunction isAOSupported(context) {\n  return context.getExtension('WEBGL_depth_texture') && context.getExtension('WEBGL_draw_buffers');\n}\nvar rePdbId = /^(?:(pdb|cif|mmtf|ccp4|dsn6):\\s*)?(\\d[a-z\\d]{3})$/i;\nvar rePubchem = /^(?:pc|pubchem):\\s*([a-z]+)$/i;\nvar reUrlScheme = /^([a-z][a-z\\d\\-+.]*):/i;\nfunction resolveSourceShortcut(source, opts) {\n  if (!isString(source)) {\n    return source;\n  }\n  var matchesPdbId = rePdbId.exec(source);\n  if (matchesPdbId) {\n    var _matchesPdbId = _slicedToArray(matchesPdbId, 3),\n        _matchesPdbId$ = _matchesPdbId[1],\n        format = _matchesPdbId$ === void 0 ? 'pdb' : _matchesPdbId$,\n        id = _matchesPdbId[2];\n    format = format.toLowerCase();\n    id = id.toUpperCase();\n    switch (format) {\n      case 'pdb':\n        source = \"https://files.rcsb.org/download/\".concat(id, \".pdb\");\n        break;\n      case 'cif':\n        source = \"https://files.rcsb.org/download/\".concat(id, \".cif\");\n        break;\n      case 'mmtf':\n        source = \"https://mmtf.rcsb.org/v1.0/full/\".concat(id);\n        break;\n      case 'ccp4':\n        source = \"https://www.ebi.ac.uk/pdbe/coordinates/files/\".concat(id.toLowerCase(), \".ccp4\");\n        break;\n      case 'dsn6':\n        source = \"https://edmaps.rcsb.org/maps/\".concat(id.toLowerCase(), \"_2fofc.dsn6\");\n        break;\n      default:\n        throw new Error('Unexpected data format shortcut');\n    }\n    opts.fileType = format;\n    opts.fileName = \"\".concat(id, \".\").concat(format);\n    opts.sourceType = 'url';\n    return source;\n  }\n  var matchesPubchem = rePubchem.exec(source);\n  if (matchesPubchem) {\n    var compound = matchesPubchem[1].toLowerCase();\n    source = \"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/\".concat(compound, \"/JSON?record_type=3d\");\n    opts.fileType = 'pubchem';\n    opts.fileName = \"\".concat(compound, \".json\");\n    opts.sourceType = 'url';\n    return source;\n  }\n  if (opts.sourceType === 'url' || opts.sourceType === undefined) {\n    opts.sourceType = 'url';\n    if (!reUrlScheme.test(source)) {\n      source = utils.resolveURL(source);\n    }\n  }\n  return source;\n}\nfunction updateBinaryMode(opts) {\n  var binary = opts.binary;\n  if (opts.fileType !== undefined) {\n    var TheParser = head(io.parsers.find({\n      format: opts.fileType\n    }));\n    if (TheParser) {\n      binary = TheParser.binary || false;\n    } else {\n      throw new Error('Could not find suitable parser for this format');\n    }\n  }\n  if (binary === undefined && opts.fileExt !== undefined) {\n    var _TheParser = head(io.parsers.find({\n      ext: opts.fileExt\n    }));\n    if (_TheParser) {\n      binary = _TheParser.binary || false;\n    }\n  }\n  if (opts.fileExt !== undefined && opts.fileExt.toLowerCase() === '.man') {\n    opts.binary = true;\n    opts.animation = true;\n  }\n  if (binary !== undefined) {\n    if (opts.binary !== undefined && opts.binary !== binary) {\n      opts.context.logger.warn('Overriding incorrect binary mode');\n    }\n  }\n  opts.binary = binary || false;\n}\nfunction _fetchData(source, opts, job) {\n  return new Promise(function (resolve) {\n    if (job.shouldCancel()) {\n      throw new Error('Operation cancelled');\n    }\n    job.notify({\n      type: MiewEvents.FETCHING\n    });\n    source = resolveSourceShortcut(source, opts);\n    var TheLoader = head(io.loaders.find({\n      type: opts.sourceType,\n      source: source\n    }));\n    if (!TheLoader) {\n      throw new Error(LOADER_NOT_FOUND);\n    }\n    var fileName = opts.fileName || TheLoader.extractName(source);\n    if (fileName) {\n      var _utils$splitFileName = utils.splitFileName(fileName),\n          _utils$splitFileName2 = _slicedToArray(_utils$splitFileName, 2),\n          name = _utils$splitFileName2[0],\n          fileExt = _utils$splitFileName2[1];\n      defaults$2(opts, {\n        name: name,\n        fileExt: fileExt,\n        fileName: fileName\n      });\n    }\n    updateBinaryMode(opts);\n    var newOptions = get(opts, 'preset.expression');\n    if (!isUndefined(newOptions)) {\n      newOptions = JSON.parse(newOptions);\n      if (newOptions && newOptions.settings) {\n        var keys = ['singleUnit'];\n        for (var keyIndex = 0, keyCount = keys.length; keyIndex < keyCount; ++keyIndex) {\n          var key = keys[keyIndex];\n          var value = get(newOptions.settings, key);\n          if (!isUndefined(value)) {\n            settings.set(key, value);\n          }\n        }\n      }\n    }\n    var loader = new TheLoader(source, opts);\n    loader.context = opts.context;\n    job.addEventListener('cancel', function () {\n      return loader.abort();\n    });\n    loader.addEventListener('progress', function (event) {\n      if (event.lengthComputable && event.total > 0) {\n        reportProgress(loader.logger, 'Fetching', event.loaded / event.total);\n      } else {\n        reportProgress(loader.logger, 'Fetching');\n      }\n    });\n    console.time('fetch');\n    var promise = loader.load().then(function (data) {\n      console.timeEnd('fetch');\n      opts.context.logger.info('Fetching finished');\n      job.notify({\n        type: MiewEvents.FETCHING_DONE,\n        data: data\n      });\n      return data;\n    }).catch(function (error) {\n      console.timeEnd('fetch');\n      opts.context.logger.debug(error.message);\n      if (error.stack) {\n        opts.context.logger.debug(error.stack);\n      }\n      opts.context.logger.error('Fetching failed');\n      job.notify({\n        type: MiewEvents.FETCHING_DONE,\n        error: error\n      });\n      throw error;\n    });\n    resolve(promise);\n  });\n}\nfunction _parseData(data, opts, job) {\n  if (job.shouldCancel()) {\n    return Promise.reject(new Error('Operation cancelled'));\n  }\n  job.notify({\n    type: MiewEvents.PARSING\n  });\n  var TheParser = head(io.parsers.find({\n    format: opts.fileType,\n    ext: opts.fileExt,\n    data: data\n  }));\n  if (!TheParser) {\n    return Promise.reject(new Error('Could not find suitable parser'));\n  }\n  var parser = new TheParser(data, opts);\n  parser.context = opts.context;\n  job.addEventListener('cancel', function () {\n    return parser.abort();\n  });\n  console.time('parse');\n  return parser.parse().then(function (dataSet) {\n    console.timeEnd('parse');\n    job.notify({\n      type: MiewEvents.PARSING_DONE,\n      data: dataSet\n    });\n    return dataSet;\n  }).catch(function (error) {\n    console.timeEnd('parse');\n    opts.error = error;\n    opts.context.logger.debug(error.message);\n    if (error.stack) {\n      opts.context.logger.debug(error.stack);\n    }\n    opts.context.logger.error('Parsing failed');\n    job.notify({\n      type: MiewEvents.PARSING_DONE,\n      error: error\n    });\n    throw error;\n  });\n}\nfunction _includesInCurSelection(atom, selectionBit) {\n  return atom.mask & 1 << selectionBit;\n}\nfunction _includesInSelector(atom, selector) {\n  return selector.selector.includesAtom(atom);\n}\nvar Miew = function (_EventDispatcher) {\n  _inherits(Miew, _EventDispatcher);\n  var _super = _createSuper(Miew);\n  function Miew(opts) {\n    var _this;\n    _classCallCheck(this, Miew);\n    _this = _super.call(this);\n    _this._opts = merge({\n      settingsCookie: 'settings',\n      cookiePath: '/'\n    }, opts);\n    _this._gfx = null;\n    _this._interpolator = new ViewInterpolator();\n    _this._container = opts && opts.container || document.getElementById('miew-container') || head(document.getElementsByClassName('miew-container')) || document.body;\n    _this._containerRoot = _this._container;\n    _this._running = false;\n    _this._halting = false;\n    _this._building = false;\n    _this._needRender = true;\n    _this._hotKeysEnabled = true;\n    _this.settings = settings;\n    var log = logger;\n    log.console = false;\n    log.level = 'info';\n    _this.logger = log;\n    _this._cookies = new Cookies(_assertThisInitialized(_this));\n    _this.restoreSettings();\n    if (opts && opts.settings) {\n      _this.settings.set(opts.settings);\n    }\n    _this._spinner = null;\n    _this._loading = [];\n    _this._animInterval = null;\n    _this._visuals = {};\n    _this._curVisualName = null;\n    _this._objects = [];\n    _this._sourceWindow = null;\n    _this.reset();\n    if (_this._repr) {\n      log.debug(\"Selected \".concat(_this._repr.mode.name, \" mode with \").concat(_this._repr.colorer.name, \" colorer.\"));\n    }\n    var self = _assertThisInitialized(_this);\n    Miew.registeredPlugins.forEach(function (plugin) {\n      plugin.call(self);\n    });\n    _this._initOnSettingsChanged();\n    _this.shadowMatrix = new Matrix4();\n    _this.direction = new Vector3();\n    _this.OBB = {\n      center: new Vector3(),\n      halfSize: new Vector3()\n    };\n    _this._bSphereForOneVisual = new Sphere();\n    _this._bBoxForOneVisual = new Box3();\n    _this._bBox = new Box3();\n    _this._invMatrix = new Matrix4();\n    _this._points = [new Vector3(), new Vector3(), new Vector3(), new Vector3()];\n    _this._anaglyphMat = new AnaglyphMaterial();\n    _this._size = new Vector2();\n    _this._scene = new Scene();\n    _this._camera = new OrthographicCamera(-1.0, 1.0, 1.0, -1.0, -500, 1000);\n    _this._material = new RawShaderMaterial({\n      uniforms: {\n        srcTex: {\n          type: 't',\n          value: null\n        },\n        aberration: {\n          type: 'fv3',\n          value: new Vector3(1.0)\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentScreenQuadFromDistTex,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    _this._geo = gfxutils.buildDistorionMesh(10, 10, settings.now.debug.stereoBarrel);\n    _this._outlineMaterial = new OutlineMaterial({\n      depth: true\n    });\n    _this.pars = {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      format: RGBAFormat\n    };\n    _this.VERSION = \"0.10.1+20230607.102122.0f978ad-mod\" ;\n    return _this;\n  }\n  _createClass(Miew, [{\n    key: \"getMaxRepresentationCount\",\n    value: function getMaxRepresentationCount() {\n      return ComplexVisual.NUM_REPRESENTATION_BITS;\n    }\n  }, {\n    key: \"_updateShadowCamera\",\n    value: function _updateShadowCamera() {\n      this._gfx.scene.updateMatrixWorld();\n      for (var i = 0; i < this._gfx.scene.children.length; i++) {\n        if (this._gfx.scene.children[i].type === 'DirectionalLight') {\n          var light = this._gfx.scene.children[i];\n          this.shadowMatrix.copy(light.shadow.camera.matrixWorldInverse);\n          this.getOBB(this.shadowMatrix, this.OBB);\n          this.direction.subVectors(light.target.position, light.position);\n          light.position.subVectors(this.OBB.center, this.direction);\n          light.target.position.copy(this.OBB.center);\n          light.shadow.bias = 0.09;\n          light.shadow.camera.bottom = -this.OBB.halfSize.y;\n          light.shadow.camera.top = this.OBB.halfSize.y;\n          light.shadow.camera.right = this.OBB.halfSize.x;\n          light.shadow.camera.left = -this.OBB.halfSize.x;\n          light.shadow.camera.near = this.direction.length() - this.OBB.halfSize.z;\n          light.shadow.camera.far = this.direction.length() + this.OBB.halfSize.z;\n          light.shadow.camera.updateProjectionMatrix();\n        }\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var container = this._container;\n      var elem = utils.createElement('div', {\n        class: 'miew-canvas'\n      });\n      _setContainerContents(container, elem);\n      this._container = elem;\n      var frag = document.createDocumentFragment();\n      frag.appendChild(this._msgMode = createElement('div', {\n        class: 'mode-message overlay'\n      }, createElement('p', {}, 'COMPONENT EDIT MODE')));\n      frag.appendChild(this._msgAtomInfo = createElement('div', {\n        class: 'atom-info overlay'\n      }, createElement('p', {}, '')));\n      container.appendChild(frag);\n      if (this._gfx !== null) {\n        return true;\n      }\n      var self = this;\n      this._showMessage('Viewer is being initialized...');\n      try {\n        this._initGfx();\n        this._initListeners();\n        this._spinner = new Spinner({\n          lines: 13,\n          length: 28,\n          width: 14,\n          radius: 42,\n          color: '#fff',\n          zIndex: 700\n        });\n        window.top.addEventListener('keydown', function (event) {\n          self._onKeyDown(event);\n        });\n        window.top.addEventListener('keyup', function (event) {\n          self._onKeyUp(event);\n        });\n        this._objectControls = new ObjectControls(this._gfx.root, this._gfx.pivot, this._gfx.camera, this._gfx.renderer.domElement, function () {\n          return self._getAltObj();\n        });\n        this._objectControls.addEventListener('change', function (e) {\n          if (settings.now.shadow.on) {\n            self._updateShadowCamera();\n          }\n          switch (e.action) {\n            case MiewEvents.ROTATE:\n              self.dispatchEvent({\n                type: MiewEvents.ROTATE,\n                quaternion: e.quaternion\n              });\n              break;\n            case MiewEvents.ZOOM:\n              self.dispatchEvent({\n                type: MiewEvents.ZOOM,\n                factor: e.factor\n              });\n              break;\n            default:\n              self.dispatchEvent({\n                type: e.action\n              });\n          }\n          self.dispatchEvent({\n            type: MiewEvents.TRANSFORM\n          });\n          self._needRender = true;\n        });\n        var gfx = this._gfx;\n        this._picker = new Picker(gfx.root, gfx.camera, gfx.renderer.domElement);\n        this._picker.addEventListener('newpick', function (event) {\n          self._onPick(event);\n        });\n        this._picker.addEventListener('dblclick', function (event) {\n          self.center(event);\n        });\n      } catch (error) {\n        if (error.name === 'TypeError' && error.message === \"Cannot read property 'getExtension' of null\") {\n          this._showMessage('Could not create WebGL context.');\n        } else if (error.message.search(/webgl/i) > 1) {\n          this._showMessage(error.message);\n        } else {\n          this._showMessage('Viewer initialization failed.');\n          throw error;\n        }\n        return false;\n      }\n      var file = this._opts && this._opts.load;\n      if (file) {\n        var type = this._opts && this._opts.type;\n        this.load(file, {\n          fileType: type,\n          keepRepsInfo: true\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"term\",\n    value: function term() {\n      this._showMessage('Viewer has been terminated.');\n      this._loading.forEach(function (job) {\n        job.cancel();\n      });\n      this._loading.length = 0;\n      this.halt();\n      this._gfx = null;\n    }\n  }, {\n    key: \"_showMessage\",\n    value: function _showMessage(msg) {\n      var element = document.createElement('div');\n      element.setAttribute('class', 'miew-message');\n      element.appendChild(document.createElement('p')).appendChild(document.createTextNode(msg));\n      _setContainerContents(this._container, element);\n    }\n  }, {\n    key: \"_showCanvas\",\n    value: function _showCanvas() {\n      _setContainerContents(this._container, this._gfx.renderer.domElement);\n    }\n  }, {\n    key: \"_requestAnimationFrame\",\n    value: function _requestAnimationFrame(callback) {\n      var xr = this._gfx.renderer.xr;\n      if (xr && xr.enabled) {\n        this._gfx.renderer.setAnimationLoop(callback);\n        return;\n      }\n      requestAnimationFrame(callback);\n    }\n  }, {\n    key: \"_initGfx\",\n    value: function _initGfx() {\n      var gfx = {\n        width: this._container.clientWidth,\n        height: this._container.clientHeight\n      };\n      var webGLOptions = {\n        preserveDrawingBuffer: true,\n        alpha: true,\n        premultipliedAlpha: false\n      };\n      if (settings.now.antialias) {\n        webGLOptions.antialias = true;\n      }\n      gfx.renderer2d = new CSS2DRenderer();\n      gfx.renderer = new WebGL1Renderer(webGLOptions);\n      gfx.renderer.shadowMap.enabled = settings.now.shadow.on;\n      gfx.renderer.shadowMap.autoUpdate = false;\n      gfx.renderer.shadowMap.type = PCFShadowMap;\n      capabilities.init(gfx.renderer);\n      if (!arezSpritesSupported(gfx.renderer.getContext())) {\n        settings.set('zSprites', false);\n      }\n      if (!isAOSupported(gfx.renderer.getContext())) {\n        settings.set('ao', false);\n      }\n      gfx.renderer.autoClear = false;\n      gfx.renderer.setPixelRatio(window.devicePixelRatio);\n      gfx.renderer.setSize(gfx.width, gfx.height);\n      gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n      gfx.renderer.clearColor();\n      gfx.renderer2d.setSize(gfx.width, gfx.height);\n      gfx.camera = new PerspectiveCamera(settings.now.camFov, gfx.width / gfx.height, settings.now.camNear, settings.now.camFar);\n      gfx.camera.setMinimalFov(settings.now.camFov);\n      gfx.camera.position.z = settings.now.camDistance;\n      gfx.camera.updateProjectionMatrix();\n      gfx.camera.layers.set(gfxutils.LAYERS.DEFAULT);\n      gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME);\n      gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME_BFPLANE);\n      gfx.stereoCam = new StereoCamera();\n      gfx.scene = new Scene();\n      var color = chooseFogColor();\n      gfx.scene.fog = new Fog(color, settings.now.camNear, settings.now.camFar);\n      gfx.root = new gfxutils.RCGroup();\n      gfx.scene.add(gfx.root);\n      gfx.pivot = new gfxutils.RCGroup();\n      gfx.root.add(gfx.pivot);\n      gfx.selectionScene = new Scene();\n      gfx.selectionRoot = new Group();\n      gfx.selectionRoot.matrixAutoUpdate = false;\n      gfx.selectionScene.add(gfx.selectionRoot);\n      gfx.selectionPivot = new Group();\n      gfx.selectionPivot.matrixAutoUpdate = false;\n      gfx.selectionRoot.add(gfx.selectionPivot);\n      var light12 = new DirectionalLight(0xffffff, 0.45);\n      light12.position.set(0, 0.414, 1);\n      light12.layers.enable(gfxutils.LAYERS.TRANSPARENT);\n      light12.castShadow = true;\n      light12.shadow.bias = 0.09;\n      light12.shadow.radius = settings.now.shadow.radius;\n      light12.shadow.camera.layers.set(gfxutils.LAYERS.SHADOWMAP);\n      var pixelRatio = gfx.renderer.getPixelRatio();\n      var shadowMapSize = Math.max(gfx.width, gfx.height) * pixelRatio;\n      light12.shadow.mapSize.width = shadowMapSize;\n      light12.shadow.mapSize.height = shadowMapSize;\n      light12.target.position.set(0.0, 0.0, 0.0);\n      gfx.scene.add(light12);\n      gfx.scene.add(light12.target);\n      var light3 = new AmbientLight(0x666666);\n      light3.layers.enable(gfxutils.LAYERS.TRANSPARENT);\n      gfx.scene.add(light3);\n      gfx.axes = new Axes(gfx.root, gfx.camera);\n      var deviceWidth = gfx.width * pixelRatio;\n      var deviceHeight = gfx.height * pixelRatio;\n      gfx.offscreenBuf = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: NearestFilter,\n        format: RGBAFormat,\n        depthBuffer: true\n      });\n      if (gfx.renderer.getContext().getExtension('WEBGL_depth_texture')) {\n        gfx.offscreenBuf.depthTexture = new DepthTexture();\n        gfx.offscreenBuf.depthTexture.type = UnsignedShortType;\n      }\n      gfx.offscreenBuf2 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      gfx.offscreenBuf3 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      gfx.offscreenBuf4 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      gfx.volBFTex = gfx.offscreenBuf3;\n      gfx.volFFTex = gfx.offscreenBuf4;\n      gfx.volWFFTex = gfx.offscreenBuf;\n      if (gfx.renderer.getContext().getExtension('OES_texture_float')) {\n        gfx.offscreenBuf5 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n          minFilter: LinearFilter,\n          magFilter: LinearFilter,\n          format: RGBAFormat,\n          type: FloatType,\n          depthBuffer: false\n        });\n        gfx.offscreenBuf6 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n          minFilter: LinearFilter,\n          magFilter: LinearFilter,\n          format: RGBAFormat,\n          type: FloatType,\n          depthBuffer: false\n        });\n        gfx.offscreenBuf7 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n          minFilter: LinearFilter,\n          magFilter: LinearFilter,\n          format: RGBAFormat,\n          type: FloatType,\n          depthBuffer: true\n        });\n        gfx.volBFTex = gfx.offscreenBuf5;\n        gfx.volFFTex = gfx.offscreenBuf6;\n        gfx.volWFFTex = gfx.offscreenBuf7;\n      } else {\n        this.logger.warn(\"Device doesn't support OES_texture_float extension\");\n      }\n      gfx.stereoBufL = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      gfx.stereoBufR = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      this._gfx = gfx;\n      this._showCanvas();\n      this._embedWebXR(settings.now.stereo === 'WEBVR');\n      this._container.appendChild(gfx.renderer2d.getElement());\n      var stats = new Stats();\n      stats.domElement.style.position = 'absolute';\n      stats.domElement.style.right = '0';\n      stats.domElement.style.bottom = '0';\n      this._container.appendChild(stats.domElement);\n      this._fps = stats;\n      this._fps.show(settings.now.fps);\n    }\n  }, {\n    key: \"_initListeners\",\n    value: function _initListeners() {\n      var self = this;\n      window.addEventListener('resize', function () {\n        self._onResize();\n      });\n    }\n  }, {\n    key: \"_makeUniqueVisualName\",\n    value: function _makeUniqueVisualName(baseName) {\n      if (!baseName) {\n        return Math.random().toString();\n      }\n      var name = baseName;\n      var suffix = 1;\n      while (Object.hasOwn(this._visuals, name)) {\n        name = \"\".concat(baseName, \" (\").concat(suffix.toString(), \")\");\n        suffix++;\n      }\n      return name;\n    }\n  }, {\n    key: \"_addVisual\",\n    value: function _addVisual(visual) {\n      if (!visual) {\n        return null;\n      }\n      var name = this._makeUniqueVisualName(visual.name);\n      visual.name = name;\n      this._visuals[name] = visual;\n      this._gfx.pivot.add(visual);\n      if (visual.getSelectionGeo) {\n        this._gfx.selectionPivot.add(visual.getSelectionGeo());\n      }\n      return name;\n    }\n  }, {\n    key: \"_removeVisual\",\n    value: function _removeVisual(visual) {\n      var name = '';\n      var obj = null;\n      if (visual instanceof Visual) {\n        name = visual.name;\n        obj = visual;\n      } else if (typeof visual === 'string') {\n        name = visual;\n        obj = this._visuals[name];\n      }\n      if (!obj || !Object.hasOwn(this._visuals, name) || this._visuals[name] !== obj) {\n        return;\n      }\n      if (name === this._curVisualName) {\n        this._curVisualName = undefined;\n      }\n      delete this._visuals[name];\n      obj.release();\n      this._needRender = true;\n    }\n  }, {\n    key: \"_forEachVisual\",\n    value: function _forEachVisual(callback) {\n      for (var name in this._visuals) {\n        if (Object.hasOwn(this._visuals, name)) {\n          callback(this._visuals[name]);\n        }\n      }\n    }\n  }, {\n    key: \"_releaseAllVisuals\",\n    value: function _releaseAllVisuals() {\n      if (!this._gfx || !this._gfx.pivot) {\n        return;\n      }\n      for (var name in this._visuals) {\n        if (Object.hasOwn(this._visuals, name)) {\n          this._visuals[name].release();\n        }\n      }\n      this._visuals = {};\n    }\n  }, {\n    key: \"_forEachComplexVisual\",\n    value: function _forEachComplexVisual(callback) {\n      if (!this._gfx || !this._gfx.pivot) {\n        return;\n      }\n      for (var name in this._visuals) {\n        if (Object.hasOwn(this._visuals, name) && this._visuals[name] instanceof ComplexVisual) {\n          callback(this._visuals[name]);\n        }\n      }\n    }\n  }, {\n    key: \"_getComplexVisual\",\n    value: function _getComplexVisual(name) {\n      name = name || this._curVisualName;\n      var any = null;\n      var named = null;\n      this._forEachComplexVisual(function (visual) {\n        any = visual;\n        if (visual.name === name) {\n          named = visual;\n        }\n      });\n      return named || any;\n    }\n  }, {\n    key: \"_getVolumeVisual\",\n    value: function _getVolumeVisual() {\n      var any = null;\n      this._forEachVisual(function (visual) {\n        if (visual instanceof VolumeVisual) {\n          any = visual;\n        }\n      });\n      return any;\n    }\n  }, {\n    key: \"_getVisualForComplex\",\n    value: function _getVisualForComplex(complex) {\n      if (!complex) {\n        return null;\n      }\n      var found = null;\n      this._forEachComplexVisual(function (visual) {\n        if (visual.getComplex() === complex) {\n          found = visual;\n        }\n      });\n      return found;\n    }\n  }, {\n    key: \"getVisuals\",\n    value: function getVisuals() {\n      return Object.keys(this._visuals);\n    }\n  }, {\n    key: \"getComplexVisualsCount\",\n    value: function getComplexVisualsCount() {\n      var count = 0;\n      this._forEachComplexVisual(function () {\n        return count++;\n      });\n      return count;\n    }\n  }, {\n    key: \"getCurrentVisual\",\n    value: function getCurrentVisual() {\n      return this._curVisualName;\n    }\n  }, {\n    key: \"setCurrentVisual\",\n    value: function setCurrentVisual(name) {\n      if (!this._visuals[name]) {\n        return;\n      }\n      this._curVisualName = name;\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      var _this2 = this;\n      if (!this._running) {\n        this._running = true;\n        if (this._halting) {\n          this._halting = false;\n          return;\n        }\n        this._objectControls.enable(true);\n        this._interpolator.resume();\n        this._requestAnimationFrame(function () {\n          return _this2._onTick();\n        });\n      }\n    }\n  }, {\n    key: \"halt\",\n    value: function halt() {\n      if (this._running) {\n        this._discardComponentEdit();\n        this._discardFragmentEdit();\n        this._objectControls.enable(false);\n        this._interpolator.pause();\n        this._halting = true;\n      }\n    }\n  }, {\n    key: \"enableHotKeys\",\n    value: function enableHotKeys(enabled) {\n      this._hotKeysEnabled = enabled;\n      this._objectControls.enableHotkeys(enabled);\n    }\n  }, {\n    key: \"_onResize\",\n    value: function _onResize() {\n      this._needRender = true;\n      var gfx = this._gfx;\n      gfx.width = this._container.clientWidth;\n      gfx.height = this._container.clientHeight;\n      gfx.camera.aspect = gfx.width / gfx.height;\n      gfx.camera.setMinimalFov(settings.now.camFov);\n      gfx.camera.updateProjectionMatrix();\n      gfx.renderer.setSize(gfx.width, gfx.height);\n      gfx.renderer2d.setSize(gfx.width, gfx.height);\n      this.dispatchEvent({\n        type: MiewEvents.RESIZE\n      });\n    }\n  }, {\n    key: \"_resizeOffscreenBuffers\",\n    value: function _resizeOffscreenBuffers(width, height, stereo) {\n      var gfx = this._gfx;\n      stereo = stereo || 'NONE';\n      var isAnaglyph = stereo === 'NONE' || stereo === 'ANAGLYPH';\n      var multi = isAnaglyph ? 1 : 0.5;\n      gfx.offscreenBuf.setSize(multi * width, height);\n      gfx.offscreenBuf2.setSize(multi * width, height);\n      gfx.offscreenBuf3.setSize(multi * width, height);\n      gfx.offscreenBuf4.setSize(multi * width, height);\n      if (gfx.offscreenBuf5) {\n        gfx.offscreenBuf5.setSize(multi * width, height);\n      }\n      if (gfx.offscreenBuf6) {\n        gfx.offscreenBuf6.setSize(multi * width, height);\n      }\n      if (gfx.offscreenBuf7) {\n        gfx.offscreenBuf7.setSize(multi * width, height);\n      }\n      if (isAnaglyph) {\n        gfx.stereoBufL.setSize(width, height);\n        gfx.stereoBufR.setSize(width, height);\n      }\n    }\n  }, {\n    key: \"_onTick\",\n    value: function _onTick() {\n      var _this3 = this;\n      if (this._halting) {\n        this._running = false;\n        this._halting = false;\n        return;\n      }\n      this._fps.update();\n      this._requestAnimationFrame(function () {\n        return _this3._onTick();\n      });\n      this._onUpdate();\n      if (this._needRender) {\n        this._onRender();\n        this._needRender = !settings.now.suspendRender || settings.now.stereo === 'WEBVR';\n      }\n    }\n  }, {\n    key: \"_getBSphereRadius\",\n    value: function _getBSphereRadius() {\n      var radius = 0;\n      this._forEachVisual(function (visual) {\n        radius = Math.max(radius, visual.getBoundaries().boundingSphere.radius);\n      });\n      return radius * this._objectControls.getScale();\n    }\n  }, {\n    key: \"getOBB\",\n    value: function getOBB(matrix, OBB) {\n      var _this4 = this;\n      this._bBox.makeEmpty();\n      this._forEachVisual(function (visual) {\n        _this4._bSphereForOneVisual.copy(visual.getBoundaries().boundingSphere);\n        _this4._bSphereForOneVisual.applyMatrix4(visual.matrixWorld).applyMatrix4(matrix);\n        _this4._bSphereForOneVisual.getBoundingBox(_this4._bBoxForOneVisual);\n        _this4._bBox.union(_this4._bBoxForOneVisual);\n      });\n      this._bBox.getCenter(OBB.center);\n      this._invMatrix.copy(matrix).invert();\n      OBB.center.applyMatrix4(this._invMatrix);\n      var min = this._bBox.min;\n      var max = this._bBox.max;\n      this._points[0].set(min.x, min.y, min.z);\n      this._points[1].set(max.x, min.y, min.z);\n      this._points[2].set(min.x, max.y, min.z);\n      this._points[3].set(min.x, min.y, max.z);\n      for (var i = 0, l = this._points.length; i < l; i++) {\n        this._points[i].applyMatrix4(this._invMatrix);\n      }\n      OBB.halfSize.set(Math.abs(this._points[0].x - this._points[1].x), Math.abs(this._points[0].y - this._points[2].y), Math.abs(this._points[0].z - this._points[3].z)).multiplyScalar(0.5);\n    }\n  }, {\n    key: \"_updateFog\",\n    value: function _updateFog() {\n      var gfx = this._gfx;\n      if (settings.now.fog) {\n        if (typeof gfx.scene.fog === 'undefined' || gfx.scene.fog === null) {\n          var color = chooseFogColor();\n          gfx.scene.fog = new Fog(color);\n          this._setUberMaterialValues({\n            fog: settings.now.fog\n          });\n        }\n        updateFogRange(gfx.scene.fog, gfx.camera.position.z, this._getBSphereRadius());\n      } else if (gfx.scene.fog) {\n        gfx.scene.fog = undefined;\n        this._setUberMaterialValues({\n          fog: settings.now.fog\n        });\n      }\n    }\n  }, {\n    key: \"_onUpdate\",\n    value: function _onUpdate() {\n      this._objectControls.update();\n      this._forEachComplexVisual(function (visual) {\n        visual.getComplex().update();\n      });\n      if (settings.now.autobuild && !this._loading.length && !this._building && this._needRebuild()) {\n        this.rebuild();\n      }\n      if (!this._loading.length && !this._building && !this._needRebuild()) {\n        this._updateView();\n      }\n      this._updateFog();\n      if (this._gfx.renderer.xr.enabled) {\n        this.webVR.updateMoleculeScale();\n      }\n    }\n  }, {\n    key: \"_onRender\",\n    value: function _onRender() {\n      var gfx = this._gfx;\n      gfx.scene.updateMatrixWorld();\n      gfx.camera.updateMatrixWorld();\n      this._clipPlaneUpdateValue(this._getBSphereRadius());\n      this._fogFarUpdateValue();\n      gfx.renderer.setRenderTarget(null);\n      gfx.renderer.clear();\n      this._renderFrame(settings.now.stereo);\n    }\n  }, {\n    key: \"_renderFrame\",\n    value: function _renderFrame(stereo) {\n      var gfx = this._gfx;\n      var renderer = gfx.renderer;\n      renderer.getSize(this._size);\n      if (stereo !== 'NONE') {\n        gfx.camera.focus = gfx.camera.position.z;\n        gfx.stereoCam.aspect = 1.0;\n        if (stereo === 'ANAGLYPH') {\n          gfx.stereoCam.update(gfx.camera);\n        } else {\n          gfx.stereoCam.updateHalfSized(gfx.camera, settings.now.camFov);\n        }\n      }\n      var pixelRatio = gfx.renderer.getPixelRatio();\n      this._resizeOffscreenBuffers(this._size.width * pixelRatio, this._size.height * pixelRatio, stereo);\n      this._renderShadowMap();\n      switch (stereo) {\n        case 'WEBVR':\n        case 'NONE':\n          this._renderScene(gfx.camera, false);\n          break;\n        case 'SIMPLE':\n        case 'DISTORTED':\n          renderer.setScissorTest(true);\n          renderer.setScissor(0, 0, this._size.width / 2, this._size.height);\n          renderer.setViewport(0, 0, this._size.width / 2, this._size.height);\n          this._renderScene(this._gfx.stereoCam.cameraL, stereo === 'DISTORTED');\n          renderer.setScissor(this._size.width / 2, 0, this._size.width / 2, this._size.height);\n          renderer.setViewport(this._size.width / 2, 0, this._size.width / 2, this._size.height);\n          this._renderScene(this._gfx.stereoCam.cameraR, stereo === 'DISTORTED');\n          renderer.setScissorTest(false);\n          break;\n        case 'ANAGLYPH':\n          this._renderScene(this._gfx.stereoCam.cameraL, false, gfx.stereoBufL);\n          this._renderScene(this._gfx.stereoCam.cameraR, false, gfx.stereoBufR);\n          renderer.setRenderTarget(null);\n          this._anaglyphMat.uniforms.srcL.value = gfx.stereoBufL.texture;\n          this._anaglyphMat.uniforms.srcR.value = gfx.stereoBufR.texture;\n          gfx.renderer.renderScreenQuad(this._anaglyphMat);\n          break;\n      }\n      gfx.renderer2d.render(gfx.scene, gfx.camera);\n      if (settings.now.axes && gfx.axes && !gfx.renderer.xr.enabled) {\n        gfx.axes.render(renderer);\n      }\n    }\n  }, {\n    key: \"_onBgColorChanged\",\n    value: function _onBgColorChanged() {\n      var gfx = this._gfx;\n      var color = chooseFogColor();\n      if (gfx) {\n        if (gfx.scene.fog) {\n          gfx.scene.fog.color.set(color);\n        }\n        gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n      }\n      this._needRender = true;\n    }\n  }, {\n    key: \"_onFogColorChanged\",\n    value: function _onFogColorChanged() {\n      var gfx = this._gfx;\n      var color = chooseFogColor();\n      if (gfx && gfx.scene.fog) {\n        gfx.scene.fog.color.set(color);\n      }\n      this._needRender = true;\n    }\n  }, {\n    key: \"_setUberMaterialValues\",\n    value: function _setUberMaterialValues(values) {\n      this._gfx.root.traverse(function (obj) {\n        if ((obj instanceof Mesh || obj instanceof LineSegments || obj instanceof Line) && obj.material instanceof UberMaterial) {\n          obj.material.setValues(values);\n          obj.material.needsUpdate = true;\n        }\n      });\n    }\n  }, {\n    key: \"_enableMRT\",\n    value: function _enableMRT(on, renderBuffer, textureBuffer) {\n      var gfx = this._gfx;\n      var gl = gfx.renderer.getContext();\n      var ext = gl.getExtension('WEBGL_draw_buffers');\n      var properties = gfx.renderer.properties;\n      if (!on) {\n        ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, null]);\n        return;\n      }\n      gfx.renderer.setRenderTarget(textureBuffer);\n      var tx8 = properties.get(textureBuffer.texture).__webglTexture;\n      gl.bindTexture(gl.TEXTURE_2D, tx8);\n      gfx.renderer.setRenderTarget(renderBuffer);\n      var fb = properties.get(renderBuffer).__webglFramebuffer;\n      var tx = properties.get(renderBuffer.texture).__webglTexture;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n      fb.width = renderBuffer.width;\n      fb.height = renderBuffer.height;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tx, 0);\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, ext.COLOR_ATTACHMENT1_WEBGL, gl.TEXTURE_2D, tx8, 0);\n      ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, ext.COLOR_ATTACHMENT1_WEBGL]);\n    }\n  }, {\n    key: \"_renderScene\",\n    value: function _renderScene(camera, distortion, target) {\n      distortion = distortion || false;\n      target = target || null;\n      var gfx = this._gfx;\n      gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n      gfx.renderer.setRenderTarget(target);\n      gfx.renderer.clear();\n      if (gfx.renderer.xr.enabled) {\n        gfx.renderer.render(gfx.scene, camera);\n        return;\n      }\n      gfx.renderer.setClearColor(0x000000, 0.0);\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf4);\n      gfx.renderer.clearColor();\n      gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n      gfx.renderer.clear();\n      var bHaveComplexes = this._getComplexVisual() !== null;\n      var volumeVisual = this._getVolumeVisual();\n      var ssao = bHaveComplexes && settings.now.ao;\n      if (ssao) {\n        this._enableMRT(true, gfx.offscreenBuf, gfx.offscreenBuf4);\n      }\n      if (settings.now.transparency === 'prepass') {\n        this._renderWithPrepassTransparency(camera, gfx.offscreenBuf);\n      } else if (settings.now.transparency === 'standard') {\n        gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n        gfx.renderer.render(gfx.scene, camera);\n      }\n      if (ssao) {\n        this._enableMRT(false, null, null);\n      }\n      var outline = bHaveComplexes && settings.now.outline.on;\n      var fxaa = bHaveComplexes && settings.now.fxaa;\n      var volume = volumeVisual !== null && volumeVisual.getMesh().material != null;\n      var dstBuffer = ssao || outline || volume || fxaa || distortion ? gfx.offscreenBuf2 : target;\n      var srcBuffer = gfx.offscreenBuf;\n      if (ssao) {\n        this._performAO(srcBuffer, gfx.offscreenBuf4, gfx.offscreenBuf.depthTexture, dstBuffer, gfx.offscreenBuf3, gfx.offscreenBuf2);\n        if (!fxaa && !distortion && !volume && !outline) {\n          srcBuffer = dstBuffer;\n          dstBuffer = target;\n          gfx.renderer.setRenderTarget(dstBuffer);\n          gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0);\n        }\n      } else {\n        gfx.renderer.setRenderTarget(dstBuffer);\n        gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0);\n      }\n      if (outline) {\n        srcBuffer = dstBuffer;\n        dstBuffer = volume || fxaa || distortion ? gfx.offscreenBuf3 : target;\n        if (srcBuffer != null) {\n          this._renderOutline(camera, gfx.offscreenBuf, srcBuffer, dstBuffer);\n        }\n      }\n      this._renderSelection(camera, gfx.offscreenBuf, dstBuffer);\n      if (volume) {\n        gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n        gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0);\n        dstBuffer = gfx.offscreenBuf;\n        this._renderVolume(volumeVisual, camera, dstBuffer, gfx.volBFTex, gfx.volFFTex, gfx.volWFFTex);\n        if (!fxaa && !distortion) {\n          gfx.renderer.setRenderTarget(target);\n          gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0);\n        }\n      }\n      srcBuffer = dstBuffer;\n      if (fxaa) {\n        dstBuffer = distortion ? gfx.offscreenBuf4 : target;\n        this._performFXAA(srcBuffer, dstBuffer);\n        srcBuffer = dstBuffer;\n      }\n      if (distortion) {\n        dstBuffer = target;\n        this._performDistortion(srcBuffer, dstBuffer, true);\n      }\n    }\n  }, {\n    key: \"_performDistortion\",\n    value: function _performDistortion(srcBuffer, targetBuffer, mesh) {\n      this._scene.add(new meshes.Mesh(this._geo, this._material));\n      this._gfx.renderer.setRenderTarget(targetBuffer);\n      this._gfx.renderer.clear();\n      if (mesh) {\n        this._material.uniforms.srcTex.value = srcBuffer.texture;\n        this._material.uniforms.aberration.value.set(0.995, 1.0, 1.01);\n        this._gfx.renderer.render(this._scene, this._camera);\n      } else {\n        this._gfx.renderer.renderScreenQuadFromTexWithDistortion(srcBuffer, settings.now.debug.stereoBarrel);\n      }\n    }\n  }, {\n    key: \"_renderOutline\",\n    value: function _renderOutline(camera, srcDepthBuffer, srcColorBuffer, targetBuffer) {\n      var self = this;\n      var gfx = self._gfx;\n      this._outlineMaterial.uniforms.srcTex.value = srcColorBuffer.texture;\n      this._outlineMaterial.uniforms.srcDepthTex.value = srcDepthBuffer.depthTexture;\n      this._outlineMaterial.uniforms.srcTexSize.value.set(srcDepthBuffer.width, srcDepthBuffer.height);\n      this._outlineMaterial.uniforms.color.value = new Color(settings.now.outline.color);\n      this._outlineMaterial.uniforms.threshold.value = settings.now.outline.threshold;\n      this._outlineMaterial.uniforms.thickness.value = new Vector2(settings.now.outline.thickness, settings.now.outline.thickness);\n      gfx.renderer.setRenderTarget(targetBuffer);\n      gfx.renderer.renderScreenQuad(this._outlineMaterial);\n    }\n  }, {\n    key: \"_renderShadowMap\",\n    value: function _renderShadowMap() {\n      if (!settings.now.shadow.on) {\n        return;\n      }\n      var gfx = this._gfx;\n      var currentRenderTarget = gfx.renderer.getRenderTarget();\n      var activeCubeFace = gfx.renderer.getActiveCubeFace();\n      var activeMipmapLevel = gfx.renderer.getActiveMipmapLevel();\n      var _state = gfx.renderer.state;\n      _state.setBlending(NoBlending);\n      _state.buffers.color.setClear(1, 1, 1, 1);\n      _state.buffers.depth.setTest(true);\n      _state.setScissorTest(false);\n      for (var i = 0; i < gfx.scene.children.length; i++) {\n        if (gfx.scene.children[i].type === 'DirectionalLight') {\n          var light = gfx.scene.children[i];\n          if (light.shadow.map == null) {\n            light.shadow.map = new WebGLRenderTarget(light.shadow.mapSize.width, light.shadow.mapSize.height, this.pars);\n            light.shadow.camera.updateProjectionMatrix();\n          }\n          light.shadow.updateMatrices(light);\n          gfx.renderer.setRenderTarget(light.shadow.map);\n          gfx.renderer.clear();\n          gfx.renderer.render(gfx.scene, light.shadow.camera);\n        }\n      }\n      gfx.renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n    }\n  }, {\n    key: \"_hasSelectionToRender\",\n    value: function _hasSelectionToRender() {\n      var selPivot = this._gfx.selectionPivot;\n      for (var i = 0; i < selPivot.children.length; i++) {\n        var selPivotChild = selPivot.children[i];\n        if (selPivotChild.children.length > 0) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"_renderSelection\",\n    value: function _renderSelection(camera, srcBuffer, targetBuffer) {\n      var _outlineMaterial = new OutlineMaterial();\n      var self = this;\n      var gfx = self._gfx;\n      gfx.renderer.setClearColor('black', 0);\n      gfx.renderer.setRenderTarget(srcBuffer);\n      gfx.renderer.clear(true, false, false);\n      if (self._hasSelectionToRender()) {\n        gfx.selectionRoot.matrix = gfx.root.matrix;\n        gfx.selectionPivot.matrix = gfx.pivot.matrix;\n        gfx.renderer.render(gfx.selectionScene, camera);\n      } else {\n        gfx.renderer.renderDummyQuad();\n      }\n      gfx.renderer.setRenderTarget(targetBuffer);\n      gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 0.6);\n      _outlineMaterial.uniforms.srcTex.value = srcBuffer.texture;\n      _outlineMaterial.uniforms.srcTexSize.value.set(srcBuffer.width, srcBuffer.height);\n      gfx.renderer.renderScreenQuad(_outlineMaterial);\n    }\n  }, {\n    key: \"_checkVolumeRenderingSupport\",\n    value: function _checkVolumeRenderingSupport(renderTarget) {\n      if (!renderTarget) {\n        return false;\n      }\n      var gfx = this._gfx;\n      var oldRT = gfx.renderer.getRenderTarget();\n      gfx.renderer.setRenderTarget(renderTarget);\n      var context = gfx.renderer.getContext();\n      var result = context.checkFramebufferStatus(context.FRAMEBUFFER);\n      gfx.renderer.setRenderTarget(oldRT);\n      if (result !== context.FRAMEBUFFER_COMPLETE) {\n        this.logger.warn(\"Device doesn't support electron density rendering\");\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_renderVolume\",\n    value: function _renderVolume(volumeVisual, camera, dstBuf, tmpBuf1, tmpBuf2, tmpBuf3) {\n      var volumeBFMat = new VolumeMaterial$1.BackFacePosMaterial();\n      var volumeFFMat = new VolumeMaterial$1.FrontFacePosMaterial();\n      var cubeOffsetMat = new Matrix4().makeTranslation(0.5, 0.5, 0.5);\n      var world2colorMat = new Matrix4();\n      var volumeRenderingSupported;\n      var gfx = this._gfx;\n      if (typeof volumeRenderingSupported === 'undefined') {\n        volumeRenderingSupported = this._checkVolumeRenderingSupport(tmpBuf1);\n      }\n      if (!volumeRenderingSupported) {\n        return;\n      }\n      var mesh = volumeVisual.getMesh();\n      mesh.rebuild(gfx.camera);\n      gfx.renderer.setClearColor('black', 0);\n      gfx.renderer.setRenderTarget(tmpBuf1);\n      gfx.renderer.clear();\n      gfx.renderer.setRenderTarget(tmpBuf2);\n      gfx.renderer.clear();\n      gfx.renderer.setRenderTarget(tmpBuf3);\n      gfx.renderer.clear();\n      gfx.renderer.setRenderTarget(tmpBuf1);\n      camera.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE);\n      gfx.renderer.render(gfx.scene, camera);\n      camera.layers.set(gfxutils.LAYERS.VOLUME);\n      gfx.scene.overrideMaterial = volumeBFMat;\n      gfx.renderer.render(gfx.scene, camera);\n      gfx.renderer.setRenderTarget(tmpBuf2);\n      camera.layers.set(gfxutils.LAYERS.VOLUME);\n      gfx.scene.overrideMaterial = volumeFFMat;\n      gfx.renderer.render(gfx.scene, camera);\n      gfx.scene.overrideMaterial = null;\n      camera.layers.set(gfxutils.LAYERS.DEFAULT);\n      world2colorMat.copy(mesh.matrixWorld).invert();\n      UberMaterial.prototype.uberOptions.world2colorMatrix.multiplyMatrices(cubeOffsetMat, world2colorMat);\n      camera.layers.set(gfxutils.LAYERS.COLOR_FROM_POSITION);\n      gfx.renderer.setRenderTarget(tmpBuf3);\n      gfx.renderer.render(gfx.scene, camera);\n      var vm = mesh.material;\n      vm.uniforms._BFRight.value = tmpBuf1.texture;\n      vm.uniforms._FFRight.value = tmpBuf2.texture;\n      vm.uniforms._WFFRight.value = tmpBuf3.texture;\n      camera.layers.set(gfxutils.LAYERS.VOLUME);\n      gfx.renderer.setRenderTarget(dstBuf);\n      gfx.renderer.render(gfx.scene, camera);\n      camera.layers.set(gfxutils.LAYERS.DEFAULT);\n    }\n  }, {\n    key: \"_renderWithPrepassTransparency\",\n    value: function _renderWithPrepassTransparency(camera, targetBuffer) {\n      var gfx = this._gfx;\n      gfx.renderer.setRenderTarget(targetBuffer);\n      camera.layers.set(gfxutils.LAYERS.DEFAULT);\n      gfx.renderer.render(gfx.scene, camera);\n      camera.layers.set(gfxutils.LAYERS.PREPASS_TRANSPARENT);\n      gfx.renderer.getContext().colorMask(false, false, false, false);\n      gfx.renderer.render(gfx.scene, camera);\n      gfx.renderer.getContext().colorMask(true, true, true, true);\n      camera.layers.set(gfxutils.LAYERS.TRANSPARENT);\n      gfx.renderer.render(gfx.scene, camera);\n      camera.layers.set(gfxutils.LAYERS.DEFAULT);\n    }\n  }, {\n    key: \"_performFXAA\",\n    value: function _performFXAA(srcBuffer, targetBuffer) {\n      var _fxaaMaterial = new FXAAMaterial();\n      if (typeof srcBuffer === 'undefined' || typeof targetBuffer === 'undefined') {\n        return;\n      }\n      var gfx = this._gfx;\n      gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n      gfx.renderer.setRenderTarget(targetBuffer);\n      gfx.renderer.clear();\n      _fxaaMaterial.uniforms.srcTex.value = srcBuffer.texture;\n      _fxaaMaterial.uniforms.srcTexelSize.value.set(1.0 / srcBuffer.width, 1.0 / srcBuffer.height);\n      _fxaaMaterial.uniforms.bgColor.value.set(settings.now.bg.color);\n      if (_fxaaMaterial.bgTransparent !== settings.now.bg.transparent) {\n        _fxaaMaterial.setValues({\n          bgTransparent: settings.now.bg.transparent\n        });\n        _fxaaMaterial.needsUpdate = true;\n      }\n      gfx.renderer.renderScreenQuad(_fxaaMaterial);\n    }\n  }, {\n    key: \"_performAO\",\n    value: function _performAO(srcColorBuffer, normalBuffer, srcDepthTexture, targetBuffer, tempBuffer, tempBuffer1) {\n      var _aoMaterial = new AOMaterial();\n      var _horBlurMaterial = new AOHorBlurMaterial();\n      var _vertBlurMaterial = new AOVertBlurWithBlendMaterial();\n      var _scale = new Vector3();\n      if (!srcColorBuffer || !normalBuffer || !srcDepthTexture || !targetBuffer || !tempBuffer || !tempBuffer1) {\n        return;\n      }\n      var gfx = this._gfx;\n      var tanHalfFOV = Math.tan(MathUtils.DEG2RAD * 0.5 * gfx.camera.fov);\n      _aoMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture;\n      _aoMaterial.uniforms.depthTexture.value = srcDepthTexture;\n      _aoMaterial.uniforms.normalTexture.value = normalBuffer.texture;\n      _aoMaterial.uniforms.srcTexelSize.value.set(1.0 / srcColorBuffer.width, 1.0 / srcColorBuffer.height);\n      _aoMaterial.uniforms.camNearFar.value.set(gfx.camera.near, gfx.camera.far);\n      _aoMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix;\n      _aoMaterial.uniforms.aspectRatio.value = gfx.camera.aspect;\n      _aoMaterial.uniforms.tanHalfFOV.value = tanHalfFOV;\n      gfx.root.matrix.extractScale(_scale);\n      _aoMaterial.uniforms.kernelRadius.value = settings.now.debug.ssaoKernelRadius * _scale.x;\n      _aoMaterial.uniforms.depthThreshold.value = 2.0 * this._getBSphereRadius();\n      _aoMaterial.uniforms.factor.value = settings.now.debug.ssaoFactor;\n      gfx.renderer.setRenderTarget(tempBuffer1);\n      gfx.renderer.renderScreenQuad(_aoMaterial);\n      _horBlurMaterial.uniforms.aoMap.value = tempBuffer1.texture;\n      _horBlurMaterial.uniforms.srcTexelSize.value.set(1.0 / tempBuffer1.width, 1.0 / tempBuffer1.height);\n      _horBlurMaterial.uniforms.depthTexture.value = srcDepthTexture;\n      gfx.renderer.setRenderTarget(tempBuffer);\n      gfx.renderer.renderScreenQuad(_horBlurMaterial);\n      _vertBlurMaterial.uniforms.aoMap.value = tempBuffer.texture;\n      _vertBlurMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture;\n      _vertBlurMaterial.uniforms.srcTexelSize.value.set(1.0 / tempBuffer.width, 1.0 / tempBuffer.height);\n      _vertBlurMaterial.uniforms.depthTexture.value = srcDepthTexture;\n      _vertBlurMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix;\n      _vertBlurMaterial.uniforms.aspectRatio.value = gfx.camera.aspect;\n      _vertBlurMaterial.uniforms.tanHalfFOV.value = tanHalfFOV;\n      var fog = gfx.scene.fog;\n      if (fog) {\n        _vertBlurMaterial.uniforms.fogNearFar.value.set(fog.near, fog.far);\n        _vertBlurMaterial.uniforms.fogColor.value.set(fog.color.r, fog.color.g, fog.color.b, settings.now.fogAlpha);\n      }\n      if (_vertBlurMaterial.useFog !== settings.now.fog || _vertBlurMaterial.fogTransparent !== settings.now.bg.transparent) {\n        _vertBlurMaterial.setValues({\n          useFog: settings.now.fog,\n          fogTransparent: settings.now.bg.transparent\n        });\n        _vertBlurMaterial.needsUpdate = true;\n      }\n      gfx.renderer.setRenderTarget(targetBuffer);\n      gfx.renderer.renderScreenQuad(_vertBlurMaterial);\n    }\n  }, {\n    key: \"reset\",\n    value: function\n    reset() {\n      if (this._picker) {\n        this._picker.reset();\n      }\n      this._lastPick = null;\n      this._releaseAllVisuals();\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._resetObjects();\n      if (this._gfx) {\n        gfxutils.clearTree(this._gfx.pivot);\n        this._gfx.renderer2d.reset();\n      }\n      this.setNeedRender();\n    }\n  }, {\n    key: \"_resetScene\",\n    value: function _resetScene() {\n      this._objectControls.reset();\n      this._objectControls.allowTranslation(true);\n      this._objectControls.allowAltObjFreeRotation(true);\n      this.resetReps();\n      this.resetPivot();\n      this.rebuildAll();\n    }\n  }, {\n    key: \"resetView\",\n    value: function resetView() {\n      if (this._picker) {\n        this._picker.reset();\n      }\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._resetScene();\n      this._forEachComplexVisual(function (visual) {\n        visual.updateSelectionMask({});\n        visual.rebuildSelectionGeometry();\n      });\n    }\n  }, {\n    key: \"_export\",\n    value: function _export(format) {\n      var TheExporter = head(io.exporters.find({\n        format: format\n      }));\n      if (!TheExporter) {\n        this.logger.error('Could not find suitable exporter for this source');\n        return Promise.reject(new Error('Could not find suitable exporter for this source'));\n      }\n      this.dispatchEvent({\n        type: MiewEvents.EXPORTING\n      });\n      if (this._visuals[this._curVisualName] instanceof ComplexVisual) {\n        var dataSource = null;\n        if (TheExporter.SourceClass === ComplexVisual) {\n          dataSource = this._visuals[this._curVisualName];\n        } else if (TheExporter.SourceClass === Complex$9) {\n          dataSource = this._visuals[this._curVisualName]._complex;\n        }\n        var exporter = new TheExporter(dataSource, {\n          miewVersion: Miew.VERSION\n        });\n        return exporter.export().then(function (data) {\n          return data;\n        });\n      }\n      if (this._visuals[this._curVisualName] instanceof VolumeVisual) {\n        return Promise.reject(new Error('Sorry, exporter for volume data not implemented yet'));\n      }\n      return Promise.reject(new Error('Unexpected format of data'));\n    }\n  }, {\n    key: \"load\",\n    value: function load(source, opts) {\n      var _this5 = this;\n      opts = merge({}, opts, {\n        context: this\n      });\n      if (!this.settings.now.use.multiFile) {\n        if (this._loading.length) {\n          this._loading.forEach(function (job) {\n            job.cancel();\n          });\n          this._loading.length = 0;\n        }\n        if (!opts.animation) {\n          this.reset(true);\n        }\n      }\n      this._interpolator.reset();\n      this.dispatchEvent({\n        type: MiewEvents.LOADING,\n        options: opts,\n        source: source\n      });\n      var job = new JobHandle();\n      this._loading.push(job);\n      job.addEventListener('notification', function (e) {\n        _this5.dispatchEvent(e.slaveEvent);\n      });\n      this._spinner.spin(this._container);\n      var onLoadEnd = function onLoadEnd(anything) {\n        var jobIndex = _this5._loading.indexOf(job);\n        if (jobIndex !== -1) {\n          _this5._loading.splice(jobIndex, 1);\n        }\n        _this5._spinner.stop();\n        _this5._refreshTitle();\n        job.notify({\n          type: MiewEvents.LOADING_DONE,\n          anything: anything\n        });\n        return anything;\n      };\n      return _fetchData(source, opts, job).then(function (data) {\n        return _parseData(data, opts, job);\n      }).then(function (object) {\n        var name = _this5._onLoad(object, opts);\n        return onLoadEnd(name);\n      }).catch(function (err) {\n        _this5.logger.error('Could not load data');\n        _this5.logger.debug(err);\n        throw onLoadEnd(err);\n      });\n    }\n  }, {\n    key: \"unload\",\n    value: function unload(name) {\n      this._removeVisual(name || this.getCurrentVisual());\n      this.resetPivot();\n      if (settings.now.shadow.on) {\n        this._updateShadowCamera();\n      }\n    }\n  }, {\n    key: \"_startAnimation\",\n    value: function _startAnimation(fileData) {\n      this._stopAnimation();\n      var self = this;\n      var visual = this._getComplexVisual();\n      if (visual === null) {\n        this.logger.error('Unable to start animation - no molecule is loaded.');\n        return;\n      }\n      try {\n        this._frameInfo = new FrameInfo(visual.getComplex(), fileData, {\n          onLoadStatusChanged: function onLoadStatusChanged() {\n            self.dispatchEvent({\n              type: MiewEvents.MD_PLAYER_STATE_CHANGED,\n              state: {\n                isPlaying: self._isAnimating,\n                isLoading: self._frameInfo ? self._frameInfo.isLoading : true\n              }\n            });\n          },\n          onError: function onError(message) {\n            self._stopAnimation();\n            self.logger.error(message);\n          }\n        });\n      } catch (e) {\n        this.logger.error('Animation file does not fit to current complex!');\n        return;\n      }\n      this._continueAnimation();\n    }\n  }, {\n    key: \"_pauseAnimation\",\n    value: function _pauseAnimation() {\n      if (this._animInterval === null) {\n        return;\n      }\n      this._isAnimating = false;\n      clearInterval(this._animInterval);\n      this._animInterval = null;\n      if (this._frameInfo) {\n        this.dispatchEvent({\n          type: MiewEvents.MD_PLAYER_STATE_CHANGED,\n          state: {\n            isPlaying: this._isAnimating,\n            isLoading: this._frameInfo.isLoading\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_continueAnimation\",\n    value: function _continueAnimation() {\n      this._isAnimating = true;\n      var minFrameTime = 1000 / settings.now.maxfps;\n      minFrameTime = Number.isNaN(minFrameTime) ? 0 : minFrameTime;\n      var self = this;\n      var pivot = self._gfx.pivot;\n      var visual = this._getComplexVisual();\n      if (visual) {\n        visual.resetSelectionMask();\n        visual.rebuildSelectionGeometry();\n        this._msgAtomInfo.style.opacity = 0.0;\n      }\n      this._animInterval = setInterval(function () {\n        self.dispatchEvent({\n          type: MiewEvents.MD_PLAYER_STATE_CHANGED,\n          state: {\n            isPlaying: self._isAnimating,\n            isLoading: self._frameInfo.isLoading\n          }\n        });\n        if (self._frameInfo.frameIsReady) {\n          pivot.updateToFrame(self._frameInfo);\n          self._updateObjsToFrame(self._frameInfo);\n          self._refreshTitle(\" Frame \".concat(self._frameInfo._currFrame, \" of \").concat(self._frameInfo._framesCount, \" time interval - \").concat(self._frameInfo._timeStep));\n          try {\n            self._frameInfo.nextFrame();\n          } catch (e) {\n            self.logger.error('Error during animation');\n            self._stopAnimation();\n            return;\n          }\n          self._needRender = true;\n        }\n      }, minFrameTime);\n    }\n  }, {\n    key: \"_stopAnimation\",\n    value: function _stopAnimation() {\n      if (this._animInterval === null) {\n        return;\n      }\n      clearInterval(this._animInterval);\n      this._frameInfo.disableEvents();\n      this._frameInfo = null;\n      this._animInterval = null;\n      this.dispatchEvent({\n        type: MiewEvents.MD_PLAYER_STATE_CHANGED,\n        state: null\n      });\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(dataSource, opts) {\n      var gfx = this._gfx;\n      var visualName = null;\n      if (opts.animation) {\n        this._refreshTitle();\n        this._startAnimation(dataSource);\n        return null;\n      }\n      this._stopAnimation();\n      if (!opts || !opts.keepRepsInfo) {\n        this._opts.reps = null;\n        this._opts._objects = null;\n      }\n      if (dataSource.id === 'Complex') {\n        var complex = dataSource;\n        if (opts.fileName) {\n          complex.name = complex.name || removeExtension(opts.fileName).toUpperCase();\n        } else if (opts.amberFileName) {\n          complex.name = complex.name || removeExtension(opts.amberFileName).toUpperCase();\n        } else {\n          complex.name = \"Dynamic \".concat(opts.fileType, \" molecule\");\n        }\n        visualName = this._addVisual(new ComplexVisual(complex.name, complex));\n        this._curVisualName = visualName;\n        var desc = this.info();\n        this.logger.info(\"Parsed \".concat(opts.fileName, \" (\").concat(desc.atoms, \" atoms, \").concat(desc.bonds, \" bonds, \").concat(desc.residues, \" residues, \").concat(desc.chains, \" chains).\"));\n        if (isNumber(this._opts.unit)) {\n          complex.setCurrentUnit(this._opts.unit);\n        }\n        if (opts.preset) ; else if (settings.now.autoPreset) {\n          switch (opts.fileType) {\n            case 'cml':\n              this.resetReps('small');\n              break;\n            case 'pdb':\n            case 'mmtf':\n            case 'cif':\n              if (hasValidResidues(complex)) {\n                this.resetReps('macro');\n              } else {\n                this.resetReps('small');\n              }\n              break;\n            default:\n              this.resetReps('default');\n              break;\n          }\n        } else {\n          this.resetReps('default');\n        }\n      } else if (dataSource.id === 'Volume') {\n        this.resetEd();\n        visualName = this._onLoadEd(dataSource);\n      }\n      gfx.camera.updateProjectionMatrix();\n      this._updateFog();\n      gfx.root.resetTransform();\n      this.resetPivot();\n      this._objectControls.setScale(settings.now.radiusToFit / this._getBSphereRadius());\n      this._resetObjects();\n      if (settings.now.autoResolution) {\n        this._tweakResolution();\n      }\n      if (settings.now.shadow.on) {\n        this._updateShadowCamera();\n      }\n      if (this._opts.view) {\n        this.view(this._opts.view);\n        delete this._opts.view;\n      }\n      this._refreshTitle();\n      return visualName;\n    }\n  }, {\n    key: \"resetEd\",\n    value: function resetEd() {\n      if (this._edLoader) {\n        this._edLoader.abort();\n        this._edLoader = null;\n      }\n      this._removeVisual(this._getVolumeVisual());\n      this._needRender = true;\n    }\n  }, {\n    key: \"loadEd\",\n    value: function loadEd(source) {\n      var _this6 = this;\n      this.resetEd();\n      var TheLoader = head(io.loaders.find({\n        source: source\n      }));\n      if (!TheLoader) {\n        this.logger.error(LOADER_NOT_FOUND);\n        return Promise.reject(new Error(LOADER_NOT_FOUND));\n      }\n      var loader = this._edLoader = new TheLoader(source, {\n        binary: true\n      });\n      loader.context = this;\n      return loader.load().then(function (data) {\n        var TheParser = head(io.parsers.find({\n          format: 'ccp4'\n        }));\n        if (!TheParser) {\n          throw new Error(PARSER_NOT_FOUND);\n        }\n        var parser = new TheParser(data);\n        parser.context = _this6;\n        return parser.parse().then(function (dataSource) {\n          _this6._onLoadEd(dataSource);\n        });\n      }).catch(function (error) {\n        _this6.logger.error('Could not load ED data');\n        _this6.logger.debug(error);\n      });\n    }\n  }, {\n    key: \"_onLoadEd\",\n    value: function _onLoadEd(dataSource) {\n      dataSource.normalize();\n      var volumeVisual = new VolumeVisual('volume', dataSource);\n      volumeVisual.getMesh().layers.set(gfxutils.LAYERS.VOLUME);\n      var visualName = this._addVisual(volumeVisual);\n      this._needRender = true;\n      return visualName;\n    }\n  }, {\n    key: \"_needRebuild\",\n    value: function _needRebuild() {\n      var needsRebuild = false;\n      this._forEachComplexVisual(function (visual) {\n        needsRebuild = needsRebuild || visual.needsRebuild();\n      });\n      return needsRebuild;\n    }\n  }, {\n    key: \"_rebuildObjects\",\n    value: function _rebuildObjects() {\n      var self = this;\n      var gfx = this._gfx;\n      var i;\n      var n;\n      var toRemove = [];\n      for (i = 0; i < gfx.pivot.children.length; ++i) {\n        var child = gfx.pivot.children[i];\n        if (!(child instanceof Visual)) {\n          toRemove.push(child);\n        }\n      }\n      for (i = 0; i < toRemove.length; ++i) {\n        toRemove[i].parent.remove(toRemove[i]);\n      }\n      setTimeout(function () {\n        var objList = self._objects;\n        for (i = 0, n = objList.length; i < n; ++i) {\n          var obj = objList[i];\n          if (obj.needsRebuild) {\n            obj.build();\n          }\n          if (obj.getGeometry()) {\n            gfx.pivot.add(obj.getGeometry());\n          }\n        }\n      }, 10);\n    }\n  }, {\n    key: \"changeUnit\",\n    value: function changeUnit(unitIdx, name) {\n      var visual = this._getComplexVisual(name);\n      if (!visual) {\n        throw new Error('There is no complex to change!');\n      }\n      function currentUnitInfo() {\n        var unit = visual ? visual.getComplex().getCurrentUnit() : 0;\n        var type = unit > 0 ? \"Bio molecule \".concat(unit) : 'Asymmetric unit';\n        return \"Current unit: \".concat(unit, \" (\").concat(type, \")\");\n      }\n      if (unitIdx === undefined) {\n        return currentUnitInfo();\n      }\n      if (isString(unitIdx)) {\n        unitIdx = Math.max(parseInt(unitIdx, 10), 0);\n      }\n      if (visual.getComplex().setCurrentUnit(unitIdx)) {\n        this._resetScene();\n        this._updateInfoPanel();\n      }\n      return currentUnitInfo();\n    }\n  }, {\n    key: \"rebuild\",\n    value: function rebuild() {\n      var _this7 = this;\n      if (this._building) {\n        this.logger.warn('Miew.rebuild(): already building!');\n        return;\n      }\n      this._building = true;\n      this.dispatchEvent({\n        type: MiewEvents.REBUILDING\n      });\n      this._rebuildObjects();\n      this._gfx.renderer2d.reset();\n      var rebuildActions = [];\n      this._forEachComplexVisual(function (visual) {\n        if (visual.needsRebuild()) {\n          rebuildActions.push(visual.rebuild().then(function () {\n            return new Promise(function (resolve) {\n              visual.rebuildSelectionGeometry();\n              resolve();\n            });\n          }));\n        }\n      });\n      var self = this;\n      this._spinner.spin(this._container);\n      Promise.all(rebuildActions).then(function () {\n        self._spinner.stop();\n        self._needRender = true;\n        self._refreshTitle();\n        _this7.dispatchEvent({\n          type: MiewEvents.BUILDING_DONE\n        });\n        self._building = false;\n      });\n    }\n  }, {\n    key: \"rebuildAll\",\n    value: function rebuildAll() {\n      this._forEachComplexVisual(function (visual) {\n        visual.setNeedsRebuild();\n      });\n    }\n  }, {\n    key: \"_refreshTitle\",\n    value: function _refreshTitle(appendix) {\n      var title;\n      appendix = appendix === undefined ? '' : appendix;\n      var visual = this._getComplexVisual();\n      if (visual) {\n        title = visual.getComplex().name;\n        var rep = visual.repGet(visual.repCurrent());\n        title += rep ? \" \\u2013 \".concat(rep.mode.name, \" Mode\") : '';\n      } else {\n        title = Object.keys(this._visuals).length > 0 ? 'Unknown' : 'No Data';\n      }\n      title += appendix;\n      this.dispatchEvent({\n        type: MiewEvents.TITLE_CHANGED,\n        data: title\n      });\n    }\n  }, {\n    key: \"setNeedRender\",\n    value: function setNeedRender() {\n      this._needRender = true;\n    }\n  }, {\n    key: \"_extractRepresentation\",\n    value: function _extractRepresentation() {\n      var _this8 = this;\n      var changed = [];\n      this._forEachComplexVisual(function (visual) {\n        if (visual.getSelectionCount() === 0) {\n          return;\n        }\n        var selector = visual.buildSelectorFromMask(1 << visual.getSelectionBit());\n        var defPreset = settings.now.presets.default;\n        var res = visual.repAdd({\n          selector: selector,\n          mode: defPreset[0].mode.id,\n          colorer: defPreset[0].colorer.id,\n          material: defPreset[0].material.id\n        });\n        if (!res) {\n          if (visual.repCount() === ComplexVisual.NUM_REPRESENTATION_BITS) {\n            _this8.logger.warn(\"Number of representations is limited to \".concat(ComplexVisual.NUM_REPRESENTATION_BITS));\n          }\n          return;\n        }\n        _this8.dispatchEvent({\n          type: MiewEvents.REP_ADDED,\n          index: res.index,\n          name: visual.name\n        });\n        visual.repCurrent(res.index);\n        changed.push(visual.name);\n      });\n      if (changed.length > 0) {\n        this.logger.report(\"New representation from selection for complexes: \".concat(changed.join(', ')));\n      }\n    }\n  }, {\n    key: \"_setReps\",\n    value: function _setReps(reps) {\n      reps = reps || this._opts && this._opts.reps || [];\n      this._forEachComplexVisual(function (visual) {\n        return visual.resetReps(reps);\n      });\n    }\n  }, {\n    key: \"applyPreset\",\n    value: function applyPreset(preset) {\n      var presets = settings.now.presets;\n      var presList = [preset || settings.defaults.preset, settings.defaults.preset, Object.keys(presets)[0]];\n      var reps = null;\n      for (var i = 0; !reps && i < presList.length; ++i) {\n        settings.set('preset', presList[i]);\n        reps = presets[settings.now.preset];\n        if (!reps) {\n          this.logger.warn(\"Unknown preset \\\"\".concat(settings.now.preset, \"\\\"\"));\n        }\n      }\n      this._setReps(reps);\n    }\n  }, {\n    key: \"resetReps\",\n    value: function resetReps(preset) {\n      var reps = this._opts && this._opts.reps;\n      if (reps) {\n        this._setReps(reps);\n      } else {\n        this.applyPreset(preset);\n      }\n    }\n  }, {\n    key: \"repCount\",\n    value: function repCount(name) {\n      var visual = this._getComplexVisual(name);\n      return visual ? visual.repCount() : 0;\n    }\n  }, {\n    key: \"repCurrent\",\n    value: function repCurrent(index, name) {\n      var visual = this._getComplexVisual(name);\n      var newIdx = visual ? visual.repCurrent(index) : -1;\n      if (index && newIdx !== index) {\n        this.logger.warn(\"Representation \".concat(index, \" was not found. Current rep remains unchanged.\"));\n      }\n      return newIdx;\n    }\n  }, {\n    key: \"rep\",\n    value: function rep(index, _rep) {\n      var visual = this._getComplexVisual('');\n      if (!visual) {\n        return null;\n      }\n      var res = visual.rep(index, _rep);\n      if (res.status === 'created') {\n        this.dispatchEvent({\n          type: MiewEvents.REP_ADDED,\n          index: res.index,\n          name: visual.name\n        });\n      } else if (res.status === 'changed') {\n        this.dispatchEvent({\n          type: MiewEvents.REP_CHANGED,\n          index: res.index,\n          name: visual.name\n        });\n      }\n      return res.desc;\n    }\n  }, {\n    key: \"repGet\",\n    value: function repGet(index, name) {\n      var visual = this._getComplexVisual(name);\n      return visual ? visual.repGet(index) : null;\n    }\n  }, {\n    key: \"repAdd\",\n    value: function repAdd(rep, name) {\n      var visual = this._getComplexVisual(name);\n      if (!visual) {\n        return -1;\n      }\n      var res = visual.repAdd(rep);\n      if (res) {\n        this.dispatchEvent({\n          type: MiewEvents.REP_ADDED,\n          index: res.index,\n          name: name\n        });\n        return res.index;\n      }\n      return -1;\n    }\n  }, {\n    key: \"repRemove\",\n    value: function repRemove(index, name) {\n      var visual = this._getComplexVisual(name);\n      if (!visual) {\n        return;\n      }\n      visual.repRemove(index);\n      this.dispatchEvent({\n        type: MiewEvents.REP_REMOVED,\n        index: index,\n        name: name\n      });\n    }\n  }, {\n    key: \"repHide\",\n    value: function repHide(index, hide, name) {\n      this._needRender = true;\n      var visual = this._getComplexVisual(name);\n      return visual ? visual.repHide(index, hide) : null;\n    }\n  }, {\n    key: \"_setEditMode\",\n    value: function _setEditMode(mode) {\n      this._editMode = mode;\n      var elem = this._msgMode;\n      if (elem) {\n        elem.style.opacity = mode === EDIT_MODE.COMPLEX ? 0.0 : 1.0;\n        if (mode !== EDIT_MODE.COMPLEX) {\n          var t = elem.getElementsByTagName('p')[0];\n          t.innerHTML = mode === EDIT_MODE.COMPONENT ? 'COMPONENT EDIT MODE' : 'FRAGMENT EDIT MODE';\n        }\n      }\n      this.dispatchEvent({\n        type: MiewEvents.EDIT_MODE_CHANGED,\n        data: mode === EDIT_MODE.COMPLEX\n      });\n    }\n  }, {\n    key: \"_enterComponentEditMode\",\n    value: function _enterComponentEditMode() {\n      if (this._editMode !== EDIT_MODE.COMPLEX) {\n        return;\n      }\n      var editors = [];\n      this._forEachComplexVisual(function (visual) {\n        var editor = visual.beginComponentEdit();\n        if (editor) {\n          editors.push(editor);\n        }\n      });\n      if (editors === []) {\n        return;\n      }\n      this._editors = editors;\n      this.logger.info('COMPONENT EDIT MODE -- ON');\n      this._setEditMode(EDIT_MODE.COMPONENT);\n      this._objectControls.keysTranslateObj(true);\n    }\n  }, {\n    key: \"_applyComponentEdit\",\n    value: function _applyComponentEdit() {\n      if (this._editMode !== EDIT_MODE.COMPONENT) {\n        return;\n      }\n      this._objectControls.stop();\n      this._objectControls.keysTranslateObj(false);\n      for (var i = 0; i < this._editors.length; ++i) {\n        this._editors[i].apply();\n      }\n      this._editors = [];\n      this.logger.info('COMPONENT EDIT MODE -- OFF (applied)');\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this.rebuildAll();\n    }\n  }, {\n    key: \"_discardComponentEdit\",\n    value: function _discardComponentEdit() {\n      if (this._editMode !== EDIT_MODE.COMPONENT) {\n        return;\n      }\n      this._objectControls.stop();\n      this._objectControls.keysTranslateObj(false);\n      for (var i = 0; i < this._editors.length; ++i) {\n        this._editors[i].discard();\n      }\n      this._editors = [];\n      this.logger.info('COMPONENT EDIT MODE -- OFF (discarded)');\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._needRender = true;\n      this.rebuildAll();\n    }\n  }, {\n    key: \"_enterFragmentEditMode\",\n    value: function _enterFragmentEditMode() {\n      if (this._editMode !== EDIT_MODE.COMPLEX) {\n        return;\n      }\n      var selectedVisuals = [];\n      this._forEachComplexVisual(function (visual) {\n        if (visual instanceof ComplexVisual && visual.getSelectionCount() > 0) {\n          selectedVisuals.push(visual);\n        }\n      });\n      if (selectedVisuals.length !== 1) {\n        return;\n      }\n      var editor = selectedVisuals[0].beginFragmentEdit();\n      if (!editor) {\n        return;\n      }\n      this._editors = [editor];\n      this.logger.info('FRAGMENT EDIT MODE -- ON (single bond)');\n      this._setEditMode(EDIT_MODE.FRAGMENT);\n      this._objectControls.allowTranslation(false);\n      this._objectControls.allowAltObjFreeRotation(editor.isFreeRotationAllowed());\n      this._needRender = true;\n    }\n  }, {\n    key: \"_applyFragmentEdit\",\n    value: function _applyFragmentEdit() {\n      if (this._editMode !== EDIT_MODE.FRAGMENT) {\n        return;\n      }\n      this._objectControls.stop();\n      for (var i = 0; i < this._editors.length; ++i) {\n        this._editors[i].apply();\n      }\n      this._editors = [];\n      this.logger.info('FRAGMENT EDIT MODE -- OFF (applied)');\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._objectControls.allowTranslation(true);\n      this._objectControls.allowAltObjFreeRotation(true);\n      this.rebuildAll();\n    }\n  }, {\n    key: \"_discardFragmentEdit\",\n    value: function _discardFragmentEdit() {\n      if (this._editMode !== EDIT_MODE.FRAGMENT) {\n        return;\n      }\n      this._objectControls.stop();\n      for (var i = 0; i < this._editors.length; ++i) {\n        this._editors[i].discard();\n      }\n      this._editors = [];\n      this.logger.info('FRAGMENT EDIT MODE -- OFF (discarded)');\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._objectControls.allowTranslation(true);\n      this._objectControls.allowAltObjFreeRotation(true);\n      this._needRender = true;\n    }\n  }, {\n    key: \"_onPick\",\n    value: function _onPick(event) {\n      if (!settings.now.picking) {\n        return;\n      }\n      if (this._animInterval !== null) {\n        return;\n      }\n      if (this._editMode === EDIT_MODE.FRAGMENT) {\n        return;\n      }\n      if (this._objectControls.isEditingAltObj()) {\n        return;\n      }\n      var complex = null;\n      if (event.obj.atom) {\n        complex = event.obj.atom.residue.getChain().getComplex();\n        this._lastPick = event.obj.atom;\n      } else if (event.obj.residue) {\n        complex = event.obj.residue.getChain().getComplex();\n        this._lastPick = event.obj.residue;\n      } else if (event.obj.chain) {\n        complex = event.obj.chain.getComplex();\n        this._lastPick = event.obj.chain;\n      } else if (event.obj.molecule) {\n        complex = event.obj.molecule.complex;\n        this._lastPick = event.obj.molecule;\n      } else {\n        this._lastPick = null;\n      }\n      function _updateSelection(visual) {\n        visual.updateSelectionMask(event.obj);\n        visual.rebuildSelectionGeometry();\n      }\n      if (complex) {\n        var visual = this._getVisualForComplex(complex);\n        if (visual) {\n          _updateSelection(visual);\n          this._needRender = true;\n        }\n      } else {\n        this._forEachComplexVisual(_updateSelection);\n        this._needRender = true;\n      }\n      this._updateInfoPanel();\n      this.dispatchEvent(event);\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this._running || !this._hotKeysEnabled) {\n        return;\n      }\n      switch (event.keyCode) {\n        case 'C'.charCodeAt(0):\n          if (settings.now.editing) {\n            this._enterComponentEditMode();\n          }\n          break;\n        case 'F'.charCodeAt(0):\n          if (settings.now.editing) {\n            this._enterFragmentEditMode();\n          }\n          break;\n        case 'A'.charCodeAt(0):\n          switch (this._editMode) {\n            case EDIT_MODE.COMPONENT:\n              this._applyComponentEdit();\n              break;\n            case EDIT_MODE.FRAGMENT:\n              this._applyFragmentEdit();\n              break;\n          }\n          break;\n        case 'D'.charCodeAt(0):\n          switch (this._editMode) {\n            case EDIT_MODE.COMPONENT:\n              this._discardComponentEdit();\n              break;\n            case EDIT_MODE.FRAGMENT:\n              this._discardFragmentEdit();\n              break;\n          }\n          break;\n        case 'S'.charCodeAt(0):\n          event.preventDefault();\n          event.stopPropagation();\n          settings.set('ao', !settings.now.ao);\n          this._needRender = true;\n          break;\n        case 107:\n          event.preventDefault();\n          event.stopPropagation();\n          this._forEachComplexVisual(function (visual) {\n            visual.expandSelection();\n            visual.rebuildSelectionGeometry();\n          });\n          this._updateInfoPanel();\n          this._needRender = true;\n          break;\n        case 109:\n          event.preventDefault();\n          event.stopPropagation();\n          this._forEachComplexVisual(function (visual) {\n            visual.shrinkSelection();\n            visual.rebuildSelectionGeometry();\n          });\n          this._updateInfoPanel();\n          this._needRender = true;\n          break;\n      }\n    }\n  }, {\n    key: \"_onKeyUp\",\n    value: function _onKeyUp(event) {\n      if (!this._running || !this._hotKeysEnabled) {\n        return;\n      }\n      if (event.keyCode === 'X'.charCodeAt(0)) {\n        this._extractRepresentation();\n      }\n    }\n  }, {\n    key: \"_updateInfoPanel\",\n    value: function _updateInfoPanel() {\n      var info = this._msgAtomInfo.getElementsByTagName('p')[0];\n      var atom;\n      var residue;\n      var count = 0;\n      this._forEachComplexVisual(function (visual) {\n        count += visual.getSelectionCount();\n      });\n      while (info.firstChild) {\n        info.removeChild(info.firstChild);\n      }\n      if (count === 0) {\n        this._msgAtomInfo.style.opacity = 0.0;\n        return;\n      }\n      var firstLine = \"\".concat(String(count), \" atom\").concat(count !== 1 ? 's' : '', \" selected\");\n      if (this._lastPick !== null) {\n        firstLine += ', the last pick:';\n      }\n      var secondLine = '';\n      var aName = '';\n      var coordLine = '';\n      if (this._lastPick instanceof Atom) {\n        atom = this._lastPick;\n        residue = atom.residue;\n        aName = atom.name;\n        var location = atom.location !== 32 ? String.fromCharCode(atom.location) : '';\n        secondLine = \"\".concat(atom.element.fullName, \" #\").concat(atom.serial).concat(location, \":       \").concat(residue._chain._name, \".\").concat(residue._type._name).concat(residue._sequence).concat(residue._icode.trim(), \".\");\n        secondLine += aName;\n        coordLine = \"Coord: (\".concat(atom.position.x.toFixed(2).toString(), \",     \").concat(atom.position.y.toFixed(2).toString(), \",     \").concat(atom.position.z.toFixed(2).toString(), \")\");\n      } else if (this._lastPick instanceof Residue) {\n        residue = this._lastPick;\n        secondLine = \"\".concat(residue._type._fullName, \":       \").concat(residue._chain._name, \".\").concat(residue._type._name).concat(residue._sequence).concat(residue._icode.trim());\n      } else if (this._lastPick instanceof Chain) {\n        secondLine = \"chain \".concat(this._lastPick._name);\n      } else if (this._lastPick instanceof Molecule) {\n        secondLine = \"molecule \".concat(this._lastPick._name);\n      }\n      info.appendChild(document.createTextNode(firstLine));\n      if (secondLine !== '') {\n        info.appendChild(document.createElement('br'));\n        info.appendChild(document.createTextNode(secondLine));\n      }\n      if (coordLine !== '') {\n        info.appendChild(document.createElement('br'));\n        info.appendChild(document.createTextNode(coordLine));\n      }\n      this._msgAtomInfo.style.opacity = 1.0;\n    }\n  }, {\n    key: \"_getAltObj\",\n    value: function _getAltObj() {\n      if (this._editors) {\n        var altObj = null;\n        for (var i = 0; i < this._editors.length; ++i) {\n          var nextAltObj = this._editors[i].getAltObj();\n          if (nextAltObj.objects.length > 0) {\n            if (altObj) {\n              altObj = null;\n              break;\n            }\n            altObj = nextAltObj;\n          }\n        }\n        if (altObj) {\n          return altObj;\n        }\n      }\n      return {\n        objects: [],\n        pivot: new Vector3(0, 0, 0)\n      };\n    }\n  }, {\n    key: \"resetPivot\",\n    value: function resetPivot() {\n      var boundingBox = new Box3();\n      var center = new Vector3();\n      boundingBox.makeEmpty();\n      this._forEachVisual(function (visual) {\n        boundingBox.union(visual.getBoundaries().boundingBox);\n      });\n      boundingBox.getCenter(center);\n      this._objectControls.setPivot(center.negate());\n      this.dispatchEvent({\n        type: MiewEvents.TRANSFORM\n      });\n    }\n  }, {\n    key: \"setPivotResidue\",\n    value: function setPivotResidue(residue) {\n      var center = new Vector3();\n      var visual = this._getVisualForComplex(residue.getChain().getComplex());\n      if (!visual) {\n        return;\n      }\n      if (residue._controlPoint) {\n        center.copy(residue._controlPoint);\n      } else {\n        var x = 0;\n        var y = 0;\n        var z = 0;\n        var amount = residue._atoms.length;\n        for (var i = 0; i < amount; ++i) {\n          var p = residue._atoms[i].position;\n          x += p.x / amount;\n          y += p.y / amount;\n          z += p.z / amount;\n        }\n        center.set(x, y, z);\n      }\n      center.applyMatrix4(visual.matrix).negate();\n      this._objectControls.setPivot(center);\n      this.dispatchEvent({\n        type: MiewEvents.TRANSFORM\n      });\n    }\n  }, {\n    key: \"setPivotAtom\",\n    value: function setPivotAtom(atom) {\n      var center = new Vector3();\n      var visual = this._getVisualForComplex(atom.residue.getChain().getComplex());\n      if (!visual) {\n        return;\n      }\n      center.copy(atom.position);\n      center.applyMatrix4(visual.matrix).negate();\n      this._objectControls.setPivot(center);\n      this.dispatchEvent({\n        type: MiewEvents.TRANSFORM\n      });\n    }\n  }, {\n    key: \"getSelectionCenter\",\n    value: function getSelectionCenter(center, includesAtom, selector) {\n      var _centerInVisual = new Vector3(0.0, 0.0, 0.0);\n      center.set(0.0, 0.0, 0.0);\n      var count = 0;\n      this._forEachComplexVisual(function (visual) {\n        if (visual.getSelectionCenter(_centerInVisual, includesAtom, selector || visual.getSelectionBit())) {\n          center.add(_centerInVisual);\n          count++;\n        }\n      });\n      if (count === 0) {\n        return false;\n      }\n      center.divideScalar(count);\n      center.negate();\n      return true;\n    }\n  }, {\n    key: \"setPivotSubset\",\n    value: function setPivotSubset(selector) {\n      var _center = new Vector3(0.0, 0.0, 0.0);\n      var includesAtom = selector ? _includesInSelector : _includesInCurSelection;\n      if (this.getSelectionCenter(_center, includesAtom, selector)) {\n        this._objectControls.setPivot(_center);\n        this.dispatchEvent({\n          type: MiewEvents.TRANSFORM\n        });\n      } else {\n        this.logger.warn('selection is empty. Center operation not performed');\n      }\n    }\n  }, {\n    key: \"screenshot\",\n    value: function screenshot(width, height) {\n      var gfx = this._gfx;\n      var deviceWidth = gfx.renderer.domElement.width;\n      var deviceHeight = gfx.renderer.domElement.height;\n      function fov2Tan(fov) {\n        return Math.tan(MathUtils.degToRad(0.5 * fov));\n      }\n      function tan2Fov(tan) {\n        return MathUtils.radToDeg(Math.atan(tan)) * 2.0;\n      }\n      function getDataURL() {\n        var dataURL;\n        var currBrowser = utils.getBrowser();\n        if (currBrowser === utils.browserType.SAFARI) {\n          var canvas = document.createElement('canvas');\n          var canvasContext = canvas.getContext('2d');\n          canvas.width = width === undefined ? deviceWidth : width;\n          canvas.height = height === undefined ? deviceHeight : height;\n          canvasContext.drawImage(gfx.renderer.domElement, 0, 0, canvas.width, canvas.height);\n          dataURL = canvas.toDataURL('image/png');\n        } else {\n          dataURL = gfx.renderer.domElement.toDataURL('image/png');\n        }\n        return dataURL;\n      }\n      height = height || width;\n      var screenshotURI;\n      if (width === undefined && height === undefined || width === deviceWidth && height === deviceHeight) {\n        screenshotURI = getDataURL();\n      } else {\n        var originalAspect = gfx.camera.aspect;\n        var originalFov = gfx.camera.fov;\n        var originalTanFov2 = fov2Tan(gfx.camera.fov);\n        var areaOfInterestSize = Math.min(gfx.width, gfx.height);\n        var areaOfInterestTanFov2 = originalTanFov2 * areaOfInterestSize / gfx.height;\n        var shotAspect = width / height;\n        gfx.renderer.setPixelRatio(1);\n        gfx.camera.aspect = shotAspect;\n        gfx.camera.fov = tan2Fov(areaOfInterestTanFov2 / Math.min(shotAspect, 1.0));\n        gfx.camera.updateProjectionMatrix();\n        gfx.renderer.setDrawingBufferSize(width, height, 1);\n        this._renderFrame(settings.now.stereo);\n        screenshotURI = getDataURL();\n        gfx.renderer.setPixelRatio(window.devicePixelRatio);\n        gfx.camera.aspect = originalAspect;\n        gfx.camera.fov = originalFov;\n        gfx.camera.updateProjectionMatrix();\n        gfx.renderer.setDrawingBufferSize(gfx.width, gfx.height, window.devicePixelRatio);\n        this._needRender = true;\n      }\n      return screenshotURI;\n    }\n  }, {\n    key: \"screenshotSave\",\n    value: function screenshotSave(filename, width, height) {\n      var uri = this.screenshot(width, height);\n      utils.shotDownload(uri, filename);\n    }\n  }, {\n    key: \"save\",\n    value: function save(opts) {\n      var _this9 = this;\n      this._export(opts.fileType).then(function (dataString) {\n        var filename = _this9._visuals[_this9._curVisualName]._complex.name;\n        utils.download(dataString, filename, opts.fileType);\n        _this9._refreshTitle();\n        _this9.dispatchEvent({\n          type: MiewEvents.EXPORTING_DONE\n        });\n      }).catch(function (error) {\n        _this9.logger.error('Could not export data');\n        _this9.logger.debug(error);\n        _this9._refreshTitle();\n        _this9.dispatchEvent({\n          type: MiewEvents.EXPORTING_DONE,\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"_tweakResolution\",\n    value: function _tweakResolution() {\n      var maxPerf = [['poor', 100], ['low', 500], ['medium', 1000], ['high', 5000], ['ultra', Number.MAX_VALUE]];\n      var atomCount = 0;\n      this._forEachComplexVisual(function (visual) {\n        atomCount += visual.getComplex().getAtomCount();\n      });\n      if (atomCount > 0) {\n        var performance = this._gfxScore * 10e5 / atomCount;\n        for (var i = 0; i < maxPerf.length; ++i) {\n          if (performance < maxPerf[i][1]) {\n            this._autoChangeResolution(maxPerf[i][0]);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_autoChangeResolution\",\n    value: function _autoChangeResolution(resolution) {\n      if (resolution !== settings.now.resolution) {\n        this.logger.report(\"Your rendering resolution was changed to \\\"\".concat(resolution, \"\\\" for best performance.\"));\n      }\n      settings.now.resolution = resolution;\n    }\n  }, {\n    key: \"saveSettings\",\n    value: function saveSettings() {\n      this._cookies.setCookie(this._opts.settingsCookie, JSON.stringify(this.settings.getDiffs(true)));\n    }\n  }, {\n    key: \"restoreSettings\",\n    value: function restoreSettings() {\n      try {\n        var cookie = this._cookies.getCookie(this._opts.settingsCookie);\n        var diffs = cookie ? JSON.parse(cookie) : {};\n        this.settings.applyDiffs(diffs, true);\n      } catch (e) {\n        this.logger.error(\"Cookies parse error: \".concat(e.message));\n      }\n    }\n  }, {\n    key: \"resetSettings\",\n    value: function resetSettings() {\n      this.settings.reset();\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(opts) {\n      if (typeof opts === 'string') {\n        opts = Miew.options.fromAttr(opts);\n      }\n      if (opts.reps) {\n        this._opts.reps = null;\n      }\n      merge(this._opts, opts);\n      if (opts.settings) {\n        this.set(opts.settings);\n      }\n      this._opts._objects = opts._objects;\n      this._resetObjects();\n      if (opts.load) {\n        this.load(opts.load, {\n          fileType: opts.type\n        });\n      }\n      if (opts.preset) {\n        settings.now.preset = opts.preset;\n      }\n      if (opts.reps) {\n        this.resetReps(opts.preset);\n      }\n      if (this._opts.view) {\n        this.view(this._opts.view);\n        delete this._opts.view;\n      }\n      var visual = this._getComplexVisual();\n      if (visual) {\n        visual.getComplex().resetCurrentUnit();\n        if (isNumber(opts.unit)) {\n          visual.getComplex().setCurrentUnit(opts.unit);\n        }\n        this.resetView();\n        this.rebuildAll();\n      }\n    }\n  }, {\n    key: \"info\",\n    value: function info(name) {\n      var visual = this._getComplexVisual(name);\n      if (!visual) {\n        return {};\n      }\n      var complex = visual.getComplex();\n      var metadata = complex.metadata;\n      return {\n        id: metadata.id || complex.name || 'UNKNOWN',\n        title: metadata.title && metadata.title.join(' ') || 'UNKNOWN DATA',\n        atoms: complex.getAtomCount(),\n        bonds: complex.getBondCount(),\n        residues: complex.getResidueCount(),\n        chains: complex.getChainCount()\n      };\n    }\n  }, {\n    key: \"addObject\",\n    value: function addObject(objData, bThrow) {\n      var Ctor = null;\n      if (objData.type === LinesObj.prototype.type) {\n        Ctor = LinesObj;\n      }\n      if (Ctor === null) {\n        throw new Error(\"Unknown scene object type - \".concat(objData.type));\n      }\n      try {\n        var newObj = new Ctor(objData.params, objData.opts);\n        this._addSceneObject(newObj);\n      } catch (error) {\n        if (!bThrow) {\n          this.logger.debug(\"Error during scene object creation: \".concat(error.message));\n        } else {\n          throw error;\n        }\n      }\n      this._needRender = true;\n    }\n  }, {\n    key: \"_addSceneObject\",\n    value: function _addSceneObject(sceneObject) {\n      var visual = this._getComplexVisual();\n      if (sceneObject.build && visual) {\n        sceneObject.build(visual.getComplex());\n        this._gfx.pivot.add(sceneObject.getGeometry());\n      }\n      var objects = this._objects;\n      objects[objects.length] = sceneObject;\n    }\n  }, {\n    key: \"_updateObjsToFrame\",\n    value: function _updateObjsToFrame(frameData) {\n      var objs = this._objects;\n      for (var i = 0, n = objs.length; i < n; ++i) {\n        if (objs[i].updateToFrame) {\n          objs[i].updateToFrame(frameData);\n        }\n      }\n    }\n  }, {\n    key: \"_resetObjects\",\n    value: function _resetObjects() {\n      var objs = this._opts._objects;\n      this._objects = [];\n      if (objs) {\n        for (var i = 0, n = objs.length; i < n; ++i) {\n          this.addObject(objs[i], false);\n        }\n      }\n    }\n  }, {\n    key: \"removeObject\",\n    value: function removeObject(index) {\n      var obj = this._objects[index];\n      if (!obj) {\n        throw new Error(\"Scene object with index \".concat(index, \" does not exist\"));\n      }\n      obj.destroy();\n      this._objects.splice(index, 1);\n      this._needRender = true;\n    }\n  }, {\n    key: \"getURL\",\n    value: function getURL(opts) {\n      return options.toURL(this.getState(defaults$2(opts, {\n        compact: true,\n        settings: false,\n        view: false\n      })));\n    }\n  }, {\n    key: \"getScript\",\n    value: function getScript(opts) {\n      return options.toScript(this.getState(defaults$2(opts, {\n        compact: true,\n        settings: true,\n        view: true\n      })));\n    }\n  }, {\n    key: \"_compareReps\",\n    value: function _compareReps(complexVisual, compareWithDefaults) {\n      var ans = {};\n      var repCount = 0;\n      if (complexVisual) {\n        repCount = complexVisual.repCount();\n      }\n      var currPreset = settings.defaults.presets[settings.now.preset];\n      var compare = compareWithDefaults;\n      if (currPreset === undefined || currPreset.length > repCount) {\n        compare = false;\n        ans.preset = 'empty';\n      } else if (settings.now.preset !== settings.defaults.preset) {\n        ans.preset = settings.now.preset;\n      }\n      var repsDiff = [];\n      var emptyReps = true;\n      for (var i = 0, n = repCount; i < n; ++i) {\n        repsDiff[i] = complexVisual.repGet(i).compare(compare ? currPreset[i] : null);\n        if (!isEmpty(repsDiff[i])) {\n          emptyReps = false;\n        }\n      }\n      if (!emptyReps) {\n        ans.reps = repsDiff;\n      }\n      return ans;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState(opts) {\n      var state = {};\n      opts = defaults$2(opts, {\n        compact: true,\n        settings: false,\n        view: false\n      });\n      var visual = this._getComplexVisual();\n      if (visual !== null) {\n        var complex = visual.getComplex();\n        var metadata = complex.metadata;\n        if (metadata.id) {\n          var format = metadata.format ? \"\".concat(metadata.format, \":\") : '';\n          state.load = format + metadata.id;\n        }\n        var unit = complex.getCurrentUnit();\n        if (unit !== 1) {\n          state.unit = unit;\n        }\n      }\n      var repsInfo = this._compareReps(visual, opts.compact);\n      if (repsInfo.preset) {\n        state.preset = repsInfo.preset;\n      }\n      if (repsInfo.reps) {\n        state.reps = repsInfo.reps;\n      }\n      var objects = this._objects;\n      var objectsState = [];\n      for (var i = 0, n = objects.length; i < n; ++i) {\n        objectsState[i] = objects[i].identify();\n      }\n      if (objects.length > 0) {\n        state._objects = objectsState;\n      }\n      if (opts.view) {\n        state.view = this.view();\n      }\n      if (opts.settings) {\n        var diff = this.settings.getDiffs(false);\n        if (!isEmpty(diff)) {\n          state.settings = diff;\n        }\n      }\n      return state;\n    }\n  }, {\n    key: \"get\",\n    value: function get(param, value) {\n      return settings.get(param, value);\n    }\n  }, {\n    key: \"_clipPlaneUpdateValue\",\n    value: function _clipPlaneUpdateValue(radius) {\n      var clipPlaneValue = Math.max(this._gfx.camera.position.z - radius * settings.now.draft.clipPlaneFactor, settings.now.camNear);\n      var opts = {\n        clipPlaneValue: clipPlaneValue\n      };\n      this._forEachComplexVisual(function (visual) {\n        visual.setUberOptions(opts);\n      });\n      for (var i = 0, n = this._objects.length; i < n; ++i) {\n        var obj = this._objects[i];\n        if (obj._line) {\n          obj._line.material.setUberOptions(opts);\n        }\n      }\n      if (this._picker !== null) {\n        this._picker.clipPlaneValue = clipPlaneValue;\n      }\n    }\n  }, {\n    key: \"_fogFarUpdateValue\",\n    value: function _fogFarUpdateValue() {\n      if (this._picker !== null) {\n        if (this._gfx.scene.fog) {\n          this._picker.fogFarValue = this._gfx.scene.fog.far;\n        } else {\n          this._picker.fogFarValue = undefined;\n        }\n      }\n    }\n  }, {\n    key: \"_updateShadowmapMeshes\",\n    value: function _updateShadowmapMeshes(process) {\n      this._forEachComplexVisual(function (visual) {\n        var reprList = visual._reprList;\n        for (var i = 0, n = reprList.length; i < n; ++i) {\n          var repr = reprList[i];\n          process(repr.geo, repr.material);\n        }\n      });\n    }\n  }, {\n    key: \"_updateMaterials\",\n    value: function _updateMaterials(values) {\n      var needTraverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      this._forEachComplexVisual(function (visual) {\n        return visual.setMaterialValues(values, needTraverse, process);\n      });\n      for (var i = 0, n = this._objects.length; i < n; ++i) {\n        var obj = this._objects[i];\n        if (obj._line) {\n          obj._line.material.setValues(values);\n          obj._line.material.needsUpdate = true;\n        }\n      }\n    }\n  }, {\n    key: \"_fogAlphaChanged\",\n    value: function _fogAlphaChanged() {\n      this._forEachComplexVisual(function (visual) {\n        visual.setUberOptions({\n          fogAlpha: settings.now.fogAlpha\n        });\n      });\n    }\n  }, {\n    key: \"_embedWebXR\",\n    value: function _embedWebXR() {\n      var _this10 = this;\n      if (settings.now.stereo !== 'WEBVR') {\n        if (this.webVR) {\n          this.webVR.disable();\n        }\n        this.webVR = null;\n        return;\n      }\n      if (!this.webVR) {\n        this.webVR = new WebVRPoC(function () {\n          _this10._requestAnimationFrame(function () {\n            return _this10._onTick();\n          });\n          _this10._needRender = true;\n          _this10._onResize();\n        });\n      }\n      this.webVR.enable(this._gfx);\n    }\n  }, {\n    key: \"_initOnSettingsChanged\",\n    value: function _initOnSettingsChanged() {\n      var _this11 = this;\n      var on = function on(props, func) {\n        props = isArray(props) ? props : [props];\n        props.forEach(function (prop) {\n          _this11.settings.addEventListener(\"change:\".concat(prop), func);\n        });\n      };\n      on('modes.VD.frame', function () {\n        var volume = _this11._getVolumeVisual();\n        if (volume === null) return;\n        volume.showFrame(settings.now.modes.VD.frame);\n        _this11._needRender = true;\n      });\n      on('modes.VD.isoMode', function () {\n        var volume = _this11._getVolumeVisual();\n        if (volume === null) return;\n        volume.getMesh().material.updateDefines();\n        _this11._needRender = true;\n      });\n      on('bg.color', function () {\n        _this11._onBgColorChanged();\n      });\n      on('ao', function () {\n        if (settings.now.ao && !isAOSupported(_this11._gfx.renderer.getContext())) {\n          _this11.logger.warn('Your device or browser does not support ao');\n          settings.set('ao', false);\n        } else {\n          var values = {\n            normalsToGBuffer: settings.now.ao\n          };\n          _this11._setUberMaterialValues(values);\n        }\n      });\n      on('zSprites', function () {\n        if (settings.now.zSprites && !arezSpritesSupported(_this11._gfx.renderer.getContext())) {\n          _this11.logger.warn('Your device or browser does not support zSprites');\n          settings.set('zSprites', false);\n        }\n        _this11.rebuildAll();\n      });\n      on('fogColor', function () {\n        _this11._onFogColorChanged();\n      });\n      on('fogColorEnable', function () {\n        _this11._onFogColorChanged();\n      });\n      on('bg.transparent', function (evt) {\n        var gfx = _this11._gfx;\n        if (gfx) {\n          gfx.renderer.setClearColor(settings.now.bg.color, Number(!settings.now.bg.transparent));\n        }\n        _this11._updateMaterials({\n          fogTransparent: evt.value\n        });\n        _this11.rebuildAll();\n      });\n      on('draft.clipPlane', function (evt) {\n        _this11._updateMaterials({\n          clipPlane: evt.value\n        });\n        _this11.rebuildAll();\n      });\n      on('shadow.on', function (evt) {\n        var values = {\n          shadowmap: evt.value,\n          shadowmapType: settings.now.shadow.type\n        };\n        var gfx = _this11._gfx;\n        if (gfx) {\n          gfx.renderer.shadowMap.enabled = Boolean(values.shadowmap);\n        }\n        _this11._updateMaterials(values, true);\n        if (values.shadowmap) {\n          _this11._updateShadowCamera();\n          _this11._updateShadowmapMeshes(meshutils.createShadowmapMaterial);\n        } else {\n          _this11._updateShadowmapMeshes(meshutils.removeShadowmapMaterial);\n        }\n        _this11._needRender = true;\n      });\n      on('shadow.type', function (evt) {\n        if (settings.now.shadow.on) {\n          _this11._updateMaterials({\n            shadowmapType: evt.value\n          }, true);\n          _this11._needRender = true;\n        }\n      });\n      on('shadow.radius', function (evt) {\n        for (var i = 0; i < _this11._gfx.scene.children.length; i++) {\n          if (_this11._gfx.scene.children[i].shadow !== undefined) {\n            var light = _this11._gfx.scene.children[i];\n            light.shadow.radius = evt.value;\n            _this11._needRender = true;\n          }\n        }\n      });\n      on('fps', function () {\n        _this11._fps.show(settings.now.fps);\n      });\n      on(['fog', 'fogNearFactor', 'fogFarFactor'], function () {\n        _this11._updateFog();\n        _this11._needRender = true;\n      });\n      on('fogAlpha', function () {\n        var fogAlpha = settings.now.fogAlpha;\n        if (fogAlpha < 0 || fogAlpha > 1) {\n          _this11.logger.warn('fogAlpha must belong range [0,1]');\n        }\n        _this11._fogAlphaChanged();\n        _this11._needRender = true;\n      });\n      on('autoResolution', function (evt) {\n        if (evt.value && !_this11._gfxScore) {\n          _this11.logger.warn('Benchmarks are missed, autoresolution will not work! ' + 'Autoresolution should be set during miew startup.');\n        }\n      });\n      on('stereo', function () {\n        _this11._embedWebXR(settings.now.stereo === 'WEBVR');\n        _this11._needRender = true;\n      });\n      on(['transparency', 'palette'], function () {\n        _this11.rebuildAll();\n      });\n      on('resolution', function () {\n        _this11.rebuildAll();\n        var volume = _this11._getVolumeVisual();\n        if (volume) {\n          volume.getMesh().material.updateDefines();\n          _this11._needRender = true;\n        }\n      });\n      on(['axes', 'fxaa', 'ao', 'outline.on', 'outline.color', 'outline.threshold', 'outline.thickness'], function () {\n        _this11._needRender = true;\n      });\n    }\n  }, {\n    key: \"set\",\n    value: function set(params, value) {\n      settings.set(params, value);\n    }\n  }, {\n    key: \"select\",\n    value: function select(expression, append) {\n      var visual = this._getComplexVisual();\n      if (!visual) {\n        return;\n      }\n      var sel = expression;\n      if (isString(expression)) {\n        sel = selectors.parse(expression).selector;\n      }\n      visual.select(sel, append);\n      this._lastPick = null;\n      this._updateInfoPanel();\n      this._needRender = true;\n    }\n  }, {\n    key: \"view\",\n    value: function view(expression) {\n      var VIEW_VERSION = '1';\n      var self = this;\n      var pivot = this._gfx.pivot;\n      var transform = [];\n      var eulerOrder = 'ZXY';\n      function encode() {\n        var pos = pivot.position;\n        var scale = self._objectControls.getScale() / settings.now.radiusToFit;\n        var euler = new Euler();\n        euler.setFromQuaternion(self._objectControls.getOrientation(), eulerOrder);\n        transform = [pos.x, pos.y, pos.z, scale, euler.x, euler.y, euler.z];\n        return VIEW_VERSION + utils.arrayToBase64(transform, Float32Array);\n      }\n      function decode() {\n        if (expression.length === 40) {\n          expression = \"0\".concat(expression);\n        }\n        var version = expression[0];\n        transform = utils.arrayFromBase64(expression.substr(1), Float32Array);\n        if (version !== VIEW_VERSION) {\n          if (version === '0') {\n            transform[3] /= 8.0;\n          } else {\n            self.logger.warn(\"Encoded view version mismatch, stored as \".concat(version, \" vs \").concat(VIEW_VERSION, \" expected\"));\n            return;\n          }\n        }\n        var interpolator = self._interpolator;\n        var srcView = interpolator.createView();\n        srcView.position.copy(pivot.position);\n        srcView.scale = self._objectControls.getScale();\n        srcView.orientation.copy(self._objectControls.getOrientation());\n        var dstView = interpolator.createView();\n        dstView.position.set(transform[0], transform[1], transform[2]);\n        if (self._getComplexVisual()) {\n          dstView.position.sub(self._getComplexVisual().position);\n        }\n        dstView.scale = transform[3];\n        dstView.orientation.setFromEuler(new Euler(transform[4], transform[5], transform[6], eulerOrder));\n        interpolator.setup(srcView, dstView);\n      }\n      if (typeof expression === 'undefined') {\n        return encode();\n      }\n      decode();\n      return expression;\n    }\n  }, {\n    key: \"_updateView\",\n    value: function _updateView() {\n      var self = this;\n      var pivot = this._gfx.pivot;\n      var interpolator = this._interpolator;\n      if (!interpolator.wasStarted()) {\n        interpolator.start();\n      }\n      if (!interpolator.isMoving()) {\n        return;\n      }\n      var res = interpolator.getCurrentView();\n      if (res.success) {\n        var curr = res.view;\n        pivot.position.copy(curr.position);\n        self._objectControls.setScale(curr.scale * settings.now.radiusToFit);\n        self._objectControls.setOrientation(curr.orientation);\n        this.dispatchEvent({\n          type: MiewEvents.TRANSFORM\n        });\n        self._needRender = true;\n      }\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(x, y, z) {\n      this._objectControls.translatePivot(x, y, z);\n      this.dispatchEvent({\n        type: MiewEvents.TRANSFORM\n      });\n      this._needRender = true;\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(x, y, z) {\n      this._objectControls.rotate(new Quaternion().setFromEuler(new Euler(x, y, z, 'XYZ')));\n      this.dispatchEvent({\n        type: MiewEvents.TRANSFORM\n      });\n      this._needRender = true;\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(factor) {\n      if (factor <= 0) {\n        throw new RangeError('Scale should be greater than zero');\n      }\n      this._objectControls.scale(factor);\n      this.dispatchEvent({\n        type: MiewEvents.TRANSFORM\n      });\n      this._needRender = true;\n    }\n  }, {\n    key: \"center\",\n    value: function center(selector) {\n      if (selector === undefined) {\n        this.setPivotSubset();\n        this._needRender = true;\n        return;\n      }\n      if (selector.obj !== undefined && ('atom' in selector.obj || 'residue' in selector.obj)) {\n        if ('atom' in selector.obj) {\n          this.setPivotAtom(selector.obj.atom);\n        } else {\n          this.setPivotResidue(selector.obj.residue);\n        }\n        this._needRender = true;\n        return;\n      }\n      if (selector.obj === undefined && selector !== '') {\n        var sel = selectors.parse(selector);\n        if (sel.error === undefined) {\n          this.setPivotSubset(sel);\n          this._needRender = true;\n          return;\n        }\n      }\n      this.resetPivot();\n      this._needRender = true;\n    }\n  }, {\n    key: \"within\",\n    value: function within(selector, radius) {\n      var visual = this._getComplexVisual();\n      if (!visual) {\n        return selectors.None();\n      }\n      if (selector instanceof String) {\n        selector = selectors.parse(selector);\n      }\n      var res = visual.within(selector, radius);\n      if (res) {\n        visual.rebuildSelectionGeometry();\n        this._needRender = true;\n      }\n      return res;\n    }\n  }, {\n    key: \"projected\",\n    value: function projected(fullAtomName, complexName) {\n      var visual = this._getComplexVisual(complexName);\n      if (!visual) {\n        return false;\n      }\n      var atom = visual.getComplex().getAtomByFullname(fullAtomName);\n      if (atom === null) {\n        return false;\n      }\n      var pos = atom.position.clone();\n      this._gfx.pivot.updateMatrixWorldRecursive();\n      this._gfx.camera.updateMatrixWorldRecursive();\n      this._gfx.pivot.localToWorld(pos);\n      pos.project(this._gfx.camera);\n      return {\n        x: (pos.x + 1.0) * 0.5 * this._gfx.width,\n        y: (1.0 - pos.y) * 0.5 * this._gfx.height\n      };\n    }\n  }, {\n    key: \"dssp\",\n    value: function dssp(complexName) {\n      var visual = this._getComplexVisual(complexName);\n      if (!visual) {\n        return;\n      }\n      visual.getComplex().dssp();\n      visual._reprList.forEach(function (rep) {\n        if (rep.mode.id === 'CA' || rep.colorer.id === 'SS') {\n          rep.needsRebuild = true;\n        }\n      });\n    }\n  }, {\n    key: \"exportCML\",\n    value: function exportCML() {\n      var self = this;\n      function extractRotation(m) {\n        var xAxis = new Vector3();\n        var yAxis = new Vector3();\n        var zAxis = new Vector3();\n        m.extractBasis(xAxis, yAxis, zAxis);\n        xAxis.normalize();\n        yAxis.normalize();\n        zAxis.normalize();\n        var retMat = new Matrix4();\n        retMat.identity();\n        retMat.makeBasis(xAxis, yAxis, zAxis);\n        return retMat;\n      }\n      function updateCMLData(complex) {\n        var root = self._gfx.root;\n        var mat = extractRotation(root.matrixWorld);\n        var v4 = new Vector4(0, 0, 0, 0);\n        var vCenter = new Vector4(0, 0, 0, 0);\n        var xml = null;\n        var ap = null;\n        complex.forEachAtom(function (atom) {\n          if (atom.xmlNodeRef && atom.xmlNodeRef.xmlNode) {\n            xml = atom.xmlNodeRef.xmlNode;\n            ap = atom.position;\n            v4.set(ap.x, ap.y, ap.z, 1.0);\n            v4.applyMatrix4(mat);\n            xml.setAttribute('x3', v4.x.toString());\n            xml.setAttribute('y3', v4.y.toString());\n            xml.setAttribute('z3', v4.z.toString());\n            xml.removeAttribute('x2');\n            xml.removeAttribute('y2');\n          }\n        });\n        complex.forEachSGroup(function (sGroup) {\n          if (sGroup.xmlNodeRef && sGroup.xmlNodeRef.xmlNode) {\n            xml = sGroup.xmlNodeRef.xmlNode;\n            ap = sGroup.getPosition();\n            v4.set(ap.x, ap.y, ap.z, 1.0);\n            var cp = sGroup.getCentralPoint();\n            if (cp === null) {\n              v4.applyMatrix4(mat);\n            } else {\n              vCenter.set(cp.x, cp.y, cp.z, 0.0);\n              v4.add(vCenter);\n              v4.applyMatrix4(mat);\n              vCenter.set(cp.x, cp.y, cp.z, 1.0);\n              vCenter.applyMatrix4(mat);\n              v4.sub(vCenter);\n            }\n            xml.setAttribute('x', v4.x.toString());\n            xml.setAttribute('y', v4.y.toString());\n            xml.setAttribute('z', v4.z.toString());\n          }\n        });\n      }\n      var visual = self._getComplexVisual();\n      var complex = visual ? visual.getComplex() : null;\n      if (complex && complex.originalCML) {\n        updateCMLData(complex);\n        var oSerializer = new XMLSerializer();\n        return oSerializer.serializeToString(complex.originalCML);\n      }\n      return null;\n    }\n  }, {\n    key: \"motm\",\n    value: function motm() {\n      settings.set({\n        fogColorEnable: true,\n        fogColor: 0x000000,\n        outline: {\n          on: true,\n          threshold: 0.01\n        },\n        bg: {\n          color: 0xffffff\n        }\n      });\n      this._forEachComplexVisual(function (visual) {\n        var rep = [];\n        var complex = visual.getComplex();\n        var palette = palettes.get(settings.now.palette);\n        for (var i = 0; i < complex.getChainCount(); i++) {\n          var curChainName = complex._chains[i]._name;\n          var curChainColor = palette.getChainColor(curChainName);\n          rep[i] = {\n            selector: \"chain \".concat(curChainName),\n            mode: 'VW',\n            colorer: ['CB', {\n              color: curChainColor,\n              factor: 0.9\n            }],\n            material: 'FL'\n          };\n        }\n        visual.resetReps(rep);\n      });\n    }\n  }]);\n  return Miew;\n}(EventDispatcher);\nassign(Miew,\n{\n  VERSION: Miew.VERSION,\n  registeredPlugins: [],\n  chem: chem,\n  io: io,\n  modes: modes,\n  colorers: colorers,\n  materials: materials,\n  palettes: palettes,\n  options: options,\n  settings: settings,\n  utils: utils,\n  gfx: {\n    Representation: Representation\n  }\n});\n\nexport { Miew, MiewEvents, Miew as default };\n//# sourceMappingURL=miew.module.js.map\n"],"sourceRoot":""}